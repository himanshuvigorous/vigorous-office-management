"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[2874],{12874:(e,t,l)=>{l.r(t),l.d(t,{default:()=>V});var a=l(65043),s=l(39160),i=l(73216),d=l(35475),n=l(83003),o=l(23156),r=l(47196),c=l(30064),u=l.n(c),v=l(31174),x=l(3538),p=l(15187),m=l(69527),h=l(86178),g=l.n(h),f=l(78872),j=l(31462),y=l(30326),b=l(53913),w=l(65512),N=l(91686),k=l(96651),A=l(4938),C=l(33007),D=l(31744),I=l(42837),_=l(78227),S=l(55971),T=l(83002),O=l(6720),L=l(11906),Y=l(89427),E=l(60446),P=l.n(E),z=l(32620),M=l(60397),B=l(70337),U=l(40088),R=l(70579);const V=function(){var e,t,l,c,h,E,V,q,F,J,W,G,Q,X,Z,H,K,$,ee,te,le,ae;const{branchList:se,branchListloading:ie}=(0,n.d4)(e=>e.branch),de=(0,i.Zp)(),ne=(0,n.wA)(),[oe,re]=(0,a.useState)(!1),[ce,ue]=(0,a.useState)(null),ve=JSON.parse(localStorage.getItem("user_info_".concat(p.AU))),{employeList:xe}=(0,n.d4)(e=>e.employe),{taskList:pe,totalTaskCount:me,loading:he}=(0,n.d4)(e=>e.addTask),{employeDetailsData:ge}=(0,n.d4)(e=>e.employe),{clientList:fe,loading:je}=(0,n.d4)(e=>e.client),{taskTypeList:ye}=(0,n.d4)(e=>e.taskType),{departmentListData:be,loading:we}=(0,n.d4)(e=>e.department),[Ne,ke]=(0,a.useState)(!1),[Ae,Ce]=(0,a.useState)(null),[De,Ie]=(0,a.useState)({isOpen:!1,data:null}),[_e,Se]=(0,d.ok)(),Te=parseInt(_e.get("page"))||1,Oe=parseInt(_e.get("limit"))||10,Le=_e.get("branchId")||"",Ye=_e.get("departmentId")||"",Ee=_e.get("employeeId")||"",Pe=_e.get("clientId")||"",ze=_e.get("taskId")||"",Me=_e.get("status")||"",Be=_e.get("overdue")||"",[Ue,Re]=(0,a.useState)(Te),[Ve,qe]=(0,a.useState)(Oe),[Fe,Je]=(0,a.useState)(Me),[We,Ge]=(0,a.useState)(""),[Qe,Xe]=(0,a.useState)(Le),[Ze,He]=(0,a.useState)(Ye),[Ke,$e]=(0,a.useState)(Ee),[et,tt]=(0,a.useState)(Pe),[lt,at]=(0,a.useState)(ze),[st,it]=(0,a.useState)(Be);(0,a.useEffect)(()=>{const e=new URLSearchParams;Ue>1&&e.set("page",Ue),10!==Ve&&e.set("limit",Ve),Qe&&e.set("branchId",Qe),Ze&&e.set("departmentId",Ze),Ke&&e.set("employeeId",Ke),et&&e.set("clientId",et),lt&&e.set("taskId",lt),Fe&&e.set("status",Fe),st&&e.set("overdue",st),Se(e)},[Ue,Ve,Qe,Ze,Ke,et,lt,Fe,st,We]),(0,a.useEffect)(()=>{dt()},[Ue,Ve,Qe,Ze,Ke,et,lt,Fe,st,We]);const dt=()=>{let e={page:Ue,limit:Ve,reqPayload:{companyId:"company"===(null===ve||void 0===ve?void 0:ve.userType)?null===ve||void 0===ve?void 0:ve._id:null===ve||void 0===ve?void 0:ve.companyId,branchId:"company"===(null===ve||void 0===ve?void 0:ve.userType)||"admin"===(null===ve||void 0===ve?void 0:ve.userType)||"companyDirector"===(null===ve||void 0===ve?void 0:ve.userType)?Qe:"companyBranch"===(null===ve||void 0===ve?void 0:ve.userType)?null===ve||void 0===ve?void 0:ve._id:null===ve||void 0===ve?void 0:ve.branchId,departmentId:Ze,directorId:"",clientId:et,employeId:Ke,taskTypeId:lt,groupId:"",text:We,sort:!0,status:Fe||L.l0.filter(e=>"Completed"!==e&&"Task_Stop"!==e&&"Rejected"!==e),isOverDue:"true"===st||"false"!==st&&"",isPagination:!0}};ne((0,m.u3)(e))};(0,a.useEffect)(()=>{if(Ae){const e={_id:null===Ae||void 0===Ae?void 0:Ae._id};ne((0,I.yJ)(e))}},[Ae]);const nt=()=>{ke(!1),Ce(null)},ot=e=>{let t={_id:e};u().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&ne((0,m.dk)(t)).then(e=>{Ue>1&&1==(null===pe||void 0===pe?void 0:pe.length)?Re(Number(Ue-1)):dt()})})};(0,a.useEffect)(()=>{ne((0,D.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===ve||void 0===ve?void 0:ve.userType)?null===ve||void 0===ve?void 0:ve._id:null===ve||void 0===ve?void 0:ve.companyId})),ne((0,C.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===ve||void 0===ve?void 0:ve.userType)?null===ve||void 0===ve?void 0:ve._id:null===ve||void 0===ve?void 0:ve.companyId}))},[]),(0,a.useEffect)(()=>{ne((0,U.mY)({companyId:"company"===(null===ve||void 0===ve?void 0:ve.userType)?null===ve||void 0===ve?void 0:ve._id:null===ve||void 0===ve?void 0:ve.companyId,branchId:["admin","company","companyDirector"].includes(null===ve||void 0===ve?void 0:ve.userType)?Qe:"companyBranch"===(null===ve||void 0===ve?void 0:ve.userType)?null===ve||void 0===ve?void 0:ve._id:null===ve||void 0===ve?void 0:ve.branchId,departmentId:Ze||"",directorId:"",text:"",sort:!0,status:!0,isPagination:!1})),ne((0,B.Aq)({companyId:"company"===(null===ve||void 0===ve?void 0:ve.userType)?null===ve||void 0===ve?void 0:ve._id:null===ve||void 0===ve?void 0:ve.companyId,branchId:["admin","company","companyDirector"].includes(null===ve||void 0===ve?void 0:ve.userType)?Qe:"companyBranch"===(null===ve||void 0===ve?void 0:ve.userType)?null===ve||void 0===ve?void 0:ve._id:null===ve||void 0===ve?void 0:ve.branchId,departmentId:Ze||"",groupId:"",directorId:"",organizationId:"",industryId:"",text:"",sort:!0,status:!0,isPagination:!1})),ne((0,I.qV)({companyId:"company"===(null===ve||void 0===ve?void 0:ve.userType)?null===ve||void 0===ve?void 0:ve._id:null===ve||void 0===ve?void 0:ve.companyId,branchId:["admin","company","companyDirector"].includes(null===ve||void 0===ve?void 0:ve.userType)?Qe:"companyBranch"===(null===ve||void 0===ve?void 0:ve.userType)?null===ve||void 0===ve?void 0:ve._id:null===ve||void 0===ve?void 0:ve.branchId,departmentId:Ze||"",directorId:"",text:"",sort:!0,status:!0,isPagination:!1,isBranch:!1,isDirector:!1}))},[Ze,Qe]);const{canCreate:rt,canRead:ct,canUpdate:ut,canDelete:vt}=(0,A.A)();return(0,R.jsxs)(s.A,{onChange:e=>{Ge(e)},children:[(0,R.jsx)("section",{children:(0,R.jsxs)("div",{children:[(0,R.jsxs)("div",{className:"space-y-1",children:[(0,R.jsxs)("div",{className:"2xl:flex justify-between items-center space-y-1.5 overflow-y-auto py-1",children:[(0,R.jsxs)("div",{className:"grid sm:grid-cols-3 grid-cols-1 md:grid-cols-4 lg:grid-cols-4 xl:flex xl:gap-3 gap-1.5",children:[("company"==(null===ve||void 0===ve?void 0:ve.userType)||"companyDirector"==(null===ve||void 0===ve?void 0:ve.userType))&&(0,R.jsx)("div",{children:(0,R.jsxs)(w.A,{value:Qe,onChange:e=>{Xe(e),Re(1)},defaultValue:"",disabled:he,className:"".concat(p.Lp," "),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,R.jsx)(w.A.Option,{value:"",children:"Select Branch"}),ie?(0,R.jsx)(w.A.Option,{disabled:!0,children:(0,R.jsx)(Y.A,{})}):null===se||void 0===se?void 0:se.map(e=>(0,R.jsx)(w.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]})}),(0,R.jsx)("div",{className:"",children:(0,R.jsxs)(w.A,{value:Ze,onChange:e=>{He(e),Re(1)},showSearch:!0,disabled:he,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),defaultValue:"",className:"".concat(p.Lp," "),children:[(0,R.jsx)(w.A.Option,{value:"",children:"Select Department"}),we?(0,R.jsx)(w.A.Option,{disabled:!0,children:(0,R.jsx)(Y.A,{})}):null===be||void 0===be?void 0:be.map(e=>(0,R.jsx)(w.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]})}),(0,R.jsx)("div",{className:"",children:(0,R.jsx)(w.A,{value:Ke,onChange:e=>{$e(e),Re(1)},disabled:he,showSearch:!0,filterOption:(e,t)=>{var l;return null===t||void 0===t||null===(l=t.label)||void 0===l?void 0:l.toLowerCase().includes(e.toLowerCase())},className:"".concat(p.Lp," "),placeholder:"Select Employee",options:[{label:"Select Employee",value:""},...(xe||[]).map(e=>({label:e.fullName,value:e._id}))]})}),(0,R.jsx)("div",{className:"",children:(0,R.jsxs)(w.A,{value:et,onChange:e=>{tt(e),Re(1)},showSearch:!0,disabled:he,placeholder:"Select Client",filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),defaultValue:"",className:"".concat(p.Lp," "),children:[(0,R.jsx)(w.A.Option,{value:"",children:"Select Client"}),je?(0,R.jsx)(w.A.Option,{disabled:!0,children:(0,R.jsx)(Y.A,{})}):null===fe||void 0===fe?void 0:fe.map(e=>(0,R.jsx)(w.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]})}),(0,R.jsx)("div",{className:"",children:(0,R.jsx)(w.A,{value:lt,onChange:e=>{at(e),Re(1)},disabled:he,showSearch:!0,filterOption:(e,t)=>{var l;return null===t||void 0===t||null===(l=t.label)||void 0===l?void 0:l.toLowerCase().includes(e.toLowerCase())},className:"".concat(p.Lp," "),placeholder:"Select Task",options:[{label:"Select Task",value:""},...(ye||[]).map(e=>({label:e.name,value:e._id}))]})}),(0,R.jsx)("div",{className:"",children:(0,R.jsxs)(w.A,{value:Fe,onChange:e=>{Je(e),Re(1)},disabled:he,defaultValue:"",className:"".concat(p.Lp," "),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,R.jsx)(w.A.Option,{value:"",children:"Select Status"}),null===(e=L.l0.filter(e=>"Completed"!==e&&"Task_Stop"!==e&&"Rejected"!==e))||void 0===e?void 0:e.map(e=>(0,R.jsx)(w.A.Option,{value:e,children:null===e||void 0===e?void 0:e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())}))]})}),(0,R.jsx)("div",{children:(0,R.jsxs)(w.A,{value:st,onChange:e=>{it(e),Re(1)},defaultValue:"",disabled:he,className:"".concat(p.Lp," "),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,R.jsx)(w.A.Option,{value:"",children:"All Task"}),(0,R.jsx)(w.A.Option,{value:"true",children:"Overdue Task"}),(0,R.jsx)(w.A.Option,{value:"false",children:"Other Task"})]})})]}),(0,R.jsxs)("div",{className:"flex justify-end items-center gap-2 ",children:[(0,R.jsx)("button",{onClick:()=>{Re(1),qe(10),Xe(""),He(""),tt(""),at(""),$e(""),Je(""),it(""),Ge("")},className:"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,R.jsx)("span",{className:"text-[12px]",children:"Reset"})}),rt&&(0,R.jsx)(k.A,{placement:"topLeft",title:"Add Task",children:(0,R.jsxs)("button",{onClick:()=>{de("/admin/task/create")},className:"bg-header px-2 py-1.5 rounded-md flex justify-center whitespace-nowrap items-center space-x-2 text-white",children:[(0,R.jsx)(o.OiG,{}),(0,R.jsx)("span",{className:"text-[12px]",children:"Add Task"})]})})]})]}),(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("span",{className:"text-sm font-light text-gray-500",children:"Rows per page:"}),(0,R.jsx)(w.A,{value:Ve,onChange:e=>{qe(Number(e)),Re(Number(1))},className:"text-sm font-light text-gray-700 bg-white border border-gray-200 rounded-md px-3 py-1.5 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-300 transition",children:p.qc.map(e=>(0,R.jsx)(w.A.Option,{value:e,children:e},e))})]})]}),(0,R.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:ct&&(0,R.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,R.jsx)("thead",{className:"bg-header text-white text-[12px] font-[500]",children:(0,R.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left w-[50px]",children:"S.No."}),(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[135px]",children:"Client Name"}),(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[115px]",children:"Department"}),(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[135px]",children:"Task Name"}),(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[125px]",children:"Assign To"}),(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[85px]",children:"Financial Year"}),(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[85px]",children:"Period"}),(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left 2xl:table-cell min-w-[95px]",children:"Assigned Date"}),(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left 2xl:table-cell min-w-[95px]",children:"Due Date"}),(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left 2xl:table-cell min-w-[125px]",children:"Last Updated On"}),(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[75px]",children:"Status"}),(ut||vt||ct)&&(0,R.jsx)("th",{className:"p-2 whitespace-nowrap text-left w-[75px]",children:"Action"})]})}),he?(0,R.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,R.jsx)("td",{colSpan:12,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,R.jsx)(S.A,{})})}):(0,R.jsx)("tbody",{children:pe&&pe.length>0?pe.map((e,t)=>{var l,a,s,i,d,n,c;return(0,R.jsxs)("tr",{className:" !text-xs \n                          ".concat(null!==e&&void 0!==e&&e.isOverDue?"bg-rose-300 text-gray-800":"high"==(null===e||void 0===e?void 0:e.priority)?"bg-[#FFE5B4] text-gray-800":"medium"==(null===e||void 0===e?void 0:e.priority)?"bg-green-300 text-gray-800":"bg-white text-[#374151]","\n                          border-b-[1px] border-[#DDDDDD]  text-[14px]"),children:[(0,R.jsx)("td",{className:"p-2 text-left w-[50px]",children:t+1+(Ue-1)*Ve}),(0,R.jsx)("td",{className:"p-2 text-left min-w-[135px]",children:null===e||void 0===e||null===(l=e.clientData)||void 0===l?void 0:l.fullName}),(0,R.jsx)("td",{className:"p-2 text-left min-w-[115px]",children:null===e||void 0===e||null===(a=e.departmentData)||void 0===a?void 0:a.name}),(0,R.jsx)("td",{className:"p-2 text-left min-w-[135px]",children:null===e||void 0===e?void 0:e.taskName}),(0,R.jsx)("td",{className:"p-2 text-left min-w-[125px]",children:(0,R.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,R.jsx)("span",{children:null===e||void 0===e||null===(s=e.assignedEmployeData)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.fullName}),(null===e||void 0===e||null===(d=e.assignedEmployeData)||void 0===d?void 0:d.length)>1&&(0,R.jsxs)("span",{className:"text-header flex items-center gap-1",children:["+",(0,R.jsx)("span",{className:"h-5 w-5 bg-header text-white text-[12px] rounded-full flex items-center justify-center",children:(null===e||void 0===e||null===(n=e.assignedEmployeData)||void 0===n?void 0:n.length)-1})]}),(0,R.jsx)(o.Ny1,{className:"text-[#374151] text-[14px] cursor-pointer",onClick:()=>Ie({isOpen:!0,data:e})})]})}),(0,R.jsx)("td",{className:"p-2 text-left min-w-[85px]",children:(null===e||void 0===e?void 0:e.financialYear)||"-"}),(0,R.jsxs)("td",{className:"p-2 text-left min-w-[85px]",children:["Monthly"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.monthName),"Quaterly"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.monthQuaters),"Yearly"===(null===e||void 0===e?void 0:e.type)&&"Yearly"]}),(0,R.jsx)("td",{className:"p-2 text-left 2xl:table-cell min-w-[95px]",children:g()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")}),(0,R.jsx)("td",{className:"p-2 text-left 2xl:table-cell min-w-[95px]",children:g()(null===e||void 0===e?void 0:e.dueDate).format("DD-MM-YYYY hh:mm a")}),(0,R.jsx)("td",{className:"p-2 text-left 2xl:table-cell min-w-[125px]",children:g()(null===e||void 0===e?void 0:e.updatedAt).format("DD-MM-YYYY hh:mm a")}),(0,R.jsx)("td",{className:"p-2 text-left min-w-[75px]",children:(0,R.jsx)("span",{className:"\n                              ".concat("Assigned"===(null===e||void 0===e?void 0:e.status)?"bg-blue-500 text-white":"Accepted"===(null===e||void 0===e?void 0:e.status)?"bg-green-500 text-white":"Pending_at_client"===(null===e||void 0===e?void 0:e.status)?"bg-yellow-300 text-black":"Pending_at_department"===(null===e||void 0===e?void 0:e.status)?"bg-purple-300 text-black":"Pending_at_colleague"===(null===e||void 0===e?void 0:e.status)?"bg-teal-300 text-black":"Pending_at_manager"===(null===e||void 0===e?void 0:e.status)?"bg-orange-300 text-black":"Work_in_progress"===(null===e||void 0===e?void 0:e.status)?"bg-indigo-500 text-white":"Pending_for_approval"===(null===e||void 0===e?void 0:e.status)?"bg-pink-300 text-black":"Pending_for_fees"===(null===e||void 0===e?void 0:e.status)?"bg-gray-400 text-black":"Completed"===(null===e||void 0===e?void 0:e.status)?"bg-green-600 text-white":"Task_Stop"===(null===e||void 0===e?void 0:e.status)?"bg-red-600 text-white":"Rejected"===(null===e||void 0===e?void 0:e.status)?"bg-rose-800 text-white":"reAssign_to_other"===(null===e||void 0===e?void 0:e.status)?"bg-cyan-700 text-white":"bg-white text-black"," border-header border-[1px] px-2 py-1.5 rounded-lg whitespace-nowrap text-[12px]"),children:null===e||void 0===e||null===(c=e.status)||void 0===c?void 0:c.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())})}),(ut||vt||ct)&&(0,R.jsx)("td",{className:"p-2 text-left w-[75px]",children:(0,R.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2",children:[ct&&(0,R.jsx)(k.A,{placement:"topLeft",title:"View Task",children:(0,R.jsx)("button",{onClick:()=>{de("/admin/task/view/".concat((0,v.w)(null===e||void 0===e?void 0:e._id),"/").concat((0,v.w)("manager")))},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border-gray-800 border-[1.5px]",type:"button",children:(0,R.jsx)(j.JPe,{className:" hover:text-gray-800 text-gray-800",size:16})})}),(0,R.jsx)(y.A,{menu:{items:[{key:"responsive-date-info",label:(0,R.jsx)("div",{className:"2xl:hidden block",children:(0,R.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,R.jsxs)("span",{onClick:()=>(0,p.v2)(P()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")||"Data not available"),className:"flex items-center text-slate-800 hover:text-slate-700",children:[(0,R.jsx)(O.XkG,{className:"mr-2",size:16}),"Assigned Date"]}),(0,R.jsxs)("span",{onClick:()=>(0,p.v2)(P()(null===e||void 0===e?void 0:e.dueDate).format("DD-MM-YYYY hh:mm a")||"Data not available"),className:"flex items-center text-purple-800 hover:text-purple-700",children:[(0,R.jsx)(O.j2y,{className:"mr-2",size:16}),"Due Date"]}),(0,R.jsxs)("span",{onClick:()=>(0,p.v2)(P()(null===e||void 0===e?void 0:e.updatedAt).format("DD-MM-YYYY hh:mm a")||"Data not available"),className:"flex items-center text-teal-700 hover:text-teal-600",children:[(0,R.jsx)(z.Wv9,{className:"mr-2",size:15}),"Last Updated On"]}),(0,R.jsxs)("span",{onClick:()=>(0,p.v2)((null===e||void 0===e?void 0:e.createdBy)||"Data not available"),className:"flex items-center text-sky-800 hover:text-sky-700",children:[(0,R.jsx)(M.cCX,{className:"mr-2",size:16}),"Created By"]})]})})},...ut?[{key:"edit-task",label:(0,R.jsxs)("span",{className:"flex justify-start items-center gap-1 ".concat("Assigned"!==(null===e||void 0===e?void 0:e.status)?"text-gray-500":""),children:[(0,R.jsx)(o.Jcp,{className:"mr-2 ".concat("Assigned"!==(null===e||void 0===e?void 0:e.status)?"text-gray-500":"text-[#3c8dbc] hover:text-[#337ab7]"),size:16}),"Edit Task"]}),disabled:"Assigned"!==(null===e||void 0===e?void 0:e.status),onClick:()=>{"Assigned"===(null===e||void 0===e?void 0:e.status)&&de("/admin/task/edit/".concat((0,v.w)(null===e||void 0===e?void 0:e._id)))}}]:[],...ct?[{key:"view-description",label:(0,R.jsxs)("span",{className:"flex justify-start items-center gap-1",onClick:()=>{return t=e,re(!0),void ue(null===t||void 0===t?void 0:t.commentData);var t},children:[(0,R.jsx)(x.bEZ,{className:"mr-2 text-[#3c8dbc] hover:text-[#337ab7]",size:16}),"View Description"]})}]:[],...vt&&"company"!==(null===ve||void 0===ve?void 0:ve.userType)?[{key:"delete-task",label:(0,R.jsxs)("span",{onClick:()=>{"Assigned"===(null===e||void 0===e?void 0:e.status)&&ot(null===e||void 0===e?void 0:e._id)},className:"flex justify-start items-center gap-1 ".concat("Assigned"!==(null===e||void 0===e?void 0:e.status)?"text-gray-500":"text-red-500"),children:[(0,R.jsx)(r.tqC,{className:"mr-2 ".concat("Assigned"===(null===e||void 0===e?void 0:e.status)?"text-red-600 hover:text-red-500":"text-gray-500"),size:16}),"Delete Task"]})}]:[],..."company"===(null===ve||void 0===ve?void 0:ve.userType)?[{key:"delete-task",label:(0,R.jsxs)("span",{onClick:()=>{ot(null===e||void 0===e?void 0:e._id)},className:"flex justify-start items-center gap-1  text-red-500",children:[(0,R.jsx)(r.tqC,{className:"mr-2 ".concat("text-red-600 hover:text-red-500"),size:16}),"Delete Task"]})}]:[]]},trigger:["click"],children:(0,R.jsx)("button",{className:"px-2 py-1.5 text-xs rounded-md bg-transparent border-gray-800 border-[1.5px]",type:"button",children:(0,R.jsx)(T.xWf,{className:" hover:text-gray-900 text-gray-900",size:16})})})]})})]})}):(0,R.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,R.jsx)("td",{colSpan:12,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(null===pe||void 0===pe?void 0:pe.length)>0&&(0,R.jsx)(_.A,{totalCount:me,pageSize:Ve,currentPage:Ue,onChange:e=>Re(e)})]})}),oe&&(0,R.jsx)(f.A,{isOpen:oe,onClose:()=>(re(!1),void ue(null)),comment:ce}),(0,R.jsxs)(b.A,{title:"Employee List",visible:null===De||void 0===De?void 0:De.isOpen,onCancel:()=>Ie({isOpen:!1,employee:null}),className:"antmodalclassName",footer:[(0,R.jsx)("button",{onClick:()=>Ie({isOpen:!1,employee:null}),className:" capitalize px-2 py-1 rounded-sm bg-header text-white",children:"Close"},"close")],width:800,centered:!0,children:[(0,R.jsx)("div",{className:"flex items-center",children:(0,R.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 p-4",children:null===De||void 0===De||null===(t=De.data)||void 0===t||null===(l=t.assignedEmployeData)||void 0===l?void 0:l.map(e=>(0,R.jsxs)("div",{onClick:()=>(Ce(e),void ke(!0)),className:"flex flex-col items-center p-3 rounded-lg bg-white hover:bg-gray-50 cursor-pointer transition-all shadow-sm hover:shadow-md border border-gray-100",children:[(0,R.jsx)("div",{className:"w-16 h-16 mb-2 rounded-full overflow-hidden ring-2 ring-amber-100",children:(0,R.jsx)("img",{alt:e.fullName,src:e.profileImage?"".concat("https://vigapi.vigorousit.com","/public/").concat(e.profileImage):"/images/avatar.jpg",className:"w-full h-full object-cover"})}),(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"font-medium text-gray-800 truncate max-w-[100px]",children:e.fullName}),e.designation&&(0,R.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate max-w-[100px]",children:e.designation})]})]},e.id))})}),(0,R.jsx)(b.A,{title:"Employee Details",visible:Ne,onCancel:nt,className:"antmodalclassName",footer:[(0,R.jsx)("button",{onClick:nt,className:" capitalize px-2 py-1 rounded-sm bg-header text-white",children:"Close"},"close")],width:600,centered:!0,children:he?(0,R.jsx)("div",{className:"flex justify-center",children:(0,R.jsx)(N.A,{size:"large"})}):(null===ge||void 0===ge?void 0:ge.data)&&(0,R.jsx)("div",{className:"mt-4",children:(0,R.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,R.jsx)("img",{alt:"",src:null!==ge&&void 0!==ge&&null!==(c=ge.data)&&void 0!==c&&c.profileImage?"".concat("https://vigapi.vigorousit.com","/public/").concat(null===ge||void 0===ge||null===(h=ge.data)||void 0===h?void 0:h.profileImage):"/images/avatar.jpg",className:"rounded-full w-16 h-16 ring-2 ring-amber-300"}),(0,R.jsxs)("div",{className:"ml-4",children:[(0,R.jsx)("p",{className:"font-semibold",children:null===ge||void 0===ge||null===(E=ge.data)||void 0===E?void 0:E.fullName}),(0,R.jsx)("p",{children:null===ge||void 0===ge||null===(V=ge.data)||void 0===V||null===(q=V.designationData)||void 0===q?void 0:q.name}),(0,R.jsx)("p",{children:null===ge||void 0===ge||null===(F=ge.data)||void 0===F?void 0:F.email}),(0,R.jsx)("p",{children:null===ge||void 0===ge||null===(J=ge.data)||void 0===J||null===(W=J.companyData)||void 0===W?void 0:W.fullName}),(0,R.jsx)("p",{children:null===ge||void 0===ge||null===(G=ge.data)||void 0===G||null===(Q=G.departmentData)||void 0===Q?void 0:Q.name}),(0,R.jsx)("p",{children:null===ge||void 0===ge||null===(X=ge.data)||void 0===X||null===(Z=X.branchData)||void 0===Z?void 0:Z.fullName}),(0,R.jsxs)("p",{children:[null===ge||void 0===ge||null===(H=ge.data)||void 0===H||null===(K=H.mobile)||void 0===K?void 0:K.code," ",null===ge||void 0===ge||null===($=ge.data)||void 0===$||null===(ee=$.mobile)||void 0===ee?void 0:ee.number]}),(0,R.jsxs)("div",{className:"mt-3",children:[(0,R.jsxs)("p",{children:[(0,R.jsx)("strong",{children:"Office Email:"})," ",null===ge||void 0===ge||null===(te=ge.data)||void 0===te?void 0:te.officeEmail]}),(0,R.jsxs)("p",{children:[(0,R.jsx)("strong",{children:"User Name:"})," ",null===ge||void 0===ge||null===(le=ge.data)||void 0===le?void 0:le.userName]}),(0,R.jsxs)("p",{children:[(0,R.jsx)("strong",{children:"Status:"})," ",null!==ge&&void 0!==ge&&null!==(ae=ge.data)&&void 0!==ae&&ae.status?"Active":"Inactive"]})]})]})]})})})]})]})}},78872:(e,t,l)=>{l.d(t,{A:()=>r});var a=l(65043),s=l(15187),i=l(86178),d=l.n(i),n=l(92021),o=l(70579);const r=e=>{let{onClose:t,comment:l}=e;const[i,r]=(0,a.useState)([]),[c,u]=(0,a.useState)("translate-y-full"),v=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;return null===(e=v.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),u("translate-y-0"),()=>{u("translate-y-full")}},[i]),(0,a.useEffect)(()=>{if(l){const e=l.map(e=>{var t;return{sender:null===e||void 0===e||null===(t=e.creatorData)||void 0===t?void 0:t.fullName,text:null===e||void 0===e?void 0:e.message,status:null===e||void 0===e?void 0:e.status,createdAt:(null===e||void 0===e?void 0:e.createdAt)||Date.now()}});r(e)}},[l]);const x=()=>{setTimeout(()=>{u("translate-y-full"),setTimeout(()=>{t()},300)},50)};return(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-end items-end px-2 z-[1501]",onClick:x,children:(0,o.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[80vh] shadow-xl overflow-hidden transform transition-all duration-500 ease-in-out ".concat(c),onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"p-2 bg-header text-white rounded-lg shadow-md text-center text-md font-semibold flex justify-between items-center",children:["Task Comments",(0,o.jsx)(n.clO,{className:"cursor-pointer",onClick:x})]}),(0,o.jsxs)("div",{className:"p-4 h-[60vh] overflow-y-auto space-y-2",children:[i.length>0?i.map((e,t)=>(0,o.jsx)("div",{className:"flex flex-col ".concat("You"===e.sender?"items-end":"items-start"),children:(0,o.jsxs)("div",{className:"p-1 w-[100%] max-w-[100%]",children:[(0,o.jsx)("div",{className:"text-sm font-semibold mb-2 text-gray-600 ",children:e.sender}),(0,o.jsxs)("div",{className:"pl-4 border-l border-gray-200 ".concat("Assigned"===e.status?"border-blue-500 text-white":"Accepted"===e.status?"border-green-500 text-white":"Pending_at_client"===e.status?"border-yellow-400 text-black":"Completed"===e.status?"border-green-800 text-white":"border-gray-300 text-black"),children:[(0,o.jsx)("p",{className:"text-sm mb-2 text-gray-800 ",children:e.text}),(0,o.jsx)("div",{className:"text-xs mb-2 px-2 py-1 rounded-full inline-block shadow-xl ".concat("Assigned"===e.status?"bg-blue-500 text-white":"Accepted"===e.status?"bg-green-500 text-white":"Pending_at_client"===e.status?"bg-yellow-400 text-black":"Completed"===e.status?"bg-green-800 text-white":"bg-gray-300 text-black"),children:s.LE[e.status]||"No Status"})]}),(0,o.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:d()(e.createdAt).format("MMM DD, YYYY - h:mm A")})]})},t)):(0,o.jsx)("p",{className:"text-center text-gray-500",children:"No comments available."}),(0,o.jsx)("div",{ref:v})]})]})})}}}]);
//# sourceMappingURL=2874.90099eec.chunk.js.map