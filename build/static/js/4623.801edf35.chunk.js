"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[4623],{24623:(e,a,d)=>{d.r(a),d.d(a,{default:()=>y});var s=d(89379),l=d(65043),r=d(24858),i=d(39160),n=d(83003),o=d(73216),c=d(735),t=d(15187),m=d(78729),u=d(31744),p=d(14118),v=d(6359),x=d(70579);const y=function(){var e,a,d,y;const{register:h,handleSubmit:j,setValue:N,control:g,formState:{errors:D}}=(0,r.mN)(),{userCompanyId:b,userDirectorId:I,userBranchId:f,userType:T}=(0,c.A)(),A=(0,n.wA)(),P=(0,o.Zp)(),C=JSON.parse(localStorage.getItem("user_info_".concat(t.AU))),{companyList:_}=(0,n.d4)(e=>e.company),{branchList:B}=(0,n.d4)(e=>e.branch),S=(0,r.FH)({control:g,name:"PDCompanyId",defaultValue:b}),q=((0,r.FH)({control:g,name:"directorId",defaultValue:I}),(0,r.FH)({control:g,name:"PDBranchId",defaultValue:f}));return(0,l.useEffect)(()=>{"admin"===(null===C||void 0===C?void 0:C.userType)&&A((0,m.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,l.useEffect)(()=>{(S||"company"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType))&&A((0,u.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===C||void 0===C?void 0:C.userType)?S:"company"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.companyId}))},[S]),(0,l.useEffect)(()=>{(S&&"company"===T||"admin"===T)&&A((0,p.HX)({text:"",sort:!0,status:!0,isPagination:!1,companyId:S}))},[S]),(0,x.jsx)(i.A,{children:(0,x.jsx)("div",{className:"gap-4",children:(0,x.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:j(e=>{const a={companyId:"admin"===(null===C||void 0===C?void 0:C.userType)?S:"company"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.companyId,branchId:"company"===(null===C||void 0===C?void 0:C.userType)||"admin"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType)?q:"companyBranch"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.branchId,directorId:"",clientId:"",name:null===e||void 0===e?void 0:e.name,startDate:null===e||void 0===e?void 0:e.startDate,expiryDate:null===e||void 0===e?void 0:e.expiryDate};A((0,v.w_)(a)).then(e=>{e.error||P("/admin/digital-sign")})}),children:[(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===C||void 0===C?void 0:C.userType)&&(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(t.Q0),children:["Company ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsxs)("select",(0,s.A)((0,s.A)({},h("PDCompanyId",{required:"company is required"})),{},{className:" ".concat(t.Ol," ").concat(D.PDCompanyId?"border-[1px] ":"border-gray-300"),children:[(0,x.jsx)("option",{className:"",value:"",children:"Select Comapany"}),null===_||void 0===_?void 0:_.map(e=>(0,x.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName}))]})),D.PDCompanyId&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:D.PDCompanyId.message})]}),("admin"===(null===C||void 0===C?void 0:C.userType)||"company"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType))&&(0,x.jsxs)("div",{children:[(0,x.jsxs)("label",{className:"".concat(t.Q0),children:["Branch ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsxs)("select",(0,s.A)((0,s.A)({},h("PDBranchId",{required:"Branch is required"})),{},{className:"".concat(t.Ol," ").concat(D.PDBranchId?"border-[1px] ":"border-gray-300"),children:[(0,x.jsx)("option",{value:"",children:"Select Branch"}),null===B||void 0===B?void 0:B.map(e=>(0,x.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]})),D.PDBranchId&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:D.PDBranchId.message})]})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 md:my-2",children:[(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(t.Q0),children:["Name ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,s.A)((0,s.A)({type:"text"},h("name",{required:"Title is required"})),{},{className:"placeholder: ".concat(t.Ol," ").concat(D.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Name"})),D.name&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:D.name.message})]}),(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(t.Q0),children:["Start Date ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,s.A)((0,s.A)({},h("startDate")),{},{type:"date",className:"".concat(t.Ol," ").concat(null!==(e=D.recurrence)&&void 0!==e&&e.startDate?"border-[1px] ":"border-gray-300")})),(null===(a=D.recurrence)||void 0===a?void 0:a.startDate)&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:D.startDate.message})]}),(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(t.Q0),children:["Expiry Date ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,s.A)((0,s.A)({},h("expiryDate")),{},{type:"date",className:"".concat(t.Ol," ").concat(null!==(d=D.recurrence)&&void 0!==d&&d.expiryDate?"border-[1px] ":"border-gray-300")})),(null===(y=D.recurrence)||void 0===y?void 0:y.expiryDate)&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:D.expiryDate.message})]})]}),(0,x.jsx)("div",{className:"flex justify-end ",children:(0,x.jsx)("button",{type:"submit",className:"bg-header text-white p-2 px-4 rounded mt-4",children:"Submit"})})]})})})}}}]);
//# sourceMappingURL=4623.801edf35.chunk.js.map