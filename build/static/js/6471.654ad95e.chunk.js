"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[6471],{36471:(e,a,t)=>{t.r(a),t.d(a,{default:()=>w});var s=t(89379),l=t(65043),d=t(83003),n=t(23156),i=t(6720),c=t(62143),o=t(15187),r=t(39160),u=t(65337),x=t(86178),p=t.n(x),m=t(78227),v=t(65512),h=t(96651),b=t(31462),j=t(24858),N=t(30064),f=t.n(N),g=t(4938),y=t(89427),D=t(70579);const w=function(){const{canCreate:e,canRead:a,canUpdate:t,canDelete:x}=(0,g.A)(),{register:N,handleSubmit:w,setValue:A,getValues:k,unregister:C,control:P,formState:{errors:S}}=(0,j.mN)({defaultValues:{pdStatus:"Pending"}}),I=(0,d.wA)(),{interviewList:H,totalInterviewCount:F,loading:O}=(0,d.d4)(e=>e.interview),[T,B]=(0,l.useState)(1),[_,z]=(0,l.useState)(""),U=JSON.parse(localStorage.getItem("user_info_".concat(o.AU))),R=(0,j.FH)({control:P,name:"pdStatus",defaultValue:"Pending"});(0,l.useEffect)(()=>{"employee"===(null===U||void 0===U?void 0:U.userType)&&L()},[R,_]);const L=()=>{const e={currentPage:T,pageSize:10,reqData:{text:_,status:R,sort:!0,isPagination:!0,interviewerId:"employee"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:"",companyId:"employee"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U.companyId:"",branchId:"employee"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U.branchId:""}};I((0,c.s)(e))},[V,Y]=(0,l.useState)([]);(0,l.useEffect)(()=>{H&&E()},[H]);const E=(e,a)=>{const t=(0,o.Hc)(e,a,H);Y(t)};if("employee"!==(null===U||void 0===U?void 0:U.userType))return(0,D.jsx)(r.A,{children:(0,D.jsx)("div",{className:"bg-red-100 text-red-800 p-4 rounded-md mt-2",children:(0,D.jsx)("p",{className:"text-center font-semibold",children:"You are not an employee. This page is viewable for employees only."})})});const q=(e,a)=>{f().fire({title:"Provide feedback",input:"textarea",inputLabel:"Feedback (optional)",inputPlaceholder:"Type your feedback here...",showCancelButton:!0,confirmButtonText:"Update as ".concat(a),cancelButtonText:"Cancel",inputValidator:e=>void 0===e||""===e?"Feedback cannot be empty":null}).then(t=>{if(t.isConfirmed){const s=t.value;I((0,c.Ci)({_id:null===e||void 0===e?void 0:e._id,applicationId:null===e||void 0===e?void 0:e.applicationId,status:a,feedback:s})).then(e=>{null!==e&&void 0!==e&&e.error||L()})}})};return(0,D.jsx)(r.A,{onChange:e=>{z(e)},children:O?(0,D.jsx)(u.A,{}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"",children:(0,D.jsxs)("div",{className:"flex py-1 gap-3",children:[(0,D.jsxs)("div",{className:"",children:[(0,D.jsx)(j.xI,{control:P,name:"pdStatus",render:e=>{let{field:a}=e;return(0,D.jsxs)(v.A,(0,s.A)((0,s.A)({},a),{},{disabled:O,className:"".concat(o.Lp," "),children:[(0,D.jsx)(v.A.Option,{value:"",children:"Select Status"}),(0,D.jsx)(v.A.Option,{value:"Pending",children:"Pending "}),(0,D.jsx)(v.A.Option,{value:"Passed",children:"Passed"}),(0,D.jsx)(v.A.Option,{value:"Failed",children:"Failed"}),(0,D.jsx)(v.A.Option,{value:"Completed",children:"Completed"})]}))}}),S.PdDesignationId&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:S.PdDesignationId.message})]}),(0,D.jsx)("button",{onClick:()=>{A("pdStatus","Pending")},className:"bg-header py-2 rounded-md flex px-10 justify-center items-center text-white",children:(0,D.jsx)("span",{className:"text-[12px]",children:"Reset"})})]})}),(0,D.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:(0,D.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,D.jsx)("thead",{className:"",children:(0,D.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] bg-header capitalize text-[#ffff] font-[500] h-[40px]",children:[(0,D.jsx)("th",{className:"tableHead w-[10%]",children:"S.No."}),(0,D.jsx)("th",{className:"tableHead",children:(0,D.jsxs)("div",{className:"flex gap-1",children:["Applicant Name",(0,D.jsxs)("div",{className:"flex flex-col -space-y-1.5 cursor-pointer",children:[(0,D.jsx)(n.Odn,{onClick:()=>E("interviewerName","asc")}),(0,D.jsx)(n.BNo,{onClick:()=>E("interviewerName","desc")})]})]})}),(0,D.jsx)("th",{className:"tableHead",children:(0,D.jsxs)("div",{className:"flex gap-1",children:["position",(0,D.jsxs)("div",{className:"flex flex-col -space-y-1.5 cursor-pointer",children:[(0,D.jsx)(n.Odn,{onClick:()=>E("interviewerName","asc")}),(0,D.jsx)(n.BNo,{onClick:()=>E("interviewerName","desc")})]})]})}),(0,D.jsx)("th",{className:"tableHead",children:(0,D.jsx)("div",{className:"flex gap-1",children:"Round Number"})}),(0,D.jsx)("th",{className:"tableHead",children:(0,D.jsx)("div",{className:"flex gap-1",children:"Round Name"})}),(0,D.jsx)("th",{className:"tableHead",children:(0,D.jsxs)("div",{className:"flex gap-1",children:["Type",(0,D.jsxs)("div",{className:"flex flex-col -space-y-1.5 cursor-pointer",children:[(0,D.jsx)(n.Odn,{onClick:()=>E("type","asc")}),(0,D.jsx)(n.BNo,{onClick:()=>E("type","desc")})]})]})}),(0,D.jsx)("th",{className:"tableHead",children:(0,D.jsx)("div",{className:"flex gap-1",children:"Resume"})}),(0,D.jsx)("th",{className:"tableHead",children:(0,D.jsxs)("div",{className:"flex gap-1",children:["Date",(0,D.jsxs)("div",{className:"flex flex-col -space-y-1.5 cursor-pointer",children:[(0,D.jsx)(n.Odn,{onClick:()=>E("date","asc")}),(0,D.jsx)(n.BNo,{onClick:()=>E("date","desc")})]})]})}),(0,D.jsx)("th",{className:"tableHead",children:"status"}),t&&(0,D.jsx)("th",{className:"tableHead w-[10%]",children:"Action"})]})}),O?(0,D.jsx)(y.A,{}):(0,D.jsx)("tbody",{children:V&&(null===V||void 0===V?void 0:V.length)>0?null===V||void 0===V?void 0:V.map((e,a)=>{var s,l,d,n;return(0,D.jsxs)("tr",{className:"text-black ".concat(a%2===0?"bg-[#e9ecef]/80":"bg-white"," border-b-[1px] border-[#DDDDDD]"),children:[(0,D.jsxs)("td",{className:"tableData",children:["  ",a+1+10*(T-1)]}),(0,D.jsx)("td",{className:"tableData",children:null===e||void 0===e||null===(s=e.applicationData)||void 0===s?void 0:s.fullName}),(0,D.jsx)("td",{className:"tableData",children:null===e||void 0===e||null===(l=e.applicationData)||void 0===l||null===(d=l.jobPostData)||void 0===d||null===(n=d.designationData)||void 0===n?void 0:n.name}),(0,D.jsx)("td",{className:"tableData",children:null===e||void 0===e?void 0:e.roundNumber}),(0,D.jsx)("td",{className:"tableData",children:null===e||void 0===e?void 0:e.roundName}),(0,D.jsx)("td",{className:"tableData",children:null===e||void 0===e?void 0:e.type}),(0,D.jsxs)("td",{className:"tableData",children:[" ",(0,D.jsx)("button",{onClick:()=>{var a;if(null!==e&&void 0!==e&&null!==(a=e.applicationData)&&void 0!==a&&a.resumeUrl){var t;const a="".concat("https://vigapi.vigorousit.com","/public").concat(null===e||void 0===e||null===(t=e.applicationData)||void 0===t?void 0:t.resumeUrl);window.open(a,"_blank")}},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,D.jsx)(b.msf,{className:" text-rose-700",size:16})})]}),(0,D.jsx)("td",{className:"tableData",children:p()(null===e||void 0===e?void 0:e.date).format("YYYY-MM-DD hh:mm A")}),(0,D.jsx)("td",{className:"tableData",children:(0,D.jsx)("span",{className:"".concat("Active"===(null===e||void 0===e?void 0:e.status)?"bg-[#E0FFBE] border-green-500 text-black":"Pending"===(null===e||void 0===e?void 0:e.status)?"bg-yellow-200 border-yellow-500 text-black":"Inactive"===(null===e||void 0===e?void 0:e.status)?"bg-red-200 border-red-500 text-black":"bg-gray-200 border-gray-500 text-black"," border-[1px] px-2 py-1.5 rounded-lg text-[12px]"),children:null!==e&&void 0!==e&&e.status?e.status:"-"})}),t&&(0,D.jsx)("td",{className:"tableData",children:(0,D.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2.5",children:[t&&(0,D.jsx)(h.A,{placement:"topLeft",title:"".concat("Pending"===(null===e||void 0===e?void 0:e.status)?"Update As Failed":"Already ".concat(null===e||void 0===e?void 0:e.status)),children:(0,D.jsx)("button",{onClick:()=>q(e,"Failed"),className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",disabled:"Pending"!==(null===e||void 0===e?void 0:e.status),children:(0,D.jsx)(i.qSu,{className:"".concat("Pending"===(null===e||void 0===e?void 0:e.status)?"hover:text-rose-500 text-rose-600":"text-gray-500"),size:16})})}),t&&(0,D.jsx)(h.A,{placement:"topLeft",title:"".concat("Pending"===(null===e||void 0===e?void 0:e.status)?"Update As Passed":"Already ".concat(null===e||void 0===e?void 0:e.status)),children:(0,D.jsx)("button",{onClick:()=>q(e,"Passed"),className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",disabled:"Pending"!==(null===e||void 0===e?void 0:e.status),children:(0,D.jsx)(b.aXZ,{className:"".concat("Pending"===(null===e||void 0===e?void 0:e.status)?"hover:text-teal-500 text-teal-500":"text-gray-500"),size:16})})})]})})]})}):(0,D.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,D.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-center text-sm text-gray-500",children:"Record Not Found"})})})]})}),(0,D.jsx)(m.A,{totalCount:F,pageSize:10,currentPage:T,onChange:e=>{B(e)}})]})})}},65337:(e,a,t)=>{t.d(a,{A:()=>d});var s=t(91686),l=t(70579);const d=function(){return(0,l.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,l.jsx)(s.A,{size:"large"})})}}}]);
//# sourceMappingURL=6471.654ad95e.chunk.js.map