"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[8566],{78566:(e,n,t)=>{t.d(n,{c:()=>$});var o=t(65043),i=t(98139),l=t.n(i),a=t(58168),r=t(89379),c=t(5544),s=t(53986),u=t(66371),d=t(49076),f=t(62149),p=t(28678),v=t(25001);t(97907);var g=t(54017),m=t(80244);const b=o.createContext(null);const h=function(e){var n=o.useContext(b),t=n.notFoundContent,i=n.activeIndex,l=n.setActiveIndex,a=n.selectOption,r=n.onFocus,c=n.onBlur,s=n.onScroll,u=e.prefixCls,d=e.options,f=d[i]||{};return o.createElement(m.Ay,{prefixCls:"".concat(u,"-menu"),activeKey:f.key,onSelect:function(e){var n=e.key,t=d.find(function(e){return e.key===n});a(t)},onFocus:r,onBlur:c,onScroll:s},d.map(function(e,n){var t=e.key,i=e.disabled,a=e.className,r=e.style,c=e.label;return o.createElement(m.Dr,{key:t,disabled:i,className:a,style:r,onMouseEnter:function(){l(n)}},c)}),!d.length&&o.createElement(m.Dr,{disabled:!0},t))};var C={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}};const x=function(e){var n=e.prefixCls,t=e.options,i=e.children,l=e.visible,a=e.transitionName,r=e.getPopupContainer,c=e.dropdownClassName,s=e.direction,u=e.placement,d="".concat(n,"-dropdown"),f=o.createElement(h,{prefixCls:d,options:t}),p=(0,o.useMemo)(function(){return"rtl"===s?"top"===u?"topLeft":"bottomLeft":"top"===u?"topRight":"bottomRight"},[s,u]);return o.createElement(g.A,{prefixCls:d,popupVisible:l,popup:f,popupPlacement:p,popupTransitionName:a,builtinPlacements:C,getPopupContainer:r,popupClassName:c},i)};const A=function(){return null};function w(e){return(e||"").toLowerCase()}function S(e,n){var t=n.measureLocation,o=n.prefix,i=n.targetText,l=n.selectionStart,a=n.split,r=e.slice(0,t);r[r.length-a.length]===a&&(r=r.slice(0,r.length-a.length)),r&&(r="".concat(r).concat(a));var c=function(e,n,t){var o=e[0];if(!o||o===t)return e;for(var i=e,l=n.length,a=0;a<l;a+=1){if(w(i[a])!==w(n[a])){i=i.slice(a);break}a===l-1&&(i=i.slice(l))}return i}(e.slice(l),i.slice(l-t-o.length),a);c.slice(0,a.length)===a&&(c=c.slice(a.length));var s="".concat(r).concat(o).concat(i).concat(a);return{text:"".concat(s).concat(c),selectionLocation:s.length}}function y(e,n){return!n||-1===e.indexOf(n)}function O(e,n){var t=n.value,o=void 0===t?"":t,i=e.toLowerCase();return-1!==o.toLowerCase().indexOf(i)}var E=["prefixCls","className","style","prefix","split","notFoundContent","value","defaultValue","children","options","open","allowClear","silent","validateSearch","filterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","dropdownClassName","rows","visible","onPopupScroll"],N=["suffix","prefixCls","defaultValue","value","allowClear","onChange","classNames","className","disabled","onClear"],k=(0,o.forwardRef)(function(e,n){var t=e.prefixCls,i=e.className,u=e.style,g=e.prefix,m=void 0===g?"@":g,h=e.split,C=void 0===h?" ":h,A=e.notFoundContent,w=void 0===A?"Not Found":A,N=e.value,k=e.defaultValue,j=e.children,I=e.options,P=e.open,z=(e.allowClear,e.silent),F=e.validateSearch,R=void 0===F?y:F,B=e.filterOption,H=void 0===B?O:B,T=e.onChange,L=e.onKeyDown,D=e.onKeyUp,W=e.onPressEnter,V=e.onSearch,M=e.onSelect,X=e.onFocus,K=e.onBlur,U=e.transitionName,Y=e.placement,_=e.direction,G=e.getPopupContainer,q=e.dropdownClassName,Q=e.rows,$=void 0===Q?1:Q,J=(e.visible,e.onPopupScroll),Z=(0,s.A)(e,E),ee=(0,o.useMemo)(function(){return Array.isArray(m)?m:[m]},[m]),ne=(0,o.useRef)(null),te=(0,o.useRef)(null),oe=(0,o.useRef)(null),ie=function(){var e;return null===(e=te.current)||void 0===e||null===(e=e.resizableTextArea)||void 0===e?void 0:e.textArea};o.useImperativeHandle(n,function(){var e;return{focus:function(){var e;return null===(e=te.current)||void 0===e?void 0:e.focus()},blur:function(){var e;return null===(e=te.current)||void 0===e?void 0:e.blur()},textarea:null===(e=te.current)||void 0===e||null===(e=e.resizableTextArea)||void 0===e?void 0:e.textArea,nativeElement:ne.current}});var le=(0,o.useState)(!1),ae=(0,c.A)(le,2),re=ae[0],ce=ae[1],se=(0,o.useState)(""),ue=(0,c.A)(se,2),de=ue[0],fe=ue[1],pe=(0,o.useState)(""),ve=(0,c.A)(pe,2),ge=ve[0],me=ve[1],be=(0,o.useState)(0),he=(0,c.A)(be,2),Ce=he[0],xe=he[1],Ae=(0,o.useState)(0),we=(0,c.A)(Ae,2),Se=we[0],ye=we[1],Oe=(0,o.useState)(!1),Ee=(0,c.A)(Oe,2),Ne=Ee[0],ke=Ee[1],je=(0,p.A)("",{defaultValue:k,value:N}),Ie=(0,c.A)(je,2),Pe=Ie[0],ze=Ie[1];(0,o.useEffect)(function(){re&&oe.current&&(oe.current.scrollTop=ie().scrollTop)},[re]);var Fe=o.useMemo(function(){if(P){0;for(var e=0;e<ee.length;e+=1){var n=ee[e],t=Pe.lastIndexOf(n);if(t>=0)return[!0,"",n,t]}}return[re,de,ge,Ce]},[P,re,ee,Pe,de,ge,Ce]),Re=(0,c.A)(Fe,4),Be=Re[0],He=Re[1],Te=Re[2],Le=Re[3],De=o.useCallback(function(e){return(I&&I.length>0?I.map(function(e){var n;return(0,r.A)((0,r.A)({},e),{},{key:null!==(n=null===e||void 0===e?void 0:e.key)&&void 0!==n?n:e.value})}):(0,f.A)(j).map(function(e){var n=e.props,t=e.key;return(0,r.A)((0,r.A)({},n),{},{label:n.children,key:t||n.value})})).filter(function(n){return!1===H||H(e,n)})},[j,I,H]),We=o.useMemo(function(){return De(He)},[De,He]),Ve=function(){var e=(0,o.useState)({id:0,callback:null}),n=(0,c.A)(e,2),t=n[0],i=n[1],l=(0,o.useCallback)(function(e){i(function(n){return{id:n.id+1,callback:e}})},[]);return(0,o.useEffect)(function(){var e;null===(e=t.callback)||void 0===e||e.call(t)},[t]),l}(),Me=function(e){ce(!1),xe(0),fe(""),Ve(e)},Xe=function(e){ze(e),null===T||void 0===T||T(e)},Ke=function(e){var n,t=e.value,o=S(Pe,{measureLocation:Le,targetText:void 0===t?"":t,prefix:Te,selectionStart:null===(n=ie())||void 0===n?void 0:n.selectionStart,split:C}),i=o.text,l=o.selectionLocation;Xe(i),Me(function(){var e,n;e=ie(),n=l,e.setSelectionRange(n,n),e.blur(),e.focus()}),null===M||void 0===M||M(e,Te)},Ue=(0,o.useRef)(),Ye=function(e){window.clearTimeout(Ue.current),!Ne&&e&&X&&X(e),ke(!0)},_e=function(e){Ue.current=window.setTimeout(function(){ke(!1),Me(),null===K||void 0===K||K(e)},0)};return o.createElement("div",{className:l()(t,i),style:u,ref:ne},o.createElement(d.A,(0,a.A)({ref:te,value:Pe},Z,{rows:$,onChange:function(e){var n=e.target.value;Xe(n)},onKeyDown:function(e){var n=e.which;if(null===L||void 0===L||L(e),Be)if(n===v.A.UP||n===v.A.DOWN){var t=We.length,o=n===v.A.UP?-1:1;ye((Se+o+t)%t),e.preventDefault()}else if(n===v.A.ESC)Me();else if(n===v.A.ENTER){if(e.preventDefault(),z)return;if(!We.length)return void Me();var i=We[Se];Ke(i)}},onKeyUp:function(e){var n=e.key,t=e.which,o=function(e){var n=e.selectionStart;return e.value.slice(0,n)}(e.target),i=function(e,n){return n.reduce(function(n,t){var o=e.lastIndexOf(t);return o>n.location?{location:o,prefix:t}:n},{location:-1,prefix:""})}(o,ee),l=i.location,a=i.prefix;if(null===D||void 0===D||D(e),-1===[v.A.ESC,v.A.UP,v.A.DOWN,v.A.ENTER].indexOf(t))if(-1!==l){var r=o.slice(l+a.length),c=R(r,C),s=!!De(r).length;c?(n===a||"Shift"===n||t===v.A.ALT||"AltGraph"===n||Be||r!==He&&s)&&function(e,n,t){ce(!0),fe(e),me(n),xe(t),ye(0)}(r,a,l):Be&&Me(),V&&c&&V(r,a)}else Be&&Me()},onPressEnter:function(e){!Be&&W&&W(e)},onFocus:Ye,onBlur:_e})),Be&&o.createElement("div",{ref:oe,className:"".concat(t,"-measure")},Pe.slice(0,Le),o.createElement(b.Provider,{value:{notFoundContent:w,activeIndex:Se,setActiveIndex:ye,selectOption:Ke,onFocus:function(){Ye()},onBlur:function(){_e()},onScroll:function(e){null===J||void 0===J||J(e)}}},o.createElement(x,{prefixCls:t,transitionName:U,placement:Y,direction:_,options:We,visible:!0,getPopupContainer:G,dropdownClassName:q},o.createElement("span",null,Te))),Pe.slice(Le+Te.length)))}),j=(0,o.forwardRef)(function(e,n){var t=e.suffix,i=e.prefixCls,l=void 0===i?"rc-mentions":i,d=e.defaultValue,f=e.value,v=e.allowClear,g=e.onChange,m=e.classNames,b=e.className,h=e.disabled,C=e.onClear,x=(0,s.A)(e,N),A=(0,o.useRef)(null),w=(0,o.useRef)(null);(0,o.useImperativeHandle)(n,function(){var e,n;return(0,r.A)((0,r.A)({},w.current),{},{nativeElement:(null===(e=A.current)||void 0===e?void 0:e.nativeElement)||(null===(n=w.current)||void 0===n?void 0:n.nativeElement)})});var S=(0,p.A)("",{defaultValue:d,value:f}),y=(0,c.A)(S,2),O=y[0],E=y[1],j=function(e){E(e),null===g||void 0===g||g(e)};return o.createElement(u.a,{suffix:t,prefixCls:l,value:O,allowClear:v,handleReset:function(){j("")},className:b,classNames:m,disabled:h,ref:A,onClear:C},o.createElement(k,(0,a.A)({className:null===m||void 0===m?void 0:m.mentions,prefixCls:l,ref:w,onChange:j,disabled:h},x)))});j.Option=A;const I=j;var P=t(13758),z=t(49728),F=t(29854),R=t(77689),B=t(13685),H=t(35296),T=t(54633),L=t(78887),D=t(16436),W=t(82805),V=t(91686),M=t(43944),X=t(15213),K=t(47136),U=t(95947),Y=t(94414),_=t(78855),G=t(78446);const q=(0,_.OF)("Mentions",e=>(e=>{const{componentCls:n,antCls:t,colorTextDisabled:o,controlItemBgHover:i,controlPaddingHorizontal:l,colorText:a,motionDurationSlow:r,lineHeight:c,controlHeight:s,paddingInline:u,paddingBlock:d,fontSize:f,fontSizeIcon:p,colorIcon:v,colorTextQuaternary:g,colorBgElevated:m,paddingXXS:b,borderRadius:h,borderRadiusLG:C,boxShadowSecondary:x,itemPaddingVertical:A,calc:w}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Y.dF)(e)),(0,X.wj)(e)),{position:"relative",display:"inline-block",height:"auto",padding:"0 ".concat((0,M.zA)(e.paddingInline)),overflow:"hidden",lineHeight:c,whiteSpace:"pre-wrap",verticalAlign:"bottom"}),(0,U.Eb)(e)),(0,U.sA)(e)),(0,U.lB)(e)),{"&-affix-wrapper":Object.assign(Object.assign({},(0,X.wj)(e)),{display:"inline-flex",paddingBlock:0,paddingInlineStart:0,paddingInlineEnd:e.paddingInline,"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},["".concat(n,"-suffix")]:{display:"inline-flex",alignItems:"center",["&:has(".concat(t,"-form-item-feedback-icon) ").concat(n,"-clear-icon")]:{marginInlineEnd:e.marginXS},["".concat(t,"-form-item-feedback-icon")]:{display:"inline-flex",alignItems:"center",justifyContent:"center"}},["".concat(n,"-clear-icon")]:{insetInlineEnd:0,insetBlockStart:w(f).mul(c).mul(.5).add(d).equal(),padding:0,lineHeight:0,color:g,fontSize:p,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(r),border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:v},"&:active":{color:a},"&-hidden":{visibility:"hidden"}}})}),(0,U.aP)(e)),{"&-disabled":{"> textarea":Object.assign({},(0,U.eT)(e))},["&, &-affix-wrapper > ".concat(n)]:{["> textarea, ".concat(n,"-measure")]:{color:a,boxSizing:"border-box",minHeight:e.calc(s).sub(2).equal(),margin:0,padding:"".concat((0,M.zA)(d)," ").concat((0,M.zA)(u)),overflow:"inherit",overflowX:"hidden",overflowY:"auto",fontWeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",fontVariant:"inherit",fontSizeAdjust:"inherit",fontStretch:"inherit",lineHeight:"inherit",direction:"inherit",letterSpacing:"inherit",whiteSpace:"inherit",textAlign:"inherit",verticalAlign:"top",wordWrap:"break-word",wordBreak:"inherit",tabSize:"inherit"},"> textarea":Object.assign(Object.assign({width:"100%",border:"none",outline:"none",resize:"none",backgroundColor:"transparent"},(0,X.j_)(e.colorTextPlaceholder)),{padding:"".concat((0,M.zA)(e.paddingBlock)," 0")}),["".concat(n,"-measure")]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:-1,color:"transparent",pointerEvents:"none","> span":{display:"inline-block",minHeight:"1em"}}},"&-dropdown":Object.assign(Object.assign({},(0,Y.dF)(e)),{position:"absolute",top:-9999,insetInlineStart:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",fontSize:f,fontVariant:"initial",padding:b,backgroundColor:m,borderRadius:C,outline:"none",boxShadow:x,"&-hidden":{display:"none"},["".concat(n,"-dropdown-menu")]:{maxHeight:e.dropdownHeight,margin:0,paddingInlineStart:0,overflow:"auto",listStyle:"none",outline:"none","&-item":Object.assign(Object.assign({},Y.L9),{position:"relative",display:"block",minWidth:e.controlItemWidth,padding:"".concat((0,M.zA)(A)," ").concat((0,M.zA)(l)),color:a,borderRadius:h,fontWeight:"normal",lineHeight:c,cursor:"pointer",transition:"background ".concat(r," ease"),"&:hover":{backgroundColor:i},"&-disabled":{color:o,cursor:"not-allowed","&:hover":{color:o,backgroundColor:i,cursor:"not-allowed"}},"&-selected":{color:a,fontWeight:e.fontWeightStrong,backgroundColor:i},"&-active":{backgroundColor:i}})}})})}})((0,G.oX)(e,(0,K.C)(e))),e=>Object.assign(Object.assign({},(0,K.b)(e)),{dropdownHeight:250,controlItemWidth:100,zIndexPopup:e.zIndexPopupBase+50,itemPaddingVertical:(e.controlHeight-e.fontHeight)/2}));var Q=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]])}return t};const{Option:$}=I;function J(){return!0}const Z=o.forwardRef((e,n)=>{const{prefixCls:t,className:i,rootClassName:a,disabled:r,loading:c,filterOption:s,children:u,notFoundContent:d,options:f,status:p,allowClear:v=!1,popupClassName:g,style:m,variant:b}=e,h=Q(e,["prefixCls","className","rootClassName","disabled","loading","filterOption","children","notFoundContent","options","status","allowClear","popupClassName","style","variant"]),[C,x]=o.useState(!1),A=o.useRef(null),w=(0,P.K4)(n,A);const{getPrefixCls:S,renderEmpty:y,direction:O,mentions:E}=o.useContext(H.QO),{status:N,hasFeedback:k,feedbackIcon:j}=o.useContext(D.$W),F=(0,R.v)(N,p),B=o.useMemo(()=>void 0!==d?d:(null===y||void 0===y?void 0:y("Select"))||o.createElement(T.A,{componentName:"Select"}),[d,y]),M=o.useMemo(()=>c?o.createElement($,{value:"ANTD_SEARCHING",disabled:!0},o.createElement(V.A,{size:"small"})):u,[c,u]),X=c?[{value:"ANTD_SEARCHING",disabled:!0,label:o.createElement(V.A,{size:"small"})}]:f,K=c?J:s,U=S("mentions",t),Y=(0,z.A)(v),_=(0,L.A)(U),[G,Z,ee]=q(U,_),[ne,te]=(0,W.A)("mentions",b),oe=k&&o.createElement(o.Fragment,null,j),ie=l()(null===E||void 0===E?void 0:E.className,i,a,ee,_);return G(o.createElement(I,Object.assign({silent:c,prefixCls:U,notFoundContent:B,className:ie,disabled:r,allowClear:Y,direction:O,style:Object.assign(Object.assign({},null===E||void 0===E?void 0:E.style),m)},h,{filterOption:K,onFocus:function(){if(h.onFocus){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];h.onFocus.apply(h,n)}x(!0)},onBlur:function(){if(h.onBlur){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];h.onBlur.apply(h,n)}x(!1)},dropdownClassName:l()(g,a,Z,ee,_),ref:w,options:X,suffix:oe,classNames:{mentions:l()({["".concat(U,"-disabled")]:r,["".concat(U,"-focused")]:C,["".concat(U,"-rtl")]:"rtl"===O},Z),variant:l()({["".concat(U,"-").concat(ne)]:te},(0,R.L)(U,F)),affixWrapper:Z}}),M))}),ee=Z;ee.Option=$;const ne=(0,F.A)(ee,void 0,void 0,"mentions");ee._InternalPanelDoNotUseOrYouWillBeFired=ne,ee.getMentions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{prefix:t="@",split:o=" "}=n,i=(0,B.A)(t);return e.split(o).map(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=null;return i.some(t=>e.slice(0,t.length)===t&&(n=t,!0)),null!==n?{prefix:n,value:e.slice(n.length)}:null}).filter(e=>!!e&&!!e.value)}}}]);
//# sourceMappingURL=8566.9a18faa2.chunk.js.map