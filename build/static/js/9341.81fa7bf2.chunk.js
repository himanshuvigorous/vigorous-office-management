"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[9341],{29882:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(487),l=s(15187),d=s(70579);const n=function(e){let{value:t,onChange:s,picker:n="date",format:i="DD/MM/YYYY",size:o="large",disabledDate:c,disabled:r,defaultValue:x,report:m=!1,showTime:u=!1}=e;return(0,d.jsx)(a.A,{defaultValue:x,showTime:u,size:o,disabled:r,picker:n,format:i,disabledDate:c,value:t,onChange:s,getPopupContainer:()=>document.body,className:" ".concat(m?"inputCalanderClassNameReport":l.ot," "),popupClassName:"!z-[1580]"})}},39341:(e,t,s)=>{s.r(t),s.d(t,{default:()=>I});var a=s(65043),l=s(39160),d=s(73216),n=s(35475),i=s(83003),o=s(23156),c=s(47196),r=s(30064),x=s.n(r),m=s(31174),u=s(78227),h=s(15187),p=s(31744),v=s(78729),b=s(27810),g=s(53913),j=s(65512),N=s(96651),f=s(30326),y=s(4938),w=s(55971),k=s(60446),C=s.n(k),A=s(49804),D=s(92021),S=s(60184),P=s(83002),T=(s(29542),s(89427)),z=s(29882),L=s(45394),Y=s(3825),_=s(55008),O=s(70579);const B=e=>{let{isOpen:t,onClose:s,employeeName:a,attachments:l}=e;const d=e=>{if(!e)return!1;const t=e.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","bmp","webp","svg"].includes(t)},n=e=>!!e&&e.toLowerCase().endsWith(".pdf"),i=e=>{if(!e)return!1;const t=e.split(".").pop().toLowerCase();return["xls","xlsx","csv"].includes(t)},o=e=>{if(!e)return!1;const t=e.split(".").pop().toLowerCase();return["doc","docx"].includes(t)},c=e=>d(e)?"Image":n(e)?"PDF":i(e)?"Excel":o(e)?"Word":"File";return(0,O.jsx)(g.A,{title:(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsxs)("span",{className:"text-lg font-semibold",children:["Attached Docs For ",a||"Employee"]}),(0,O.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,O.jsx)(S.QCr,{})})]}),width:800,footer:null,open:t,onCancel:s,closable:!1,className:"rounded-lg overflow-hidden",children:(0,O.jsx)("div",{className:"my-6",children:l&&l.length>0?(0,O.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:l.map((e,t)=>{const s="".concat("https://vigapi.vigorousit.com","/public/").concat(e);return(0,O.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,O.jsxs)("div",{className:"flex flex-col items-center cursor-pointer",onClick:()=>(e=>{const t="".concat("https://vigapi.vigorousit.com","/public/").concat(e);if(!d(e))if(n(e))window.open(t,"_blank");else{const s=document.createElement("a");s.href=t,s.setAttribute("download",e),document.body.appendChild(s),s.click(),s.remove()}})(e),children:[(0,O.jsxs)("div",{className:"relative mb-3",children:[d(e)?(0,O.jsx)("div",{className:"w-24 h-24 overflow-hidden rounded-lg border",children:(0,O.jsx)(_.A,{width:96,height:96,src:s,alt:"Preview ".concat(t+1),className:"object-cover w-full h-full",preview:{src:s}})}):(0,O.jsx)("div",{className:"w-24 h-24 flex items-center justify-center bg-gray-100 rounded-lg border",children:(l=e,d(l)?(0,O.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,O.jsx)("span",{className:"text-blue-600 font-semibold",children:"IMG"})}):n(l)?(0,O.jsx)(S.kl1,{className:"text-red-600 text-3xl"}):i(l)?(0,O.jsx)(S.Ru,{className:"text-green-600 text-3xl"}):o(l)?(0,O.jsx)(S.WLb,{className:"text-blue-600 text-3xl"}):(0,O.jsx)(S.t69,{className:"text-gray-600 text-3xl"}))}),!d(e)&&(0,O.jsx)("div",{className:"absolute bottom-2 right-2 bg-white rounded-full p-1 shadow-md",children:n(e)?(0,O.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"View"}):(0,O.jsx)(S.WCW,{className:"text-gray-700 text-sm"})})]}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-1",children:(a=e,a.length>20?"".concat(a.substring(0,15),"...").concat(a.split(".").pop()):a)}),(0,O.jsx)("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full inline-block",children:c(e)})]})]})},t);var a,l})}):(0,O.jsxs)("div",{className:"text-center py-10",children:[(0,O.jsx)("div",{className:"text-gray-400 text-5xl mb-4",children:(0,O.jsx)(S.t69,{})}),(0,O.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No files attached"}),(0,O.jsx)("p",{className:"text-gray-500",children:"There are no documents to display"})]})})})};const I=function(){var e,t,s,r,k,_,I,R,E,M,V,H,W,F,q,G,U,J,Q;const K=(0,d.Zp)(),Z=(0,i.wA)(),{cashbookListData:X,cashbookDetails:$,totalcashbookListCount:ee,loading:te}=(0,i.d4)(e=>e.cashbook),[se,ae]=(0,a.useState)({isOpen:!1,data:{},cashbook:{}}),[le,de]=(0,a.useState)({isOpen:!1,data:{}}),ne=JSON.parse(localStorage.getItem("user_info_".concat(h.AU))),{branchList:ie,branchListloading:oe}=(0,i.d4)(e=>e.branch),[ce,re]=(0,a.useState)(!1),[xe,me]=(0,a.useState)(""),[ue,he]=(0,n.ok)(),pe=parseInt(ue.get("page"))||1,ve=ue.get("startDate")||null,be=ue.get("endDate")||null,ge=ue.get("branchId")||"",je=ue.get("status")||"",[Ne,fe]=(0,a.useState)(ve?C()(ve):null),[ye,we]=(0,a.useState)(be?C()(be):null),[ke,Ce]=(0,a.useState)(10),[Ae,De]=(0,a.useState)(pe),[Se,Pe]=(0,a.useState)(ge),[Te,ze]=(0,a.useState)(je||"Pending");(0,a.useEffect)(()=>{const e=new URLSearchParams;Ae>1&&e.set("page",Ae),10!==ke&&e.set("limit",ke),Se&&e.set("branchId",Se),Ne&&e.set("startDate",Ne),ye&&e.set("endDate",ye),Te&&e.set("status",Te),he(e)},[Ae,Se,ke,Ne,ye]),(0,a.useEffect)(()=>{Le()},[Ae,Se,ke,Ne,ye,xe,Te]);const Le=()=>{const e={currentPage:Ae,pageSize:ke,reqData:{directorId:"",companyId:"company"===(null===ne||void 0===ne?void 0:ne.userType)?null===ne||void 0===ne?void 0:ne._id:null===ne||void 0===ne?void 0:ne.companyId,branchId:"company"===(null===ne||void 0===ne?void 0:ne.userType)||"admin"===(null===ne||void 0===ne?void 0:ne.userType)||"companyDirector"===(null===ne||void 0===ne?void 0:ne.userType)?Se:"companyBranch"===(null===ne||void 0===ne?void 0:ne.userType)?null===ne||void 0===ne?void 0:ne._id:null===ne||void 0===ne?void 0:ne.branchId,text:xe,sort:!0,status:Te,isPagination:!0,startDate:(0,h.Tk)(Ne),endDate:(0,h.Tk)(ye)}};Z((0,b.t2)(e))};(0,a.useEffect)(()=>{"company"!==(null===ne||void 0===ne?void 0:ne.userType)&&"companyDirector"!==(null===ne||void 0===ne?void 0:ne.userType)||Z((0,p.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===ne||void 0===ne?void 0:ne.userType)?null===ne||void 0===ne?void 0:ne._id:null===ne||void 0===ne?void 0:ne.companyId}))},[]),(0,a.useEffect)(()=>{"admin"===(null===ne||void 0===ne?void 0:ne.userType)&&Z((0,v.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]);const{canCreate:Ye,canRead:_e,canUpdate:Oe,canDelete:Be}=(0,y.A)();return(0,O.jsx)(l.A,{onChange:e=>{me(e)},children:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(B,{isOpen:se.isOpen,onClose:()=>ae({open:!1,data:{}}),employeeName:null===se||void 0===se?void 0:se.data.employeName,attachments:null===se||void 0===se?void 0:se.data.attachment}),(0,O.jsx)(g.A,{className:"antmodalclassName",title:"Visitor Details",width:800,footer:!1,open:le.isOpen,onCancel:()=>de({isOpen:!1,data:{}}),children:(0,O.jsx)("div",{className:"w-full overflow-auto",children:(0,O.jsx)("table",{className:"w-full rounded-lg shadow-md overflow-hidden bg-white",children:(0,O.jsxs)("tbody",{className:"text-sm text-gray-700",children:[(0,O.jsxs)("tr",{className:"hover:bg-indigo-50",children:[(0,O.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(L.sLb,{className:"size-4 text-header text-lg"}),(0,O.jsx)("span",{className:"text-[16px] font-medium",children:"Visitor Name"})]}),(0,O.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===(e=le.data)||void 0===e?void 0:e.name)||"N/A"})]}),(0,O.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(Y.cC2,{className:"size-4 text-header text-lg"}),(0,O.jsx)("span",{className:"text-[16px] font-medium",children:"Mobile Number"})]}),(0,O.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null!==(t=le.data)&&void 0!==t&&null!==(s=t.mobile)&&void 0!==s&&s.number?"".concat(null===(r=le.data)||void 0===r||null===(k=r.mobile)||void 0===k?void 0:k.code," ").concat(null===(_=le.data)||void 0===_||null===(I=_.mobile)||void 0===I?void 0:I.number):"N/A"})]})]}),(0,O.jsxs)("tr",{className:"hover:bg-indigo-50",children:[(0,O.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(S.CLz,{className:"size-4 text-header text-lg"}),(0,O.jsx)("span",{className:"text-[16px] font-medium",children:"Check In Time"})]}),(0,O.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null!==(R=le.data)&&void 0!==R&&R.checkInTime?C()(null===(E=le.data)||void 0===E?void 0:E.checkInTime).format("DD-MM-YYYY hh:mm A"):"N/A"})]}),(0,O.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(S.Y9o,{className:"size-4 text-header text-lg"}),(0,O.jsx)("span",{className:"text-[16px] font-medium",children:"Check Out Time"})]}),(0,O.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null!==(M=le.data)&&void 0!==M&&M.checkOutTime?C()(null===(V=le.data)||void 0===V?void 0:V.checkOutTime).format("DD-MM-YYYY hh:mm A"):"N/A"})]})]}),(0,O.jsx)("tr",{className:"hover:bg-indigo-50",children:(0,O.jsxs)("td",{className:"p-3 text-gray-600",colSpan:2,children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(o._tP,{className:"size-4 text-header text-lg"}),(0,O.jsx)("span",{className:"text-[16px] font-medium",children:"Address"})]}),(0,O.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===(H=le.data)||void 0===H||null===(W=H.address)||void 0===W?void 0:W.street)||"N/A"})]})}),(0,O.jsx)("tr",{className:"hover:bg-indigo-50",children:(0,O.jsxs)("td",{className:"p-3 text-gray-600",colSpan:2,children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(S.CLz,{className:"size-4 text-header text-lg"}),(0,O.jsx)("span",{className:"text-[16px] font-medium",children:"Reason for Visit"})]}),(0,O.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===(F=le.data)||void 0===F?void 0:F.reason)||"N/A"})]})})]})})})}),(0,O.jsxs)("div",{className:"flex justify-start items-center my-1",children:[(0,O.jsx)("button",{className:"bg-header border-header text-white px-3 py-2 border rounded-l-md flex justify-center items-center space-x-2",children:(0,O.jsx)("span",{className:"text-[12px]",children:"Approval View"})}),(0,O.jsx)("button",{className:"text-black px-3 py-2 border rounded-l-md flex justify-center items-center space-x-2",onClick:()=>{K("/admin/cashbook/listView")},children:(0,O.jsx)("span",{className:"text-[12px]",children:"Employee View"})})]}),(0,O.jsx)("div",{className:"",children:(0,O.jsxs)("div",{className:"xl:flex justify-between items-center xl:space-y-0 space-y-2 py-1",children:[(0,O.jsxs)("div",{className:"grid md:grid-cols-4 sm:grid-cols-2 grid-cols-1 items-center md:gap-3 gap-1.5",children:[("admin"===(null===ne||void 0===ne?void 0:ne.userType)||"company"===(null===ne||void 0===ne?void 0:ne.userType)||"companyDirector"===(null===ne||void 0===ne?void 0:ne.userType))&&(0,O.jsx)("div",{className:"",children:(0,O.jsxs)(j.A,{value:Se,onChange:e=>{Pe(e),De(1)},defaultValue:"",disabled:te,className:"".concat(h.Lp),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,O.jsx)(j.A.Option,{value:"",children:"Select Branch"}),oe?(0,O.jsx)(j.A.Option,{disabled:!0,children:(0,O.jsx)(T.A,{})}):null===ie||void 0===ie?void 0:ie.map(e=>(0,O.jsx)(j.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]})}),(0,O.jsx)("div",{className:"",children:(0,O.jsxs)(j.A,{value:Te,onChange:e=>{ze(e),De(1)},defaultValue:"",disabled:te,className:"".concat(h.Lp),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Search",children:[(0,O.jsx)(j.A.Option,{value:"",children:"Select Status"}),null===(q=["Pending","Approved","Paid","Reject"])||void 0===q?void 0:q.map(e=>(0,O.jsx)(j.A.Option,{value:e,children:e},e))]})}),(0,O.jsx)("div",{children:(0,O.jsx)(z.A,{value:Ne,onChange:e=>{fe(e),De(1)},disabled:te,report:!0,size:"middle"})}),(0,O.jsx)("div",{children:(0,O.jsx)(z.A,{value:ye,onChange:e=>{we(e),De(1)},disabled:te,report:!0,size:"middle"})})]}),(0,O.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,O.jsx)("button",{onClick:()=>{fe(null),we(null),Pe(""),ze("")},className:"bg-header py-1.5 rounded-md flex px-10 justify-center items-center text-white",children:(0,O.jsx)("span",{className:"text-[12px]",children:"Reset"})}),Ye&&(0,O.jsx)(N.A,{placement:"topLeft",title:"Add Cashbook",children:(0,O.jsxs)("button",{onClick:()=>{K("/admin/cashbook/create")},className:"bg-header px-2 py-1.5 rounded-md flex justify-center items-center whitespace-nowrap space-x-2 text-white",children:[(0,O.jsx)(o.OiG,{}),(0,O.jsx)("span",{className:"text-[12px]",children:"Add Cashbook"})]})})]})]})}),(0,O.jsxs)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:[_e&&(0,O.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,O.jsx)("thead",{className:"",children:(0,O.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] bg-header capitalize text-[#ffff] font-[500] h-[40px]",children:[(0,O.jsx)("th",{className:"tableHead w-[10%]",children:"S.No."}),(0,O.jsx)("th",{className:"tableHead",children:"Employee"}),(0,O.jsx)("th",{className:"tableHead text-right",children:"Amount"}),(0,O.jsx)("th",{className:"tableHead",children:"Expense Type"}),(0,O.jsx)("th",{className:"tableHead",children:"Bill Date"}),(0,O.jsx)("th",{className:"tableHead",children:"Client Name"}),(0,O.jsx)("th",{className:"tableHead",children:"Status"}),(0,O.jsx)("th",{className:"tableHead",children:"Created At"}),(0,O.jsx)("th",{className:"tableHead",children:"Created By"}),(0,O.jsx)("th",{className:"tableHead",children:"Approved By"}),(Be||Oe)&&(0,O.jsx)("th",{className:"tableHead w-[10%]",children:"Action"})]})}),te?(0,O.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,O.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,O.jsx)(w.A,{})})}):(0,O.jsx)("tbody",{children:X&&(null===X||void 0===X?void 0:X.length)>0?null===X||void 0===X?void 0:X.map((e,t)=>{var s,a,l;return(0,O.jsxs)("tr",{className:"text-black ".concat(t%2===0?"bg-[#e9ecef]/80":"bg-white"," border-b-[1px] border-[#DDDDDD]"),children:[(0,O.jsxs)("td",{className:"tableData",children:[" ",t+1+(Ae-1)*ke," "]}),(0,O.jsx)("td",{onClick:()=>{var t;K("/admin/cashbook/employee/".concat((0,m.w)(null===e||void 0===e?void 0:e.companyId),"/").concat((0,m.w)(null===e||void 0===e?void 0:e.branchId),"/").concat((0,m.w)(null===e||void 0===e||null===(t=e.employeData)||void 0===t?void 0:t._id)))},className:"tableData",children:null===e||void 0===e||null===(s=e.employeData)||void 0===s?void 0:s.fullName}),(0,O.jsx)("td",{className:"tableData text-right",children:(0,h.w2)((null===e||void 0===e?void 0:e.amount)||"-")}),(0,O.jsx)("td",{className:"tableData",children:(null===e||void 0===e||null===(a=e.expenseTypeData)||void 0===a?void 0:a.name)||"N/A"}),(0,O.jsx)("td",{className:"tableData",children:null!==e&&void 0!==e&&e.date?C()(null===e||void 0===e?void 0:e.date).format("DD-MM-YYYY"):"-"}),(0,O.jsx)("td",{className:"tableData",children:(null===e||void 0===e||null===(l=e.visitorData)||void 0===l?void 0:l.name)||"-"}),(0,O.jsx)("td",{className:"tableData",children:(0,O.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("Approved"===(null===e||void 0===e?void 0:e.status)?"bg-cyan-100 border border-cyan-600 text-cyan-800":"Reject"===(null===e||void 0===e?void 0:e.status)||"Rejected"===(null===e||void 0===e?void 0:e.status)?"bg-rose-100 border border-rose-600 text-rose-800":"Paid"===(null===e||void 0===e?void 0:e.status)?"bg-green-100 border border-green-600 text-green-800":"bg-yellow-100 border border-yellow-600 text-yellow-800"),children:null===e||void 0===e?void 0:e.status})}),(0,O.jsx)("td",{className:"tableData",children:C()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")}),(0,O.jsx)("td",{className:"tableData",children:null===e||void 0===e?void 0:e.createdBy}),(0,O.jsx)("td",{className:"tableData",children:"Pending"!==(null===e||void 0===e?void 0:e.status)?e.updatedBy||e.createdBy:"-"}),(Be||Oe)&&(0,O.jsx)("td",{className:"tableData",children:(0,O.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2.5",children:[(0,O.jsx)("button",{onClick:()=>(e=>{Z((0,b.ho)({_id:null===e||void 0===e?void 0:e._id})),re(!0)})(e),className:"px-2 py-2 text-xs rounded-md bg-transparent text-header border border-muted",type:"button",children:(0,O.jsx)(S.Ny1,{className:"hover:text-[#337ab7] text-[#3c8dbc]"})}),(null===e||void 0===e?void 0:e.visitorId)&&(0,O.jsx)("button",{onClick:()=>de({isOpen:!0,data:null===e||void 0===e?void 0:e.visitorData}),className:"px-2 py-2 text-xs rounded-md bg-transparent text-header border border-muted",type:"button",children:(0,O.jsx)(S.K9B,{className:"hover:text-[#337ab7] text-[#3c8dbc]"})}),Oe&&(0,O.jsx)(N.A,{placement:"topLeft",title:"Pending"===(null===e||void 0===e?void 0:e.status)?"Approve":"No Actions (".concat(null===e||void 0===e?void 0:e.status,")"),children:(0,O.jsx)("button",{onClick:()=>{x().fire({title:"Are You Sure to Approve?",showCancelButton:!0,confirmButtonText:"Approve",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&Z((0,b.BG)({_id:null===e||void 0===e?void 0:e._id,status:"Approved"})).then(e=>{null!==e&&void 0!==e&&e.error||(Le(),x().fire("Successfully Approved","Status updated","success"))})})},className:"px-2 py-1.5 text-xs rounded-md border border-muted ".concat("Pending"===(null===e||void 0===e?void 0:e.status)?"bg-transparent hover:bg-blue-100":"bg-gray-200"),type:"button",disabled:"Pending"!==(null===e||void 0===e?void 0:e.status),children:(0,O.jsx)(A.ti3,{className:"".concat("Pending"===(null===e||void 0===e?void 0:e.status)?"text-[#3c8dbc] hover:text-[#337ab7]":"text-gray-400"),size:16})})}),Oe&&(0,O.jsx)(N.A,{placement:"topLeft",title:"Pending"===(null===e||void 0===e?void 0:e.status)?"Reject":"No Actions (".concat(null===e||void 0===e?void 0:e.status,")"),children:(0,O.jsx)("button",{onClick:()=>{x().fire({title:"Provide Remark",input:"textarea",inputLabel:"Remark (Mandatory)",inputPlaceholder:"Type your remark here...",showCancelButton:!0,confirmButtonText:"Update as Rejected",cancelButtonText:"Cancel",inputValidator:e=>e&&""!==e.trim()?null:"Remark cannot be empty",preConfirm:()=>{var e;const t=null===(e=x().getPopup().querySelector("textarea"))||void 0===e?void 0:e.value.trim();return t?{feedback:t}:(x().showValidationMessage("Remark is required"),!1)}}).then(t=>{if(t.isConfirmed){const{feedback:s}=t.value;Z((0,b.BG)({_id:null===e||void 0===e?void 0:e._id,status:"Reject",remark:s})).then(e=>{null!==e&&void 0!==e&&e.error||(Le(),x().fire("Successfully Rejected","Status updated","success"))})}})},className:"px-2 py-1.5 text-xs rounded-md border border-muted ".concat("Pending"===(null===e||void 0===e?void 0:e.status)?"bg-transparent hover:bg-blue-100":"bg-gray-200"),type:"button",disabled:"Pending"!==(null===e||void 0===e?void 0:e.status),children:(0,O.jsx)(D.j55,{className:"".concat("Pending"===(null===e||void 0===e?void 0:e.status)?"text-rose-800 hover:text-rose-900":"text-gray-400"),size:16})})}),(0,O.jsx)(f.A,{menu:{items:[Oe&&{key:"edit",label:(0,O.jsxs)("span",{onClick:()=>{"Pending"===(null===e||void 0===e?void 0:e.status)&&K("/admin/cashbook/edit/".concat((0,m.w)(null===e||void 0===e?void 0:e._id)))},className:"flex items-center ".concat("Pending"===(null===e||void 0===e?void 0:e.status)?"text-[#3c8dbc] hover:text-[#337ab7]":"text-gray-400 cursor-not-allowed"),children:[(0,O.jsx)(o.Jcp,{className:"mr-2",size:16}),"Pending"===(null===e||void 0===e?void 0:e.status)?"Edit":"No Actions (".concat(null===e||void 0===e?void 0:e.status,")")]}),disabled:"Pending"!==(null===e||void 0===e?void 0:e.status)},Be&&{key:"delete",label:(0,O.jsxs)("span",{onClick:()=>{"Pending"===(null===e||void 0===e?void 0:e.status)&&(e=>{let t={_id:e};x().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&Z((0,b.IT)(t)).then(e=>{Ae>1&&1==(null===X||void 0===X?void 0:X.length)?De(Number(Ae-1)):Le()})})})(null===e||void 0===e?void 0:e._id)},className:"flex items-center ".concat("Pending"===(null===e||void 0===e?void 0:e.status)?"text-red-600 hover:text-red-500":"text-gray-400 cursor-not-allowed"),children:[(0,O.jsx)(c.tqC,{className:"mr-2",size:16}),"Pending"===(null===e||void 0===e?void 0:e.status)?"Delete":"No Actions (".concat(null===e||void 0===e?void 0:e.status,")")]}),disabled:"Pending"!==(null===e||void 0===e?void 0:e.status)}].filter(Boolean)},trigger:["click"],children:(0,O.jsx)("button",{className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,O.jsx)(P.xWf,{className:"text-[#3c8dbc] hover:text-[#337ab7]",size:16})})})]})})]},t)}):(0,O.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,O.jsx)("td",{colSpan:5,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]}),(0,O.jsx)(g.A,{className:"antmodalclassName",visible:ce,onCancel:()=>re(!1),footer:null,title:!1,width:1200,height:600,children:(0,O.jsx)("div",{className:"w-full overflow-auto",children:(0,O.jsxs)("table",{className:"w-full rounded-lg shadow-md overflow-hidden bg-white",children:[(0,O.jsx)("thead",{children:(0,O.jsx)("tr",{children:(0,O.jsx)("th",{className:"text-header",children:(0,O.jsx)("div",{className:"mt-2 ml-2",children:"Cashbook Details"})})})}),(0,O.jsxs)("tbody",{className:"text-sm text-gray-700",children:[(0,O.jsxs)("tr",{className:"hover:bg-indigo-50",children:[(0,O.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(L.sLb,{className:"size-4 text-header text-lg"}),(0,O.jsx)("span",{className:"text-[16px] font-medium",children:"Employee Name"})]}),(0,O.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===$||void 0===$||null===(G=$.employeData)||void 0===G?void 0:G.fullName)||"N/A"})]}),(0,O.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(Y.cC2,{className:"size-4 text-header text-lg"}),(0,O.jsx)("span",{className:"text-[16px] font-medium",children:"Expense Type"})]}),(0,O.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===$||void 0===$||null===(U=$.expenseTypeData)||void 0===U?void 0:U.name)||"N/A"})]})]}),(0,O.jsxs)("tr",{className:"hover:bg-indigo-50",children:[(0,O.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(o._tP,{className:"size-4 text-header text-lg"}),(0,O.jsx)("span",{className:"text-[16px] font-medium",children:"Naration"})]}),(0,O.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===$||void 0===$?void 0:$.naration)||"N/A"})]}),(0,O.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(S.CLz,{className:"size-4 text-header text-lg"}),(0,O.jsx)("span",{className:"text-[16px] font-medium",children:"Amount"})]}),(0,O.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===$||void 0===$?void 0:$.totalAmount)||"N/A"})]})]}),(null===$||void 0===$||null===(J=$.attachment)||void 0===J?void 0:J.length)>0&&(0,O.jsx)("tr",{className:"hover:bg-indigo-50",children:(0,O.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(S.Y9o,{className:"size-4 text-header text-lg"}),(0,O.jsx)("span",{className:"text-[16px] font-medium",children:"Document"})]}),(0,O.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===$||void 0===$||null===(Q=$.attachment)||void 0===Q?void 0:Q.length)>0&&(0,O.jsx)("button",{onClick:()=>ae({isOpen:!0,data:$}),className:"px-2 py-2 text-xs rounded-md bg-transparent text-header border border-muted",type:"button",children:(0,O.jsx)(S.kQE,{className:"hover:text-[#337ab7] text-[#3c8dbc]"})})})]})})]})]})})})]}),(null===X||void 0===X?void 0:X.length)>0&&(0,O.jsx)(u.A,{totalCount:ee,pageSize:ke,currentPage:Ae,onChange:e=>{De(e)}})]})})}}}]);
//# sourceMappingURL=9341.81fa7bf2.chunk.js.map