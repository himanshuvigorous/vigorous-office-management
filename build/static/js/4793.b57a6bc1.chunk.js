"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[4793],{64793:(e,l,i)=>{i.r(l),i.d(l,{default:()=>M});var d=i(89379),o=i(65043),n=i(24858),a=i(39160),t=i(83003),s=i(15187),r=i(735),c=i(60184),u=i(3825),v=i(60397),m=(i(8873),i(73216)),x=(i(31174),i(36105)),p=i(30575),h=i(84480),y=i(27971),f=i(65337),g=i(88877),b=i(14118),P=i(88967),D=(i(78729),i(51957)),N=i(65512),j=i(56659),C=i(30064),w=i.n(C),S=i(73749),A=i(29542),E=i(89427),I=i(70579);const M=()=>{var e;const l=null===(e=JSON.parse(localStorage.getItem("user_info_".concat(s.AU))))||void 0===e?void 0:e._id,i=(0,o.useRef)([]),[C,M]=((0,m.Zp)(),(0,o.useState)(1)),[k,F]=(0,o.useState)(null),[T,_]=(0,o.useState)(!0),[H,V]=(0,o.useState)(!1),[q,L]=(0,o.useState)([1]),[O,Q]=(0,o.useState)([{id:1,documentType:"",documentNo:"",file:[],isEditable:!1}]),[z,U]=(0,o.useState)([{id:1,name:"",year:"",file:[]}]),[B,R]=(0,o.useState)([]),[W,Z]=(0,o.useState)(null),[Y,G]=(0,o.useState)(),[J,K]=(0,o.useState)(!1),[$,X]=(0,o.useState)({}),[ee,le]=(0,o.useState)({}),[ie,de]=(0,o.useState)(""),[oe,ne]=(0,o.useState)(),{countryListData:ae,loading:te}=(0,t.d4)(e=>e.country),{stateListData:se}=(0,t.d4)(e=>e.states),{cityListData:re}=(0,t.d4)(e=>e.city),{employeeDocumentList:ce,loading:ue}=(0,t.d4)(e=>e.employeeDocument),{companyList:ve}=(0,t.d4)(e=>e.company),{directorDetailsData:me}=(0,t.d4)(e=>e.director),{loadingUpdateFile:xe}=(0,t.d4)(e=>e.fileUpload),{userCompanyId:pe,userDirectorId:he,userBranchId:ye,userEmployeId:fe,userDepartmentId:ge,userDesignationId:be,userType:Pe}=(0,r.A)(),{register:De,handleSubmit:Ne,setValue:je,getValues:Ce,unregister:we,setError:Se,control:Ae,clearErrors:Ee,formState:{errors:Ie}}=(0,n.mN)(),Me=(0,t.wA)(),ke=(0,n.FH)({control:Ae,name:"PDAddress",defaultValue:""}),Fe=(0,n.FH)({control:Ae,name:"PDCity",defaultValue:""}),Te=(0,n.FH)({control:Ae,name:"PDState",defaultValue:""}),_e=(0,n.FH)({control:Ae,name:"PDCountry",defaultValue:""}),He=((0,n.FH)({control:Ae,name:"PDSecondaryState",defaultValue:""}),(0,n.FH)({control:Ae,name:"PDSecondaryCountry",defaultValue:""}),(0,n.FH)({control:Ae,name:"PDPinCode",defaultValue:""})),Ve=(0,n.FH)({control:Ae,name:"PDEmail",defaultValue:""}),qe=(0,n.FH)({control:Ae,name:"PDMobileNo",defaultValue:""}),Le=(0,n.FH)({control:Ae,name:"PDMobileCode",defaultValue:""}),Oe=(0,n.FH)({control:Ae,name:"PDDirectorName",defaultValue:""}),Qe=((0,n.FH)({control:Ae,name:"PDTagLine",defaultValue:""}),(0,n.FH)({control:Ae,name:"SMWebsite",defaultValue:""}),(0,n.FH)({control:Ae,name:"SMFacebook",defaultValue:""}),(0,n.FH)({control:Ae,name:"SMTwitter",defaultValue:""}),(0,n.FH)({control:Ae,name:"SMInstagram",defaultValue:""}),(0,n.FH)({control:Ae,name:"PDPassword",defaultValue:""}),(0,n.FH)({control:Ae,name:"PDCompanyId",defaultValue:pe}));(0,n.FH)({control:Ae,name:"PDBranchId",defaultValue:ye}),(0,n.FH)({control:Ae,name:"PDDepartmentId",defaultValue:ge}),(0,n.FH)({control:Ae,name:"PDDesignationId",defaultValue:be});(0,o.useEffect)(()=>{He&&He.length>=4&&He.length<=6&&(0,s.jh)(He).then(e=>{e&&(je("PDCity",e.city),je("PDState",e.state),je("PDCountry",e.country))}).catch(e=>{console.error("Error fetching data:",e)})},[He]),(0,o.useEffect)(()=>{(async()=>{try{await Me((0,x.dw)({text:"",sort:!0,status:!0,isPagination:!1}));const e={_id:l};await Me((0,b.Hu)(e)).then(e=>{_(!1)})}catch(e){console.error("Error fetching data:",e)}})()},[]),(0,o.useEffect)(()=>{if(null!==me&&void 0!==me&&me.data){var e,l,i,d,o,n,a,t,s,r,c,u,v,m,x,p,h,y,f,g,b,P,D,N,j,C,w,S,A,E,I,M,k,F,T,_,H,V,q,L,O,z,B,R,W,Y,J,K,$,X,ee,le,ie,de,oe,ne,ae,te,se,re;const ge=null!==me&&void 0!==me&&null!==(e=me.data)&&void 0!==e&&null!==(l=e.documentData)&&void 0!==l&&l.length?null===me||void 0===me||null===(i=me.data)||void 0===i||null===(d=i.documentData)||void 0===d?void 0:d.map(e=>({_id:null===e||void 0===e?void 0:e._id,documentType:null===e||void 0===e?void 0:e.name,documentNo:null===e||void 0===e?void 0:e.number,file:null===e||void 0===e?void 0:e.filePath,isEditable:!1})):[{_id:"",documentType:"",documentNo:"",file:[],isEditable:!0}];Q([...ge]);const be=null===me||void 0===me||null===(o=me.data)||void 0===o||null===(n=o.financialInfo)||void 0===n?void 0:n.map(e=>({_id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.name,year:null===e||void 0===e?void 0:e.year,file:null===e||void 0===e?void 0:e.filePath}));var ce,ue,ve,xe,pe,he,ye,fe;if((null===me||void 0===me||null===(a=me.data)||void 0===a?void 0:a.financialInfo.length)>0&&U([...be]),Z("".concat("https://vigapi.vigorousit.com","/public/").concat(null===me||void 0===me||null===(t=me.data)||void 0===t?void 0:t.profileImage)),G(null===me||void 0===me||null===(s=me.data)||void 0===s?void 0:s.profileImage),je("PDCompanyId",null===me||void 0===me||null===(r=me.data)||void 0===r?void 0:r.companyId),je("PDDirectorName",null===me||void 0===me||null===(c=me.data)||void 0===c?void 0:c.fullName),je("PDTagLine",null===me||void 0===me||null===(u=me.data)||void 0===u||null===(v=u.directorProfile)||void 0===v?void 0:v.tagline),je("PDPassword","******"),je("PDConfirmPassword","******"),je("PDPlan",null===me||void 0===me||null===(m=me.data)||void 0===m?void 0:m.planId),je("PDorganizationtype",null===me||void 0===me||null===(x=me.data)||void 0===x||null===(p=x.directorProfile)||void 0===p?void 0:p.companyType),je("PDindustrytype",null===me||void 0===me||null===(h=me.data)||void 0===h||null===(y=h.directorProfile)||void 0===y?void 0:y.industryType),je("PDAddress",null===me||void 0===me||null===(f=me.data)||void 0===f||null===(g=f.addresses)||void 0===g||null===(b=g.primary)||void 0===b?void 0:b.street),je("PDCountry",null===me||void 0===me||null===(P=me.data)||void 0===P||null===(D=P.addresses)||void 0===D||null===(N=D.primary)||void 0===N?void 0:N.country),je("PDState",null===me||void 0===me||null===(j=me.data)||void 0===j||null===(C=j.addresses)||void 0===C||null===(w=C.primary)||void 0===w?void 0:w.state),je("PDCity",null===me||void 0===me||null===(S=me.data)||void 0===S||null===(A=S.addresses)||void 0===A||null===(E=A.primary)||void 0===E?void 0:E.city),je("PDPinCode",null===me||void 0===me||null===(I=me.data)||void 0===I||null===(M=I.addresses)||void 0===M||null===(k=M.primary)||void 0===k?void 0:k.pinCode),je("PDSecondaryAddress",null===me||void 0===me||null===(F=me.data)||void 0===F||null===(T=F.addresses)||void 0===T||null===(_=T.secondary)||void 0===_?void 0:_.street),je("PDSecondaryCountry",null===me||void 0===me||null===(H=me.data)||void 0===H||null===(V=H.addresses)||void 0===V||null===(q=V.secondary)||void 0===q?void 0:q.country),je("PDSecondaryState",null===me||void 0===me||null===(L=me.data)||void 0===L||null===(O=L.addresses)||void 0===O||null===(z=O.secondary)||void 0===z?void 0:z.state),je("PDSecondaryCity",null===me||void 0===me||null===(B=me.data)||void 0===B||null===(R=B.addresses)||void 0===R||null===(W=R.secondary)||void 0===W?void 0:W.city),je("PDSecondaryPinCode",null===me||void 0===me||null===(Y=me.data)||void 0===Y||null===(J=Y.addresses)||void 0===J||null===(K=J.secondary)||void 0===K?void 0:K.pinCode),je("PDEmail",null===me||void 0===me||null===($=me.data)||void 0===$?void 0:$.email),je("PDMobileCode",null===me||void 0===me||null===(X=me.data)||void 0===X||null===(ee=X.mobile)||void 0===ee?void 0:ee.code),je("PDMobileNo",null===me||void 0===me||null===(le=me.data)||void 0===le||null===(ie=le.mobile)||void 0===ie?void 0:ie.number),je("PDaadharNumber",null===me||void 0===me||null===(de=me.data)||void 0===de?void 0:de.aadharNumber),je("PDgstnumber",null===me||void 0===me||null===(oe=me.data)||void 0===oe?void 0:oe.gstNumber),je("PDpannumber",null===me||void 0===me||null===(ne=me.data)||void 0===ne?void 0:ne.panNumber),je("PDfrn",null===me||void 0===me||null===(ae=me.data)||void 0===ae?void 0:ae.frn),je("PDtannumber",null===me||void 0===me||null===(te=me.data)||void 0===te?void 0:te.tanNumber),(null===me||void 0===me||null===(se=me.data)||void 0===se||null===(re=se.socialLinks)||void 0===re?void 0:re.length)>0)je("SMInstagram",null===me||void 0===me||null===(ce=me.data)||void 0===ce||null===(ue=ce.socialLinks[0])||void 0===ue?void 0:ue.link),je("SMTwitter",null===me||void 0===me||null===(ve=me.data)||void 0===ve||null===(xe=ve.socialLinks[1])||void 0===xe?void 0:xe.link),je("SMFacebook",null===me||void 0===me||null===(pe=me.data)||void 0===pe||null===(he=pe.socialLinks[2])||void 0===he?void 0:he.link),je("SMWebsite",null===me||void 0===me||null===(ye=me.data)||void 0===ye||null===(fe=ye.socialLinks[3])||void 0===fe?void 0:fe.link)}},[me]);const ze=async e=>{M(l=>e)};(0,o.useEffect)(()=>{var e;2!==C&&3!==C||Me((0,y.no)({isPagination:!1,companyId:null===(e=(0,r.A)())||void 0===e?void 0:e.userCompanyId}))},[Me,C]);const Ue=(e,l,i)=>{var d;const o=[...O];o[e][l]=i,Q(o);const n=[...B];null!==(d=n[e])&&void 0!==d&&d[l]&&delete n[e][l],R(n)},Be=(e,l)=>{if(!l)return;let i=l;const d=new FileReader;let o="";d.onload=l=>{o=l.target.result,w().fire({title:"Preview your file",html:'\n          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">\n            <p style="margin-bottom: 20px;">Do you want to upload this file?</p>\n            <img id="filePreview" src="'.concat(o,'" alt="File Preview" style="max-width: 100%; max-height: 300px; width: auto; height: auto;">\n            <br>\n            <button id="changeImageBtn" style="  margin-top: 15px;\n  padding: 10px 18px;\n  cursor: pointer;\n  background-color:#074173;\n  color: white;\n  font-size: 16px;\n  font-weight: 600;\n  border: none;\n  border-radius: 8px;\n  transition: background-color 0.3s, transform 0.2s;\n  box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2);">Change Image</button>\n            <input type="file" id="fileInput" style="display: none;" accept="image/*">\n          </div>\n        '),showCancelButton:!0,confirmButtonText:"Confirm!",cancelButtonText:"Cancel",didOpen:()=>{const e=document.getElementById("changeImageBtn"),l=document.getElementById("fileInput"),d=document.getElementById("filePreview");e.addEventListener("click",()=>{l.click()}),l.addEventListener("change",e=>{const l=e.target.files[0];if(l){i=l;const e=new FileReader;e.onload=e=>{d.src=e.target.result},e.readAsDataURL(l)}})}}).then(l=>{l.isConfirmed&&Me((0,P.Sg)({filePath:i,isVideo:!1,isMultiple:!1})).then(l=>{if(!l.error){var i,d;const o=[...O];o[e].file=[null===l||void 0===l||null===(i=l.payload)||void 0===i?void 0:i.data],Q(o);const n=[...B];null!==(d=n[e])&&void 0!==d&&d.file&&delete n[e].file,R(n)}})})},d.readAsDataURL(l)},Re=()=>{let e=[];return O.forEach((l,i)=>{let d={};l.documentType||(d.documentType="Document Type is required."),l.documentNo||(d.documentNo="Document No is required."),l.file&&0!==l.file.length||(d.file="Document file is required."),Object.keys(d).length>0&&(e[i]=d)}),R(e),e.every(e=>0===Object.keys(e).length)},We=()=>{let e=[];return z.forEach((l,i)=>{let d={};l.name||(d.name="Name is required."),l.year||(d.year="Year is required."),l.file&&0!==l.file.length||(d.file="Document file is required."),Object.keys(d).length>0&&(e[i]=d)}),R(e),e.every(e=>0===Object.keys(e).length)};return(0,I.jsx)(a.A,{children:T?(0,I.jsx)(f.A,{}):(0,I.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[(0,I.jsx)("div",{className:" md:col-span-3 col-span-12 w-full h-auto rounded-lg  ",children:(0,I.jsxs)("div",{className:"shadow bg-white rounded-xl py-2",children:[(0,I.jsxs)("div",{className:"relative w-[50px] h-[50px] mx-auto rounded-full border-2 border-slate-600 mt-3 flex items-center justify-center",onMouseEnter:()=>K(!0),onMouseLeave:()=>K(!1),children:[(0,I.jsx)("div",{className:"w-full h-full rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",style:{backgroundImage:"url(".concat(W||"",")"),backgroundSize:"cover",backgroundPosition:"center"},children:!W&&(0,I.jsx)(c.K9B,{className:"text-slate-500 w-[30px] h-[25px] cursor-pointer"})}),J&&!W&&(0,I.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full",children:(0,I.jsx)(c.p5B,{className:"text-white w-[20px] h-[20px] cursor-pointer"})}),(0,I.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const i=e.target.files[0];if(!i)return;try{const e=await Me((0,P.Sg)({filePath:i,isVideo:!1,isMultiple:!1}));if(!e.error){var d;const i=await Me((0,S.YM)({_id:l,imagePath:null===e||void 0===e||null===(d=e.payload)||void 0===d?void 0:d.data}));var o;if(null===i||void 0===i||!i.error)G(null===e||void 0===e||null===(o=e.payload)||void 0===o?void 0:o.data)}}catch(a){console.error("Error during file upload or profile image update:",a)}const n=new FileReader;n.onloadend=()=>{Z(n.result)},n.readAsDataURL(i)},className:"absolute inset-0 opacity-0 cursor-pointer"})]}),(0,I.jsx)("div",{className:"text-base font-medium overflow-auto mx-2 text-center mt-2 text-header capitalize",children:Oe||"Director Name"}),(0,I.jsxs)("div",{className:"border mx-2 px-2 my-2 py-3 rounded-lg ",children:[(0,I.jsxs)("div",{className:"",children:[(0,I.jsx)("label",{className:"".concat(s.Q0),children:"Address"}),(0,I.jsxs)("div",{className:"mt-1 block w-full overflow-auto px-2 py-[9px] shadow-sm rounded-lg text-xs  bg-[#f4f6f9] focus:outline-none cursor-default min-h-8",children:[ke&&(0,I.jsxs)(I.Fragment,{children:[ke,", "," "]}),Fe&&(0,I.jsxs)(I.Fragment,{children:[Fe," ,"," "]}),Te&&(0,I.jsxs)(I.Fragment,{children:[Te," ,"," "]}),_e&&(0,I.jsxs)(I.Fragment,{children:[_e," ,"," "]}),He&&(0,I.jsx)(I.Fragment,{children:He})]})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsx)("label",{className:"".concat(s.Q0),children:"Mail"}),(0,I.jsx)("div",{className:"mt-1 block w-full overflow-auto px-2 py-[9px] shadow-sm rounded-lg text-xs  bg-[#f4f6f9] focus:outline-none cursor-default min-h-8",children:Ve})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsx)("label",{className:"".concat(s.Q0),children:"Phone number"}),(0,I.jsxs)("div",{className:"flex gap-2",children:[(0,I.jsx)("div",{className:"mt-1 block overflow-auto   py-[9px] shadow-sm rounded-lg text-xs  bg-[#f4f6f9] focus:outline-none cursor-default min-h-8 min-w-6",children:Le}),(0,I.jsx)("div",{className:"mt-1 block overflow-auto w-full px-2 py-[9px] shadow-sm rounded-lg text-xs  bg-[#f4f6f9] focus:outline-none cursor-default min-h-8",children:qe})]})]})]})]})}),(0,I.jsxs)("form",{onSubmit:Ne(e=>{if(1===C){var i,d,o,n,a,t,s,r,c,u,v,m,x,p,h,y,f,g,D,N,j,w,S;const P={_id:l,companyId:Qe,firstName:"",lastName:"",profileImage:null!==Y&&void 0!==Y?Y:"",fullName:null!==(i=null===e||void 0===e?void 0:e.PDDirectorName)&&void 0!==i?i:"",email:null!==(d=null===e||void 0===e?void 0:e.PDEmail)&&void 0!==d?d:"",userType:"companyDirector",planId:null!==(o=null===e||void 0===e?void 0:e.PDPlan)&&void 0!==o?o:null,status:null===(n=null===me||void 0===me||null===(a=me.data)||void 0===a?void 0:a.status)||void 0===n||n,mobile:{number:null!==(t=null===e||void 0===e?void 0:e.PDMobileNo)&&void 0!==t?t:"",code:null!==(s=null===e||void 0===e?void 0:e.PDMobileCode)&&void 0!==s?s:""},directorProfile:{tagline:null!==(r=null===e||void 0===e?void 0:e.PDTagline)&&void 0!==r?r:"",companyType:null!==(c=null===e||void 0===e?void 0:e.PDOrganizationType)&&void 0!==c?c:"",industryType:null!==(u=null===e||void 0===e?void 0:e.PDIndustryType)&&void 0!==u?u:"",secondaryEmail:null!==(v=null===e||void 0===e?void 0:e.PDEmail)&&void 0!==v?v:"",secondaryMobile:{number:null!==(m=null===e||void 0===e?void 0:e.PDMobileNo)&&void 0!==m?m:"",code:null!==(x=null===e||void 0===e?void 0:e.PDMobileCode)&&void 0!==x?x:""}},addresses:{primary:{street:null!==(p=null===e||void 0===e?void 0:e.PDAddress)&&void 0!==p?p:"",city:null!==(h=null===e||void 0===e?void 0:e.PDCity)&&void 0!==h?h:"",state:null!==(y=null===e||void 0===e?void 0:e.PDState)&&void 0!==y?y:"",country:null!==(f=null===e||void 0===e?void 0:e.PDCountry)&&void 0!==f?f:"",pinCode:null!==(g=null===e||void 0===e?void 0:e.PDPinCode)&&void 0!==g?g:""},secondary:{street:null!==(D=null===e||void 0===e?void 0:e.PDSecondaryAddress)&&void 0!==D?D:"",city:null!==(N=null===e||void 0===e?void 0:e.PDSecondaryCity)&&void 0!==N?N:"",state:null!==(j=null===e||void 0===e?void 0:e.PDSecondaryState)&&void 0!==j?j:"",country:null!==(w=null===e||void 0===e?void 0:e.PDSecondaryCountry)&&void 0!==w?w:"",pinCode:null!==(S=null===e||void 0===e?void 0:e.PDSecondaryPinCode)&&void 0!==S?S:""}}};Me((0,b.O6)(P)).then(e=>{e.error||Me((0,b.Hu)({_id:l}))})}if(2===C&&Re()){const e={documents:O.map((e,i)=>null!==e&&void 0!==e&&e._id?{userId:l,_id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.documentType,number:null===e||void 0===e?void 0:e.documentNo,filePath:null===e||void 0===e?void 0:e.file}:{userId:l,name:null===e||void 0===e?void 0:e.documentType,number:null===e||void 0===e?void 0:e.documentNo,filePath:null===e||void 0===e?void 0:e.file}),type:"documents"};Me((0,P.lU)(e)).then(e=>{e.error||Me((0,b.Hu)({_id:l}))})}if(3===C&&We()){const e={financialInfo:z.map((e,i)=>null!==e&&void 0!==e&&e._id?{userId:l,_id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.name,year:null===e||void 0===e?void 0:e.year,filePath:null===e||void 0===e?void 0:e.file}:{userId:l,name:null===e||void 0===e?void 0:e.name,year:null===e||void 0===e?void 0:e.year,filePath:null===e||void 0===e?void 0:e.file}),type:"financial"};Me((0,P.lU)(e)).then(e=>{e.error||(Me((0,b.Hu)({_id:l})),k&&M(k),F(null))})}if(4===C){var A,E,I,T,_,H,V,q,L,Q,U,B,R,W,Z,G,J,K,$,X,ee,le,ie,de,oe,ne;const i={_id:l,firstName:"",lastName:"",profileImage:null!==Y&&void 0!==Y?Y:"",fullName:null!==(A=null===e||void 0===e?void 0:e.PDDirectorName)&&void 0!==A?A:"",email:null!==(E=null===e||void 0===e?void 0:e.PDEmail)&&void 0!==E?E:"",userType:"companyDirector",planId:null!==(I=null===e||void 0===e?void 0:e.PDPlan)&&void 0!==I?I:null,status:null===me||void 0===me||null===(T=me.data)||void 0===T?void 0:T.status,mobile:{number:null!==(_=null===e||void 0===e?void 0:e.PDMobileNo)&&void 0!==_?_:"",code:null!==(H=null===e||void 0===e?void 0:e.PDMobileCode)&&void 0!==H?H:""},directorProfile:{tagline:null!==(V=null===e||void 0===e?void 0:e.PDTagline)&&void 0!==V?V:"",companyType:null!==(q=null===e||void 0===e?void 0:e.PDOrganizationType)&&void 0!==q?q:"",industryType:null!==(L=null===e||void 0===e?void 0:e.PDIndustryType)&&void 0!==L?L:"",secondaryEmail:null!==(Q=null===e||void 0===e?void 0:e.PDEmail)&&void 0!==Q?Q:"",secondaryMobile:{number:null!==(U=null===e||void 0===e?void 0:e.PDMobileNo)&&void 0!==U?U:"",code:null!==(B=null===e||void 0===e?void 0:e.PDMobileCode)&&void 0!==B?B:""}},addresses:{primary:{street:null!==(R=null===e||void 0===e?void 0:e.PDAddress)&&void 0!==R?R:"",city:null!==(W=null===e||void 0===e?void 0:e.PDCity)&&void 0!==W?W:"",state:null!==(Z=null===e||void 0===e?void 0:e.PDState)&&void 0!==Z?Z:"",country:null!==(G=null===e||void 0===e?void 0:e.PDCountry)&&void 0!==G?G:"",pinCode:null!==(J=null===e||void 0===e?void 0:e.PDPinCode)&&void 0!==J?J:""},secondary:{street:null!==(K=null===e||void 0===e?void 0:e.PDSecondaryAddress)&&void 0!==K?K:"",city:null!==($=null===e||void 0===e?void 0:e.PDSecondaryCity)&&void 0!==$?$:"",state:null!==(X=null===e||void 0===e?void 0:e.PDSecondaryState)&&void 0!==X?X:"",country:null!==(ee=null===e||void 0===e?void 0:e.PDSecondaryCountry)&&void 0!==ee?ee:"",pinCode:null!==(le=null===e||void 0===e?void 0:e.PDSecondaryPinCode)&&void 0!==le?le:""}},socialLinks:[{name:"Instagram",link:null!==(ie=null===e||void 0===e?void 0:e.SMInstagram)&&void 0!==ie?ie:""},{name:"Twitter",link:null!==(de=null===e||void 0===e?void 0:e.SMTwitter)&&void 0!==de?de:""},{name:"Facebook",link:null!==(oe=null===e||void 0===e?void 0:e.SMFacebook)&&void 0!==oe?oe:""},{name:"Website",link:null!==(ne=null===e||void 0===e?void 0:e.SMWebsite)&&void 0!==ne?ne:""}]};Me((0,b.O6)(i)).then(e=>{})}}),className:"space-y-2 md:col-span-9 col-span-12",children:[(0,I.jsxs)("div",{className:"flex bg-header justify-start items-center rounded-lg gap-5 px-3 pt-2 overflow-x-auto overflow-y-hidden text-nowrap",children:[(0,I.jsxs)("button",{type:"button",onClick:()=>ze(1),className:"flex relative flex-col items-center  pb-2 ".concat(1===C?"text-white ]":"text-gray-400"," cursor-pointer"),children:[1===C&&(0,I.jsx)("div",{className:"w-full h-3 bg-[#f4f6f9] absolute bottom-0 translate-y-1/2 rounded-2xl"}),(0,I.jsx)("span",{className:"text-sm font-semibold text-nowrap",children:"Primary Details"})]}),(0,I.jsxs)("button",{type:"button",onClick:()=>ze(2),className:"flex flex-col items-center relative pb-2 ".concat(2===C?"text-white ]":"text-gray-400"," cursor-pointer"),children:[2===C&&(0,I.jsx)("div",{className:"w-full h-3 bg-[#f4f6f9] absolute bottom-0 translate-y-1/2 rounded-2xl"}),(0,I.jsx)("span",{className:"text-sm font-semibold",children:"Documents"})]})]}),1===C&&(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:" ",children:[(0,I.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3",children:(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(s.Q0),children:["Director Name ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("input",(0,d.A)((0,d.A)({type:"text"},De("PDDirectorName",{required:"Director Name is required"})),{},{className:"placeholder: ".concat(s.Ol," ").concat(Ie.PDDirectorName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Director Name"})),Ie.PDDirectorName&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:Ie.PDDirectorName.message})]})}),(0,I.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3 md:mt-4",children:(0,I.jsxs)("div",{className:"col-span-2",children:[(0,I.jsxs)("label",{className:"".concat(s.Q0),children:["Primary Address",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("input",(0,d.A)((0,d.A)({type:"text"},De("PDAddress",{required:"Address  is required"})),{},{className:"".concat(s.Ol," ").concat(Ie.PDAddress?"border-[1px] ":"border-gray-300"),placeholder:"Enter Address "})),Ie.PDAddress&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:Ie.PDAddress.message})]})}),(0,I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 md:gap-8 gap-3 md:my-1 px-3",children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"".concat(s.Q0),children:["Country ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(n.xI,{control:Ae,name:"PDCountry",rules:{required:"Country is required"},render:e=>{var l;let{field:i}=e;return(0,I.jsx)(D.A,(0,d.A)((0,d.A)({className:"w-full"},i),{},{onChange:e=>{i.onChange(e)},options:null===ae||void 0===ae||null===(l=ae.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),notFoundContent:te&&(0,I.jsx)(E.A,{}),children:(0,I.jsx)("input",{placeholder:"Enter Country",onFocus:()=>{Me((0,x.dw)({isPagination:!1,text:"",sort:!0,status:!0}))},className:"".concat(s.Ol," ").concat(Ie.PDCountry?"border-[1px] ":"border-gray-300")})}))}}),Ie.PDCountry&&(0,I.jsx)("p",{className:"".concat(s.ci),children:Ie.PDCountry.message})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"".concat(s.Q0),children:["State ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(n.xI,{control:Ae,name:"PDState",rules:{required:"State is required"},render:e=>{var l;let{field:i}=e;return(0,I.jsx)(D.A,(0,d.A)((0,d.A)({className:"w-full"},i),{},{onChange:e=>i.onChange(e),options:null===se||void 0===se||null===(l=se.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,I.jsx)("input",{placeholder:"Enter State",onFocus:()=>{Me((0,p.mz)({isPagination:!1,text:"",countryName:_e,sort:!0,status:!0}))},className:"".concat(s.Ol," ").concat(Ie.PDState?"border-[1px] ":"border-gray-300")})}))}}),Ie.PDState&&(0,I.jsx)("p",{className:"".concat(s.ci),children:Ie.PDState.message})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"".concat(s.Q0),children:["City ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(n.xI,{control:Ae,name:"PDCity",rules:{required:"City is required"},render:e=>{var l;let{field:i}=e;return(0,I.jsx)(D.A,(0,d.A)((0,d.A)({className:"w-full"},i),{},{onChange:e=>i.onChange(e),options:null===re||void 0===re||null===(l=re.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,I.jsx)("input",{onFocus:()=>{Me((0,h.cY)({isPagination:!1,text:"",sort:!0,status:!0,stateName:Te}))},placeholder:"Enter City",className:"".concat(s.Ol," ").concat(Ie.PDCity?"border-[1px] ":"border-gray-300")})}))}}),Ie.PDCity&&(0,I.jsx)("p",{className:"".concat(s.ci),children:Ie.PDCity.message})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"".concat(s.Q0),children:["Pin Code ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(n.xI,{control:Ae,name:"PDPinCode",rules:{required:"Pin Code is required"},render:e=>{let{field:l}=e;return(0,I.jsx)("input",(0,d.A)((0,d.A)({},l),{},{type:"number",placeholder:"Enter Pin Code",maxLength:6,onInput:e=>{e.target.value.length>6&&(e.target.value=e.target.value.slice(0,6))},className:"".concat(s.Ol," ").concat(Ie.PDPinCode?"border-[1px] ":"border-gray-300")}))}}),Ie.PDPinCode&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:Ie.PDPinCode.message})]})]}),(0,I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3 md:mt-4",children:[(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(s.Q0),children:["Email",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("input",(0,d.A)((0,d.A)({type:"email"},De("PDEmail",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(s.Ol," ").concat(Ie.PDEmail?"border-[1px] ":"border-gray-300"),placeholder:"Enter Email"})),Ie.PDEmail&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:Ie.PDEmail.message})]}),(0,I.jsxs)("div",{className:"flex gap-3",children:[(0,I.jsxs)("div",{className:"w-[150px]",children:[(0,I.jsxs)("label",{className:"".concat(s.Q0),children:["code",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(n.xI,{control:Ae,name:"PDMobileCode",rules:{required:"code is required"},render:e=>{let{field:l}=e;return(0,I.jsx)(j.A,{field:l,errors:Ie})}}),Ie.PDMobileCode&&(0,I.jsx)("p",{className:"".concat(s.ci),children:Ie.PDMobileCode.message})]}),(0,I.jsxs)("div",{className:"w-full",children:[(0,I.jsxs)("label",{className:"".concat(s.Q0),children:["Mobile No",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("input",(0,d.A)((0,d.A)({type:"number"},De("PDMobileNo",{required:"Mobile No is required",minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(s.Ol," ").concat(Ie.PDMobileNo?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),Ie.PDMobileNo&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:Ie.PDMobileNo.message})]})]})]})]}),(0,I.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,I.jsx)("button",{type:"Submit",className:"".concat(s.Wb),children:"Submit Details"})})]}),2===C&&(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"rounded-md",children:[O.map((e,l)=>{var o,n,a,t,r;return(0,I.jsxs)("div",{className:"border border-gray-300 rounded-md my-2",children:[(0,I.jsxs)("div",{className:"flex justify-between items-center mb-4 bg-header rounded-t-md",children:[(0,I.jsxs)("div",{className:"px-3 py-2 text-white font-semibold",children:["  Document ",l+1]}),(0,I.jsxs)("div",{className:"flex  justify-end items-end",children:[(0,I.jsx)("button",{type:"button",onClick:()=>((e,l)=>{null!==e&&void 0!==e&&e._id?Me((0,P.Nn)({_id:null===e||void 0===e?void 0:e._id})).then(e=>{e.error||Q(e=>e.filter((e,i)=>i!==l))}):Q(e=>e.filter((e,i)=>i!==l))})(e,l),className:"text-red-600 hover:text-red-800",children:(0,I.jsx)(u.F23,{size:20,className:"m-2"})}),(0,I.jsx)("button",{type:"button",onClick:()=>(e=>{Q(l=>l.map((l,i)=>i===e?(0,d.A)((0,d.A)({},l),{},{isEditable:!l.isEditable}):l))})(l),className:"text-white",children:null!==e&&void 0!==e&&e.isEditable?(0,I.jsx)(v.cZR,{size:20,className:"m-2"}):(0,I.jsx)(g.Ivr,{size:20,className:"m-2"})})]})]}),(0,I.jsxs)("div",{className:"px-3 grid sm:grid-cols-2 grid-cols-1 gap-4 mb-3",children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"".concat(s.Q0),children:["Document Type ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsxs)(N.A,{disabled:!(null!==e&&void 0!==e&&e.isEditable),value:e.documentType,className:" ".concat(s.Hy," ").concat(Ie.PDPlan?"border-[1px] ":"border-gray-300"),onChange:e=>Ue(l,"documentType",e),placeholder:"Select Document Type",showSearch:!0,children:[(0,I.jsx)(N.A.Option,{value:"",children:"Select Document"}),ue?(0,I.jsx)(N.A.Option,{disabled:!0,children:(0,I.jsx)(E.A,{})}):null===ce||void 0===ce?void 0:ce.filter(e=>"General"===(null===e||void 0===e?void 0:e.type)).map(e=>(0,I.jsx)(N.A.Option,{value:e.name,children:e.name},e.name))]}),(null===(o=B[l])||void 0===o?void 0:o.documentType)&&(0,I.jsx)("p",{className:"text-red-600 text-sm",children:B[l].documentType})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"".concat(s.Q0),children:["Document No ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("input",{disabled:!(null!==e&&void 0!==e&&e.isEditable),type:"text",value:e.documentNo,onChange:e=>Ue(l,"documentNo",e.target.value),className:"".concat(null!==e&&void 0!==e&&e.isEditable?s.Ol:s.id," ").concat(null!==(n=B[l])&&void 0!==n&&n.documentNo?"border-[1px] ":""),placeholder:"Enter Document No"}),(null===(a=B[l])||void 0===a?void 0:a.documentNo)&&(0,I.jsx)("p",{className:"text-red-600 text-sm",children:B[l].documentNo})]}),(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"".concat(s.Q0),children:["Upload ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("input",{disabled:!(null!==e&&void 0!==e&&e.isEditable),type:"file",id:"documentUpload".concat(l),className:"hidden",ref:e=>i.current[l]=e,onChange:e=>Be(l,e.target.files[0])}),(0,I.jsx)("br",{}),(0,I.jsx)("label",{htmlFor:"documentUpload".concat(l),className:"".concat(null!==e&&void 0!==e&&e.isEditable?"bg-header":"bg-gray-400"," text-white mt-2 py-1.5 px-3 text-nowrap text-sm rounded cursor-pointer"),children:"Upload"})]}),(null===e||void 0===e||null===(t=e.file)||void 0===t?void 0:t.length)>0?e.file.map((d,o)=>(0,I.jsxs)("div",{className:"relative",children:[(0,I.jsx)(A.A,{src:"".concat("https://vigapi.vigorousit.com","/public").concat(d),alt:"Uploaded ".concat(o+1)}),(0,I.jsx)("button",{disabled:!e.isEditable,className:"absolute -top-1 -right-2 ".concat(null!==e&&void 0!==e&&e.isEditable?"bg-red-600":"bg-gray-400"," text-white rounded-full w-5 h-5 flex items-center justify-center text-xs"),onClick:()=>(e=>{const l=[...O];l[e].file=[],i.current[e]&&(i.current[e].value=""),Q(l)})(l),children:"\u2715"})]},o)):null,(null===(r=B[l])||void 0===r?void 0:r.file)&&(0,I.jsx)("p",{className:"text-red-600 text-sm",children:B[l].file})]})]},l)]},l)}),(0,I.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,I.jsx)("button",{type:"button",onClick:()=>{Q([...O,{id:Date.now(),isEditable:!0}])},className:"bg-header text-white py-1.5 px-3 text-nowrap text-sm rounded ",children:"Add More"})})]}),(0,I.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,I.jsx)("button",{disabled:xe,type:"Submit",className:"".concat(s.Wb),children:xe?"Submitting ...":"Submit Details"})})]})]})]})})}},65337:(e,l,i)=>{i.d(l,{A:()=>n});var d=i(91686),o=i(70579);const n=function(){return(0,o.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,o.jsx)(d.A,{size:"large"})})}}}]);
//# sourceMappingURL=4793.b57a6bc1.chunk.js.map