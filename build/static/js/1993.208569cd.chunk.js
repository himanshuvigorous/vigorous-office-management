"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[1993],{46999:(e,s,t)=>{t.d(s,{A:()=>o});t(65043);var a=t(53913),n=t(83003),l=t(60446),d=t.n(l),i=t(60184),r=t(15187),c=t(70579);const o=function(e){var s,t,l,o,m,x,u,v;let{visible:h,onClose:p}=e;const{fundTransferDetails:j}=(0,n.d4)(e=>e.fundTransfer);return(0,c.jsx)(a.A,{visible:h,onCancel:p,footer:null,title:(0,c.jsx)("div",{className:"text-xl font-bold text-header",children:"Fund Transfer Details"}),width:800,className:"antmodalclassName",children:j&&(0,c.jsx)("div",{className:"w-full overflow-auto p-4",children:(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Transfer Information"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Transfer Type:"}),(0,c.jsx)("span",{className:"text-sm font-semibold capitalize",children:(null===j||void 0===j?void 0:j.transferCatagoryType)||"N/A"})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Amount:"}),(0,c.jsx)("span",{className:"text-sm font-semibold text-green-600",children:(0,r.w2)(null===j||void 0===j?void 0:j.amount)})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Date:"}),(0,c.jsx)("span",{className:"text-sm",children:d()(null===j||void 0===j?void 0:j.date).format("DD-MM-YYYY")||"N/A"})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"UTR Number:"}),(0,c.jsx)("span",{className:"text-sm font-mono",children:(null===j||void 0===j?void 0:j.UTRNumber)||"N/A"})]})]})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Sender Details"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Name:"}),(0,c.jsx)("p",{className:"text-sm mt-1",children:(null===j||void 0===j?void 0:j.senderName)||"N/A"})]}),(null===j||void 0===j?void 0:j.senderBankAccData)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Bank:"}),(0,c.jsx)("p",{className:"text-sm mt-1",children:(null===j||void 0===j||null===(s=j.senderBankAccData)||void 0===s?void 0:s.bankName)||"N/A"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Account Number:"}),(0,c.jsx)("p",{className:"text-sm mt-1 font-mono",children:(null===j||void 0===j||null===(t=j.senderBankAccData)||void 0===t?void 0:t.accountNumber)||"N/A"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"IFSC Code:"}),(0,c.jsx)("p",{className:"text-sm mt-1 font-mono",children:(null===j||void 0===j||null===(l=j.senderBankAccData)||void 0===l?void 0:l.ifscCode)||"N/A"})]})]})]})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Receiver Details"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Name:"}),(0,c.jsx)("p",{className:"text-sm mt-1",children:(null===j||void 0===j?void 0:j.receiverName)||"N/A"})]}),(null===j||void 0===j?void 0:j.receiverBankAccData)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Bank:"}),(0,c.jsx)("p",{className:"text-sm mt-1",children:(null===j||void 0===j||null===(o=j.receiverBankAccData)||void 0===o?void 0:o.bankName)||"N/A"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Account Number:"}),(0,c.jsx)("p",{className:"text-sm mt-1 font-mono",children:(null===j||void 0===j||null===(m=j.receiverBankAccData)||void 0===m?void 0:m.accountNumber)||"N/A"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"IFSC Code:"}),(0,c.jsx)("p",{className:"text-sm mt-1 font-mono",children:(null===j||void 0===j||null===(x=j.receiverBankAccData)||void 0===x?void 0:x.ifscCode)||"N/A"})]})]})]})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Additional Information"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Narration:"}),(0,c.jsx)("p",{className:"text-sm mt-1 p-2 bg-gray-50 rounded border",children:(null===j||void 0===j?void 0:j.naration)||"No narration provided"})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Status:"}),(0,c.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \n                    ".concat(null!==j&&void 0!==j&&j.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:null!==j&&void 0!==j&&j.status?"Active":"Inactive"})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Created At:"}),(0,c.jsx)("span",{className:"text-sm",children:d()(null===j||void 0===j?void 0:j.createdAt).format("DD-MM-YYYY HH:mm")||"N/A"})]})]})]}),(null===j||void 0===j||null===(u=j.attechment)||void 0===u?void 0:u.length)>0&&(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Attachments"}),(0,c.jsx)("div",{className:"space-y-2",children:null===j||void 0===j||null===(v=j.attechment)||void 0===v?void 0:v.map((e,s)=>(0,c.jsx)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:(0,c.jsxs)("a",{href:"".concat("https://vigapi.vigorousit.com","/public/").concat(e),className:"flex items-center space-x-2",target:"_blank",rel:"noopener noreferrer",children:[(0,c.jsx)(i.chT,{className:"text-gray-500"}),(0,c.jsx)("span",{className:"text-sm text-gray-600",children:e})]})},s))})]})]})})})}},91993:(e,s,t)=>{t.r(s),t.d(s,{default:()=>C});var a=t(65043),n=t(39160),l=t(73216),d=t(35475),i=t(83003),r=t(23156),c=t(31174),o=t(78227),m=t(15187),x=t(31744),u=t(4938),v=t(65512),h=t(96651),p=t(55971),j=t(60446),N=t.n(j),f=t(60184),b=t(89427),g=t(86188),y=t(30064),A=t.n(y),D=t(46999),w=t(70579);const C=function(){const e=(0,l.Zp)(),s=(0,i.wA)(),{fundTransferListData:t,totalfundTransferListCount:j,loading:y}=(0,i.d4)(e=>e.fundTransfer),C=JSON.parse(localStorage.getItem("user_info_".concat(m.AU))),{branchList:T,branchListloading:k}=(0,i.d4)(e=>e.branch),[S,B]=(0,d.ok)(),_=parseInt(S.get("page"))||1,I=S.get("branchId")||"",Y=S.get("status")||"",[H,L]=(0,a.useState)(_),[R,U]=(0,a.useState)(10),[F,z]=(0,a.useState)(Y),[O,M]=(0,a.useState)(""),[P,E]=(0,a.useState)(I),[V,q]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=new URLSearchParams;H>1&&e.set("page",H),P&&e.set("branchId",P),F&&e.set("status",F),B(e)},[H,R,P,F,O]),(0,a.useEffect)(()=>{G()},[H,R,P,F,O]);const G=()=>{const e={currentPage:H,pageSize:R,reqData:{directorId:"",companyId:"company"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.companyId,branchId:"company"===(null===C||void 0===C?void 0:C.userType)||"admin"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType)?P:"companyBranch"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.branchId,type:F,text:O,sort:!0,status:"",isPagination:!0}};s((0,g.TU)(e))};(0,a.useEffect)(()=>{"company"!==(null===C||void 0===C?void 0:C.userType)&&"companyDirector"!==(null===C||void 0===C?void 0:C.userType)||s((0,x.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.companyId}))},[]);const{canCreate:J,canRead:W,canUpdate:X,canDelete:Z}=(0,u.A)();return(0,w.jsx)(n.A,{onChange:e=>{M(e)},children:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"",children:(0,w.jsxs)("div",{className:"sm:flex justify-between items-center md:space-y-0 space-y-2 py-1",children:[(0,w.jsx)("div",{className:"grid lg:grid-cols-3 sm:grid-cols-2 grid-cols-1 items-center md:gap-3 gap-1",children:("admin"===(null===C||void 0===C?void 0:C.userType)||"company"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType))&&(0,w.jsx)("div",{className:"",children:(0,w.jsxs)(v.A,{value:P,onChange:e=>{E(e),L(1)},defaultValue:"",disabled:y,className:"".concat(m.Lp," "),showSearch:!0,filterOption:(e,s)=>String(null===s||void 0===s?void 0:s.children).toLowerCase().includes(e.toLowerCase()),children:[(0,w.jsx)(v.A.Option,{value:"",children:"Select Branch"}),k?(0,w.jsx)(v.A.Option,{disabled:!0,children:(0,w.jsx)(b.A,{})}):null===T||void 0===T?void 0:T.map(e=>(0,w.jsx)(v.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]})})}),(0,w.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,w.jsx)("button",{onClick:()=>{L(1),E(""),z(""),M("")},className:"bg-header  py-1.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,w.jsx)("span",{className:"text-[12px]",children:"Reset"})}),J&&(0,w.jsx)(h.A,{placement:"topLeft",title:"Add Contra",children:(0,w.jsxs)("button",{onClick:()=>{e("/admin/fund-transfer/create")},className:"bg-header px-2 py-1.5 rounded-md whitespace-nowrap flex justify-center items-center space-x-2 text-white",children:[(0,w.jsx)(r.OiG,{}),(0,w.jsx)("span",{className:"text-[12px]",children:"Add fund transfer"})]})})]})]})}),(0,w.jsxs)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:[W&&(0,w.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,w.jsx)("thead",{className:"",children:(0,w.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] bg-header capitalize text-[#ffff] font-[500] h-[40px]",children:[(0,w.jsx)("th",{className:"tableHead w-[5%]",children:"S.No."}),(0,w.jsx)("th",{className:"tableHead w-[10%]",children:"Date"}),(0,w.jsx)("th",{className:"tableHead w-[15%]",children:"Transfer Type"}),(0,w.jsx)("th",{className:"tableHead w-[20%]",children:"Sender"}),(0,w.jsx)("th",{className:"tableHead w-[20%]",children:"Receiver"}),(0,w.jsx)("th",{className:"tableHead w-[15%]",children:"Amount"}),(0,w.jsx)("th",{className:"tableHead w-[10%]",children:"UTR Number"}),(Z||X)&&(0,w.jsx)("th",{className:"tableHead w-[15%]",children:"Action"})]})}),y?(0,w.jsx)("tbody",{children:(0,w.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,w.jsx)("td",{colSpan:10,className:"px-6 py-4 whitespace-nowrap text-center",children:(0,w.jsx)(p.A,{})})})}):(0,w.jsx)("tbody",{children:t&&(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map((a,n)=>{var l;return(0,w.jsxs)("tr",{className:"text-black ".concat(n%2===0?"bg-[#e9ecef]/80":"bg-white"," border-b-[1px] border-[#DDDDDD] hover:bg-gray-50"),children:[(0,w.jsx)("td",{className:"tableData text-center",children:n+1+(H-1)*R}),(0,w.jsx)("td",{className:"tableData",children:N()(null===a||void 0===a?void 0:a.date).format("DD-MM-YYYY")||"-"}),(0,w.jsx)("td",{className:"tableData",children:(0,w.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \n                    ".concat("internal"===(null===a||void 0===a?void 0:a.transferCatagoryType)?"bg-blue-100 text-blue-800":"credit"===(null===a||void 0===a?void 0:a.transferCatagoryType)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:(null===a||void 0===a||null===(l=a.transferCatagoryType)||void 0===l?void 0:l.toUpperCase())||"-"})}),(0,w.jsx)("td",{className:"tableData",children:(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"font-medium",children:(null===a||void 0===a?void 0:a.senderName)||"-"}),(null===a||void 0===a?void 0:a.senderBankAccName)&&(0,w.jsx)("div",{className:"text-xs text-gray-500",children:null===a||void 0===a?void 0:a.senderBankAccName})]})}),(0,w.jsx)("td",{className:"tableData",children:(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"font-medium",children:(null===a||void 0===a?void 0:a.receiverName)||"-"}),(null===a||void 0===a?void 0:a.receiverBankAccName)&&(0,w.jsx)("div",{className:"text-xs text-gray-500",children:null===a||void 0===a?void 0:a.receiverBankAccName})]})}),(0,w.jsx)("td",{className:"tableData font-semibold",children:(0,m.w2)((null===a||void 0===a?void 0:a.amount)||"-")}),(0,w.jsx)("td",{className:"tableData",children:(null===a||void 0===a?void 0:a.UTRNumber)||"-"}),(Z||X)&&(0,w.jsx)("td",{className:"tableData",children:(0,w.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2",children:[(0,w.jsx)(h.A,{placement:"top",title:"View Details",children:(0,w.jsx)("button",{onClick:()=>(e=>{s((0,g.Vp)({_id:null===e||void 0===e?void 0:e._id})),q(!0)})(a),className:"p-2 text-xs rounded-md bg-transparent text-blue-600 border border-blue-200 hover:bg-blue-50",type:"button",children:(0,w.jsx)(f.Ny1,{className:"size-3"})})}),(0,w.jsx)(h.A,{placement:"top",title:"Edit",children:(0,w.jsx)("button",{onClick:()=>e("/admin/fund-transfer/edit/".concat((0,c.w)(null===a||void 0===a?void 0:a._id))),className:"p-2 text-xs rounded-md bg-transparent text-green-600 border border-green-200 hover:bg-green-50",type:"button",children:(0,w.jsx)(f.uO9,{className:"size-3"})})}),(0,w.jsx)(h.A,{placement:"top",title:"Delete",children:(0,w.jsx)("button",{onClick:()=>(e=>{let a={_id:e};A().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&s((0,g._x)(a)).then(e=>{H>1&&1==(null===t||void 0===t?void 0:t.length)?L(Number(H-1)):G()})})})(null===a||void 0===a?void 0:a._id),className:"p-2 text-xs rounded-md bg-transparent text-red-600 border border-red-200 hover:bg-red-50",type:"button",children:(0,w.jsx)(f.qbC,{className:"size-3"})})})]})})]},null===a||void 0===a?void 0:a._id)}):(0,w.jsx)("tr",{className:"bg-white",children:(0,w.jsx)("td",{colSpan:10,className:"px-6 py-8 text-center text-gray-500",children:(0,w.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,w.jsx)(f.xXS,{className:"text-4xl text-gray-300 mb-2"}),(0,w.jsx)("span",{className:"font-medium",children:"No Fund Transfers Found"})]})})})})]}),(0,w.jsx)(D.A,{visible:V,onClose:()=>q(!1)})]}),(null===t||void 0===t?void 0:t.length)>0&&(0,w.jsx)(o.A,{totalCount:j,pageSize:R,currentPage:H,onChange:e=>L(e)})]})})}}}]);
//# sourceMappingURL=1993.208569cd.chunk.js.map