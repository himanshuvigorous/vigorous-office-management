"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[4026],{24026:(e,n,a)=>{a.r(n),a.d(n,{default:()=>D});var t=a(89379),o=a(24858),l=a(83003),s=a(15187),i=a(65043),d=a(31744),r=a(39160),c=a(97326),p=a(65512),u=a(96651),m=(a(86178),a(60446)),h=a.n(m),v=a(78227),x=a(12106),y=(a(42837),a(94084),a(69223),a(55971)),g=(a(50822),a(6720)),f=(a(37762),a(64857),a(11906),a(33007),a(89427)),j=(a(70337),a(40088),a(12208)),w=a(60184),N=(a(27744),a(17995),a(76932),a(73216)),b=a(70579);const D=function(){const{control:e,formState:{errors:n},setValue:a,watch:m}=(0,o.mN)(),[D,S]=(0,i.useState)(10),I=(0,l.wA)(),{clientLedgerReportList:A,clientLedgerReportFunc_loading:T,clientLedgerReportCount:C}=(0,l.d4)(e=>e.reports),{departmentListData:L,loading:P}=(0,l.d4)(e=>e.department),_=(0,N.Zp)(),[F,B]=(0,i.useState)({}),{taskTypeList:z}=(0,l.d4)(e=>e.taskType),{clientGroupList:O,groupSearchLoading:k}=(0,l.d4)(e=>e.clientGroup),{clientList:V}=(0,l.d4)(e=>e.client),{employeList:R}=(0,l.d4)(e=>e.employe),[H,G]=(0,i.useState)(""),E=JSON.parse(localStorage.getItem("user_info_".concat(s.AU))),{industryListData:Y,indusSearchloading:M}=(0,l.d4)(e=>e.industry),{orgTypeList:q,orgSearchloading:J}=(0,l.d4)(e=>e.orgType),[U,K]=(0,i.useState)(1),[Q,W]=(0,i.useState)(""),{branchList:Z}=(0,l.d4)(e=>e.branch),X=(0,o.FH)({control:e,name:"PDCompanyId",defaultValue:""}),$=(0,o.FH)({control:e,name:"PDBranchId",defaultValue:""}),ee=(0,o.FH)({control:e,name:"status",defaultValue:""}),ne=(0,o.FH)({control:e,name:"PDOrganizationType",defaultValue:""}),ae=(0,o.FH)({control:e,name:"PDindustrytype",defaultValue:""}),te=(0,o.FH)({control:e,name:"department",defaultValue:""}),oe=(0,o.FH)({control:e,name:"groupName",defaultValue:""});(0,i.useEffect)(()=>{const e=setTimeout(()=>{W(H)},500);return()=>{clearTimeout(e)}},[H]),(()=>{const e=[];for(let n=2005;n<=2034;n++)e.push("".concat(n,"-").concat(n+1))})();const le=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{currentPage:U,pageSize:D,reqPayload:{text:Q,sort:!0,isPagination:e,companyId:"admin"===(null===E||void 0===E?void 0:E.userType)?X:"company"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.companyId,directorId:"",branchId:"company"===(null===E||void 0===E?void 0:E.userType)||"admin"===(null===E||void 0===E?void 0:E.userType)||"companyDirector"===(null===E||void 0===E?void 0:E.userType)?$:"companyBranch"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.branchId,status:"true"==ee||"false"!=ee&&"",organizationId:ne,organizationIds:[],departmentId:te,departmentIds:[],industryId:ae,industryIds:[],groupId:oe,groupIds:[],isPagination:e}}};(0,i.useEffect)(()=>{se(Q)},[U,Q,D]);const se=()=>{I((0,x.nQ)(le(!0)))},[ie,de]=(0,i.useState)(!1);(0,i.useEffect)(()=>{"company"!==(null===E||void 0===E?void 0:E.userType)&&"companyDirector"!==(null===E||void 0===E?void 0:E.userType)||I((0,d.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===E||void 0===E?void 0:E.userType)?X:"company"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.companyId})),a("startDate",h()().subtract(1,"month")),a("endDate",h()())},[]);const re=async()=>{se()},ce=[{key:"1",label:(0,b.jsx)("span",{className:"text-white",children:"Advance Filters"}),children:(0,b.jsxs)("div",{className:"bg-[#ececec] space-y-1 sm:flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"sm:flex  grid grid-cols-1 gap-1.5 sm:flex-wrap text-[14px]",children:[("admin"===(null===E||void 0===E?void 0:E.userType)||"company"===(null===E||void 0===E?void 0:E.userType)||"companyDirector"===(null===E||void 0===E?void 0:E.userType))&&(0,b.jsxs)("div",{className:"",children:[(0,b.jsx)(o.xI,{name:"PDBranchId",control:e,render:e=>{let{field:n}=e;return(0,b.jsxs)(p.A,(0,t.A)((0,t.A)({},n),{},{className:"inputAntdSelectClassNameFilterReport ",placeholder:"Select Branch",showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(p.A.Option,{value:"",children:"Select Branch"}),null===Z||void 0===Z?void 0:Z.map(e=>(0,b.jsxs)(p.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),n.PDBranchId&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:n.PDBranchId.message})]}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(o.xI,{name:"groupName",control:e,render:e=>{var n;let{field:a}=e;return(0,b.jsxs)(p.A,(0,t.A)((0,t.A)({},a),{},{className:"inputAntdSelectClassNameFilterReport",showSearch:!0,placeholder:"Select Group",onFocus:()=>{I((0,j.J_)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===E||void 0===E?void 0:E.userType)?X:"company"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.companyId,branchId:["admin","company","companyDirector"].includes(null===E||void 0===E?void 0:E.userType)?$:"companyBranch"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.branchId,groupId:""}))},onChange:e=>a.onChange(e),filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(p.A.Option,{value:"",children:"Select Group"}),k?(0,b.jsx)(p.A.Option,{disabled:!0,children:(0,b.jsx)(f.A,{})}):null===(n=(0,s._o)(O))||void 0===n?void 0:n.map(e=>(0,b.jsxs)(p.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName," (",null===e||void 0===e?void 0:e.groupName,")"]},null===e||void 0===e?void 0:e._id))]}))}})})]}),(0,b.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{a("PDCompanyId",""),a("PDBranchId",""),a("status",""),a("PDOrganizationType",""),a("PDindustrytype",""),a("department",""),a("groupName",""),re()},className:"bg-header py-2 my-0.5 rounded-md flex px-10 justify-center items-center text-white",children:(0,b.jsx)("span",{className:"text-[12px]",children:"Reset"})}),(0,b.jsx)("button",{onClick:()=>{re()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,b.jsx)("span",{className:"text-[12px]",children:"Submit"})})]})]})}];return(0,b.jsx)(r.A,{onChange:e=>{G(e)},children:(0,b.jsxs)("div",{className:"bg-grey-100 w-full p-1",children:[(0,b.jsxs)("div",{className:"",children:[(0,b.jsx)(c.A,{className:"custom-collapse",items:ce,defaultActiveKey:[1],expandIcon:e=>{let{isActive:n}=e;return(0,b.jsx)(g.WnU,{size:20,style:{color:"white",transform:n?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})}}),(0,b.jsx)("div",{className:"space-y-1.5 flex justify-between items-center",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 py-1",children:[(0,b.jsx)("span",{htmlFor:"pageSize",className:"text-sm font-light text-gray-500",children:"Rows per page:"}),(0,b.jsx)(p.A,{id:"pageSize",value:D,onChange:e=>{S(Number(e)),K(Number(1))},className:"text-sm font-light text-gray-700 bg-white border border-gray-200 rounded-md px-3 py-1.5 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-300 transition",children:s.qc.map(e=>(0,b.jsx)(p.A.Option,{value:e,children:e},e))})]})})]}),(0,b.jsx)("div",{className:"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl",children:(0,b.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap  w-[5%]",children:"S.No."}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Client Name"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Group Name"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Closing Balance"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Email"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Mobile"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Created At"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Created By"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Statement"})]})}),T?(0,b.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,b.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap  font-[600] text-sm text-gray-500",children:(0,b.jsx)(y.A,{})})}):(0,b.jsx)("tbody",{children:A&&(null===A||void 0===A?void 0:A.length)>0?null===A||void 0===A?void 0:A.map((e,n)=>{var a,t,o,l;return(0,b.jsxs)("tr",{className:"border-b-[1px] ".concat(n%2===0?"bg-[#e9ecef]/80":"bg-white"," border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,b.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:n+1+(U-1)*D}),(0,b.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:null===e||void 0===e?void 0:e.fullName}),(0,b.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:null===e||void 0===e||null===(a=e.groupData)||void 0===a?void 0:a.fullName}),(0,b.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:Number(null===e||void 0===e?void 0:e.closingBalance).toFixed(2)||"-"}),(0,b.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:(null===e||void 0===e?void 0:e.email)||"-"}),(0,b.jsxs)("td",{className:"whitespace-nowrap  border-none p-2",children:[(null===e||void 0===e||null===(t=e.mobile)||void 0===t?void 0:t.code)||"-"," ",(null===e||void 0===e||null===(o=e.mobile)||void 0===o?void 0:o.number)||"-"]}),(0,b.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:h()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")}),(0,b.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:null===e||void 0===e?void 0:e.createdBy}),(0,b.jsx)("td",{className:"tableData ",children:(0,b.jsxs)("div",{className:"flex justify-center items-center gap-1",children:[(0,b.jsx)("span",{children:null===e||void 0===e||null===(l=e.departmentData)||void 0===l?void 0:l.length}),(0,b.jsx)(u.A,{placement:"topLeft",title:"View Statement",children:(0,b.jsx)("span",{className:"flex justify-start items-center cursor-pointer",children:(0,b.jsx)(w.Ny1,{onClick:()=>{_("/admin/client-statement-report/".concat(null===e||void 0===e?void 0:e._id))},className:" hover:text-[#337ab7] text-[#3c8dbc]",size:14})})})]})||"-"})]})}):(0,b.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,b.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap  font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(0,b.jsx)(v.A,{totalCount:C,pageSize:D,currentPage:U,onChange:e=>{K(e)}})]})})}}}]);
//# sourceMappingURL=4026.4d58b812.chunk.js.map