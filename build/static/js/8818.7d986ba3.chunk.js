"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[8818],{28818:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var l=s(89379),t=s(24858),r=s(39160),n=s(83003),d=s(33007),i=s(73216),c=s(15187),o=s(735),m=s(65043),p=s(78729),x=s(17995),u=s(56659),N=s(70579);const h=function(){const{loading:e}=(0,n.d4)(e=>e.department),{register:a,handleSubmit:s,control:h,formState:{errors:b}}=(0,t.mN)(),g=(0,n.wA)(),v=(0,i.Zp)(),{userCompanyId:j,userType:y}=(0,o.A)(),{companyList:f}=(0,n.d4)(e=>e.company),A=(0,t.FH)({control:h,name:"companyId",defaultValue:j});return(0,m.useEffect)(()=>{"admin"===y&&g((0,p.Ar)({isPagination:!1,text:"",sort:!0,status:!0}))},[]),(0,N.jsx)(r.A,{children:(0,N.jsx)("div",{className:"gap-4",children:(0,N.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:s(e=>{const a={name:e.departmentName,email:null===e||void 0===e?void 0:e.email,companyId:A,mobile:{code:null===e||void 0===e?void 0:e.PDMobileCode,number:null===e||void 0===e?void 0:e.PDMobileNo}};g((0,d.Xz)(a)).then(e=>{!e.error&&v(-1)})}),children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===y&&(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(c.Q0),children:["Company",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsxs)("select",(0,l.A)((0,l.A)({},a("companyId",{required:"Company is required"})),{},{className:" ".concat(c.Ol," ").concat(b.companyId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)("option",{className:"",value:"",children:"Select Company"}),null===f||void 0===f?void 0:f.map(e=>(0,N.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName,"(",null===e||void 0===e?void 0:e.userName,")"]}))]})),b.companyId&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.companyId.message})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsxs)("label",{className:"".concat(c.Q0),children:["Department Name ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,l.A)((0,l.A)({type:"text"},a("departmentName",{required:"Department Name is required"})),{},{className:"placeholder: ".concat(c.Ol," ").concat(b.departmentName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Department Name"})),b.departmentName&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.departmentName.message})]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsx)("label",{className:"".concat(c.Q0),children:"Email"}),(0,N.jsx)("input",(0,l.A)((0,l.A)({type:"text"},a("email",{pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(c.Ol," ").concat(b.email?"border-[1px] ":"border-gray-300"),placeholder:"Enter Email"})),b.email&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.email.message})]}),(0,N.jsxs)("div",{className:"flex gap-3 pt-7",children:[(0,N.jsxs)("div",{className:"w-[100px] grid",children:[(0,N.jsx)("label",{className:"!text-[#5e6366] !text-sm  !font-normal !font-[Poppins] ",children:"Code"}),(0,N.jsx)(t.xI,{control:h,name:"PDMobileCode",render:e=>{let{field:a}=e;return(0,N.jsx)(u.A,{field:a,errors:b})}}),b.PDMobileCode&&(0,N.jsx)("p",{className:"".concat(c.ci),children:b.PDMobileCode.message})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)("label",{className:"".concat(c.Q0," "),children:"Mobile No"}),(0,N.jsx)("input",(0,l.A)((0,l.A)({type:"number"},a("PDMobileNo",{minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(c.Ol,"  ").concat(b.PDMobileNo?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),b.PDMobileNo&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.PDMobileNo.message})]})]})]}),(0,N.jsx)("div",{className:"flex justify-end ",children:(0,N.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3 "),children:e?(0,N.jsx)(x.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=8818.7d986ba3.chunk.js.map