"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[6063],{36063:(e,a,s)=>{s.r(a),s.d(a,{default:()=>A});var l=s(89379),r=s(24858),n=s(83003),t=s(73216),i=s(65043),d=s(15187),c=s(735),o=s(39160),m=s(24869),x=s(33007),p=s(78729),u=s(16210),h=s(31744),j=s(14118),v=s(92823),y=s.n(v),g=s(65512),N=s(17995),b=s(89427),f=s(70579);const A=()=>{const{loading:e}=(0,n.d4)(e=>e.jobPost),{register:a,setValue:s,handleSubmit:v,control:A,formState:{errors:I}}=(0,r.mN)(),S=(0,n.wA)(),O=(0,t.Zp)(),[E,q]=(0,i.useState)([]),[C,T]=(0,i.useState)(""),{userCompanyId:w,userBranchId:P,userEmployeId:D,userDepartmentId:L,userDesignationId:k,userType:Q}=(0,c.A)(),{companyList:V,companyListLoading:H}=(0,n.d4)(e=>e.company),{designationList:F,loading:M}=(0,n.d4)(e=>e.designation),{departmentListData:J,loading:_}=(0,n.d4)(e=>e.department),{branchList:R,branchListloading:B}=(0,n.d4)(e=>e.branch),[Y,U]=(0,i.useState)(""),[W,$]=(0,i.useState)(!1),K=(0,r.FH)({control:A,name:"companyId",defaultValue:w}),X=(0,r.FH)({control:A,name:"branchId",defaultValue:P}),Z=(0,r.FH)({control:A,name:"departmentId",defaultValue:L}),z=(0,r.FH)({control:A,name:"designationId",defaultValue:k}),G=(0,r.FH)({control:A,name:"employeId",defaultValue:D}),[ee,ae]=(0,i.useState)(!1),[se,le]=(0,i.useState)(!1);(0,i.useEffect)(()=>{"admin"===Q&&S((0,p.Ar)({userType:"company",text:"",status:!0}))},[]),(0,i.useEffect)(()=>{X&&S((0,x.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:K,branchId:X}))},[X]),(0,i.useEffect)(()=>{(K&&"company"===Q||K&&"admin"===Q)&&S((0,h.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:K}))},[K]),(0,i.useEffect)(()=>{(K&&"company"===Q||"admin"===Q)&&S((0,j.HX)({text:"",sort:!0,status:!0,isPagination:!1,companyId:K}))},[K]),(0,i.useEffect)(()=>{Z&&S((0,u.EF)({departmentId:Z,companyId:K,text:"",sort:!0,status:!0,isPagination:!1}))},[Z]);return(0,f.jsx)(o.A,{children:(0,f.jsx)("div",{className:"gap-4",children:(0,f.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:v(e=>{if(0===E.length?(le(!0),0):Y&&"<p><br></p>"!==Y||(ae(!0),0)){const a={employeId:G,companyId:K,directorId:"",branchId:X,departmentId:Z,designationId:z,title:null===e||void 0===e?void 0:e.jobTitle,location:null===e||void 0===e?void 0:e.location,description:Y,requiredSkills:E,profileType:null===e||void 0===e?void 0:e.profileType,noOfVacancy:parseInt(null===e||void 0===e?void 0:e.noOfVacancy),employmentType:null===e||void 0===e?void 0:e.employmentType,salaryRange:{min:parseInt(null===e||void 0===e?void 0:e.minSalary),max:parseInt(null===e||void 0===e?void 0:e.maxSalary),currency:"INR"},experienceRange:{min:parseInt(null===e||void 0===e?void 0:e.minExp),max:parseInt(null===e||void 0===e?void 0:e.maxExp)},isImmediateJoiner:W,status:null===e||void 0===e?void 0:e.status};S((0,m.YC)(a)).then(e=>{e.error||O(-1)})}}),children:[(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-2 md:my-2",children:[(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 ",children:["admin"===Q&&(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:["Company ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)(r.xI,{name:"companyId",control:A,rules:{required:"Company is required"},render:e=>{let{field:a}=e;return(0,f.jsxs)(g.A,(0,l.A)((0,l.A)({},a),{},{className:" ".concat(d.Hy," ").concat(I.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Company",showSearch:!0,children:[(0,f.jsx)(g.A.Option,{value:"",children:"Select Company"}),H?(0,f.jsx)(g.A.Option,{disabled:!0,children:(0,f.jsx)(b.A,{})}):null===V||void 0===V?void 0:V.map(e=>(0,f.jsxs)(g.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName,"(",null===e||void 0===e?void 0:e.userName,")"]}))]}))}}),I.companyId&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:I.companyId.message})]}),("admin"===Q||"company"===Q||"companyDirector"===Q)&&(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:["Branch ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)(r.xI,{name:"branchId",control:A,rules:{required:"Branch is required"},render:e=>{var a,r;let{field:n}=e;return(0,f.jsxs)(g.A,(0,l.A)((0,l.A)({},n),{},{onChange:e=>{s("designationId",""),s("departmentId",""),n.onChange(e)},className:" ".concat(d.Hy," ").concat(I.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Branch",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,f.jsx)(g.A.Option,{value:"",children:"Select Branch"}),B?(0,f.jsx)(g.A.Option,{disabled:!0,children:(0,f.jsx)(b.A,{})}):null===(a=(0,d._o)(R,"fullName"))||void 0===a||null===(r=a.filter(e=>(null===e||void 0===e?void 0:e.companyId)===K))||void 0===r?void 0:r.map(e=>(0,f.jsxs)(g.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),I.branchId&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:I.branchId.message})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:[" Job Post Name ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"text"},a("jobTitle",{required:"Job Post Name is required"})),{},{className:" ".concat(d.Ol," ").concat(I.jobTitle?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Job Post Name"})),I.jobTitle&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:I.jobTitle.message})]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 ",children:[(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:["Department ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)(r.xI,{name:"departmentId",control:A,rules:{required:"Department is required"},render:e=>{var a;let{field:r}=e;return(0,f.jsxs)(g.A,(0,l.A)((0,l.A)({},r),{},{onChange:e=>{s("designationId",""),r.onChange(e)},className:" ".concat(d.Hy," ").concat(I.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Department",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,f.jsx)(g.A.Option,{value:"",children:"Select Department"}),_?(0,f.jsx)(g.A.Option,{disabled:!0,children:(0,f.jsx)(b.A,{})}):null===(a=(0,d._o)(J,"name"))||void 0===a?void 0:a.map(e=>(0,f.jsxs)(g.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.name," "]}))]}))}}),I.departmentId&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:I.departmentId.message})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:[" Designation ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)(r.xI,{name:"designationId",control:A,rules:{required:"Designation is required"},render:e=>{let{field:a}=e;return(0,f.jsxs)(g.A,(0,l.A)((0,l.A)({},a),{},{className:" ".concat(d.Hy," ").concat(I.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Designation",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,f.jsx)(g.A.Option,{value:"",children:"Select Designation"}),M?(0,f.jsx)(g.A.Option,{disabled:!0,children:(0,f.jsx)(b.A,{})}):null===F||void 0===F?void 0:F.map(e=>(0,f.jsxs)(g.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.name," "]}))]}))}}),I.designationId&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:I.designationId.message})]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 md:gap-8 md:my-1 ",children:[(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:[" No.of Vacancy ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"number"},a("noOfVacancy",{required:"No of Vacancy is required"})),{},{className:" ".concat(d.Ol," ").concat(I.noOfVacancy?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter No of Vacancy"})),I.noOfVacancy&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:I.noOfVacancy.message})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:["Employment Type ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)(r.xI,{name:"employmentType",control:A,rules:{required:"Employment Type is required"},render:e=>{let{field:a}=e;return(0,f.jsxs)(g.A,(0,l.A)((0,l.A)({},a),{},{className:" ".concat(d.Hy," ").concat(I.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Employment Type",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,f.jsx)(g.A.Option,{value:"",children:"Select Employment Type"}),(0,f.jsx)(g.A.Option,{value:"Full-Time",children:" Full - Time "}),(0,f.jsx)(g.A.Option,{value:"Part-Time",children:"Part - Time "}),(0,f.jsx)(g.A.Option,{value:"Contract",children:"Contract  "}),(0,f.jsx)(g.A.Option,{value:"Internship",children:"Internship "})]}))}}),I.employmentType&&(0,f.jsxs)("p",{className:"text-red-500 text-sm",children:[" ",I.employmentType.message," "]})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:["Profile Type ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)(r.xI,{name:"profileType",control:A,rules:{required:"profileType is required"},render:e=>{let{field:a}=e;return(0,f.jsxs)(g.A,(0,l.A)((0,l.A)({},a),{},{className:" ".concat(d.Hy," ").concat(I.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select profileType",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,f.jsx)(g.A.Option,{value:"",children:"Select profileType"}),(0,f.jsx)(g.A.Option,{value:"Intern",children:"Intern "}),(0,f.jsx)(g.A.Option,{value:"Fresher",children:" Fresher "}),(0,f.jsx)(g.A.Option,{value:"Experience",children:"Experience  "})]}))}}),I.profileType&&(0,f.jsxs)("p",{className:"text-red-500 text-sm",children:[" ",I.profileType.message," "]})]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 md:gap-8 md:my-1 ",children:[(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:[" Location ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"text"},a("location",{required:"Location is required"})),{},{className:" ".concat(d.Ol," ").concat(I.location?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Location"})),I.location&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:I.location.message})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:["Min Salary (INR) ",(0,f.jsx)("span",{className:"text-red-600",children:" * "})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"text"},a("minSalary",{required:"Minimum salary is required",pattern:{value:/^\d+(\.\d+)?$/,message:"Only numeric or decimal values are allowed"}})),{},{onInput:e=>{e.target.value=e.target.value.replace(/[^0-9.]/g,""),(e.target.value.match(/\./g)||[]).length>1&&(e.target.value=e.target.value.slice(0,-1))},className:"placeholder: ".concat(d.Ol," ").concat(I.minSalary?"border-[1px] ":"border-gray-300"),placeholder:"Enter expected salary"})),I.minSalary&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:I.minSalary.message})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:["Max Salary (INR) ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"text"},a("maxSalary",{required:"Maximum salary is required",pattern:{value:/^\d+(\.\d+)?$/,message:"Only numeric or decimal values are allowed"}})),{},{onInput:e=>{e.target.value=e.target.value.replace(/[^0-9.]/g,""),(e.target.value.match(/\./g)||[]).length>1&&(e.target.value=e.target.value.slice(0,-1))},className:"placeholder: ".concat(d.Ol," ").concat(I.maxSalary?"border-[1px] ":"border-gray-300"),placeholder:"Enter Expected Salary"})),I.maxSalary&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:I.maxSalary.message})]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 ",children:[(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:["Min (in Years)",(0,f.jsx)("span",{className:"text-red-600",children:" * "})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"number"},a("minExp",{required:"Min Range is required"})),{},{className:" ".concat(d.Ol," ").concat(I.minExp?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Minimum Experience"})),I.minExp&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:I.minExp.message})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:["Max (in Years) ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"number"},a("maxExp",{required:"Max Range is required"})),{},{className:" ".concat(d.Ol," ").concat(I.maxExp?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Maximum Experience"})),I.maxExp&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:I.maxExp.message})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:[" Skills ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"text"},a("skills")),{},{className:"".concat(d.Ol," ").concat(I.skills?"border-[1px] ":"border-gray-300"),placeholder:"Write Skills & Press Enter",value:C,onChange:e=>{le(!1),T(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&""!==C.trim()&&(e.preventDefault(),q(e=>[...e,C.trim()]),T(""))}}))]}),(0,f.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[E.map((e,a)=>(0,f.jsxs)("span",{className:"bg-gray-200 text-gray-700 px-3 py-1 text-xs rounded-full flex items-center gap-2",children:[e,(0,f.jsx)("button",{type:"button",onClick:()=>{return a=e,void q(e=>e.filter(e=>e!==a));var a},className:"text-red-500 hover:text-red-700",children:"\xd7"})]},a)),0===E.length&&se&&(0,f.jsx)("span",{className:"text-[14px] text-red-600",children:"skills is required"})]})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(d.Q0),children:["Job Description ",(0,f.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,f.jsx)(y(),{value:Y,onChange:e=>{ae(!1),U(e)},placeholder:"Write the email body here",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike"],[{align:[]}],["link","image","video"],["blockquote","code-block"],["clean"]]},formats:["header","font","list","bold","italic","underline","link","align","clean"]}),ee&&(0,f.jsx)("span",{className:"text-red-600 text-[14px]",children:" Job Description is required"})]}),(0,f.jsxs)("div",{className:"flex items-center mt-2 p-3",children:[(0,f.jsx)("input",{type:"checkbox",id:"immediateJoiner",onChange:e=>{return a=e.target.checked,void $(a);var a},className:"mr-2"}),(0,f.jsx)("label",{htmlFor:"immediateJoiner",className:"".concat(d.Q0),children:"isImmediateJoiner"})]})]}),(0,f.jsx)("div",{className:"flex justify-end mt-4",children:(0,f.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded"),children:e?(0,f.jsx)(N.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=6063.0e169c21.chunk.js.map