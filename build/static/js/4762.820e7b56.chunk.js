"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[4762],{24762:(e,a,d)=>{d.r(a),d.d(a,{default:()=>N});var l=d(89379),n=d(24858),i=d(39160),r=d(83003),s=d(73216),o=d(65043),t=d(15187),c=d(31744),v=(d(78729),d(66015)),u=d(42837),h=(d(31536),d(88967),d(46937)),m=d(31174),p=d(86178),x=d.n(p),j=d(65512),b=d(17995),y=d(89427),I=d(70579);const N=()=>{const{loading:e}=(0,r.d4)(e=>e.contra),{register:a,handleSubmit:d,control:p,watch:N,reset:k,formState:{errors:f},setValue:A}=(0,n.mN)(),D=(0,r.wA)(),g=(0,s.Zp)(),{branchDetailsData:w,loading:B}=(0,r.d4)(e=>e.branch),{employeList:_}=(0,r.d4)(e=>e.employe),{contraDetails:S}=(0,r.d4)(e=>e.contra),{contraIdEnc:P}=(0,s.g)(),C=(0,m.Yc)(P);return(0,o.useEffect)(()=>{D((0,h.cJ)({_id:C}))},[]),(0,o.useEffect)(()=>{if(S)if(A("type",null===S||void 0===S?void 0:S.type),A("amount",null===S||void 0===S?void 0:S.amount),A("date",x()(null===S||void 0===S?void 0:S.date).format("YYYY-MM-DD")),A("naration",null===S||void 0===S?void 0:S.naration),"bank_transfer"===(null===S||void 0===S?void 0:S.type))D((0,c.ZN)({_id:null===S||void 0===S?void 0:S.branchId})).then(e=>{null!==e&&void 0!==e&&e.error||(A("PDbanktransferSenderBankId",null===S||void 0===S?void 0:S.senderBankAccId),A("PDBankTransferReciever",null===S||void 0===S?void 0:S.receiverBankAccId))});else if("cash_deposit"===(null===S||void 0===S?void 0:S.type)){D((0,c.ZN)({_id:null===S||void 0===S?void 0:S.branchId})).then(e=>{null!==e&&void 0!==e&&e.error||A("PDCashDepositBankId",null===S||void 0===S?void 0:S.receiverBankAccId)});const e={text:"",status:!0,sort:!0,isTL:"",isHR:"",isPagination:!1,departmentId:"",designationId:"",companyId:null===S||void 0===S?void 0:S.companyId,branchId:null===S||void 0===S?void 0:S.branchId};D((0,u.qV)(e)).then(e=>{if(null===e||void 0===e||!e.error){var a,d,l;const n=null===e||void 0===e||null===(a=e.payload)||void 0===a||null===(d=a.data)||void 0===d||null===(l=d.docs)||void 0===l?void 0:l.find(e=>(null===e||void 0===e?void 0:e._id)===(null===S||void 0===S?void 0:S.senderUserId));A("cashDepositemployee",{value:null===n||void 0===n?void 0:n._id,label:null===n||void 0===n?void 0:n.fullName})}})}else if("cash_withdraw"===(null===S||void 0===S?void 0:S.type)){D((0,c.ZN)({_id:null===S||void 0===S?void 0:S.branchId})).then(e=>{null!==e&&void 0!==e&&e.error||A("PDCashWithdrwaBankId",null===S||void 0===S?void 0:S.senderBankAccId)});const e={text:"",status:!0,sort:!0,isTL:"",isHR:"",isPagination:!1,departmentId:"",designationId:"",companyId:null===S||void 0===S?void 0:S.companyId,branchId:null===S||void 0===S?void 0:S.branchId};D((0,u.qV)(e)).then(e=>{if(null===e||void 0===e||!e.error){var a,d,l;const n=null===e||void 0===e||null===(a=e.payload)||void 0===a||null===(d=a.data)||void 0===d||null===(l=d.docs)||void 0===l?void 0:l.find(e=>(null===e||void 0===e?void 0:e._id)===(null===S||void 0===S?void 0:S.receiverUserId));A("cashWithdrwaemployee",{value:null===n||void 0===n?void 0:n._id,label:null===n||void 0===n?void 0:n.fullName})}})}},[S]),(0,I.jsx)(i.A,{children:(0,I.jsx)("div",{className:"gap-4",children:(0,I.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:d(e=>{if("bank_transfer"===(null===e||void 0===e?void 0:e.type)){const a={_id:C,companyId:null===S||void 0===S?void 0:S.companyId,directorId:null===S||void 0===S?void 0:S.directorId,branchId:null===S||void 0===S?void 0:S.branchId,senderUserId:"",receiverUserId:"",senderBankAccId:null===e||void 0===e?void 0:e.PDbanktransferSenderBankId,receiverBankAccId:null===e||void 0===e?void 0:e.PDBankTransferReciever,type:null===e||void 0===e?void 0:e.type,amount:+(null===e||void 0===e?void 0:e.amount),date:null===e||void 0===e?void 0:e.date,naration:null===e||void 0===e?void 0:e.naration};D((0,h.VM)(a)).then(e=>{e.error||g(-1)})}else if("cash_deposit"===(null===e||void 0===e?void 0:e.type)){var a;const d={_id:C,companyId:null===S||void 0===S?void 0:S.companyId,directorId:null===S||void 0===S?void 0:S.directorId,branchId:null===S||void 0===S?void 0:S.branchId,senderUserId:null===e||void 0===e||null===(a=e.cashDepositemployee)||void 0===a?void 0:a.value,receiverUserId:"",senderBankAccId:"",receiverBankAccId:null===e||void 0===e?void 0:e.PDCashDepositBankId,type:null===e||void 0===e?void 0:e.type,amount:+(null===e||void 0===e?void 0:e.amount),date:null===e||void 0===e?void 0:e.date,naration:null===e||void 0===e?void 0:e.naration};D((0,h.VM)(d)).then(e=>{e.error||g(-1)})}else if("cash_withdraw"===(null===e||void 0===e?void 0:e.type)){var d;const a={_id:C,companyId:null===S||void 0===S?void 0:S.companyId,directorId:null===S||void 0===S?void 0:S.directorId,branchId:null===S||void 0===S?void 0:S.branchId,senderUserId:"",receiverUserId:null===e||void 0===e||null===(d=e.cashWithdrwaemployee)||void 0===d?void 0:d.value,senderBankAccId:null===e||void 0===e?void 0:e.PDCashWithdrwaBankId,receiverBankAccId:"",type:null===e||void 0===e?void 0:e.type,amount:+(null===e||void 0===e?void 0:e.amount),date:null===e||void 0===e?void 0:e.date,naration:null===e||void 0===e?void 0:e.naration};D((0,h.VM)(a)).then(e=>{e.error||g(-1)})}}),children:[(0,I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:my-1 px-3 md:mt-4",children:[(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Type ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(n.xI,{control:p,name:"type",rules:{required:"type is required"},render:e=>{let{field:a}=e;return(0,I.jsxs)(j.A,(0,l.A)((0,l.A)({},a),{},{defaultValue:"",className:"".concat(t.Hy,"  ").concat(f.type?"border-[1px] ":"border-gray-300"," "),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,I.jsx)(j.A.Option,{value:"cash_deposit",children:"Cash Deposit"}),(0,I.jsx)(j.A.Option,{value:"cash_withdraw",children:"Cash Withdraw"}),(0,I.jsx)(j.A.Option,{value:"bank_transfer",children:"Bank Transfer"})]}))}}),f.type&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:f.type.message})]}),"bank_transfer"===N("type")&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Sender Bank ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(n.xI,{control:p,name:"PDbanktransferSenderBankId",rules:{required:"bank name is required"},render:e=>{var a,d;let{field:n}=e;return(0,I.jsxs)(j.A,(0,l.A)((0,l.A)({},n),{},{defaultValue:"",className:"".concat(t.Hy," "),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,I.jsx)(j.A.Option,{value:"",children:"Select Bank"}),B?(0,I.jsx)(j.A.Option,{disabled:!0,children:(0,I.jsx)(y.A,{})}):(null===w||void 0===w||null===(a=w.data)||void 0===a?void 0:a.bankData)&&(null===w||void 0===w||null===(d=w.data)||void 0===d?void 0:d.bankData.length)>0&&w.data.bankData.map(e=>(0,I.jsx)(j.A.Option,{value:e._id,children:(0,t.ig)(e)},e._id))]}))}}),f.PDbanktransferSenderBankId&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:f.PDbanktransferSenderBankId.message})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Reciever Bank ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(n.xI,{control:p,name:"PDBankTransferReciever",rules:{required:"bank Name is required"},render:e=>{var a,d;let{field:n}=e;return(0,I.jsxs)(j.A,(0,l.A)((0,l.A)({},n),{},{defaultValue:"",className:"".concat(t.Hy," "),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,I.jsx)(j.A.Option,{value:"",children:"Select Bank"}),B?(0,I.jsx)(j.A.Option,{disabled:!0,children:(0,I.jsx)(y.A,{})}):(null===w||void 0===w||null===(a=w.data)||void 0===a?void 0:a.bankData)&&(null===w||void 0===w||null===(d=w.data)||void 0===d?void 0:d.bankData.length)>0&&w.data.bankData.map(e=>(0,I.jsx)(j.A.Option,{value:e._id,children:(0,t.ig)(e)},e._id))]}))}}),f.PDBankTransferReciever&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:f.PDBankTransferReciever.message})]})]}),"cash_deposit"===N("type")&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"w-full",children:[(0,I.jsx)("label",{className:"".concat(t.Q0),children:"Employee"}),(0,I.jsx)(n.xI,{name:"cashDepositemployee",control:p,rules:{required:"Employee is required"},render:e=>{let{field:a}=e;return(0,I.jsx)(v.Ay,(0,l.A)((0,l.A)({},a),{},{options:null===_||void 0===_?void 0:_.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.fullName})),classNamePrefix:"react-select",className:"".concat(t.Ph," ").concat(f.cashDepositemployee?"border-[1px] ":"border-gray-300"),placeholder:"Select Employee"}))}}),f.cashDepositemployee&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:f.cashDepositemployee.message})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Reciever  Bank",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(n.xI,{control:p,name:"PDCashDepositBankId",rules:{required:"bank Name is required"},render:e=>{var a,d;let{field:n}=e;return(0,I.jsxs)(j.A,(0,l.A)((0,l.A)({},n),{},{defaultValue:"",className:"".concat(t.Hy," "),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,I.jsx)(j.A.Option,{value:"",children:"Select Bank"}),(null===w||void 0===w||null===(a=w.data)||void 0===a?void 0:a.bankData)&&(null===w||void 0===w||null===(d=w.data)||void 0===d?void 0:d.bankData.length)>0&&w.data.bankData.map(e=>(0,I.jsx)("option",{value:e._id,children:(0,t.ig)(e)},e._id))]}))}}),f.PDCashDepositBankId&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:f.PDCashDepositBankId.message})]})]}),"cash_withdraw"===N("type")&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Sender Bank ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(n.xI,{control:p,name:"PDCashWithdrwaBankId",rules:{required:"bank Name is required"},render:e=>{var a,d;let{field:n}=e;return(0,I.jsxs)(j.A,(0,l.A)((0,l.A)({},n),{},{defaultValue:"",className:"".concat(t.Hy," "),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,I.jsx)(j.A.Option,{value:"",children:"Select Bank"}),(null===w||void 0===w||null===(a=w.data)||void 0===a?void 0:a.bankData)&&(null===w||void 0===w||null===(d=w.data)||void 0===d?void 0:d.bankData.length)>0&&w.data.bankData.map(e=>(0,I.jsx)("option",{value:e._id,children:(0,t.ig)(e)},e._id))]}))}}),f.PDCashWithdrwaBankId&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:f.PDCashWithdrwaBankId.message})]}),(0,I.jsxs)("div",{className:"w-full",children:[(0,I.jsx)("label",{className:"".concat(t.Q0),children:" Reciever Employee"}),(0,I.jsx)(n.xI,{name:"cashWithdrwaemployee",control:p,rules:{required:"Employee is required"},render:e=>{let{field:a}=e;return(0,I.jsx)(v.Ay,(0,l.A)((0,l.A)({},a),{},{options:null===_||void 0===_?void 0:_.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.fullName})),classNamePrefix:"react-select",className:"".concat(t.Ph," ").concat(f.cashWithdrwaemployee?"border-[1px] ":"border-gray-300"),placeholder:"Select Employee"}))}}),f.cashWithdrwaemployee&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:f.cashWithdrwaemployee.message})]})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Amount ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("input",(0,l.A)((0,l.A)({type:"number",step:"0.01"},a("amount",{required:"Amount is required"})),{},{className:" ".concat(t.Ol," ").concat(f.amount?"border-[1px] ":"border-gray-300"),placeholder:"Enter Amount"})),f.amount&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:f.amount.message})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Naration ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("textarea",(0,l.A)((0,l.A)({},a("naration",{required:"Naration is required"})),{},{className:" ".concat(t.Ol," ").concat(f.naration?"border-[1px] ":"border-gray-300"),placeholder:"Enter Naration"})),f.naration&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:f.naration.message})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Date ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("input",(0,l.A)((0,l.A)({type:"date"},a("date",{required:"Date is required"})),{},{className:" ".concat(t.Ol," ").concat(f.date?"border-[1px] ":"border-gray-300"),placeholder:"Enter Date"})),f.date&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:f.date.message})]})]}),(0,I.jsx)("div",{className:"flex justify-end",children:(0,I.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 mt-3 rounded"),children:e?(0,I.jsx)(b.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=4762.820e7b56.chunk.js.map