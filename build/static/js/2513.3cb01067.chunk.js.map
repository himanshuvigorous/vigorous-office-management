{"version":3,"file":"static/js/2513.3cb01067.chunk.js","mappings":"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","sources":["pages/Project management/ProjecttaskMagement/EmployeeProjectTaskList.js"],"sourcesContent":["import GlobalLayout from \"../../../global_layouts/GlobalLayout/GlobalLayout\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useEffect, useState } from \"react\";\nimport { FaPlus } from \"react-icons/fa6\"\nimport { Controller, useForm, useWatch } from \"react-hook-form\";\nimport { domainName, inputAntdSelectClassNameFilter, ProjectTaskStatus} from \"../../../constents/global\";\nimport CustomPagination from \"../../../component/CustomPagination/CustomPagination\"\nimport { Select, Tooltip } from \"antd\";\nimport usePermissions from \"../../../config/usePermissions\";\nimport Loader2 from \"../../../global_layouts/Loader/Loader2\";\nimport dayjs from \"dayjs\";\nimport {  getProjectTaskList, statusProjectTaskFunc } from \"./ProjecttaskFeatures/_project_task_reducers\";\nimport CreateProjectTask from \"./CreateProjectTask\";\nimport { BsEye } from \"react-icons/bs\";\nimport LogsProjectTaskView from \"./LogsProjectTaskView\";\nimport CustomDatePicker from \"../../../global_layouts/DatePicker/CustomDatePicker\";\nimport StatusDropdown from \"./StatusDropDown\";\n\nfunction EmployeeProjectTaskList() {\n    const { register, control, setValue, formState: { errors } } = useForm();\n    const dispatch = useDispatch();\n    const userInfoglobal = JSON.parse(localStorage.getItem(`user_info_${domainName}`));\n    const { projectTaskList, totalProjectTaskCount, loading } = useSelector(state => state.projectTask)\n\n    const [searchText, setSearchText] = useState(\"\");\n    const [openCreateModal, setOpenCreateModal] = useState({\n        isOpen: false,\n        data: null\n    })\n    const [openLogsModal, setOpenLogsModal] = useState({\n        isOpen: false,\n        data: null\n    })\n\n    const [currentPage, setCurrentPage] = useState(1);\n\n\n    const status = useWatch({\n        control,\n        name: 'status',\n        defaultValue: ''\n    });\n    const startDate = useWatch({\n        control,\n        name: \"startDate\",\n        defaultValue: dayjs(),\n    });\n\n    const endDate = useWatch({\n        control,\n        name: \"endDate\",\n        defaultValue: dayjs(),\n    });\n    const limit = 10;\n\n    const onPaginationChange = (page) => {\n        setCurrentPage(page);\n    };\n\n\n    const filters = [status, searchText, startDate, endDate].join(\"-\");\n    const [isFirstRender, setisFirstRender] = useState(false)\n\n    useEffect(() => {\n        if (!isFirstRender) {\n            setisFirstRender(state => true);\n            return;\n        }\n        if (currentPage === 1) {\n            fetchProjectTaskList();\n        } else {\n            setCurrentPage(1);\n        }\n    }, [filters])\n\n    useEffect(() => {\n        if (userInfoglobal?.userType !== \"employee\") return\n        fetchProjectTaskList()\n    }, [currentPage])\n\n\n    const fetchProjectTaskList = () => {\n        const reqData = {\n            page: currentPage,\n            limit: limit,\n            reqPayload: {\n                companyId:userInfoglobal?.companyId,\n                branchId:userInfoglobal?.branchId,\n                directorId: \"\",\n                text: searchText,\n                sort: true,\n                status: status,\n                isPagination: true,\n                \"projectId\": \"\",\n                \"taskId\": \"\",\n                \"assignedTo\": userInfoglobal?._id,\n                \"departmentId\": userInfoglobal?.departmentId,\n                \"creatorId\": \"\",\n                \"followerIds\": [],\n                startDate: startDate ? dayjs(startDate).format('YYYY-MM-DD') : '',\n                endDate: endDate ? dayjs(endDate).format('YYYY-MM-DD') : '',\n\n\n            }\n        }\n        if (!userInfoglobal?.departmentId) return\n        dispatch(getProjectTaskList(reqData))\n    }\n\n   \n   \n    const handleStatusChange = (status, id) => {\n        dispatch(statusProjectTaskFunc({\n\n            \"_id\": id,\n            \"status\": status\n\n        })).then((res) => {\n            if (!res.error) {\n                fetchProjectTaskList()\n            }\n        })\n    }\n    const { canCreate, canRead, canUpdate, canDelete } = usePermissions();\n\n    const onChange = (e) => {\n\n        setSearchText(e);\n    };\n    if (userInfoglobal?.userType !== \"employee\" ) {\n    return (\n      <GlobalLayout>\n        <div className=\"bg-red-100 text-red-800 p-4 rounded-md mt-2\">\n          <p className=\"text-center font-semibold\">\n            You are not an employee. This page is viewable for employees only.\n          </p>\n        </div>\n      </GlobalLayout>\n    );\n  }\n    return (\n        <GlobalLayout onChange={onChange}>\n\n            <section>\n                <div className=\"\">\n\n                    <div className=\"grid grid-cols-1 sm:flex  gap-2 items-center justify-start py-1 text-[14px] rounded-md w-full\">\n                        <div >\n                            <Controller\n                                name=\"status\"\n                                control={control}\n                                rules={{}}\n                                render={({ field }) => (\n                                    <Select\n                                        {...field}\n                                        className={`capitalize w-32 ${inputAntdSelectClassNameFilter} ${errors.status\n                                            ? \"border-[1px] \"\n                                            : \"border-gray-300\"\n                                            }`}\n                                        placeholder=\"Select Status\"\n                                        showSearch\n                                        filterOption={(input, option) =>\n                                            String(option?.children).toLowerCase().includes(input.toLowerCase())\n                                        }\n                                    >\n                                        <Select.Option value=\"\">Select Status</Select.Option>\n                                        {ProjectTaskStatus?.map(data =>\n\n\n                                            <Select.Option className=\"capitalize\" key={data} value={data}> {data} </Select.Option>)}\n\n                                    </Select>\n                                )}\n                            />\n                        </div>\n                        <div >\n                            <Controller\n                                name=\"startDate\"\n                                control={control}\n                                defaultValue={dayjs()}\n                                render={({ field }) => (\n                                    <CustomDatePicker\n                                        report={true}\n                                        disabled={loading}\n                                        placeholder=\"Start date\"\n                                        size={\"middle\"} field={field} errors={errors} />\n                                )}\n                            />\n                        </div>\n                        <div >\n                            <Controller\n                                name=\"endDate\"\n                                report={true}\n                                control={control}\n                                defaultValue={dayjs()}\n                                render={({ field }) => (\n                                    <CustomDatePicker size={\"middle\"}\n                                        disabled={loading}\n                                        placeholder=\"Start date\"\n                                        report={true} field={field} errors={errors} />\n                                )}\n                            />\n                        </div>\n                    </div>\n                    <div className=\"flex justify-end items-center gap-2 my-1\">\n                        <button\n                            onClick={() => {\n                                setValue(\"status\", \"\");\n                                setValue(\"PDBranchId\", '');\n                                setValue(\"PdCompanyId\", \"\");\n                                setValue(\"startDate\", dayjs());\n                                setValue(\"endDate\", dayjs());\n                            }}\n                            className=\"bg-header   py-[5px]  rounded-md  flex px-5 justify-center items-center  text-white\">\n                            <span className=\"text-[12px]\">Reset</span>\n                        </button>\n                        {canCreate &&\n                            <Tooltip placement=\"topLeft\" title='Add task'>\n                                <button\n                                    onClick={() => {\n                                        // navigate(\"/admin/project-task/create\");\n                                        setOpenCreateModal({\n                                            isOpen: true,\n                                            data: null\n                                        })\n                                    }}\n                                    className=\"bg-header px-2 py-1.5 rounded-md flex justify-center items-center space-x-2 text-white\"\n                                >\n                                    <FaPlus />\n                                    <span className=\"text-[12px]\">Add Your task</span>\n                                </button>\n                            </Tooltip>}\n                    </div>\n                </div>\n                <div className=\"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl\">\n                    {(canRead) && <table className=\"w-full max-w-full rounded-xl overflow-x-auto\">\n                        <thead className=''>\n                            <tr className='border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]'>\n                                <th className='border-none p-2 whitespace-nowrap w-[5%]'>\n                                    S.No.\n                                </th>\n\n                                <th className='border-none p-2 whitespace-nowrap w-[20%]'>\n                                    Title\n                                </th>\n                                <th className='border-none p-2 whitespace-nowrap w-[15%]'>\n                                    Assigned To\n                                </th>\n                                <th className='border-none p-2 whitespace-nowrap w-[10%]'>\n                                    Department\n                                </th>\n                                <th className='border-none p-2 whitespace-nowrap w-[10%]'>\n                                    Time Spent\n                                </th>\n                                <th className='border-none p-2 whitespace-nowrap w-[15%]'>\n                                    Created By\n                                </th>\n                                <th className='border-none p-2 whitespace-nowrap w-[15%]'>\n                                    Created At\n                                </th>\n                                <th className='border-none p-2 whitespace-nowrap w-[10%]'>\n                                    Priority\n                                </th>\n                                <th className='border-none p-2 whitespace-nowrap w-[10%]'>\n                                    Status\n                                </th>\n                                {(canDelete || canUpdate) && <th className='border-none p-2 whitespace-nowrap w-[10%]'>\n                                    Action\n                                </th>}\n                            </tr>\n                        </thead>\n                        {loading ? <tr className=\"bg-white bg-opacity-5 \">\n                            <td\n                                colSpan={10}\n                                className=\"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500\"\n                            >\n                                <Loader2 />\n                            </td>\n                        </tr> :\n                            <tbody>\n                                {projectTaskList && projectTaskList?.length > 0 ?\n                                    projectTaskList?.map((element, index) => (\n                                        <tr className={`border-b-[1px] border-[#DDDDDD] ${index % 2 === 0 ? 'bg-[#e9ecef]/80' : 'bg-white'} text-[#374151] text-[14px]`}>\n                                            <td className='whitespace-nowrap border-none p-2 text-center'>\n                                                {index + 1 + ((currentPage - 1) * limit)}\n                                            </td>\n                                            <td className='whitespace-nowrap border-none p-2 '>\n                                                {element?.title ?? \"-\"}\n                                            </td>\n                                            <td className='whitespace-nowrap border-none p-2 '>\n                                                {element?.assignedToData?.fullName ?? \"-\"}\n                                            </td>\n                                            <td className='whitespace-nowrap border-none p-2 '>\n                                                {element?.departmentName ?? \"-\"}\n                                            </td>\n                                             <td className='whitespace-nowrap border-none text-teal-600 p-2'>\n                                                {element?.totalTimeSpentInMin !== undefined\n                                                    ? `${Math.floor(element.totalTimeSpentInMin / 60)}h ${element.totalTimeSpentInMin % 60}m`\n                                                    : \"-\"}\n                                            </td>\n\n                                            <td className='whitespace-nowrap border-none p-2 '>\n                                                {element?.createdBy ?? \"-\"}\n                                            </td>\n                                            <td className='whitespace-nowrap border-none p-2 '>\n                                                {dayjs(element?.createdAt).format('DD-MM-YYYY hh:mm a') ?? \"-\"}\n                                            </td>\n                                            <td className='whitespace-nowrap border-none p-2 '>\n                                                <span className={`px-2 py-1 rounded-lg text-white text-[12px] ${element?.priority === 'high' ? 'bg-red-500' :\n                                                    element?.priority === 'medium' ? 'bg-yellow-500' :\n                                                        'bg-green-500'\n                                                    }`}>\n                                                    {element?.priority ? element.priority.charAt(0).toUpperCase() + element.priority.slice(1) : \"-\"}\n                                                </span>\n                                            </td>\n                                            <td className='whitespace-nowrap border-none p-2 '>\n                                                <StatusDropdown element={element} handleStatusChange={handleStatusChange} employeePortal={true} />\n                                            </td>\n                                            {(canDelete || canUpdate) && <td className='whitespace-nowrap border-none p-2'>\n                                                <span className=\"py-1.5 flex justify-start items-center space-x-2\">\n                                                    {canUpdate &&\n                                                        <Tooltip placement=\"topLeft\" title='view'>\n                                                            <button\n                                                                onClick={() => {\n                                                                    setOpenLogsModal({\n                                                                        isOpen: true,\n                                                                        data: element\n\n                                                                    })\n\n                                                                }}\n                                                                className=\"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted\" type=\"button\">\n                                                                <BsEye className=' hover:text-[#337ab7] text-[#3c8dbc]' size={16} />\n                                                            </button>\n                                                        </Tooltip>\n                                                    }\n                                                </span>\n                                            </td>}\n                                        </tr>\n                                    ))\n                                    : (<tr className=\"bg-white bg-opacity-5 \" >\n                                        <td colSpan={10} className=\"px-6 py-2 whitespace-nowrap font-[600] text-center text-sm text-gray-500\">No Tasks Found</td>\n                                    </tr>)}\n                            </tbody>}\n                    </table>}\n                </div>\n\n                <CustomPagination\n                    totalCount={totalProjectTaskCount}\n                    pageSize={limit}\n                    currentPage={currentPage}\n                    onChange={onPaginationChange}\n                />\n\n                <CreateProjectTask isOpen={openCreateModal?.isOpen} data={openCreateModal?.data} fetchListAfterSuccess={fetchProjectTaskList} closeModalFunc={() => setOpenCreateModal({\n                    isOpen: false,\n                    data: null\n                })} handlingPerson = \"employee\"   />\n              \n                <LogsProjectTaskView isOpen={openLogsModal?.isOpen} data={openLogsModal?.data} fetchListAfterSuccess={fetchProjectTaskList} closeModalFunc={() => {\n                    setOpenLogsModal({\n                        isOpen: false,\n                        data: null\n                    })\n                    fetchProjectTaskList()\n                }\n                } />\n            </section>\n\n        </GlobalLayout>\n    )\n}\nexport default EmployeeProjectTaskList"],"names":["register","control","setValue","formState","errors","useForm","dispatch","useDispatch","userInfoglobal","JSON","parse","localStorage","getItem","concat","domainName","projectTaskList","totalProjectTaskCount","loading","useSelector","state","projectTask","searchText","setSearchText","useState","openCreateModal","setOpenCreateModal","isOpen","data","openLogsModal","setOpenLogsModal","currentPage","setCurrentPage","status","useWatch","name","defaultValue","startDate","dayjs","endDate","filters","join","isFirstRender","setisFirstRender","useEffect","fetchProjectTaskList","userType","reqData","page","limit","reqPayload","companyId","branchId","directorId","text","sort","isPagination","_id","departmentId","format","getProjectTaskList","handleStatusChange","id","statusProjectTaskFunc","then","res","error","canCreate","canRead","canUpdate","canDelete","usePermissions","_jsx","GlobalLayout","children","className","onChange","e","_jsxs","Controller","rules","render","_ref","field","Select","_objectSpread","inputAntdSelectClassNameFilter","placeholder","showSearch","filterOption","input","option","String","toLowerCase","includes","Option","value","ProjectTaskStatus","map","_ref2","CustomDatePicker","report","disabled","size","_ref3","onClick","Tooltip","placement","title","FaPlus","colSpan","Loader2","length","element","index","_element$title","_element$assignedToDa","_element$assignedToDa2","_element$departmentNa","_element$createdBy","_dayjs$format","assignedToData","fullName","departmentName","undefined","totalTimeSpentInMin","Math","floor","createdBy","createdAt","priority","charAt","toUpperCase","slice","StatusDropdown","employeePortal","type","BsEye","CustomPagination","totalCount","pageSize","CreateProjectTask","fetchListAfterSuccess","closeModalFunc","handlingPerson","LogsProjectTaskView"],"sourceRoot":""}