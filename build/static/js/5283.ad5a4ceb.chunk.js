"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[5283],{5283:(e,d,n)=>{n.r(d),n.d(d,{default:()=>y});var a=n(89379),l=n(24858),i=n(39160),o=n(83003),s=n(73216),r=n(65043),c=n(15187),t=n(31744),m=n(78729),u=n(97230),v=n(65512),p=n(17995),x=n(89427),h=n(70579);const y=()=>{const{loading:e}=(0,o.d4)(e=>e.penalty),{register:d,handleSubmit:n,control:y,formState:{errors:j},setValue:N}=(0,l.mN)(),b=(0,o.wA)(),A=(0,s.Zp)(),{companyList:g,companyListLoading:f}=(0,o.d4)(e=>e.company),{branchList:I,branchListloading:T}=(0,o.d4)(e=>e.branch),C=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),D=(0,l.FH)({control:y,name:"PDCompanyId",defaultValue:""});return(0,r.useEffect)(()=>{(D||"company"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType))&&b((0,t.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===C||void 0===C?void 0:C.userType)?D:"company"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.companyId}))},[D]),(0,r.useEffect)(()=>{"admin"===(null===C||void 0===C?void 0:C.userType)&&b((0,m.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,h.jsx)(i.A,{children:(0,h.jsx)("div",{className:"gap-4",children:(0,h.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:n(e=>{const d={employeId:"",companyId:"admin"===(null===C||void 0===C?void 0:C.userType)?null===e||void 0===e?void 0:e.PDCompanyId:"company"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.companyId,directorId:"companyDirector"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.directorId,branchId:"admin"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType)||"company"===(null===C||void 0===C?void 0:C.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.branchId,name:null===e||void 0===e?void 0:e.name,amount:Number(null===e||void 0===e?void 0:e.amount)};b((0,u.iR)(d)).then(e=>{e.error||A(-1)})}),children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===C||void 0===C?void 0:C.userType)&&(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(c.Q0),children:["Company Name ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)(l.xI,{control:y,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:d}=e;return(0,h.jsxs)(v.A,(0,a.A)((0,a.A)({},d),{},{defaultValue:"",className:"".concat(c.Hy," "),filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,h.jsx)(v.A.Option,{value:"",children:"Select Company"}),f?(0,h.jsx)(v.A.Option,{disabled:!0,children:(0,h.jsx)(x.A,{})}):null===g||void 0===g?void 0:g.map(e=>(0,h.jsx)(v.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),j.PDCompanyId&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:j.PDCompanyId.message})]}),("admin"===(null===C||void 0===C?void 0:C.userType)||"company"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType))&&(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(c.Q0),children:["Branch Name ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)(l.xI,{name:"PDBranchId",control:y,rules:{required:"Branch is required"},render:e=>{let{field:d}=e;return(0,h.jsxs)(v.A,(0,a.A)((0,a.A)({},d),{},{className:"".concat(c.Hy," ").concat(j.PDBranchId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Branch",children:[(0,h.jsx)(v.A.Option,{value:"",children:"Select Branch"}),T?(0,h.jsx)(v.A.Option,{disabled:!0,children:(0,h.jsx)(x.A,{})}):null===I||void 0===I?void 0:I.map(e=>(0,h.jsx)(v.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),j.PDBranchId&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:j.PDBranchId.message})]}),(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(c.Q0),children:["Penalty Name ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)("input",(0,a.A)((0,a.A)({type:"text"},d("name",{required:"penalty Name is required"})),{},{className:"".concat(c.Ol," ").concat(j.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter penalty Name"})),j.name&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:j.name.message})]}),(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(c.Q0),children:["Amount ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)("input",(0,a.A)((0,a.A)({type:"number",step:"0.01"},d("amount",{required:"Amount is required"})),{},{className:"".concat(c.Ol," ").concat(j.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Amount"})),j.amount&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:j.amount.message})]})]}),(0,h.jsx)("div",{className:"flex justify-end",children:(0,h.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,h.jsx)(p.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=5283.ad5a4ceb.chunk.js.map