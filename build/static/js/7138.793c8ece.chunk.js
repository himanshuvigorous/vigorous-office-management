"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[7138],{57138:(e,d,a)=>{a.r(d),a.d(d,{default:()=>j});var i=a(89379),n=a(65043),l=a(24858),s=a(83003),o=a(73216),r=a(735),c=a(15187),t=a(78729),u=a(31744),m=(a(16520),a(39160)),p=a(65512),v=a(55640),y=a(17995),h=a(89427),x=a(70579);const j=function(){const{loading:e}=(0,s.d4)(e=>e.digitalSignatureType),{register:d,handleSubmit:a,setValue:j,control:g,formState:{errors:N}}=(0,l.mN)(),{userCompanyId:b,userDirectorId:f,userBranchId:A,userType:I}=(0,r.A)(),T=(0,s.wA)(),D=(0,o.Zp)(),C=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),{companyList:P,companyListLoading:B}=(0,s.d4)(e=>e.company),{countryListData:S}=(0,s.d4)(e=>e.country),{branchList:_,branchListloading:O}=(0,s.d4)(e=>e.branch),q=(0,l.FH)({control:g,name:"PDCompanyId",defaultValue:b}),L=(0,l.FH)({control:g,name:"PDBranchId",defaultValue:A});return(0,n.useEffect)(()=>{j("PDMobileCode","+91")},[S]),(0,n.useEffect)(()=>{"admin"===(null===C||void 0===C?void 0:C.userType)&&T((0,t.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,n.useEffect)(()=>{(q||"company"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType))&&T((0,u.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===C||void 0===C?void 0:C.userType)?q:"company"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.companyId}))},[q]),(0,x.jsx)(m.A,{children:(0,x.jsx)("div",{className:"gap-4",children:(0,x.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:a(e=>{const d={companyId:"admin"===(null===C||void 0===C?void 0:C.userType)?q:"company"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.companyId,directorId:"",branchId:"company"===(null===C||void 0===C?void 0:C.userType)||"admin"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType)?L:"companyBranch"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.branchId,name:null===e||void 0===e?void 0:e.name};T((0,v.RJ)(d)).then(e=>{e.error||D(-1)})}),children:[(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===C||void 0===C?void 0:C.userType)&&(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(c.Q0),children:["Company ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)(l.xI,{control:g,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:d}=e;return(0,x.jsxs)(p.A,(0,i.A)((0,i.A)({},d),{},{defaultValue:"",className:"".concat(c.Hy," "),children:[(0,x.jsx)(p.A.Option,{value:"",children:"Select Company"}),B?(0,x.jsx)(p.A.Option,{disabled:!0,children:(0,x.jsx)(h.A,{})}):null===P||void 0===P?void 0:P.map(e=>(0,x.jsx)(p.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),N.PDCompanyId&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:N.PDCompanyId.message})]}),("admin"===(null===C||void 0===C?void 0:C.userType)||"company"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType))&&(0,x.jsxs)("div",{children:[(0,x.jsxs)("label",{className:"".concat(c.Q0),children:["Branch ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)(l.xI,{name:"PDBranchId",control:g,rules:{required:"Branch is required"},render:e=>{let{field:d}=e;return(0,x.jsxs)(p.A,(0,i.A)((0,i.A)({},d),{},{className:"".concat(c.Hy," ").concat(N.PDBranchId?"border-[1px] ":"border-gray-300"),placeholder:"Select Branch",children:[(0,x.jsx)(p.A.Option,{value:"",children:"Select Branch"}),O?(0,x.jsx)(p.A.Option,{disabled:!0,children:(0,x.jsx)(h.A,{})}):null===_||void 0===_?void 0:_.map(e=>(0,x.jsx)(p.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),N.PDBranchId&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:N.PDBranchId.message})]}),(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(c.Q0),children:["Name ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,i.A)((0,i.A)({type:"text"},d("name",{required:"Name is required"})),{},{className:"placeholder: ".concat(c.Ol," ").concat(N.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Digital Signature Type"})),N.name&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:N.name.message})]})]}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-2 md:my-2"}),(0,x.jsx)("div",{className:"flex justify-end ",children:(0,x.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded"),children:e?(0,x.jsx)(y.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=7138.793c8ece.chunk.js.map