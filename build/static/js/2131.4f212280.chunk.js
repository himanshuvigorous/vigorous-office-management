"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[2131],{2131:(e,a,l)=>{l.r(a),l.d(a,{default:()=>b});var s=l(89379),i=l(24858),n=l(83003),r=l(73216),d=l(65043),t=l(24869),c=l(31174),o=l(15187),m=l(33007),p=l(16210),x=l(39160),u=l(92823),v=l.n(u),h=l(65512),j=l(17995),g=l(55971),y=l(89427),N=l(70579);const b=()=>{const[e,a]=(0,d.useState)(!0),{register:l,handleSubmit:u,control:b,setValue:f,formState:{errors:A}}=(0,i.mN)(),{jobpostEnc:I}=(0,r.g)(),S=(0,c.Yc)(I),{jobPostDetails:O}=(0,n.d4)(e=>e.jobPost),E=(0,n.wA)(),T=(0,r.Zp)(),[q,D]=(0,d.useState)([]),[C,w]=(0,d.useState)(""),{designationList:k,loading:P}=(JSON.parse(localStorage.getItem("user_info_".concat(o.AU))),(0,n.d4)(e=>e.designation)),{departmentListData:Q,loading:L}=(0,n.d4)(e=>e.department),[V,M]=(0,d.useState)(""),R=(0,i.FH)({control:b,name:"PDDepartmentId",defaultValue:""}),[J,_]=(0,d.useState)(!1),{loading:F}=(0,n.d4)(e=>e.jobPost);(0,d.useEffect)(()=>{S&&E((0,t.Ms)({_id:S})).then(()=>{a(!1),E((0,p.EF)({companyId:null===O||void 0===O?void 0:O.companyId,branchId:null===O||void 0===O?void 0:O.branchId,departmentId:null===O||void 0===O?void 0:O.departmentId,isPagination:!1,sort:!0})),E((0,m.UU)({companyId:null===O||void 0===O?void 0:O.companyId,branchId:null===O||void 0===O?void 0:O.branchId,isPagination:!1,sort:!0}))})},[E,S]),(0,d.useEffect)(()=>{var e,a,l,s,i;O&&(f("jobTitle",null===O||void 0===O?void 0:O.title),f("jobdepartmentName",null===O||void 0===O?void 0:O.departmentName),f("departmentId",null===O||void 0===O?void 0:O.departmentId),f("designationId",null===O||void 0===O?void 0:O.designationId),f("jobdesignationName",null===O||void 0===O?void 0:O.designationName),f("noOfVacancy",null===O||void 0===O?void 0:O.noOfVacancy),f("location",null===O||void 0===O?void 0:O.location),f("currency",null===O||void 0===O||null===(e=O.salaryRange)||void 0===e?void 0:e.currency),f("maxSalary",null===O||void 0===O||null===(a=O.salaryRange)||void 0===a?void 0:a.max),f("minSalary",null===O||void 0===O||null===(l=O.salaryRange)||void 0===l?void 0:l.min),f("minExp",null===O||void 0===O||null===(s=O.experienceRange)||void 0===s?void 0:s.min),f("maxExp",null===O||void 0===O||null===(i=O.experienceRange)||void 0===i?void 0:i.max),f("employmentType",null===O||void 0===O?void 0:O.employmentType),f("profileType",null===O||void 0===O?void 0:O.profileType),f("status",null===O||void 0===O?void 0:O.status),D(null===O||void 0===O?void 0:O.requiredSkills),_(null===O||void 0===O?void 0:O.isImmediateJoiner),M(null===O||void 0===O?void 0:O.description))},[O,f]);(0,d.useEffect)(()=>{f("PDDesignationId","")},[R]);return(0,N.jsx)(x.A,{children:e?(0,N.jsx)("div",{className:"h-screen w-screen flex justify-center items-center",children:(0,N.jsx)(g.A,{})}):(0,N.jsx)("div",{className:"gap-4",children:(0,N.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:u(e=>{const a={_id:S,companyId:null===O||void 0===O?void 0:O.companyId,directorId:null===O||void 0===O?void 0:O.directorId,departmentId:null===O||void 0===O?void 0:O.departmentId,designationId:null===O||void 0===O?void 0:O.designationId,branchId:null===O||void 0===O?void 0:O.branchId,title:null===e||void 0===e?void 0:e.jobTitle,location:null===e||void 0===e?void 0:e.location,description:V,requiredSkills:q,profileType:null===e||void 0===e?void 0:e.profileType,noOfVacancy:parseInt(null===e||void 0===e?void 0:e.noOfVacancy),employmentType:null===e||void 0===e?void 0:e.employmentType,salaryRange:{min:parseInt(null===e||void 0===e?void 0:e.minSalary),max:parseInt(null===e||void 0===e?void 0:e.maxSalary),currency:null===e||void 0===e?void 0:e.currency},experienceRange:{min:parseInt(null===e||void 0===e?void 0:e.minExp),max:parseInt(null===e||void 0===e?void 0:e.maxExp)},isImmediateJoiner:J,status:null===e||void 0===e?void 0:e.status};E((0,t.vr)(a)).then(e=>{e.error||T(-1)})}),children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-5 md:my-2",children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Job Post Name ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"text"},l("jobTitle",{required:"Job Post Name is required"})),{},{className:" ".concat(o.Ol," ").concat(A.jobTitle?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Job Post Name"})),A.jobTitle&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:A.jobTitle.message})]}),(null===O||void 0===O?void 0:O.isApplicationCreated)&&(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:my-1 ",children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Department ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({disabled:!0,type:"text"},l("jobdepartmentName")),{},{className:" ".concat(o.id,"  "),placeholder:"Enter Department"}))]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Designation ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({disabled:!0,type:"text"},l("jobdesignationName")),{},{className:" ".concat(o.id,"  "),placeholder:"Enter Designation"}))]})]}),!(null!==O&&void 0!==O&&O.isApplicationCreated)&&(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 ",children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Department ",(0,N.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,N.jsx)(i.xI,{name:"departmentId",control:b,rules:{required:"Department is required"},render:e=>{var a;let{field:l}=e;return(0,N.jsxs)(h.A,(0,s.A)((0,s.A)({},l),{},{onChange:e=>{f("designationId",""),l.onChange(e)},className:" ".concat(o.Hy," ").concat(A.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Department",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)(h.A.Option,{value:"",children:"Select Department"}),L?(0,N.jsx)(h.A.Option,{disabled:!0,children:(0,N.jsx)(y.A,{})}):null===(a=(0,o._o)(Q,"name"))||void 0===a?void 0:a.map(e=>(0,N.jsxs)(h.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.name," "]}))]}))}}),A.departmentId&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:A.departmentId.message})]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:[" Designation ",(0,N.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,N.jsx)(i.xI,{name:"designationId",control:b,rules:{required:"Designation is required"},render:e=>{let{field:a}=e;return(0,N.jsxs)(h.A,(0,s.A)((0,s.A)({},a),{},{className:" ".concat(o.Hy," ").concat(A.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Designation",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)(h.A.Option,{value:"",children:"Select Designation"}),P?(0,N.jsx)(h.A.Option,{disabled:!0,children:(0,N.jsx)(y.A,{})}):null===k||void 0===k?void 0:k.map(e=>(0,N.jsxs)(h.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.name," "]}))]}))}}),A.designationId&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:A.designationId.message})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:my-1 ",children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:[" ","No.of Vacancy ",(0,N.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"number"},l("noOfVacancy",{required:"No of Vacancy is required"})),{},{className:" ".concat(o.Ol," ").concat(A.noOfVacancy?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter No of Vacancy"})),A.noOfVacancy&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:A.noOfVacancy.message})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Employment Type ",(0,N.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,N.jsx)(i.xI,{name:"employmentType",control:b,rules:{required:"Employment Type is required"},render:e=>{let{field:a}=e;return(0,N.jsxs)(h.A,(0,s.A)((0,s.A)({},a),{},{className:"".concat(o.Hy," ").concat(A.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Employment Type",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)(h.A.Option,{value:"",children:"Select Employment Type"}),(0,N.jsxs)(h.A.Option,{value:"Full-Time",children:[" ","Full - Time"," "]}),(0,N.jsxs)(h.A.Option,{value:"Part - Time",children:["Part - Time"," "]}),(0,N.jsx)(h.A.Option,{value:"Contract",children:"Contract "}),(0,N.jsxs)(h.A.Option,{value:"Internship",children:["Internship"," "]})]}))}}),A.employmentType&&(0,N.jsxs)("p",{className:"text-red-500 text-sm",children:[" ",A.employmentType.message," "]})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Profile Type ",(0,N.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,N.jsx)(i.xI,{name:"profileType",control:b,rules:{required:"profileType is required"},render:e=>{let{field:a}=e;return(0,N.jsxs)(h.A,(0,s.A)((0,s.A)({},a),{},{className:" ".concat(o.Hy," ").concat(A.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select profileType",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)(h.A.Option,{value:"",children:"Select profileType"}),(0,N.jsx)(h.A.Option,{value:"Intern",children:"Intern "}),(0,N.jsx)(h.A.Option,{value:"Fresher",children:" Fresher "}),(0,N.jsx)(h.A.Option,{value:"Experience",children:"Experience  "})]}))}}),A.profileType&&(0,N.jsxs)("p",{className:"text-red-500 text-sm",children:[" ",A.profileType.message," "]})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:my-1 ",children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:[" ","Location ",(0,N.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"text"},l("location",{required:"Location is required"})),{},{className:" ".concat(o.Ol," ").concat(A.location?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Location"})),A.location&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:A.location.message})]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Min Salary (INR)",(0,N.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"text"},l("minSalary",{required:"Minimum salary is required",pattern:{value:/^\d+(\.\d+)?$/,message:"Only numeric or decimal values are allowed"}})),{},{onInput:e=>{e.target.value=e.target.value.replace(/[^0-9.]/g,""),(e.target.value.match(/\./g)||[]).length>1&&(e.target.value=e.target.value.slice(0,-1))},className:"placeholder: ".concat(o.Ol," ").concat(A.minSalary?"border-[1px] ":"border-gray-300"),placeholder:"Enter Expected Salary"})),A.minSalary&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:A.minSalary.message})]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Max Salary (INR) ",(0,N.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"text"},l("maxSalary",{required:"Maximum salary is required",pattern:{value:/^\d+(\.\d+)?$/,message:"Only numeric or decimal values are allowed"}})),{},{onInput:e=>{e.target.value=e.target.value.replace(/[^0-9.]/g,""),(e.target.value.match(/\./g)||[]).length>1&&(e.target.value=e.target.value.slice(0,-1))},className:"placeholder: ".concat(o.Ol," ").concat(A.maxSalary?"border-[1px] ":"border-gray-300"),placeholder:"Enter expected salary"})),A.maxSalary&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:A.maxSalary.message})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 ",children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Min (in Years) ",(0,N.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"number"},l("minExp",{required:"Min Range is required"})),{},{className:" ".concat(o.Ol," ").concat(A.minExp?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Minimum Experience"})),A.minExp&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:A.minExp.message})]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Max (in Years) ",(0,N.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"number"},l("maxExp",{required:"Max Range is required"})),{},{className:" ".concat(o.Ol," ").concat(A.maxExp?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Maximum Experience"})),A.maxExp&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:A.maxExp.message})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Skills ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"text"},l("skills")),{},{className:"".concat(o.Ol," ").concat(A.skills?"border-[1px] ":"border-gray-300"),placeholder:"Write Skills & Press Enter",value:C,onChange:e=>{w(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&""!==C.trim()&&(e.preventDefault(),D(e=>[...e,C.trim()]),w(""))}})),0===q.length&&A.skills&&(0,N.jsx)("p",{className:"text-red-500 text-sm mt-1",children:A.skills.message})]}),(0,N.jsx)("div",{className:"flex flex-wrap gap-4 mt-2",children:q.map((e,a)=>(0,N.jsxs)("span",{className:"bg-gray-200 text-gray-700 px-3 py-1 text-xs rounded-full flex items-center gap-2",children:[e,(0,N.jsx)("button",{type:"button",onClick:()=>{return a=e,void D(e=>e.filter(e=>e!==a));var a},className:"text-red-500 hover:text-red-700",children:"\xd7"})]},a))})]}),(0,N.jsx)("div",{className:"grid md:grid-cols-2 grid-cols-1",children:(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Status ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)(i.xI,{control:b,name:"status",rules:{required:"status is required"},render:e=>{let{field:a}=e;return(0,N.jsxs)(h.A,(0,s.A)((0,s.A)({},a),{},{defaultValue:"",className:" ".concat(o.Hy," "),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)(h.A.Option,{className:"",value:"",children:"Select Status"}),(0,N.jsx)(h.A.Option,{value:"Open",children:"Open"}),(0,N.jsx)(h.A.Option,{value:"Closed",children:"Closed"}),(0,N.jsx)(h.A.Option,{value:"Draft",children:"Draft"})]}))}})]})}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(o.Q0),children:["Job Description ",(0,N.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,N.jsx)(v(),{value:V,onChange:e=>{M(e)},placeholder:"Write the email body here",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike"],[{align:[]}],["link","image","video"],["blockquote","code-block"],["clean"]]},formats:["header","font","list","bold","italic","underline","link","align","clean"]})]}),(0,N.jsxs)("div",{className:"flex items-center mt-2 p-3",children:[(0,N.jsx)("input",{type:"checkbox",id:"immediateJoiner",checked:J,onChange:e=>{return a=e.target.checked,void _(a);var a},className:"mr-2"}),(0,N.jsx)("label",{htmlFor:"immediateJoiner",className:"".concat(o.Q0),children:"isImmediateJoiner"})]})]}),(0,N.jsx)("div",{className:"flex justify-end mt-4",children:(0,N.jsx)("button",{type:"submit",disabled:F,className:"".concat(F?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded"),children:F?(0,N.jsx)(j.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=2131.4f212280.chunk.js.map