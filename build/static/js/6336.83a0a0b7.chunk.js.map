{"version":3,"file":"static/js/6336.83a0a0b7.chunk.js","mappings":"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","sources":["pages/client/event/EventList.js","global_layouts/Loader/Loader.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport GlobalLayout from \"../../../global_layouts/GlobalLayout/GlobalLayout\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport Swal from \"sweetalert2\";\nimport { encrypt } from \"../../../config/Encryption\";\nimport { FaPlus, FaPenToSquare } from \"react-icons/fa6\";\nimport { RiDeleteBin5Line } from \"react-icons/ri\";\nimport { Controller, useForm, useWatch } from \"react-hook-form\";\nimport {\n  domainName,\n  inputAntdSelectClassNameFilter,\n  inputClassNameSearch,\n} from \"../../../constents/global\";\nimport CustomPagination from \"../../../component/CustomPagination/CustomPagination\";\nimport { branchSearch } from \"../../branch/branchManagement/branchFeatures/_branch_reducers\";\nimport { companySearch } from \"../../company/companyManagement/companyFeatures/_company_reducers\";\nimport Loader from \"../../../global_layouts/Loader/Loader\";\nimport {\n  getEventDataList,\n  eventSearch,\n  deleteEventFunc,\n} from \"../event/eventFeatures/_event_reducers\";\nimport moment from \"moment\";\nimport { Select, Tooltip, Dropdown } from \"antd\";\nimport usePermissions from \"../../../config/usePermissions\";\nimport Loader2 from \"../../../global_layouts/Loader/Loader2\";\nimport { PiDotsThreeOutlineVerticalBold } from 'react-icons/pi';\nimport ListLoader from \"../../../global_layouts/ListLoader\";\n\n\nfunction EventList() {\n  const {\n    register,\n    setValue,\n    control,\n    formState: { errors },\n  } = useForm();\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const userInfoglobal = JSON.parse(\n    localStorage.getItem(`user_info_${domainName}`)\n  );\n  const { companyList } = useSelector((state) => state.company);\n  const { branchList, branchListloading } = useSelector((state) => state.branch);\n  const { eventDataList, totalEventCount, loading } = useSelector(\n    (state) => state.event\n  );\n\n  const CompanyId = useWatch({\n    control,\n    name: \"PDCompanyId\",\n    defaultValue: \"\",\n  });\n  const BranchId = useWatch({\n    control,\n    name: \"PDBranchId\",\n    defaultValue: \"\",\n  });\n\n  const status = useWatch({\n    control,\n    name: \"status\",\n    defaultValue: \"\",\n  });\n\n  const [searchText, setSearchText] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const limit = 10;\n\n  const onPaginationChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  const filters = [BranchId, CompanyId, status, searchText].join(\"-\");\n\n  const [isFirstRender ,setisFirstRender] = useState(false)\n  \n    useEffect(() => {\n      if (!isFirstRender) {\n        setisFirstRender(state=>true);\n        return;\n      }\n    if (currentPage === 1) {\n      fetchEventList();\n    } else {\n      setCurrentPage(1);\n    }\n  }, [filters]);\n\n  useEffect(() => {\n    fetchEventList();\n  }, [currentPage]);\n\n  const fetchEventList = () => {\n    const reqData = {\n      page: currentPage,\n      limit: limit,\n      reqPayload: {\n        companyId:\n          userInfoglobal?.userType === \"admin\"\n            ? CompanyId\n            : userInfoglobal?.userType === \"company\"\n              ? userInfoglobal?._id\n              : userInfoglobal?.companyId,\n        branchId:\n          userInfoglobal?.userType === \"company\" ||\n            userInfoglobal?.userType === \"admin\" ||\n            userInfoglobal?.userType === \"companyDirector\"\n            ? BranchId\n            : userInfoglobal?.userType === \"companyBranch\"\n              ? userInfoglobal?._id\n              : userInfoglobal?.branchId,\n        directorId: \"\",\n        text: searchText,\n        sort: true,\n        status: status === \"true\" ? true : status === \"false\" ? false : \"\",\n        isPagination: true,\n      },\n    };\n    dispatch(getEventDataList(reqData));\n  };\n\n  const handleDelete = (id) => {\n    let reqData = {\n      _id: id,\n    };\n    Swal.fire({\n      title: \"Warning\",\n      text: \"Are you sure you want to delete!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      cancelButtonText: \"No\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        dispatch(deleteEventFunc(reqData)).then((data) => {\n          // fetchEventList();\n          if (currentPage > 1 && eventDataList?.length == 1) {\n            setCurrentPage(Number(currentPage - 1));\n\n          } else {\n            fetchEventList();\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (\n      CompanyId ||\n      userInfoglobal?.userType === \"company\" ||\n      userInfoglobal?.userType === \"companyDirector\"\n    ) {\n      dispatch(\n        branchSearch({\n          text: \"\",\n          sort: true,\n          status: true,\n          isPagination: false,\n          companyId:\n            userInfoglobal?.userType === \"admin\"\n              ? CompanyId\n              : userInfoglobal?.userType === \"company\"\n                ? userInfoglobal?._id\n                : userInfoglobal?.companyId,\n        })\n      );\n    }\n  }, [CompanyId]);\n\n  useEffect(() => {\n    if (userInfoglobal?.userType === \"admin\") {\n      dispatch(\n        companySearch({\n          text: \"\",\n          sort: true,\n          status: true,\n          isPagination: false,\n        })\n      );\n    }\n  }, []);\n\n\n  const { canCreate, canRead, canUpdate, canDelete } = usePermissions();\n\n  const onChange = (e) => {\n\n    setSearchText(e);\n  };\n\n  return (\n    <GlobalLayout onChange={onChange}>\n      <section>\n        <div className=\"lg:flex justify-between items-center xl:space-y-0 space-y-2 py-1\">\n          <div className=\"grid md:flex sm:grid-cols-3 grid-cols-1 flex-wrap md:gap-3 gap-1.5\">\n            {userInfoglobal?.userType === \"admin\" && (\n              <div className=\"\">\n                <Controller\n                  control={control}\n                  name=\"PDCompanyId\"\n                  rules={{ required: \"Company is required\" }}\n                  render={({ field }) => (\n                    <Select\n                      {...field}\n                      defaultValue={\"\"}\n                      disabled={loading}\n                      className={`${inputAntdSelectClassNameFilter} `}\n                    >\n                      <Select.Option value=\"\">Select Company</Select.Option>\n                      {companyList?.map((type) => (\n                        <Select.Option key={type?._id} value={type?._id}>\n                          {type?.fullName}\n                        </Select.Option>\n                      ))}\n                    </Select>\n                  )}\n                />\n                {errors.PDCompanyId && (\n                  <p className=\"text-red-500 text-sm\">\n                    {errors.PDCompanyId.message}\n                  </p>\n                )}\n              </div>\n            )}\n            {(userInfoglobal?.userType === \"admin\" ||\n              userInfoglobal?.userType === \"company\" ||\n              userInfoglobal?.userType === \"companyDirector\") && (\n                <div className=\"\">\n                  <Controller\n                    control={control}\n                    name=\"PDBranchId\"\n                    rules={{ required: \"Branch is required\" }}\n                    render={({ field }) => (\n                      <Select\n                        {...field}\n                        defaultValue={\"\"}\n                        disabled={loading}\n                        className={`${inputAntdSelectClassNameFilter} `}\n                      >\n                        <Select.Option value=\"\">Select Branch</Select.Option>\n                        {branchListloading ? (<Select.Option disabled>\n                          <ListLoader />\n                        </Select.Option>) : (branchList?.map((type) => (\n                          <Select.Option key={type?._id} value={type?._id}>\n                            {type?.fullName}\n                          </Select.Option>\n                        )))}\n                      </Select>\n                    )}\n                  />\n                  {errors.PDBranchId && (\n                    <p className=\"text-red-500 text-sm\">\n                      {errors.PDBranchId.message}\n                    </p>\n                  )}\n                </div>\n              )}\n            <div>\n              <Controller\n                control={control}\n                name=\"status\"\n                rules={{ required: \"Status is required\" }}\n                render={({ field }) => (\n                  <Select\n                    {...field}\n                    defaultValue={\"\"}\n                    disabled={loading}\n                    className={`${inputAntdSelectClassNameFilter} `}\n                  >\n                    <Select.Option value=\"\">Select status</Select.Option>\n                    <Select.Option value=\"true\">Active</Select.Option>\n                    <Select.Option value=\"false\">Inactive</Select.Option>\n                  </Select>\n                )}\n              />\n            </div>\n          </div>\n          <div className=\"flex justify-end items-end gap-2\">\n            <button\n              onClick={() => {\n                setValue(\"PDBranchId\", '')\n                setValue(\"PDCompanyId\", \"\")\n                setValue(\"status\", \"\")\n              }}\n              className=\"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white\">\n              <span className=\"text-[12px]\">Reset</span>\n            </button>\n            {canCreate && (\n              <Tooltip placement=\"topLeft\"  title='Add Event'>\n                <button\n                  onClick={() => {\n                    navigate(\"/admin/event/create\");\n                  }}\n                  className=\"bg-header px-2 py-1.5 rounded-md flex justify-center items-center space-x-2 text-white\"\n                >\n                  <FaPlus />\n                  <span className=\"text-[12px]\">Add Event</span>\n                </button>\n              </Tooltip>\n            )}\n          </div>\n        </div>\n        <div className=\"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl\">\n          {canRead && (\n            <table className=\"w-full max-w-full rounded-xl overflow-x-auto \">\n              <thead className=\"\">\n                <tr className=\"border-b-[1px] border-[#DDDDDD] capitalize bg-header text-white font-[500] h-[40px]\">\n                  <th className=\"tableHead w-[10%]\">S.No.</th>\n                  <th className=\"tableHead\">Title</th>\n                  <th className=\"tableHead\">Date</th>\n                  <th className=\"tableHead\">Created At</th>\n                  <th className=\"tableHead\">Created By</th>\n                  <th className=\"tableHead\">Status</th>\n                  {(canDelete || canUpdate) && (\n                    <th className=\"tableHead w-[15%]\">\n                      Action\n                    </th>\n                  )}\n                </tr>\n              </thead>\n\n              {loading ? (\n                <tr className=\"bg-white bg-opacity-5 \">\n                  <td\n                    colSpan={10}\n                    className=\"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500\"\n                  >\n                    <Loader2 />\n                  </td>\n                </tr>\n              ) : (\n                <tbody>\n                  {eventDataList && eventDataList?.length > 0 ? (\n                    eventDataList?.map((element, index) => (\n                      <tr\n                        className={`border-b-[1px] border-[#DDDDDD] ${index % 2 === 0 ? \"bg-[#e9ecef]/80\" : \"bg-white\"\n                          } text-[#374151]`}\n                      >\n                        <td className=\"tableData \">\n                          {index + 1 + (currentPage - 1) * limit}\n                        </td>\n                        <td className=\"tableData \">\n                          {element?.title ?? \"-\"}\n                        </td>\n                        <td className=\"tableData \">\n                          {moment(element?.date).format(\"DD-MM-YYYY\") ?? '-'}\n                        </td>\n                        <td className=\"tableData \">\n                          {moment(element?.createdAt).format(\"DD-MM-YYYY hh:mm a\") ?? '-'}\n                        </td>\n                        <td className=\"tableData \">\n                          {element?.createdBy ?? \"-\"}\n                        </td>\n\n                        <td className=\"tableData \">\n                          <span\n                            className={`${element?.status\n                              ? \"bg-[#E0FFBE] border-green-500\"\n                              : \"bg-red-200 border-red-500\"\n                              } border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]`}\n                          >\n                            {element?.status ? \"Active\" : \"Inactive\" ?? \"-\"}\n                          </span>\n                        </td>\n                        {(canDelete || canUpdate) && (\n                          <td className=\"tableData\">\n                            <Dropdown\n                              menu={{\n                                items: [\n                                  canUpdate && {\n                                    key: 'edit',\n                                    label: (\n                                      <span\n                                        onClick={() => navigate(`/admin/event/edit/${encrypt(element?._id)}`)}\n                                        className=\"flex items-center text-[#3c8dbc] hover:text-[#337ab7]\"\n                                      >\n                                        <FaPenToSquare className=\"mr-2\" size={16} />\n                                        Edit\n                                      </span>\n                                    ),\n                                  },\n                                  canDelete && {\n                                    key: 'delete',\n                                    label: (\n                                      <span\n                                        onClick={() => handleDelete(element?._id)}\n                                        className=\"flex items-center text-red-600 hover:text-red-500\"\n                                      >\n                                        <RiDeleteBin5Line className=\"mr-2\" size={16} />\n                                        Delete\n                                      </span>\n                                    ),\n                                  },\n                                ].filter(Boolean),\n                              }}\n                              trigger={['click']}\n                            >\n                              <Tooltip placement=\"topLeft\"  title=\"More Actions\">\n                                <button\n                                  className=\"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted\"\n                                  type=\"button\"\n                                >\n                                  <PiDotsThreeOutlineVerticalBold\n                                    className=\"hover:text-[#337ab7] text-[#3c8dbc]\"\n                                    size={16}\n                                  />\n                                </button>\n                              </Tooltip>\n                            </Dropdown>\n\n                          </td>\n                        )}\n                      </tr>\n                    ))\n                  ) : (\n                    <tr className=\"bg-white bg-opacity-5 \">\n                      <td\n                        colSpan={5}\n                        className=\"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500\"\n                      >\n                        Record Not Found\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              )}\n            </table>\n          )}\n        </div>\n        {eventDataList?.length > 0 && (\n          <CustomPagination\n            totalCount={totalEventCount}\n            pageSize={limit}\n            currentPage={currentPage}\n            onChange={onPaginationChange}\n          />\n        )}\n      </section>\n    </GlobalLayout>\n  );\n}\nexport default EventList;\n","import { Spin } from \"antd\"\n\nfunction Loader() {\n    return (\n       <div className=\"flex justify-center items-center h-[80vh]\">\n         {/* <div class=\"loader\"></div> */} \n         <Spin size=\"large\" />\n       </div>\n    )\n}\n\nexport default Loader\n"],"names":["register","setValue","control","formState","errors","useForm","navigate","useNavigate","dispatch","useDispatch","userInfoglobal","JSON","parse","localStorage","getItem","concat","domainName","companyList","useSelector","state","company","branchList","branchListloading","branch","eventDataList","totalEventCount","loading","event","CompanyId","useWatch","name","defaultValue","BranchId","status","searchText","setSearchText","useState","currentPage","setCurrentPage","filters","join","isFirstRender","setisFirstRender","useEffect","fetchEventList","reqData","page","limit","reqPayload","companyId","userType","_id","branchId","directorId","text","sort","isPagination","getEventDataList","branchSearch","companySearch","canCreate","canRead","canUpdate","canDelete","usePermissions","_jsx","GlobalLayout","onChange","e","children","_jsxs","className","Controller","rules","required","render","_ref","field","Select","_objectSpread","disabled","inputAntdSelectClassNameFilter","Option","value","map","type","fullName","PDCompanyId","message","_ref2","ListLoader","PDBranchId","_ref3","onClick","Tooltip","placement","title","FaPlus","colSpan","Loader2","length","element","index","_element$title","_moment$format","_moment$format2","_element$createdBy","_Inactive","moment","date","format","createdAt","createdBy","Dropdown","menu","items","key","label","encrypt","FaPenToSquare","size","id","Swal","icon","showCancelButton","cancelButtonText","then","result","isConfirmed","deleteEventFunc","data","Number","handleDelete","RiDeleteBin5Line","filter","Boolean","trigger","PiDotsThreeOutlineVerticalBold","CustomPagination","totalCount","pageSize","Spin"],"sourceRoot":""}