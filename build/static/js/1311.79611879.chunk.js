"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[1311],{81311:(e,d,o)=>{o.r(d),o.d(d,{default:()=>x});var i=o(89379),l=o(24858),r=o(83003),a=o(35475),n=o(73216),s=o(15187),c=o(65043),t=o(65512),u=o(39160),v=o(17995),m=o(89427),p=o(31744),h=o(10405),y=o(70579);const x=function(){const{loading:e}=(0,r.d4)(e=>e.leadCategory),[d,o]=(0,a.ok)(),x=d.get("parentPageId")||null,{register:g,handleSubmit:b,control:j,formState:{errors:f}}=(0,l.mN)(),I=(0,r.wA)(),N=(0,n.Zp)(),C=JSON.parse(localStorage.getItem("user_info_".concat(s.AU))),{branchList:A,branchListloading:T}=(0,r.d4)(e=>e.branch);return(0,c.useEffect)(()=>{"company"!==(null===C||void 0===C?void 0:C.userType)&&"companyDirector"!==(null===C||void 0===C?void 0:C.userType)||I((0,p.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.companyId}))},[]),(0,y.jsx)(u.A,{children:(0,y.jsx)("div",{className:"gap-4",children:(0,y.jsxs)("form",{autoComplete:"off",className:"mt-5 md:px-1",onSubmit:b(e=>{const d={companyId:"company"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.companyId,directorId:"companyDirector"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.directorId,branchId:"admin"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType)||"company"===(null===C||void 0===C?void 0:C.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===C||void 0===C?void 0:C.userType)?null===C||void 0===C?void 0:C._id:null===C||void 0===C?void 0:C.branchId,leadCategoryId:x||null,name:null===e||void 0===e?void 0:e.Category};I((0,h.fD)(d)).then(e=>{null!==e&&void 0!==e&&e.error||N(-1)})}),children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-2 md:my-2",children:[("admin"===(null===C||void 0===C?void 0:C.userType)||"company"===(null===C||void 0===C?void 0:C.userType)||"companyDirector"===(null===C||void 0===C?void 0:C.userType))&&(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("label",{className:"".concat(s.Q0),children:["Branch ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(l.xI,{name:"PDBranchId",control:j,rules:{required:"Branch is required"},render:e=>{let{field:d}=e;return(0,y.jsxs)(t.A,(0,i.A)((0,i.A)({},d),{},{className:"".concat(s.Hy," ").concat(f.PDBranchId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Branch",children:[(0,y.jsx)(t.A.Option,{value:"",children:"Select Branch"}),T?(0,y.jsx)(t.A.Option,{disabled:!0,children:(0,y.jsx)(m.A,{})}):null===A||void 0===A?void 0:A.map(e=>(0,y.jsx)(t.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),f.PDBranchId&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:f.PDBranchId.message})]}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)("label",{className:"".concat(s.Q0),children:"Category"}),(0,y.jsx)("input",(0,i.A)((0,i.A)({type:"text"},g("Category",{required:"Category is required"})),{},{className:" ".concat(s.Ol," ").concat(f.Category?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Category"})),f.Category&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:f.Category.message})]})]}),(0,y.jsx)("div",{className:"flex justify-end ",children:(0,y.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 mt-3 px-4 rounded"),children:e?(0,y.jsx)(v.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=1311.79611879.chunk.js.map