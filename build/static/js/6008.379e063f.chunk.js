"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[6008],{46008:(e,l,r)=>{r.r(l),r.d(l,{default:()=>y});var a=r(89379),t=r(24858),n=r(39160),s=r(83003),c=r(73216),i=r(15187),o=r(67353),d=(r(65043),r(94084),r(86178),r(67384)),x=r(65512),m=r(70579);const p=()=>(0,m.jsx)("div",{className:"bg-[#ffffff] text-[13px] text-[#676a6c] w-full overflow-x-auto mt-1",children:(0,m.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-hidden ",children:[(0,m.jsx)("thead",{children:(0,m.jsx)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500]  h-[40px]",children:["Variant Type","Interval Unit","Billing Cycle","Total Duration","Charge Frequency","Example Plan"].map(e=>(0,m.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:e},e))})}),(0,m.jsx)("tbody",{children:[{intervalUnit:"weekly",billingCycle:"4 cycles",totalDuration:"28 days (7\xd74)",chargeFrequency:"Every 7 days",example:"\u20b9500/week for 4 weeks"},{intervalUnit:"monthly",billingCycle:"6 cycles",totalDuration:"6 months",chargeFrequency:"Every month",example:"\u20b9700/month for 6 months"},{intervalUnit:"yearly",billingCycle:"1 cycle",totalDuration:"1 year",chargeFrequency:"Once per year",example:"\u20b95000/year for 1 year"}].map((e,l)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:l+1}),(0,m.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:e.intervalUnit}),(0,m.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:e.billingCycle}),(0,m.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:e.totalDuration}),(0,m.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:e.chargeFrequency}),(0,m.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:e.example})]},l))})]})});var u=r(30064),h=r.n(u);const y=function(){const{register:e,handleSubmit:l,getValues:r,setValue:u,control:y,formState:{errors:j}}=(0,t.mN)(),g=(0,s.wA)(),v=(0,c.Zp)();function f(e,l,r){return l*r*({daily:1,weekly:7,monthly:30,yearly:365}[e]||30)}const C=(0,t.FH)({control:y,name:"colorCode",defaultValue:""}),N=((0,t.FH)({control:y,name:"price",defaultValue:""}),(0,t.FH)({control:y,name:"cutPrice",defaultValue:""}),(0,t.FH)({control:y,name:"billingCycle",defaultValue:""})),w=(0,t.FH)({control:y,name:"intervalCycle",defaultValue:""});return(0,m.jsx)(n.A,{children:(0,m.jsx)("div",{className:"gap-4",children:(0,m.jsxs)("form",{autoComplete:"off",className:"mt-5 md:px-1",onSubmit:l(e=>{const{billingCycle:l,intervalCycle:r,price:a}=e,t=b({billingCycle:l,intervalCount:1,intervalCycle:r,amount:a,days:r&&l?+f(r,1,l):0});h().fire({title:"Please Confirm",text:t,icon:"warning",showCancelButton:!0,confirmButtonText:"Confirm",cancelButtonText:"Cancel",customClass:{cancelButton:"bg-rose-500",confirmButton:"bg-header"}}).then(a=>{if(a.isConfirmed){const a={title:e.title,description:e.description,price:e.price,cutPrice:e.cutPrice,colorCode:e.colorCode,days:r&&l?+f(r,1,l):"",discountExpireIn:e.expireIn,features:null===e||void 0===e?void 0:e.features,interval:null===e||void 0===e?void 0:e.intervalCycle,intervalCount:1,billingCycle:null===e||void 0===e?void 0:e.billingCycle};g((0,o.s7)(a)).then(e=>{e.error||v("/admin/plan")})}})}),children:[(0,m.jsx)(p,{}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"".concat(i.Q0),children:["Title ",(0,m.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,m.jsx)("input",(0,a.A)((0,a.A)({type:"text"},e("title",{required:"Title is required"})),{},{className:"".concat(i.Ol," ").concat(j.title?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Title"})),j.title&&(0,m.jsx)("p",{className:"text-red-500 text-sm",children:j.title.message})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"".concat(i.Q0),children:["Description ",(0,m.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,m.jsx)("input",(0,a.A)((0,a.A)({type:"text"},e("description",{required:"Description is required"})),{},{className:"".concat(i.Ol," ").concat(j.description?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Description"})),j.description&&(0,m.jsx)("p",{className:"text-red-500 text-sm",children:j.description.message})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"".concat(i.Q0),children:["Price (\u20b9) ",(0,m.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,m.jsx)("input",(0,a.A)((0,a.A)({type:"number"},e("price",{required:"Price is required"})),{},{className:"".concat(i.Ol," ").concat(j.price?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Price"})),j.price&&(0,m.jsx)("p",{className:"text-red-500 text-sm",children:j.price.message})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"".concat(i.Q0),children:["Color Code ",(0,m.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,m.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,m.jsx)("input",(0,a.A)((0,a.A)({type:"text",value:C},e("colorCode",{required:"Color Code is required",pattern:{value:/^#[0-9A-Fa-f]{6}$/,message:"Enter a valid Hex color code (e.g., #FF5733)"}})),{},{onChange:e=>{},className:"".concat(j.colorCode?"border-[1px] ":"border-gray-300"," w-full py-2 pl-3 pr-16 rounded"),placeholder:"#FF5733",maxLength:7})),(0,m.jsx)(d.A,{value:C,onChange:e=>{const{r:l,g:r,b:a,a:t}=e.metaColor,n=((e,l,r)=>{const a=e=>{const l=e.toString(16);return 1===l.length?"0"+l:l};return"#".concat(a(e)).concat(a(l)).concat(a(r))})(l,r,a);u("colorCode",n)},className:"absolute right-1 top-1/2 transform -translate-y-1/2 md:w-75 w-1/2 h-10 cursor-pointer"})]}),j.colorCode&&(0,m.jsx)("p",{className:"text-red-500 text-sm",children:j.colorCode.message})]}),(0,m.jsxs)("div",{className:"",children:[(0,m.jsxs)("label",{className:"".concat(i.Q0),children:["Interval ",(0,m.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,m.jsx)(t.xI,{name:"intervalCycle",control:y,rules:{required:"Interval is required"},render:e=>{let{field:l}=e;return(0,m.jsxs)(x.A,(0,a.A)((0,a.A)({},l),{},{className:" ".concat(i.Hy," ").concat(j.intervalCycle?"border-[1px] ":"border-gray-300"),placeholder:"Select Interval",showSearch:!0,children:[(0,m.jsx)(x.A.Option,{value:"",children:"Select Interval"}),(0,m.jsx)(x.A.Option,{value:"weekly",children:"Weekly"}),(0,m.jsx)(x.A.Option,{value:"monthly",children:"Monthly"}),(0,m.jsx)(x.A.Option,{value:"yearly",children:"Yearly"})]}))}}),j.intervalCycle&&(0,m.jsx)("p",{className:"text-red-500 text-sm",children:j.intervalCycle.message})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"".concat(i.Q0," flex gap-2 items-center "),children:["Billing Cycle",(0,m.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,m.jsx)("input",(0,a.A)((0,a.A)({type:"number"},e("billingCycle",{required:"Billing Cycle is required"})),{},{className:"".concat(i.Ol," ").concat(j.billingCycle?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Billing Cycle"})),j.billingCycle&&(0,m.jsx)("p",{className:"text-red-500 text-sm",children:j.billingCycle.message})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"".concat(i.Q0," flex gap-2 items-center "),children:["Duration (Days)   ",(0,m.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,m.jsx)("input",{type:"number",disabled:!0,value:w&&N?f(w,1,N):"",className:"".concat(i.id," ").concat(j.duration?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Duration"}),j.duration&&(0,m.jsx)("p",{className:"text-red-500 text-sm",children:j.duration.message})]}),(0,m.jsxs)("div",{className:"",children:[(0,m.jsxs)("label",{className:"".concat(i.Q0),children:["Features ",(0,m.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,m.jsx)(t.xI,{name:"features",control:y,defaultValue:[],rules:{required:"At least one feature is required"},render:e=>{let{field:l}=e;return(0,m.jsx)(x.A,(0,a.A)((0,a.A)({},l),{},{mode:"tags",placeholder:"Please write and press enter",style:{width:"100%"},className:"".concat(i.Ol)}))}}),j.features&&(0,m.jsx)("p",{className:"text-red-500 text-sm",children:j.features.message})]})]}),(0,m.jsx)("div",{className:"flex justify-end ",children:(0,m.jsx)("button",{type:"submit",className:"bg-header text-white p-2 px-4 rounded mt-4",children:"Submit"})})]})})})},b=e=>{let{billingCycle:l,intervalCount:r,intervalCycle:a,amount:t,days:n}=e;const s={Daily:"day",Weekly:"week","Bi-Weekly":"2 weeks",Monthly:"month",Quarterly:"3 months","Half-Yearly":"6 months",Yearly:"year","Bi-Yearly":"2 years"}[l]||"unit",c=t*l,i=n;return"\u26a0\ufe0f You are about to create a ".concat(a," Plan that bills \u20b9").concat(t," every ").concat(r," ").concat(s," for ").concat(l," cycles (total: \u20b9").concat(c," over ").concat(i,"). Confirm before creating")}}}]);
//# sourceMappingURL=6008.379e063f.chunk.js.map