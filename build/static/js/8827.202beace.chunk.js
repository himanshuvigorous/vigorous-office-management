"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[8827],{18827:(e,a,d)=>{d.r(a),d.d(a,{default:()=>x});var r=d(89379),n=d(24858),l=d(83003),i=d(73216),o=d(65043),s=d(15187),c=d(31744),t=d(78729),m=d(39160),u=d(65512),p=d(17995),v=d(89427),y=d(13561),h=d(70579);const x=()=>{const{loading:e}=(0,l.d4)(e=>e.wfhManager),{register:a,handleSubmit:d,control:x,formState:{errors:N},setValue:g}=(0,n.mN)(),j=(0,l.wA)(),b=(0,i.Zp)(),{companyList:P,companyListLoading:f}=(0,l.d4)(e=>e.company),{branchList:A,branchListloading:S}=(0,l.d4)(e=>e.branch),I=JSON.parse(localStorage.getItem("user_info_".concat(s.AU))),C=(0,n.FH)({control:x,name:"PDCompanyId",defaultValue:""});(0,n.FH)({control:x,name:"isPercentage",defaultValue:""});return(0,o.useEffect)(()=>{(C||"company"===(null===I||void 0===I?void 0:I.userType)||"companyDirector"===(null===I||void 0===I?void 0:I.userType))&&j((0,c.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===I||void 0===I?void 0:I.userType)?C:"company"===(null===I||void 0===I?void 0:I.userType)?null===I||void 0===I?void 0:I._id:null===I||void 0===I?void 0:I.companyId}))},[C]),(0,o.useEffect)(()=>{"admin"===(null===I||void 0===I?void 0:I.userType)&&j((0,t.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,h.jsx)(m.A,{children:(0,h.jsx)("div",{className:"gap-4",children:(0,h.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:d(e=>{const a={companyId:"admin"===(null===I||void 0===I?void 0:I.userType)?null===e||void 0===e?void 0:e.PDCompanyId:"company"===(null===I||void 0===I?void 0:I.userType)?null===I||void 0===I?void 0:I._id:null===I||void 0===I?void 0:I.companyId,directorId:"companyDirector"===(null===I||void 0===I?void 0:I.userType)?null===I||void 0===I?void 0:I._id:null===I||void 0===I?void 0:I.directorId,branchId:"admin"===(null===I||void 0===I?void 0:I.userType)||"companyDirector"===(null===I||void 0===I?void 0:I.userType)||"company"===(null===I||void 0===I?void 0:I.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===I||void 0===I?void 0:I.userType)?null===I||void 0===I?void 0:I._id:null===I||void 0===I?void 0:I.branchId,name:null===e||void 0===e?void 0:e.wfhManagerName,perdaySalaryPercent:null===e||void 0===e?void 0:e.perdaySalaryPercent};j((0,y.dN)(a)).then(e=>{e.error||b(-1)})}),children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===I||void 0===I?void 0:I.userType)&&(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(s.Q0),children:["Company ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)(n.xI,{name:"PDCompanyId",control:x,rules:{required:"Company is required"},render:e=>{let{field:a}=e;return(0,h.jsxs)(u.A,(0,r.A)((0,r.A)({},a),{},{className:" ".concat(s.Hy," ").concat(N.PDPlan?"border-[1px] ":"border-gray-300"),getPopupContainer:e=>e.parentNode,placeholder:"Select Company",filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,h.jsx)(u.A.Option,{value:"",children:"Select Company"}),f?(0,h.jsx)(u.A.Option,{disabled:!0,children:(0,h.jsx)(v.A,{})}):null===P||void 0===P?void 0:P.map(e=>(0,h.jsxs)(u.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),N.PDCompanyId&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:N.PDCompanyId.message})]}),("admin"===(null===I||void 0===I?void 0:I.userType)||"company"===(null===I||void 0===I?void 0:I.userType)||"companyDirector"===(null===I||void 0===I?void 0:I.userType))&&(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(s.Q0),children:["Branch ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)(n.xI,{name:"PDBranchId",control:x,rules:{required:"Branch is required"},render:e=>{let{field:a}=e;return(0,h.jsxs)(u.A,(0,r.A)((0,r.A)({},a),{},{className:" ".concat(s.Hy," ").concat(N.PDPlan?"border-[1px] ":"border-gray-300"),getPopupContainer:e=>e.parentNode,placeholder:"Select Branch",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,h.jsx)(u.A.Option,{value:"",children:"Select Branch"}),S?(0,h.jsx)(u.A.Option,{disabled:!0,children:(0,h.jsx)(v.A,{})}):null===A||void 0===A?void 0:A.map(e=>(0,h.jsxs)(u.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),N.PDBranchId&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:N.PDBranchId.message})]}),(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(s.Q0),children:["Name ",(0,h.jsx)("span",{className:"text-red-600",children:" *"})]}),(0,h.jsx)("input",(0,r.A)((0,r.A)({type:"text"},a("wfhManagerName",{required:"WFH Name  is required"})),{},{className:"".concat(s.Ol," ").concat(N.wfhManagerName?"border-[1px] ":"border-gray-300"),placeholder:"Enter WFH Name"})),N.wfhManagerName&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:N.wfhManagerName.message})]}),(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(s.Q0),children:["Perday Salary Percent ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)("input",(0,r.A)((0,r.A)({type:"number",step:"0.01"},a("perdaySalaryPercent",{required:"Perday Salary Percent is required",min:{value:0,message:"Percentage must be at least 0%"},max:{value:100,message:"Percentage cannot exceed 100%"}})),{},{className:"".concat(s.Ol," ").concat(N.perdaySalaryPercent?"border-[1px] border-red-500":"border-gray-300"),placeholder:"Enter Perday Salary Percent"})),N.perdaySalaryPercent&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:N.perdaySalaryPercent.message})]})]}),(0,h.jsx)("div",{className:"flex justify-end",children:(0,h.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,h.jsx)(p.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=8827.202beace.chunk.js.map