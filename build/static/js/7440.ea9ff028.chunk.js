"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[7440],{57440:(e,n,l)=>{l.r(n),l.d(n,{default:()=>H});var t=l(89379),o=l(24858),a=l(83003),i=l(15187),r=l(65043),d=l(31744),s=l(39160),c=l(97326),u=l(53913),p=l(65512),m=(l(86178),l(60446)),v=l.n(m),h=l(78227),x=l(12106),y=l(42837),w=l(94084),f=l(69223),j=l(55971),N=l(50822),g=l(6720),b=l(37762),D=l(64857),A=l(11906),S=l(33007),k=l(89427),I=l(70337),C=l(40088),T=l(12208),F=l(70579);const H=function(){const{control:e,formState:{errors:n},setValue:l,watch:m}=(0,o.mN)(),[H,Y]=(0,r.useState)(10),O=(0,a.wA)(),{workingHourTaskReportList:_,workingHourTaskReportFunc_loading:R,totalWorkingHourTaskTaskCount:L}=(0,a.d4)(e=>e.reports),{departmentListData:M,loading:P}=(0,a.d4)(e=>e.department),{taskTypeList:V,loading:B}=(0,a.d4)(e=>e.taskType),{clientList:z,loading:E}=(0,a.d4)(e=>e.client),{clientGroupList:Q,groupSearchLoading:J}=(0,a.d4)(e=>e.clientGroup),{employeList:q}=(0,a.d4)(e=>e.employe),[K,W]=(0,r.useState)(""),U=JSON.parse(localStorage.getItem("user_info_".concat(i.AU))),[G,X]=(0,r.useState)(1),[Z,$]=(0,r.useState)(""),{branchList:ee}=(0,a.d4)(e=>e.branch),ne=(0,o.FH)({control:e,name:"PDCompanyId",defaultValue:""}),le=(0,o.FH)({control:e,name:"PDBranchId",defaultValue:""}),te=(0,o.FH)({control:e,name:"status",defaultValue:""}),oe=(0,o.FH)({control:e,name:"daterange",defaultValue:""}),ae=(0,o.FH)({control:e,name:"employeeId",defaultValue:""}),ie=(0,o.FH)({control:e,name:"startDate",defaultValue:v()().subtract(1,"month")}),re=(0,o.FH)({control:e,name:"endDate",defaultValue:v()()}),de=(0,o.FH)({control:e,name:"priority",defaultValue:""}),se=(0,o.FH)({control:e,name:"financialYear",defaultValue:""}),ce=(0,o.FH)({control:e,name:"month",defaultValue:""}),ue=(0,o.FH)({control:e,name:"department",defaultValue:""}),pe=(0,o.FH)({control:e,name:"client",defaultValue:""}),me=(0,o.FH)({control:e,name:"task",defaultValue:""}),ve=(0,o.FH)({control:e,name:"groupName",defaultValue:""}),[he,xe]=(0,r.useState)([]),[ye,we]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=setTimeout(()=>{$(K)},500);return()=>{clearTimeout(e)}},[K]);const fe=(()=>{const e=[];for(let n=2005;n<=2034;n++)e.push("".concat(n,"-").concat(n+1));return e})(),je=["January","February","March","April","May","June","July","August","September","October","November","December"],Ne=["Jan-Mar","Apr-Jun","Jul-Sep","Oct-Dec"],ge=[...je,...Ne],be=function(){return{currentPage:G,pageSize:H,reqPayload:{text:Z,sort:!0,isPagination:!(arguments.length>0&&void 0!==arguments[0])||arguments[0],companyId:"admin"===(null===U||void 0===U?void 0:U.userType)?ne:"company"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.companyId,directorId:"",branchId:"company"===(null===U||void 0===U?void 0:U.userType)||"admin"===(null===U||void 0===U?void 0:U.userType)||"companyDirector"===(null===U||void 0===U?void 0:U.userType)?le:"companyBranch"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.branchId,departmentIds:[],clientIds:[],employeIds:[],taskTypeIds:[],groupIds:[],startDate:ie?v()(ie).format("YYYY-MM-DD"):"",endDate:re?v()(re).format("YYYY-MM-DD"):"",dateRange:oe,status:te,priority:de,monthName:je.find(e=>e==ce)?ce:"",monthQuaters:Ne.find(e=>e==ce)?ce:"",financialYear:se,departmentId:ue,clientId:pe,employeId:ae,taskTypeId:me,groupId:ve}}};(0,r.useEffect)(()=>{Ae(Z)},[G,Z,H]);const De=()=>{O((0,y.qV)({companyId:"admin"===(null===U||void 0===U?void 0:U.userType)?ne:"company"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.companyId,branchId:["admin","company","companyDirector"].includes(null===U||void 0===U?void 0:U.userType)?le:"companyBranch"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.branchId,departmentId:"",directorId:"",text:"",sort:!0,status:!0,isPagination:!1,isBranch:!1,isDirector:!1}))},Ae=()=>{O((0,x.nq)(be(!0)))};(0,r.useEffect)(()=>{},[]),(0,r.useEffect)(()=>{"company"!==(null===U||void 0===U?void 0:U.userType)&&"companyDirector"!==(null===U||void 0===U?void 0:U.userType)||O((0,d.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===U||void 0===U?void 0:U.userType)?ne:"company"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.companyId})),l("startDate",v()().subtract(1,"month")),l("endDate",v()())},[]);const Se=async()=>{Ae()},ke=[{key:"1",label:(0,F.jsx)("span",{className:"text-white",children:"Advance Filters"}),children:(0,F.jsxs)("div",{className:"bg-[#ececec] space-y-1",children:[(0,F.jsxs)("div",{className:"sm:flex  grid grid-cols-1  gap-2 sm:flex-wrap text-[14px]",children:[("admin"===(null===U||void 0===U?void 0:U.userType)||"company"===(null===U||void 0===U?void 0:U.userType)||"companyDirector"===(null===U||void 0===U?void 0:U.userType))&&(0,F.jsxs)("div",{className:"",children:[(0,F.jsx)(o.xI,{name:"PDBranchId",control:e,render:e=>{let{field:n}=e;return(0,F.jsxs)(p.A,(0,t.A)((0,t.A)({},n),{},{className:"inputAntdSelectClassNameFilterReport ",placeholder:"Select Branch",showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,F.jsx)(p.A.Option,{value:"",children:"Select Branch"}),null===ee||void 0===ee?void 0:ee.map(e=>(0,F.jsxs)(p.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),n.PDBranchId&&(0,F.jsx)("p",{className:"text-red-500 text-sm",children:n.PDBranchId.message})]}),(0,F.jsxs)("div",{className:"",children:[(0,F.jsx)(o.xI,{name:"employeeId",control:e,render:e=>{let{field:n}=e;return(0,F.jsx)(p.A,{allowClear:!0,className:"inputAntdMultiSelectClassNameFilterReport ",placeholder:"Please select employee",onFocus:De,options:null===q||void 0===q?void 0:q.map(e=>({value:e._id,label:e.fullName})),value:n.value||[],onChange:e=>n.onChange(e)})}}),n.employeeId&&(0,F.jsx)("p",{className:"text-red-500 text-sm",children:n.employeeId.message})]}),(0,F.jsx)("div",{children:(0,F.jsx)(o.xI,{name:"status",control:e,rules:{},render:e=>{let{field:n}=e;return(0,F.jsx)(p.A,(0,t.A)((0,t.A)({},n),{},{mode:"multiple",allowClear:!0,className:"inputAntdMultiSelectClassNameFilterReport",placeholder:"Please select Task Status",options:null===A.l0||void 0===A.l0?void 0:A.l0.map(e=>({value:e,label:e})),value:n.value||[],onChange:e=>n.onChange(e)}))}})}),(0,F.jsx)("div",{children:(0,F.jsx)(o.xI,{name:"priority",control:e,rules:{},render:e=>{let{field:n}=e;return(0,F.jsxs)(p.A,(0,t.A)((0,t.A)({},n),{},{className:"inputAntdSelectClassNameFilterReport ",placeholder:"Select Priority",showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,F.jsx)(p.A.Option,{value:"",children:"Select Priority"}),null===A.FQ||void 0===A.FQ?void 0:A.FQ.map(e=>(0,F.jsx)(p.A.Option,{value:e,children:e}))]}))}})}),(0,F.jsx)("div",{children:(0,F.jsx)(o.xI,{control:e,name:"financialYear",rules:{required:"Financial year is required"},render:e=>{let{field:n}=e;return(0,F.jsxs)(p.A,(0,t.A)((0,t.A)({},n),{},{placeholder:"Select Financial year",defaultValue:(0,i.Yz)(),className:"inputAntdSelectClassNameFilterReport",showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,F.jsx)(p.A.Option,{value:"",children:"Select Financial year"}),fe.map((e,n)=>(0,F.jsx)(p.A.Option,{value:e,children:e},n))]}))}})}),(0,F.jsx)("div",{children:(0,F.jsx)(o.xI,{control:e,name:"month",render:e=>{let{field:n}=e;return(0,F.jsxs)(p.A,(0,t.A)((0,t.A)({},n),{},{placeholder:"Select month ",className:"inputAntdSelectClassNameFilterReport",showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,F.jsx)(p.A.Option,{value:"",children:"Select month "}),ge.map((e,n)=>(0,F.jsx)(p.A.Option,{value:e,children:e},n))]}))}})}),(0,F.jsx)("div",{className:"",children:(0,F.jsx)(o.xI,{name:"department",control:e,render:e=>{var n;let{field:l}=e;return(0,F.jsxs)(p.A,(0,t.A)((0,t.A)({},l),{},{className:"inputAntdSelectClassNameFilterReport",showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),onFocus:()=>{O((0,S.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===U||void 0===U?void 0:U.userType)?ne:"company"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.companyId,branchId:["admin","company","companyDirector"].includes(null===U||void 0===U?void 0:U.userType)?le:"companyBranch"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.branchId}))},onChange:e=>{l.onChange(e)},placeholder:"Select Department",children:[(0,F.jsx)(p.A.Option,{value:"",children:"Select Department"}),P?(0,F.jsx)(p.A.Option,{disabled:!0,children:(0,F.jsx)(k.A,{})}):null===(n=(0,i._o)(M))||void 0===n?void 0:n.map(e=>(0,F.jsx)(p.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]}))}})}),(0,F.jsx)("div",{children:(0,F.jsx)(o.xI,{name:"client",control:e,render:e=>{var n;let{field:l}=e;return(0,F.jsxs)(p.A,(0,t.A)((0,t.A)({},l),{},{className:"inputAntdSelectClassNameFilterReport",showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),onFocus:()=>{O((0,I.Aq)({companyId:"company"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.companyId,branchId:"company"===(null===U||void 0===U?void 0:U.userType)||"admin"===(null===U||void 0===U?void 0:U.userType)||"companyDirector"===(null===U||void 0===U?void 0:U.userType)?m("PDBranchId"):"companyBranch"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.branchId,groupId:"",directorId:"",organizationId:"",industryId:"",text:"",sort:!0,status:!0,isPagination:!1}))},onChange:e=>{l.onChange(e)},placeholder:"Select client",children:[(0,F.jsx)(p.A.Option,{value:"",children:" Select Client"}),E?(0,F.jsx)(p.A.Option,{disabled:!0,children:(0,F.jsx)(k.A,{})}):null===(n=(0,i._o)(z))||void 0===n?void 0:n.map((e,n)=>(0,F.jsx)(p.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}})}),(0,F.jsx)("div",{children:(0,F.jsx)(o.xI,{control:e,name:"task",render:e=>{var n;let{field:l}=e;return(0,F.jsxs)(p.A,(0,t.A)((0,t.A)({},l),{},{defaultValue:"",onFocus:()=>{O((0,C.mY)({companyId:"admin"===(null===U||void 0===U?void 0:U.userType)?m("PDCompanyId"):"company"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.companyId,branchId:"company"===(null===U||void 0===U?void 0:U.userType)||"admin"===(null===U||void 0===U?void 0:U.userType)||"companyDirector"===(null===U||void 0===U?void 0:U.userType)?m("PDBranchId"):"companyBranch"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.branchId,departmentId:"",directorId:"",text:"",sort:!0,status:!0,isPagination:!1}))},className:"inputAntdSelectClassNameFilterReport",showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,F.jsx)(p.A.Option,{value:"",children:" Select Task Name"}),B?(0,F.jsx)(p.A.Option,{disabled:!0,children:(0,F.jsx)(k.A,{})}):null===(n=(0,i._o)(V))||void 0===n?void 0:n.map((e,n)=>(0,F.jsx)(p.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name}))]}))}})}),(0,F.jsx)("div",{className:"",children:(0,F.jsx)(o.xI,{name:"groupName",control:e,render:e=>{var n;let{field:l}=e;return(0,F.jsxs)(p.A,(0,t.A)((0,t.A)({},l),{},{className:"inputAntdSelectClassNameFilterReport",showSearch:!0,placeholder:"Select Group",onFocus:()=>{O((0,T.J_)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===U||void 0===U?void 0:U.userType)?ne:"company"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.companyId,branchId:["admin","company","companyDirector"].includes(null===U||void 0===U?void 0:U.userType)?le:"companyBranch"===(null===U||void 0===U?void 0:U.userType)?null===U||void 0===U?void 0:U._id:null===U||void 0===U?void 0:U.branchId,groupId:""}))},onChange:e=>l.onChange(e),filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,F.jsx)(p.A.Option,{value:"",children:"Select Group"}),J?(0,F.jsx)(p.A.Option,{disabled:!0,children:(0,F.jsx)(k.A,{})}):null===(n=(0,i._o)(Q))||void 0===n?void 0:n.map(e=>(0,F.jsxs)(p.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName," (",null===e||void 0===e?void 0:e.groupName,")"]},null===e||void 0===e?void 0:e._id))]}))}})}),(0,F.jsx)("div",{children:(0,F.jsx)(o.xI,{name:"startDate",control:e,render:e=>{let{field:l}=e;return(0,F.jsx)(w.A,{report:!0,defaultValue:v()().subtract(1,"month"),size:"middle",field:l,errors:n})}})}),(0,F.jsx)("div",{children:(0,F.jsx)(o.xI,{name:"endDate",control:e,render:e=>{let{field:l}=e;return(0,F.jsx)(w.A,{report:!0,defaultValue:v()(),size:"middle",field:l,errors:n})}})})]}),(0,F.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,F.jsx)("button",{onClick:()=>{l("PDBranchId",""),l("PdCompanyId",""),l("status",""),l("employeeId",""),l("daterange",""),l("shift",""),l("workType",""),l("startDate",v()().subtract(1,"month")),l("endDate",v()()),l("priority",""),l("financialYear",""),l("month",""),l("department",""),l("client",""),l("task",""),l("groupName",""),Se()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,F.jsx)("span",{className:"text-[12px]",children:"Reset"})}),(0,F.jsx)("button",{onClick:()=>{Se()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,F.jsx)("span",{className:"text-[12px]",children:"Submit"})})]})]})}];return(0,F.jsx)(s.A,{onChange:e=>{W(e)},children:(0,F.jsxs)("div",{className:"bg-grey-100 w-full p-1",children:[(0,F.jsxs)("div",{className:"",children:[(0,F.jsx)(c.A,{className:"custom-collapse",items:ke,defaultActiveKey:[1],expandIcon:e=>{let{isActive:n}=e;return(0,F.jsx)(g.WnU,{size:20,style:{color:"white",transform:n?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})}}),(0,F.jsxs)("div",{className:"space-y-1.5 sm:flex grid grid-cols-1 justify-between items-center",children:[(0,F.jsxs)("div",{className:"flex py-1  items-center gap-2",children:[(0,F.jsx)("span",{htmlFor:"pageSize",className:"text-sm font-light text-gray-500",children:"Rows per page:"}),(0,F.jsx)(p.A,{id:"pageSize",value:H,onChange:e=>{Y(Number(e)),X(Number(1))},className:"text-sm font-light text-gray-700 bg-white border border-gray-200 rounded-md px-3 py-1.5 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-300 transition",children:i.qc.map(e=>(0,F.jsx)(p.A.Option,{value:e,children:e},e))})]}),(0,F.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,F.jsx)("button",{onClick:()=>{(async()=>{var e,n;const l=new b.uE({orientation:"landscape",unit:"pt"});l.setFontSize(16);const t=await(null===N.K||void 0===N.K?void 0:N.K.workingHourTaskReportFunc(be(!1)));if(!_&&!t)return;const o=null===t||void 0===t||null===(e=t.data)||void 0===e||null===(n=e.docs)||void 0===n?void 0:n.map((e,n)=>{var l,t,o,a;return[n+1,(null===e||void 0===e||null===(l=e.clientData)||void 0===l?void 0:l.fullName)||"-",(null===e||void 0===e||null===(t=e.departmentData)||void 0===t?void 0:t.name)||"-",(null===e||void 0===e?void 0:e.taskName)||"-",Array.isArray(null===e||void 0===e?void 0:e.employeData)?e.employeData.map(e=>(null===e||void 0===e?void 0:e.fullName)||"-").join(", "):[]||0,(null===e||void 0===e?void 0:e.financialYear)||"-",(null===e||void 0===e?void 0:e.monthName)||"-",(null===e||void 0===e?void 0:e.monthQuaters)||"-",v()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a"),null!==e&&void 0!==e&&e.workingHoursData?v()(null===e||void 0===e||null===(o=e.workingHoursData)||void 0===o?void 0:o.createdAt).format("DD-MM-YYYY hh:mm a"):"-",null!==e&&void 0!==e&&e.workingHoursData?null===e||void 0===e||null===(a=e.workingHoursData)||void 0===a?void 0:a.workedHRS:"-"]});(0,D.Ay)(l,{startY:40,head:[["S.No."," Client Name","Department","Task Name","Employee Name","financial Year","Month Name","Month Quaters","Start Date","Completed Date","Worked Hours"]],body:o,margin:{horizontal:10},styles:{cellPadding:8,fontSize:10,valign:"middle",halign:"left"},headStyles:{fillColor:[211,211,211],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]}}),l.save("workingHoursReport.pdf")})()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,F.jsx)("span",{className:"text-[12px]",children:"Export PDF"})}),(0,F.jsx)("button",{onClick:()=>{(async()=>{var e,n;const l=new f.Workbook,t=l.addWorksheet("workingHoursReport");t.columns=[{header:"S.No.",key:"sno",width:10},{header:"Client Name",key:"clientName",width:30},{header:"Department",key:"department",width:25},{header:"Task Name",key:"taskName",width:30},{header:"Employee Name",key:"name",width:30},{header:"Financial Year",key:"financialYear",width:20},{header:"Month Name",key:"monthName",width:20},{header:"Month Quaters",key:"monthQuarter",width:20},{header:"Start Date",key:"startDate",width:20},{header:"Completed Date",key:"completedDate",width:20},,{header:"Working Hours",key:"workingHours",width:20}],t.getRow(1).eachCell(e=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFB6D7A8"}},e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});const o=await(null===N.K||void 0===N.K?void 0:N.K.workingHourTaskReportFunc(be(!1)));if(!_&&!o)return;const a=null===o||void 0===o||null===(e=o.data)||void 0===e||null===(n=e.docs)||void 0===n?void 0:n.map((e,n)=>{var l,t,o,a;return{sno:n+1,clientName:(null===e||void 0===e||null===(l=e.clientData)||void 0===l?void 0:l.fullName)||"-",department:(null===e||void 0===e||null===(t=e.departmentData)||void 0===t?void 0:t.name)||"-",taskName:(null===e||void 0===e?void 0:e.taskName)||"-",name:Array.isArray(null===e||void 0===e?void 0:e.employeData)?e.employeData.map(e=>(null===e||void 0===e?void 0:e.fullName)||"-").join(", "):[]||0,financialYear:(null===e||void 0===e?void 0:e.financialYear)||"-",monthName:(null===e||void 0===e?void 0:e.monthName)||"-",monthQuarter:(null===e||void 0===e?void 0:e.monthQuaters)||"-",startDate:v()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a"),completedDate:null!==e&&void 0!==e&&e.workingHoursData?v()(null===e||void 0===e||null===(o=e.workingHoursData)||void 0===o?void 0:o.createdAt).format("DD-MM-YYYY hh:mm a"):"",workingHours:null!==e&&void 0!==e&&e.workingHoursData?null===e||void 0===e||null===(a=e.workingHoursData)||void 0===a?void 0:a.workedHRS:"-"}});null===a||void 0===a||a.forEach(e=>{t.addRow(e).eachCell(e=>{e.alignment={vertical:"middle",horizontal:"left"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),t.autoFilter={from:"A1",to:"I1"},l.xlsx.writeBuffer().then(e=>{const n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=document.createElement("a");l.href=URL.createObjectURL(n),l.download="workingHoursReport.xlsx",l.click()})})()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,F.jsx)("span",{className:"text-[12px]",children:"Export Excel"})})]})]})]}),(0,F.jsxs)("div",{className:"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl",children:[(0,F.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center w-[5%]",children:"S.No."}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Client Name"}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Department"}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Task Name"}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Assign To"}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:(0,F.jsx)("div",{className:"flex gap-1",children:"financial Year"})}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Month Name"}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Month Quaters"}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Start Date"}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Completed Date"}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Hour Worked"})]})}),R?(0,F.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,F.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap text-center font-[600] text-sm text-gray-500",children:(0,F.jsx)(j.A,{})})}):(0,F.jsx)("tbody",{children:_&&(null===_||void 0===_?void 0:_.length)>0?null===_||void 0===_?void 0:_.map((e,n)=>{var l,t,o,a,i,r,d,s,c;return(0,F.jsxs)("tr",{className:"border-b-[1px] ".concat(n%2===0?"bg-[#e9ecef]/80":"bg-white"," border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,F.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:n+1+(G-1)*H}),(0,F.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e||null===(l=e.clientData)||void 0===l?void 0:l.fullName)||"-"}),(0,F.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e||null===(t=e.departmentData)||void 0===t?void 0:t.name)||"-"}),(0,F.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e?void 0:e.taskName)||"-"}),(0,F.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(0,F.jsxs)("div",{className:"flex gap-2",children:[(0,F.jsxs)("div",{children:[" ",null===e||void 0===e||null===(o=e.employeData[0])||void 0===o?void 0:o.fullName]}),"  ",(null===e||void 0===e||null===(a=e.employeData)||void 0===a?void 0:a.length)>1?(0,F.jsxs)("div",{className:"text-header flex justify-center items-center gap-1 rounded-full  text-semibold text-sm",children:[" + ",(0,F.jsxs)("div",{onClick:()=>{(e=>{xe(e||[]),we(!0)})(null===e||void 0===e?void 0:e.employeData)},className:"border justify-center items-center flex h-7 w-7 bg-header  text-white text-[12px] rounded-full ",children:[(null===e||void 0===e||null===(i=e.employeData)||void 0===i?void 0:i.length)-1," "]})]}):""]})}),(0,F.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e?void 0:e.financialYear)||"-"}),(0,F.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e?void 0:e.monthName)||"-"}),(0,F.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e?void 0:e.monthQuaters)||"-"}),(0,F.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:v()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")}),(0,F.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:null!==e&&void 0!==e&&null!==(r=e.workingHoursData)&&void 0!==r&&r.createdAt?"".concat(null===e||void 0===e||null===(d=e.workingHoursData)||void 0===d?void 0:d.createdAt," hrs"):"-"}),(0,F.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:null!==e&&void 0!==e&&null!==(s=e.workingHoursData)&&void 0!==s&&s.workedHRS?"".concat(null===e||void 0===e||null===(c=e.workingHoursData)||void 0===c?void 0:c.workedHRS," hrs"):"-"})]})}):(0,F.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,F.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap text-center font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]}),(0,F.jsx)(u.A,{className:"antmodalclassName !w-[60%] !h-[50%]",title:"Employees",open:ye,onCancel:()=>we(!1),footer:null,children:(0,F.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap  w-[5%]",children:"S.No."}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Employee Name"}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Email"}),(0,F.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Mobile"})]})}),0==he.length?(0,F.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,F.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap  font-[600] text-sm text-gray-500",children:(0,F.jsx)(j.A,{})})}):(0,F.jsx)("tbody",{children:he&&(null===he||void 0===he?void 0:he.length)>0?null===he||void 0===he?void 0:he.map((e,n)=>{var l,t;return(0,F.jsxs)("tr",{className:"border-b-[1px] ".concat(n%2===0?"bg-[#e9ecef]/80":"bg-white"," border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,F.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:n+1}),(0,F.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:null===e||void 0===e?void 0:e.fullName}),(0,F.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:(null===e||void 0===e?void 0:e.email)||"-"}),(0,F.jsxs)("td",{className:"whitespace-nowrap  border-none p-2",children:[(null===e||void 0===e||null===(l=e.mobile)||void 0===l?void 0:l.code)||"-"," ",(null===e||void 0===e||null===(t=e.mobile)||void 0===t?void 0:t.number)||"-"]})]})}):(0,F.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,F.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap  font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})})]}),(0,F.jsx)(h.A,{totalCount:L,pageSize:H,currentPage:G,onChange:e=>{X(e)}})]})})}}}]);
//# sourceMappingURL=7440.ea9ff028.chunk.js.map