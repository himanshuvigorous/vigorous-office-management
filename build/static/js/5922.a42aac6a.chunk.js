"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[5922],{85922:(e,l,d)=>{d.r(l),d.d(l,{default:()=>I});var a=d(89379),o=d(24858),i=d(39160),n=d(83003),s=d(73216),r=d(65043),c=d(15187),t=d(31744),u=(d(78729),d(66015)),v=d(42837),m=(d(31536),d(88967),d(69132)),p=(d(70337),d(12208)),h=d(8928),x=d(65512),y=d(94084),N=(d(60446),d(17995)),j=d(89427),b=d(70579);const I=()=>{const{loading:e}=(0,n.d4)(e=>e.advance),{register:l,handleSubmit:d,control:I,watch:A,formState:{errors:g},setValue:f}=(0,o.mN)(),T=(0,n.wA)(),q=(0,s.Zp)(),{companyList:_,companyListLoading:D}=(0,n.d4)(e=>e.company),{branchList:L,branchListloading:C}=(0,n.d4)(e=>e.branch),O=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),S=(0,o.FH)({control:I,name:"PDCompanyId",defaultValue:""}),w=(0,o.FH)({control:I,name:"PDBranchId",defaultValue:""}),{branchDetailsData:k}=(0,n.d4)(e=>e.branch),{employeList:B}=(0,n.d4)(e=>e.employe),{officeAddressListData:P,loading:Q}=(0,n.d4)(e=>e.officeAddress),{clientGroupList:E,groupSearchLoading:H}=(0,n.d4)(e=>e.clientGroup);(0,r.useEffect)(()=>{(w||"company"!==(null===O||void 0===O?void 0:O.userType)&&"companyDirector"!==(null===O||void 0===O?void 0:O.userType)&&"admin"!==(null===O||void 0===O?void 0:O.userType))&&T((0,t.ZN)({_id:"company"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType)||"admin"===(null===O||void 0===O?void 0:O.userType)?w:"companyBranch"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.branchId}))},[w]),(0,r.useEffect)(()=>{!S&&"admin"===(null===O||void 0===O?void 0:O.userType)||!w&&"companBranch"===(null===O||void 0===O?void 0:O.userType)&&"employee"!==(null===O||void 0===O?void 0:O.userType)||V()},[S,w]);const V=()=>{const e={text:"",status:!0,sort:!0,isTL:"",isHR:"",isPagination:!1,departmentId:"",designationId:"",companyId:"admin"===(null===O||void 0===O?void 0:O.userType)?S:"company"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.companyId,branchId:"company"===(null===O||void 0===O?void 0:O.userType)||"admin"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType)?w:"companyBranch"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.branchId};T((0,v.qV)(e))},F=()=>{T((0,p.J_)({companyId:"admin"===(null===O||void 0===O?void 0:O.userType)?S:"company"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.companyId,branchId:"company"===(null===O||void 0===O?void 0:O.userType)||"admin"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType)?w:"companyBranch"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.branchId,isPagination:!1,text:"",sort:!0,status:!0,groupId:""}))},G=()=>{T((0,t.d0)({companyId:"admin"===(null===O||void 0===O?void 0:O.userType)?S:"company"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.companyId,isPagination:!1,text:"",sort:!0,status:!0,groupId:""}))};return(0,b.jsx)(i.A,{children:(0,b.jsx)("div",{className:"gap-4",children:(0,b.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:d(e=>{var l;const d={companyId:"admin"===(null===O||void 0===O?void 0:O.userType)?null===e||void 0===e?void 0:e.PDCompanyId:"company"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.companyId,directorId:"companyDirector"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.directorId,branchId:"admin"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType)||"company"===(null===O||void 0===O?void 0:O.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.branchId,clientGroupId:null===e||void 0===e?void 0:e.groupName,employeId:"cash"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e||null===(l=e.employeeId)||void 0===l?void 0:l.value:null,bankAccId:"cash"!==(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.bankId:null,type:null===e||void 0===e?void 0:e.type,chequeNo:"cheque"!==(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.chequeNo:null,transactionNo:"bank"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.transactionNo:null,amount:+(null===e||void 0===e?void 0:e.amount),naration:null===e||void 0===e?void 0:e.naration,date:(0,c.Tk)(null===e||void 0===e?void 0:e.date),receiptLayoutId:null===e||void 0===e?void 0:e.invoiceLayout};T((0,m.HD)(d)).then(e=>{e.error||q(-1)})}),children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===O||void 0===O?void 0:O.userType)&&(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Company ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(o.xI,{control:I,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{var l;let{field:d}=e;return(0,b.jsxs)(x.A,(0,a.A)((0,a.A)({},d),{},{defaultValue:"",className:"".concat(c.Hy," "),showSearch:!0,filterOption:(e,l)=>String(null===l||void 0===l?void 0:l.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(x.A.Option,{value:"",children:"Select Company"}),null===(l=(0,c._o)(_,"fullName"))||void 0===l?void 0:l.map(e=>(0,b.jsx)(x.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),g.PDCompanyId&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.PDCompanyId.message})]}),("admin"===(null===O||void 0===O?void 0:O.userType)||"company"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType))&&(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Branch ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(o.xI,{control:I,name:"PDBranchId",rules:{required:"Branch is required"},render:e=>{var l;let{field:d}=e;return(0,b.jsxs)(x.A,(0,a.A)((0,a.A)({},d),{},{defaultValue:"",onFocus:G,className:"".concat(c.Hy," "),showSearch:!0,filterOption:(e,l)=>String(null===l||void 0===l?void 0:l.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(x.A.Option,{value:"",children:"Select Branch"}),C?(0,b.jsx)(x.A.Option,{disabled:!0,children:(0,b.jsx)(j.A,{})}):null===(l=(0,c._o)(L,"fullName"))||void 0===l?void 0:l.map(e=>(0,b.jsx)(x.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),g.PDBranchId&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.PDBranchId.message})]}),(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Group Type ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(o.xI,{control:I,name:"groupName",rules:{required:"groupName is required"},render:e=>{var l;let{field:d}=e;return(0,b.jsxs)(x.A,(0,a.A)((0,a.A)({},d),{},{onFocus:F,defaultValue:"",className:"".concat(c.Hy," "),showSearch:!0,filterOption:(e,l)=>String(null===l||void 0===l?void 0:l.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(x.A.Option,{value:"",children:"Select Group Type"}),H?(0,b.jsx)(x.A.Option,{disabled:!0,children:(0,b.jsx)(j.A,{})}):null===(l=(0,c._o)(E,"fullName"))||void 0===l?void 0:l.map(e=>(0,b.jsxs)(x.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName,"(",null===e||void 0===e?void 0:e.groupName,")"]},null===e||void 0===e?void 0:e._id))]}))}}),g.groupName&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.groupName.message})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Firm Layout Name",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(o.xI,{control:I,name:"invoiceLayout",rules:{required:"Task Name is required"},render:e=>{var l;let{field:d}=e;return(0,b.jsxs)(x.A,(0,a.A)((0,a.A)({},d),{},{defaultValue:"",className:" ".concat(c.Hy," ").concat(g.invoiceLayout?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,l)=>String(null===l||void 0===l?void 0:l.children).toLowerCase().includes(e.toLowerCase()),onFocus:()=>{T((0,h.XY)({companyId:"admin"===(null===O||void 0===O?void 0:O.userType)?A("PDCompanyId"):"company"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.companyId,branchId:"company"===(null===O||void 0===O?void 0:O.userType)||"admin"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType)?A("PDBranchId"):"companyBranch"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.branchId,directorId:"",text:"",sort:!0,status:!0,type:"invoice",isPagination:!1,bankAccountId:"",isGSTEnabled:""}))},children:[(0,b.jsx)(x.A.Option,{className:"",value:"",children:"Select Layout"}),Q?(0,b.jsx)(x.A.Option,{disabled:!0,children:(0,b.jsx)(j.A,{})}):null===(l=(0,c._o)(P,"firmName"))||void 0===l?void 0:l.map(e=>(0,b.jsx)(x.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.firmName}))]}))}}),g.invoiceLayout&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.invoiceLayout.message})]}),(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Type ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(o.xI,{control:I,name:"type",rules:{required:"type is required"},render:e=>{let{field:l}=e;return(0,b.jsxs)(x.A,(0,a.A)((0,a.A)({},l),{},{defaultValue:"",className:"".concat(c.Hy,"  ").concat(g.type?"border-[1px] ":"border-gray-300"," "),showSearch:!0,filterOption:(e,l)=>String(null===l||void 0===l?void 0:l.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(x.A.Option,{value:"",children:"Select Type"}),(0,b.jsx)(x.A.Option,{value:"cash",children:"Cash Deposit"}),(0,b.jsx)(x.A.Option,{value:"bank",children:"Bank Transfer"})]}))}}),g.type&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.type.message})]}),"cash"!==A("type")&&(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Bank",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(o.xI,{control:I,name:"bankId",rules:{required:"bankId is required"},render:e=>{var l,d;let{field:o}=e;return(0,b.jsxs)(x.A,(0,a.A)((0,a.A)({},o),{},{defaultValue:"",className:"".concat(c.Hy," "),showSearch:!0,filterOption:(e,l)=>String(null===l||void 0===l?void 0:l.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(x.A.Option,{value:"",children:"Select Bank"}),(null===k||void 0===k||null===(l=k.data)||void 0===l?void 0:l.bankData)&&(null===k||void 0===k||null===(d=k.data)||void 0===d?void 0:d.bankData.length)>0&&(0,c._o)(k.data.bankData,"bankName").map(e=>(0,b.jsx)(x.A.Option,{value:e._id,children:(0,c.ig)(e)},e._id))]}))}}),g.bankId&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.bankId.message})]}),"cash"===A("type")&&(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("label",{className:"".concat(c.Q0),children:"Employee"}),(0,b.jsx)(o.xI,{name:"employeeId",control:I,rules:{required:"Employee is required"},render:e=>{var l;let{field:d}=e;return(0,b.jsx)(u.Ay,(0,a.A)((0,a.A)({},d),{},{options:null===(l=(0,c._o)(B,"fullName"))||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.fullName})),classNamePrefix:"react-select",className:"".concat(c.Ph," ").concat(g.employeeId?"border-[1px] ":"border-gray-300"),placeholder:"Select Employee"}))}}),g.employeeId&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.employeeId.message})]}),(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Amount",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,a.A)((0,a.A)({type:"number",step:"0.01"},l("amount",{required:"Amount is required"})),{},{className:" ".concat(c.Ol," ").concat(g.amount?"border-[1px] ":"border-gray-300"),placeholder:"Enter Amount"})),g.amount&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.amount.message})]}),"cheque"===A("type")&&(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Cheque No",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,a.A)((0,a.A)({type:"text"},l("chequeNo",{required:"chequeNo is required"})),{},{className:" ".concat(c.Ol," ").concat(g.chequeNo?"border-[1px] ":"border-gray-300"),placeholder:"Enter Cheque no"})),g.chequeNo&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.chequeNo.message})]}),"bank"===A("type")&&(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Transaction No",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,a.A)((0,a.A)({type:"text"},l("transactionNo",{required:"transaction No is required"})),{},{className:" ".concat(c.Ol," ").concat(g.transactionNo?"border-[1px] ":"border-gray-300"),placeholder:"Enter Transaction no"})),g.transactionNo&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.transactionNo.message})]}),(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Naration ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("textarea",(0,a.A)((0,a.A)({},l("naration",{required:"Naration is required"})),{},{className:" ".concat(c.Ol," ").concat(g.naration?"border-[1px] ":"border-gray-300"),placeholder:"Enter Naration"})),g.naration&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.naration.message})]}),(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Date ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(o.xI,{name:"date",control:I,rules:{required:"Date  is required"},render:e=>{let{field:l}=e;return(0,b.jsx)(y.A,{field:l,errors:g})}}),g.date&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:g.date.message})]})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,b.jsx)(N.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=5922.a42aac6a.chunk.js.map