"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[9517],{41679:(e,l,a)=>{a.d(l,{A:()=>A});var d=a(89379),s=a(65043),i=a(24858),t=a(86178),n=a.n(t),r=a(83003),o=a(15187),c=a(73216),u=a(30064),v=a.n(u),m=a(17781),p=a(42044),x=a(60184),y=a(88967),h=a(60446),j=a.n(h),f=a(53913),D=a(65512),N=a(17995),g=a(89427),b=a(94084),T=a(70579);const A=e=>{let{isOpen:l,onClose:a,fetchattendanceListData:t,leaveRequestId:u}=e;const{register:h,handleSubmit:A,control:I,setValue:S,reset:q,formState:{errors:O}}=(0,i.mN)({defaultValues:{employeeName:"",date:n()().format("YYYY-MM-DD"),checkInTime:"",checkOutTime:"",reason:"",errors:{}}}),{leaveListData:H,loading:C}=(0,r.d4)(e=>e.leaveType),{loading:M}=(0,r.d4)(e=>e.leaveRequest),P=(0,s.useRef)([]);(0,s.useEffect)(()=>{L((0,p.cp)({directorId:"",companyId:"admin"===(null===_||void 0===_?void 0:_.userType)?R:"company"===(null===_||void 0===_?void 0:_.userType)?null===_||void 0===_?void 0:_._id:null===_||void 0===_?void 0:_.companyId,branchId:"company"===(null===_||void 0===_?void 0:_.userType)||"admin"===(null===_||void 0===_?void 0:_.userType)||"companyDirector"===(null===_||void 0===_?void 0:_.userType)?Y:"companyBranch"===(null===_||void 0===_?void 0:_.userType)?null===_||void 0===_?void 0:_._id:null===_||void 0===_?void 0:_.branchId,employeId:"",text:"",sort:!0,status:"",isPagination:!1}))},[]);(0,c.Zp)();const Y=(0,i.FH)({control:I,name:"PDBranchId",defaultValue:""}),R=(0,i.FH)({control:I,name:"PDCompanyId",defaultValue:""}),B=(0,i.FH)({control:I,name:"dayType",defaultValue:""}),_=((0,i.FH)({control:I,name:"fromDate",defaultValue:""}),JSON.parse(localStorage.getItem("user_info_".concat(o.AU)))),L=(0,r.wA)(),{leaverequestDetails:w}=(0,r.d4)(e=>e.leaveRequest),[V,Q]=(0,s.useState)([]);(0,s.useEffect)(()=>{u&&L((0,m.HE)({_id:u}))},[L,u]),(0,s.useEffect)(()=>{w&&(S("leaveTypeId",null===w||void 0===w?void 0:w.leaveTypeId),S("dayType",null===w||void 0===w?void 0:w.type),S("fromDate",j()(null===w||void 0===w?void 0:w.startDate)),S("fromDayStatus","Single"===(null===w||void 0===w?void 0:w.type)?null===w||void 0===w?void 0:w.subType:null===w||void 0===w?void 0:w.startDateBreakDown),S("toDate","Single"===(null===w||void 0===w?void 0:w.type)?j()(null===w||void 0===w?void 0:w.startDate):j()(null===w||void 0===w?void 0:w.endDate)),S("toDayStatus","Single"===(null===w||void 0===w?void 0:w.type)?null===w||void 0===w?void 0:w.subType:null===w||void 0===w?void 0:w.endDateBreakDown),S("leaveReason",null===w||void 0===w?void 0:w.reason),Q(null===w||void 0===w?void 0:w.attachment))},[w,S]);return l?(0,T.jsx)(f.A,{visible:l,onCancel:()=>{a(),q()},footer:null,title:"Edit Leave",width:600,height:400,className:"antmodalclassName",children:(0,T.jsx)("div",{children:(0,T.jsxs)("form",{autoComplete:"off",onSubmit:A(e=>{const l={_id:u,employeId:null===w||void 0===w?void 0:w.employeId,companyId:null===w||void 0===w?void 0:w.companyId,branchId:null===w||void 0===w?void 0:w.branchId,approvedBy:null,leaveTypeId:null===e||void 0===e?void 0:e.leaveTypeId,type:null===e||void 0===e?void 0:e.dayType,subType:"Single"===e.dayType?e.fromDayStatus:"",startDate:j()(null===e||void 0===e?void 0:e.fromDate).format("YYYY-MM-DD"),startDateBreakDown:"Single"===e.dayType?"":null===e||void 0===e?void 0:e.fromDayStatus,endDate:"Single"===(null===e||void 0===e?void 0:e.dayType)?j()(null===e||void 0===e?void 0:e.fromDate).format("YYYY-MM-DD"):j()(null===e||void 0===e?void 0:e.toDate).format("YYYY-MM-DD"),endDateBreakDown:"Single"===(null===e||void 0===e?void 0:e.dayType)?"":null===e||void 0===e?void 0:e.toDayStatus,reason:null===e||void 0===e?void 0:e.leaveReason,attachment:V};L((0,m.Wc)(l)).then(e=>{e.error||(v().fire({icon:"success",title:"Success!",text:"Leave Request sent successfully.",confirmButtonText:"OK",customClass:{confirmButton:"bg-header text-white hover:bg-[#063156]"}}),t(),a(),q())})}),className:"",children:[(0,T.jsxs)("div",{className:"grid grid-col-1 md:grid-cols-2 gap-4",children:[(0,T.jsxs)("div",{children:[(0,T.jsxs)("label",{className:"".concat(o.Q0),children:["Single day / Multiple days ",(0,T.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,T.jsx)(i.xI,{control:I,name:"dayType",rules:{required:"Day Type is required"},render:e=>{let{field:l}=e;return(0,T.jsxs)(D.A,(0,d.A)((0,d.A)({},l),{},{getPopupContainer:e=>e.parentNode,defaultValue:"",className:"".concat(o.Hy," "),children:[(0,T.jsx)(D.A.Option,{value:"",children:"Select Single / Multiple "}),["Single","Multiple"].map(e=>(0,T.jsx)(D.A.Option,{value:e,children:e},e))]}))}}),O.dayType&&(0,T.jsx)("p",{className:"text-red-500 text-sm",children:O.dayType.message})]}),(0,T.jsxs)("div",{className:"",children:[(0,T.jsxs)("label",{className:"".concat(o.Q0),children:["Leave Type ",(0,T.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,T.jsx)(i.xI,{control:I,name:"leaveTypeId",rules:{required:"leave Request is required"},render:e=>{let{field:l}=e;return(0,T.jsxs)(D.A,(0,d.A)((0,d.A)({},l),{},{getPopupContainer:e=>e.parentNode,className:"".concat(o.Hy," "),children:[(0,T.jsx)(D.A.Option,{value:"",children:"Select Leave Request"}),C?(0,T.jsx)(D.A.Option,{disabled:!0,children:(0,T.jsx)(g.A,{})}):null===H||void 0===H?void 0:H.map(e=>(0,T.jsx)(D.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]}))}}),O.leaveTypeId&&(0,T.jsx)("p",{className:"text-red-500 text-sm",children:O.leaveTypeId.message})]})]}),(0,T.jsx)("div",{className:"border border-gray-800 rounded-md p-2 my-2",children:(0,T.jsxs)("div",{className:"grid grid-col-1 md:grid-cols-2 gap-4",children:[(0,T.jsxs)("div",{children:[(0,T.jsxs)("label",{className:"".concat(o.Q0),children:["Multiple"===B?"From":""," Date ",(0,T.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,T.jsx)(i.xI,{name:"fromDate",control:I,rules:{required:"Date is required"},render:e=>{let{field:l}=e;return(0,T.jsx)(b.A,{field:l,errors:O,disabledDate:e=>e&&e.isBefore(n()().endOf("day"),"day")})}}),O.fromDate&&(0,T.jsx)("p",{className:"text-red-500 text-sm",children:"Date is required"})]}),(0,T.jsxs)("div",{children:[(0,T.jsxs)("label",{className:"".concat(o.Q0),children:["Day Type ",(0,T.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,T.jsx)(i.xI,{control:I,name:"fromDayStatus",rules:{required:"Day Status is required"},render:e=>{let{field:l}=e;return(0,T.jsxs)(D.A,(0,d.A)((0,d.A)({},l),{},{getPopupContainer:e=>e.parentNode,defaultValue:"",className:"".concat(o.Hy," "),children:[(0,T.jsx)(D.A.Option,{value:"",children:"Select Day Type"}),(0,T.jsx)(D.A.Option,{disabled:"Multiple"===B,value:"firstHalf",children:"firstHalf"}),(0,T.jsx)(D.A.Option,{value:"secondHalf",children:"secondHalf"}),(0,T.jsx)(D.A.Option,{value:"fullDay",children:"fullDay"})]}))}}),O.fromDayStatus&&(0,T.jsx)("p",{className:"text-red-500 text-sm",children:O.fromDayStatus.message})]}),"Multiple"===B&&(0,T.jsxs)("div",{children:[(0,T.jsxs)("label",{className:"".concat(o.Q0),children:["To Date ",(0,T.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,T.jsx)(i.xI,{name:"toDate",control:I,rules:{required:"To date is required"},render:e=>{let{field:l}=e;return(0,T.jsx)(b.A,{field:l,errors:O,disabledDate:e=>e&&(j()(e).isBefore(j()(),"day")||j()(e).isSame(j()(),"day"))})}}),(null===O||void 0===O?void 0:O.toDate)&&(0,T.jsx)("p",{className:"text-red-500 text-sm",children:"To Date is required"})]}),"Multiple"===B&&(0,T.jsxs)("div",{children:[(0,T.jsxs)("label",{className:"".concat(o.Q0),children:["Day Type ",(0,T.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,T.jsx)(i.xI,{control:I,name:"toDayStatus",rules:{required:"Day Status is required"},render:e=>{let{field:l}=e;return(0,T.jsxs)(D.A,(0,d.A)((0,d.A)({},l),{},{getPopupContainer:e=>e.parentNode,defaultValue:"",className:"".concat(o.Hy," "),children:[(0,T.jsx)(D.A.Option,{value:"",children:"Select Day Type"}),(0,T.jsx)(D.A.Option,{value:"firstHalf",children:"firstHalf"}),(0,T.jsx)(D.A.Option,{disabled:!0,value:"secondHalf",children:"secondHalf"}),(0,T.jsx)(D.A.Option,{value:"fullDay",children:"fullDay"})]}))}}),O.toDayStatus&&(0,T.jsx)("p",{className:"text-red-500 text-sm",children:O.toDayStatus.message})]})]})}),(0,T.jsx)("div",{className:"border-t pt-4 mt-6",children:(0,T.jsxs)("div",{className:"space-y-4",children:[(0,T.jsx)("input",{ref:P,type:"file",onChange:e=>{const l={filePath:e.target.files[0],isVideo:!1,isMultiple:!1};L((0,y.Sg)(l)).then(e=>{var l;null!==e&&void 0!==e&&null!==(l=e.payload)&&void 0!==l&&l.data&&Q(l=>{var a;return[...l,null===(a=e.payload)||void 0===a?void 0:a.data]})}).then(()=>{P.current&&(P.current.value="")})},className:"hidden",id:"file-upload"}),(0,T.jsxs)("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white cursor-pointer",children:[(0,T.jsx)(x.chT,{className:"mr-2"})," Add Attachments"]}),(0,T.jsx)("div",{className:"space-y-2",children:V.map((e,l)=>(0,T.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[(0,T.jsxs)("a",{href:"".concat("https://vigapi.vigorousit.com","/public/").concat(e),className:"flex items-center space-x-2",target:"_blank",rel:"noopener noreferrer",children:[(0,T.jsx)(x.chT,{className:"text-gray-500"}),(0,T.jsx)("span",{className:"text-sm text-gray-600",children:e})]}),(0,T.jsx)("button",{type:"button",onClick:()=>(e=>{Q(l=>l.filter((l,a)=>a!==e))})(l),className:"text-red-500 hover:text-red-700",children:(0,T.jsx)(x.QCr,{})})]},l))})]})}),(0,T.jsx)("div",{className:"grid grid-col-1 md:grid-cols-1 gap-4",children:(0,T.jsxs)("div",{className:"",children:[(0,T.jsxs)("label",{className:"".concat(o.Q0),children:["Leave Reason ",(0,T.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,T.jsx)("input",(0,d.A)((0,d.A)({type:"text"},h("leaveReason",{required:"Leave Reason is required"})),{},{className:" ".concat(o.Ol," ").concat(O.leaveReason?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Leave Reason"})),O.leaveReason&&(0,T.jsx)("p",{className:"text-red-500 text-sm",children:O.leaveReason.message})]})}),(0,T.jsx)("div",{className:"flex justify-end mt-4",children:(0,T.jsx)("button",{type:"submit",disabled:M,className:"".concat(M?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded"),children:M?(0,T.jsx)(N.A,{}):"Submit"})})]})})}):null}},82195:(e,l,a)=>{a.d(l,{A:()=>O});var d=a(89379),s=a(65043),i=a(24858),t=a(86178),n=a.n(t),r=a(42837),o=a(83003),c=a(15187),u=a(78729),v=(a(33007),a(31744)),m=a(73216),p=a(66015),x=a(30064),y=a.n(x),h=a(17781),j=(a(42044),a(60184)),f=a(88967),D=a(87602),N=a(94084),g=a(60446),b=a.n(g),T=a(53913),A=a(65512),I=a(17995),S=a(89427),q=a(70579);const O=e=>{var l,a;let{isOpen:t,onClose:x,fetchattendanceListData:g}=e;const{register:O,handleSubmit:H,control:C,setValue:M,reset:P,formState:{errors:Y}}=(0,i.mN)({defaultValues:{employeeName:"",date:n()().format("YYYY-MM-DD"),checkInTime:"",checkOutTime:"",reason:"",errors:{}}}),R=((0,m.Zp)(),(0,i.FH)({control:C,name:"PDBranchId",defaultValue:""})),B=(0,i.FH)({control:C,name:"PDCompanyId",defaultValue:""}),_=(0,i.FH)({control:C,name:"dayType",defaultValue:""}),L=((0,i.FH)({control:C,name:"fromDate",defaultValue:""}),(0,i.FH)({control:C,name:"PDDepartmentId",defaultValue:""}),(0,i.FH)({control:C,name:"employee",defaultValue:""})),w=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),V=(0,o.wA)(),{branchList:Q,branchListloading:k}=(0,o.d4)(e=>e.branch),{companyList:E,companyListLoading:F}=(0,o.d4)(e=>e.company),{employeList:Z}=(0,o.d4)(e=>e.employe),[z,J]=(0,s.useState)([]),{assignLeaveRequestDetails:K,loading:U}=(0,o.d4)(e=>e.assignLeave),{loading:W}=(0,o.d4)(e=>e.leaveRequest),G=(0,s.useRef)([]);(0,s.useEffect)(()=>{"admin"===(null===w||void 0===w?void 0:w.userType)&&V((0,u.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,s.useEffect)(()=>{("admin"===(null===w||void 0===w?void 0:w.userType)&&B||"company"===(null===w||void 0===w?void 0:w.userType)&&null!==w&&void 0!==w&&w._id||"companyDirector"===(null===w||void 0===w?void 0:w.userType))&&(M("PDDepartmentId",""),M("PDDesignationId",""),M("PDBranchId",""),V((0,v.d0)({companyId:"admin"===(null===w||void 0===w?void 0:w.userType)?B:"company"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.companyId,text:"",sort:!0,status:!0,isPagination:!1})))},[B]),(0,s.useEffect)(()=>{!B&&"admin"===(null===w||void 0===w?void 0:w.userType)||!R&&"companBranch"===(null===w||void 0===w?void 0:w.userType)&&"employee"!==(null===w||void 0===w?void 0:w.userType)||X()},[B,R]);const X=()=>{const e={text:"",status:!0,sort:!0,isTL:"",isHR:"",isPagination:!1,departmentId:"",designationId:"",companyId:"admin"===(null===w||void 0===w?void 0:w.userType)?B:"company"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.companyId,branchId:"company"===(null===w||void 0===w?void 0:w.userType)||"admin"===(null===w||void 0===w?void 0:w.userType)||"companyDirector"===(null===w||void 0===w?void 0:w.userType)?R:"companyBranch"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.branchId};V((0,r.qV)(e))};(0,s.useEffect)(()=>{null!==L&&void 0!==L&&L.value&&$(null===L||void 0===L?void 0:L.value)},[L]);const $=e=>{const l={employeId:e,companyId:"company"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.companyId,branchId:"companyBranch"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.branchId,text:"",sort:!0,status:"",isPagination:!1,leaveTypeId:""};V((0,D.Z2)(l))};return t?(0,q.jsxs)(T.A,{visible:t,onCancel:()=>{x(),P()},footer:null,title:"Apply Leave",width:600,height:400,className:"antmodalclassName",children:[(null===K||void 0===K||null===(l=K.docs)||void 0===l?void 0:l.length)>0&&(null===L||void 0===L?void 0:L.value)&&(0,q.jsxs)("div",{className:"p-2 border rounded-lg",children:[(0,q.jsx)("div",{className:"".concat(c.Q0),children:"Available Leave"}),(0,q.jsx)("div",{className:"flex gap-2 flex-wrap",children:null===K||void 0===K||null===(a=K.docs)||void 0===a?void 0:a.map((e,l)=>{var a;return(0,q.jsx)("div",{className:"bg-header rounded-full shadow-sm p-1 ",children:(0,q.jsxs)("div",{className:"flex justify-between items-center ",children:[(0,q.jsx)("span",{className:"text-white text-xs capitalize px-2",children:null===e||void 0===e||null===(a=e.leaveTypeData)||void 0===a?void 0:a.name})," ",":",(0,q.jsx)("span",{className:"text-white text-xs capitalize px-2",children:null===e||void 0===e?void 0:e.availableLeaves})]})},l)})})]}),(0,q.jsx)("div",{children:(0,q.jsxs)("form",{autoComplete:"off",onSubmit:H(e=>{var l;const a={employeId:null===e||void 0===e||null===(l=e.employee)||void 0===l?void 0:l.value,companyId:"admin"===(null===w||void 0===w?void 0:w.userType)?B:"company"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.companyId,branchId:"company"===(null===w||void 0===w?void 0:w.userType)||"admin"===(null===w||void 0===w?void 0:w.userType)||"companyDirector"===(null===w||void 0===w?void 0:w.userType)?R:"companyBranch"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.branchId,directorId:"companyDirector"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.directorId,approvedBy:null,leaveTypeId:null===e||void 0===e?void 0:e.leaveTypeId,type:null===e||void 0===e?void 0:e.dayType,subType:"Single"===e.dayType?e.fromDayStatus:"",startDate:b()(null===e||void 0===e?void 0:e.fromDate).format("YYYY-MM-DD"),startDateBreakDown:"Single"===e.dayType?"":null===e||void 0===e?void 0:e.fromDayStatus,endDate:"Single"===(null===e||void 0===e?void 0:e.dayType)?b()(null===e||void 0===e?void 0:e.fromDate).format("YYYY-MM-DD"):b()(null===e||void 0===e?void 0:e.toDate).format("YYYY-MM-DD"),endDateBreakDown:"Single"===(null===e||void 0===e?void 0:e.dayType)?"":null===e||void 0===e?void 0:e.toDayStatus,reason:null===e||void 0===e?void 0:e.leaveReason,attachment:z,status:"Approved"};V((0,h.jl)(a)).then(e=>{e.error||(y().fire({icon:"success",title:"Success!",text:"Leave Request sent successfully.",confirmButtonText:"OK",customClass:{confirmButton:"bg-header text-white hover:bg-[#063156]"}}),g(),x(),P())})}),className:"",children:[(0,q.jsxs)("div",{className:"grid grid-col-1 md:grid-cols-2 gap-4",children:["admin"===(null===w||void 0===w?void 0:w.userType)&&(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{className:"".concat(c.Q0),children:["Company ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)(i.xI,{control:C,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:l}=e;return(0,q.jsxs)(A.A,(0,d.A)((0,d.A)({},l),{},{defaultValue:"",className:"".concat(c.Hy," "),children:[(0,q.jsx)(A.A.Option,{value:"",children:"Select Company"}),F?(0,q.jsx)(A.A.Option,{disabled:!0,children:(0,q.jsx)(S.A,{})}):null===E||void 0===E?void 0:E.map(e=>(0,q.jsx)(A.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),Y.PDCompanyId&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:Y.PDCompanyId.message})]}),("admin"===(null===w||void 0===w?void 0:w.userType)||"company"===(null===w||void 0===w?void 0:w.userType)||"companyDirector"===(null===w||void 0===w?void 0:w.userType))&&(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{className:"".concat(c.Q0),children:["Branch ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)(i.xI,{control:C,name:"PDBranchId",rules:{required:"Branch is required"},render:e=>{var l;let{field:a}=e;return(0,q.jsxs)(A.A,(0,d.A)((0,d.A)({},a),{},{onChange:e=>{M("employee",""),M("leaveTypeId",""),M("fromDayStatus",""),M("toDayStatus",""),a.onChange(e)},getPopupContainer:e=>e.parentNode,defaultValue:"",className:"".concat(c.Hy," "),children:[(0,q.jsx)(A.A.Option,{value:"",children:"Select Branch"}),k?(0,q.jsx)(A.A.Option,{disabled:!0,children:(0,q.jsx)(S.A,{})}):null===(l=(0,c._o)(Q,"fullName"))||void 0===l?void 0:l.map(e=>(0,q.jsx)(A.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),Y.PDBranchId&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:Y.PDBranchId.message})]}),(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsxs)("label",{className:"".concat(c.Q0),children:["Employee ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)(i.xI,{name:"employee",control:C,rules:{required:"Employee is required"},render:e=>{var l;let{field:a}=e;return(0,q.jsx)(p.Ay,(0,d.A)((0,d.A)({},a),{},{options:null===(l=(0,c._o)(Z,"fullName"))||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.fullName})),classNamePrefix:"react-select",className:"".concat(c.Ph," ").concat(Y.employee?"border-[1px] ":"border-gray-300"),placeholder:"Select Employee"}))}}),Y.employee&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:Y.employee.message})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{className:"".concat(c.Q0),children:["Single day / Multiple days ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)(i.xI,{control:C,name:"dayType",rules:{required:"Day Type is required"},render:e=>{let{field:l}=e;return(0,q.jsxs)(A.A,(0,d.A)((0,d.A)({},l),{},{getPopupContainer:e=>e.parentNode,defaultValue:"",className:"".concat(c.Hy," "),children:[(0,q.jsx)(A.A.Option,{value:"",children:"Select Single / Multiple "}),["Single","Multiple"].map(e=>(0,q.jsx)(A.A.Option,{value:e,children:e},e))]}))}}),Y.dayType&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:Y.dayType.message})]}),(0,q.jsxs)("div",{className:"",children:[(0,q.jsxs)("label",{className:"".concat(c.Q0),children:["Leave Type ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)(i.xI,{control:C,name:"leaveTypeId",rules:{required:"leave Request is required"},render:e=>{var l;let{field:a}=e;return(0,q.jsxs)(A.A,(0,d.A)((0,d.A)({},a),{},{getPopupContainer:e=>e.parentNode,defaultValue:"",className:"".concat(c.Hy," "),children:[(0,q.jsx)(A.A.Option,{value:"",children:"Select Leave Request"}),U?(0,q.jsx)(A.A.Option,{disabled:!0,children:(0,q.jsx)(S.A,{})}):null===K||void 0===K||null===(l=K.docs)||void 0===l?void 0:l.map(e=>{var l;return(0,q.jsx)(A.A.Option,{value:null===e||void 0===e?void 0:e.leaveTypeId,children:null===e||void 0===e||null===(l=e.leaveTypeData)||void 0===l?void 0:l.name},null===e||void 0===e?void 0:e.leaveTypeId)})]}))}}),Y.leaveTypeId&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:Y.leaveTypeId.message})]})]}),(0,q.jsx)("div",{className:"border border-gray-800 rounded-md p-2 my-2",children:(0,q.jsxs)("div",{className:"grid grid-col-1 md:grid-cols-2 gap-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{className:"".concat(c.Q0),children:["Multiple"===_?"From":""," Date ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)(i.xI,{name:"fromDate",control:C,rules:{required:"Date is required"},render:e=>{let{field:l}=e;return(0,q.jsx)(N.A,{field:l,errors:Y,disabledDate:e=>e&&e.isBefore(n()().endOf("day"),"day")})}}),Y.fromDate&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:"Date is required"})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{className:"".concat(c.Q0),children:["Day Type ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)(i.xI,{control:C,name:"fromDayStatus",rules:{required:"Day Status is required"},render:e=>{let{field:l}=e;return(0,q.jsxs)(A.A,(0,d.A)((0,d.A)({},l),{},{getPopupContainer:e=>e.parentNode,defaultValue:"",className:"".concat(c.Hy," "),children:[(0,q.jsx)(A.A.Option,{value:"",children:"Select Day Type"}),(0,q.jsx)(A.A.Option,{disabled:"Multiple"===_,value:"firstHalf",children:"firstHalf"}),(0,q.jsx)(A.A.Option,{value:"secondHalf",children:"secondHalf"}),(0,q.jsx)(A.A.Option,{value:"fullDay",children:"fullDay"})]}))}}),Y.fromDayStatus&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:Y.fromDayStatus.message})]}),"Multiple"===_&&(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{className:"".concat(c.Q0),children:["To Date ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)(i.xI,{name:"toDate",control:C,rules:{required:"To date is required"},render:e=>{let{field:l}=e;return(0,q.jsx)(N.A,{field:l,errors:Y,disabledDate:e=>e&&(b()(e).isBefore(b()(),"day")||b()(e).isSame(b()(),"day"))})}}),(null===Y||void 0===Y?void 0:Y.toDate)&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:"To Date is required"})]}),"Multiple"===_&&(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{className:"".concat(c.Q0),children:["Day Type ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)(i.xI,{control:C,name:"toDayStatus",rules:{required:"Day Status is required"},render:e=>{let{field:l}=e;return(0,q.jsxs)(A.A,(0,d.A)((0,d.A)({},l),{},{getPopupContainer:e=>e.parentNode,defaultValue:"",className:"".concat(c.Hy," "),children:[(0,q.jsx)(A.A.Option,{value:"",children:"Select Day Type"}),(0,q.jsx)(A.A.Option,{value:"firstHalf",children:"firstHalf"}),(0,q.jsx)(A.A.Option,{disabled:!0,value:"secondHalf",children:"secondHalf"}),(0,q.jsx)(A.A.Option,{value:"fullDay",children:"fullDay"})]}))}}),Y.toDayStatus&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:Y.toDayStatus.message})]})]})}),(0,q.jsxs)("div",{className:"border-t",children:[(0,q.jsx)("label",{className:"".concat(c.Q0),children:"Attachments "}),(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("input",{type:"file",ref:G,onChange:e=>{const l={filePath:e.target.files[0],isVideo:!1,isMultiple:!1};V((0,f.Sg)(l)).then(e=>{var l;null!==e&&void 0!==e&&null!==(l=e.payload)&&void 0!==l&&l.data&&J(l=>{var a;return[...l,null===(a=e.payload)||void 0===a?void 0:a.data]})}).then(()=>{G.current&&(G.current.value="")})},className:"hidden",id:"file-upload"}),(0,q.jsxs)("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white cursor-pointer",children:[(0,q.jsx)(j.chT,{className:"mr-2"})," Add Attachments"]}),(0,q.jsx)("div",{className:"space-y-2",children:z.map((e,l)=>(0,q.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[(0,q.jsxs)("a",{href:"".concat("https://vigapi.vigorousit.com","/public/").concat(e),className:"flex items-center space-x-2",target:"_blank",rel:"noopener noreferrer",children:[(0,q.jsx)(j.chT,{className:"text-gray-500"}),(0,q.jsx)("span",{className:"text-sm text-gray-600",children:e})]}),(0,q.jsx)("button",{type:"button",onClick:()=>(e=>{J(l=>l.filter((l,a)=>a!==e))})(l),className:"text-red-500 hover:text-red-700",children:(0,q.jsx)(j.QCr,{})})]},l))})]})]}),(0,q.jsx)("div",{className:"grid grid-col-1 md:grid-cols-1 gap-4",children:(0,q.jsxs)("div",{className:"",children:[(0,q.jsxs)("label",{className:"".concat(c.Q0),children:["Leave Reason ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)("input",(0,d.A)((0,d.A)({type:"text"},O("leaveReason",{required:"Leave Reason is required"})),{},{className:" ".concat(c.Ol," ").concat(Y.leaveReason?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Leave Reason"})),Y.leaveReason&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:Y.leaveReason.message})]})}),(0,q.jsx)("div",{className:"flex justify-end mt-4",children:(0,q.jsx)("button",{type:"submit",disabled:W,className:"".concat(W?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded"),children:W?(0,q.jsx)(I.A,{}):"Submit"})})]})})]}):null}}}]);
//# sourceMappingURL=9517.18af09a9.chunk.js.map