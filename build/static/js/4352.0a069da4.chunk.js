"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[4352],{74352:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var l=a(89379),d=a(73216),s=a(39160),r=a(83003),n=a(65043),o=a(30064),i=a.n(o),c=(a(31174),a(23156)),u=a(47196),p=a(24858),m=a(15187),x=a(78227),h=a(65512),v=a(96651),j=a(4938),f=a(55971),b=a(60446),y=a.n(b),g=a(89427),N=a(60089),w=a(549),A=a(85114),T=a(31462),I=a(26929),S=a(94084),D=a(58302),k=a(42837),O=a(70579);const C=function(){const{register:e,control:t,setValue:a,formState:{errors:o}}=(0,p.mN)(),b=((0,d.Zp)(),(0,r.wA)()),C=JSON.parse(localStorage.getItem("user_info_".concat(m.AU))),{projectTaskList:P,totalProjectTaskCount:M,loading:Y}=(0,r.d4)(e=>e.projectTask),{employeList:L,laoding:_}=(0,r.d4)(e=>e.employe),[q,F]=(0,n.useState)(""),[H,E]=(0,n.useState)({isOpen:!1,data:null}),[R,V]=(0,n.useState)({isOpen:!1,data:null}),[U,z]=(0,n.useState)({isOpen:!1,data:null}),[B,Q]=(0,n.useState)(1),J=(0,p.FH)({control:t,name:"status",defaultValue:""}),K=(0,p.FH)({control:t,name:"startDate",defaultValue:y()()}),G=(0,p.FH)({control:t,name:"endDate",defaultValue:y()()}),W=(0,p.FH)({control:t,name:"employeeId",defaultValue:""}),Z=[J,q,K,G,W].join("-"),[X,$]=(0,n.useState)(!1);(0,n.useEffect)(()=>{X?1===B?ee():Q(1):$(e=>!0)},[Z]),(0,n.useEffect)(()=>{"manager"===(null===C||void 0===C?void 0:C.roleKey)&&"employee"===(null===C||void 0===C?void 0:C.userType)&&ee()},[B]);const ee=()=>{const e={page:B,limit:10,reqPayload:{companyId:null===C||void 0===C?void 0:C.companyId,branchId:null===C||void 0===C?void 0:C.branchId,directorId:"",text:q,sort:!0,status:J,isPagination:!0,projectId:"",taskId:"",assignedTo:W,departmentId:null===C||void 0===C?void 0:C.departmentId,creatorId:"",followerIds:[],startDate:K?y()(K).format("YYYY-MM-DD"):"",endDate:G?y()(G).format("YYYY-MM-DD"):""}};null!==C&&void 0!==C&&C.departmentId&&b((0,N.FS)(e))},te=()=>{b((0,k.qV)({companyId:null===C||void 0===C?void 0:C.companyId,branchId:null===C||void 0===C?void 0:C.branchId,departmentId:null===C||void 0===C?void 0:C.departmentId,directorId:"",text:"",sort:!0,status:!0,isPagination:!1,isBranch:!0,isDirector:!1}))},ae=(e,t)=>{b((0,N.fw)({_id:t,status:e})).then(e=>{e.error||ee()})},{canCreate:le,canRead:de,canUpdate:se,canDelete:re}=(0,j.A)();return"manager"!==(null===C||void 0===C?void 0:C.roleKey)||"employee"!==(null===C||void 0===C?void 0:C.userType)?(0,O.jsx)(s.A,{children:(0,O.jsx)("div",{className:"bg-red-100 text-red-800 p-4 rounded-md mt-2",children:(0,O.jsx)("p",{className:"text-center font-semibold",children:"You are not a Manager. This page is viewable for Manager only."})})}):(0,O.jsx)(s.A,{onChange:e=>{F(e)},children:(0,O.jsxs)("section",{children:[(0,O.jsxs)("div",{className:"",children:[(0,O.jsxs)("div",{className:"grid grid-cols-1 sm:flex  gap-2 items-center justify-start py-1 text-[14px] rounded-md w-full",children:[(0,O.jsx)("div",{children:(0,O.jsx)(p.xI,{name:"employeeId",control:t,render:e=>{var t;let{field:a}=e;return(0,O.jsxs)(h.A,{allowClear:!0,className:"inputAntdSelectClassNameFilterReport",disabled:Y,placeholder:"Select Employee",onFocus:te,showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),value:a.value||[],onChange:e=>a.onChange(e),children:[(0,O.jsx)(h.A.Option,{value:"",children:"Select Employee"}),_?(0,O.jsx)(h.A.Option,{disabled:!0,children:(0,O.jsx)(g.A,{})}):null===(t=(0,m._o)(L,"fullName"))||void 0===t?void 0:t.map(e=>(0,O.jsx)(h.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]})}})}),(0,O.jsx)("div",{children:(0,O.jsx)(p.xI,{name:"status",control:t,rules:{},render:e=>{let{field:t}=e;return(0,O.jsxs)(h.A,(0,l.A)((0,l.A)({},t),{},{className:"capitalize w-32 ".concat(m.Lp," ").concat(o.status?"border-[1px] ":"border-gray-300"),placeholder:"Select Status",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,O.jsx)(h.A.Option,{value:"",children:"Select Status"}),null===m.RU||void 0===m.RU?void 0:m.RU.map(e=>(0,O.jsxs)(h.A.Option,{className:"capitalize",value:e,children:[" ",e," "]},e))]}))}})}),(0,O.jsx)("div",{children:(0,O.jsx)(p.xI,{name:"startDate",control:t,defaultValue:y()(),render:e=>{let{field:t}=e;return(0,O.jsx)(S.A,{report:!0,disabled:Y,placeholder:"Start date",size:"middle",field:t,errors:o})}})}),(0,O.jsx)("div",{children:(0,O.jsx)(p.xI,{name:"endDate",report:!0,control:t,defaultValue:y()(),render:e=>{let{field:t}=e;return(0,O.jsx)(S.A,{size:"middle",disabled:Y,placeholder:"Start date",report:!0,field:t,errors:o})}})})]}),(0,O.jsxs)("div",{className:"flex justify-end items-center gap-2 my-1",children:[(0,O.jsx)("button",{onClick:()=>{a("status",""),a("PDBranchId",""),a("PdCompanyId",""),a("startDate",y()()),a("endDate",y()())},className:"bg-header   py-[5px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,O.jsx)("span",{className:"text-[12px]",children:"Reset"})}),le&&(0,O.jsx)(v.A,{placement:"topLeft",title:"Add task",children:(0,O.jsxs)("button",{onClick:()=>{E({isOpen:!0,data:null})},className:"bg-header px-2 py-1.5 rounded-md flex justify-center items-center space-x-2 text-white",children:[(0,O.jsx)(c.OiG,{}),(0,O.jsx)("span",{className:"text-[12px]",children:"Add task"})]})})]})]}),(0,O.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:de&&(0,O.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,O.jsx)("thead",{className:"",children:(0,O.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,O.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[5%]",children:"S.No."}),(0,O.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[20%]",children:"Title"}),(0,O.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[15%]",children:"Assigned To"}),(0,O.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Department"}),(0,O.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[15%]",children:"Created By"}),(0,O.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[15%]",children:"Created At"}),(0,O.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Priority"}),(0,O.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Status"}),(re||se)&&(0,O.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Action"})]})}),Y?(0,O.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,O.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,O.jsx)(f.A,{})})}):(0,O.jsx)("tbody",{children:P&&(null===P||void 0===P?void 0:P.length)>0?null===P||void 0===P?void 0:P.map((e,t)=>{var a,l,d,s,r,n;return(0,O.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] ".concat(t%2===0?"bg-[#e9ecef]/80":"bg-white"," text-[#374151] text-[14px]"),children:[(0,O.jsx)("td",{className:"whitespace-nowrap border-none p-2 text-center",children:t+1+10*(B-1)}),(0,O.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(a=null===e||void 0===e?void 0:e.title)&&void 0!==a?a:"-"}),(0,O.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(l=null===e||void 0===e||null===(d=e.assignedToData)||void 0===d?void 0:d.fullName)&&void 0!==l?l:"-"}),(0,O.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(s=null===e||void 0===e?void 0:e.departmentName)&&void 0!==s?s:"-"}),(0,O.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Time Spent"}),(0,O.jsx)("td",{className:"whitespace-nowrap border-none text-teal-600 p-2",children:void 0!==(null===e||void 0===e?void 0:e.totalTimeSpentInMin)?"".concat(Math.floor(e.totalTimeSpentInMin/60),"h ").concat(e.totalTimeSpentInMin%60,"m"):"-"}),(0,O.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(r=null===e||void 0===e?void 0:e.createdBy)&&void 0!==r?r:"-"}),(0,O.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(n=y()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a"))&&void 0!==n?n:"-"}),(0,O.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(0,O.jsx)("span",{className:"px-2 py-1 rounded-lg text-white text-[12px] ".concat("high"===(null===e||void 0===e?void 0:e.priority)?"bg-red-500":"medium"===(null===e||void 0===e?void 0:e.priority)?"bg-yellow-500":"bg-green-500"),children:null!==e&&void 0!==e&&e.priority?e.priority.charAt(0).toUpperCase()+e.priority.slice(1):"-"})}),(0,O.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(0,O.jsx)(D.A,{element:e,handleStatusChange:ae})}),(re||se)&&(0,O.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(0,O.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2",children:[se&&(0,O.jsx)(v.A,{placement:"topLeft",title:"view",children:(0,O.jsx)("button",{onClick:()=>{z({isOpen:!0,data:e})},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,O.jsx)(T.JPe,{className:" hover:text-[#337ab7] text-[#3c8dbc]",size:16})})}),se&&(0,O.jsx)(v.A,{placement:"topLeft",title:"done"===(null===e||void 0===e?void 0:e.status)||"rejected"===(null===e||void 0===e?void 0:e.status)?"Edit not allowed for Done/Rejected":"Edit",children:(0,O.jsx)("button",{onClick:()=>{"done"!==(null===e||void 0===e?void 0:e.status)&&"rejected"!==(null===e||void 0===e?void 0:e.status)&&V({isOpen:!0,data:e})},disabled:"done"===(null===e||void 0===e?void 0:e.status)||"rejected"===(null===e||void 0===e?void 0:e.status),className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted transition ".concat("done"===(null===e||void 0===e?void 0:e.status)||"rejected"===(null===e||void 0===e?void 0:e.status)?"opacity-50 cursor-not-allowed":"hover:border-[#337ab7]"),type:"button",children:(0,O.jsx)(c.Jcp,{className:"".concat("done"===(null===e||void 0===e?void 0:e.status)||"rejected"===(null===e||void 0===e?void 0:e.status)?"text-gray-400":"text-[#3c8dbc] hover:text-[#337ab7]"),size:16})})}),re&&(0,O.jsx)(v.A,{placement:"topLeft",title:"done"===(null===e||void 0===e?void 0:e.status)||"rejected"===(null===e||void 0===e?void 0:e.status)?"Delete not allowed for Done/Rejected":"Delete",children:(0,O.jsx)("button",{onClick:()=>{"done"!==(null===e||void 0===e?void 0:e.status)&&"rejected"!==(null===e||void 0===e?void 0:e.status)&&(e=>{let t={_id:e};i().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&b((0,N.sl)(t)).then(e=>{B>1&&1==(null===P||void 0===P?void 0:P.length)?Q(Number(B-1)):ee()})})})(null===e||void 0===e?void 0:e._id)},disabled:"done"===(null===e||void 0===e?void 0:e.status)||"rejected"===(null===e||void 0===e?void 0:e.status),className:"px-2 py-1.5 rounded-md bg-transparent border border-muted transition ".concat("done"===(null===e||void 0===e?void 0:e.status)||"rejected"===(null===e||void 0===e?void 0:e.status)?"opacity-50 cursor-not-allowed":"hover:border-red-400"),type:"button",children:(0,O.jsx)(u.tqC,{className:"".concat("done"===(null===e||void 0===e?void 0:e.status)||"rejected"===(null===e||void 0===e?void 0:e.status)?"text-gray-400":"text-red-600 hover:text-red-500"),size:16})})})]})})]})}):(0,O.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,O.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-center text-sm text-gray-500",children:"No Tasks Found"})})})]})}),(0,O.jsx)(x.A,{totalCount:M,pageSize:10,currentPage:B,onChange:e=>{Q(e)}}),(0,O.jsx)(w.A,{isOpen:null===H||void 0===H?void 0:H.isOpen,data:null===H||void 0===H?void 0:H.data,fetchListAfterSuccess:ee,closeModalFunc:()=>E({isOpen:!1,data:null})}),(0,O.jsx)(A.A,{isOpen:null===R||void 0===R?void 0:R.isOpen,data:null===R||void 0===R?void 0:R.data,fetchListAfterSuccess:ee,closeModalFunc:()=>V({isOpen:!1,data:null})}),(0,O.jsx)(I.A,{isOpen:null===U||void 0===U?void 0:U.isOpen,data:null===U||void 0===U?void 0:U.data,fetchListAfterSuccess:ee,closeModalFunc:()=>{z({isOpen:!1,data:null}),ee()}})]})})}},85114:(e,t,a)=>{a.d(t,{A:()=>N});var l=a(89379),d=a(65043),s=a(24858),r=a(13382),n=a(53913),o=a(65512),i=a(83003),c=a(735),u=a(15187),p=(a(17995),a(89427),a(60089)),m=a(57944),x=a(60184),h=(a(42837),a(88967)),v=a(86178),j=a.n(v),f=a(60446),b=a.n(f),y=a(94084),g=a(70579);const N=function(e){var t;let{isOpen:a,data:v,fetchListAfterSuccess:f,closeModalFunc:N}=e;const{loading:w}=(0,i.d4)(e=>e.projectTask),{register:A,handleSubmit:T,setValue:I,control:S,watch:D,reset:k,formState:{errors:O}}=(0,s.mN)(),C=null===v||void 0===v?void 0:v._id,{userCompanyId:P,userDirectorId:M,userBranchId:Y,userType:L}=(0,c.A)(),_=(0,i.wA)(),[q,F]=(0,d.useState)([]),{employeList:H,loading:E}=(JSON.parse(localStorage.getItem("user_info_".concat(u.AU))),(0,i.d4)(e=>e.employe)),{projectmanagementList:R}=(0,i.d4)(e=>e.projectManagement),{projectTaskDetails:V}=(0,i.d4)(e=>e.projectTask),U=(0,s.FH)({control:S,name:"relatedTo",defaultValue:""}),z=(0,s.FH)({control:S,name:"employee",defaultValue:""}),B=(null===H||void 0===H||null===(t=H.find(e=>(null===e||void 0===e?void 0:e._id)===z))||void 0===t||t.reportingperson,e=>e.parentNode);(0,d.useEffect)(()=>{a&&C&&_((0,p.pA)({_id:C}))},[a,C]),(0,d.useEffect)(()=>{(async()=>{if(a&&V)try{var e;await Promise.all([_((0,m.vH)({directorId:"",companyId:null===V||void 0===V?void 0:V.companyId,branchId:null===V||void 0===V?void 0:V.branchId,text:"",sort:!0,status:"",isPagination:!1}))]),k({name:null===V||void 0===V?void 0:V.title,projectId:null===V||void 0===V?void 0:V.projectId,descriptions:null===V||void 0===V?void 0:V.description,employee:null===V||void 0===V?void 0:V.assignedTo,assignedPersonname:null===V||void 0===V||null===(e=V.assignedToData)||void 0===e?void 0:e.fullName,checkInTime:null!==V&&void 0!==V&&V.startDateTime?b()(null===V||void 0===V?void 0:V.startDateTime):null,checkOutTime:null!==V&&void 0!==V&&V.endDateTime?b()(null===V||void 0===V?void 0:V.endDateTime):null,relatedTo:null===V||void 0===V?void 0:V.relatedTo,taskPriority:null===V||void 0===V?void 0:V.priority}),F((null===V||void 0===V?void 0:V.attachment)||[])}catch(t){console.error("Error fetching data:",t)}})()},[a,V]),(0,d.useEffect)(()=>()=>{_((0,p.gO)())},[]);const Q=()=>{k(),F([]),N()};return(0,g.jsx)(n.A,{title:"Update Project Task",open:a,onCancel:Q,footer:null,width:800,centered:!0,destroyOnClose:!0,className:"antmodalclassName",children:(0,g.jsxs)("form",{autoComplete:"off",onSubmit:T(e=>{const t={_id:C,companyId:null===V||void 0===V?void 0:V.companyId,directorId:"",branchId:null===V||void 0===V?void 0:V.branchId,title:null===e||void 0===e?void 0:e.name,projectId:"project"===(null===e||void 0===e?void 0:e.relatedTo)?null===e||void 0===e?void 0:e.projectId:null,description:null===e||void 0===e?void 0:e.descriptions,followerIds:[],assignedTo:null===e||void 0===e?void 0:e.employee,startDateTime:null===e||void 0===e?void 0:e.checkInTime,endDateTime:null===e||void 0===e?void 0:e.checkOutTime,relatedTo:null===e||void 0===e?void 0:e.relatedTo,priority:null===e||void 0===e?void 0:e.taskPriority,attachment:q,estimatedHours:null,tags:[]};_((0,p.m9)(t)).then(e=>{e.error||(k(),F([]),N(),f())})}),children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 my-4",children:[(0,g.jsxs)("div",{className:"",children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["Task Title ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)("input",(0,l.A)((0,l.A)({type:"text"},A("name",{required:"Task Title is required"})),{},{className:"".concat(u.Ol," ").concat(O.name?"border-red-500":"border-gray-300"),placeholder:"Enter Task Title"})),O.name&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:O.name.message})]}),(0,g.jsxs)("div",{className:"",children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["Assign To ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsxs)("div",{className:"",children:[(0,g.jsx)("input",(0,l.A)((0,l.A)({type:"text"},A("assignedPersonname")),{},{disabled:!0,className:"".concat(u.id," ").concat(O.name?"border-red-500":"border-gray-300"),placeholder:"Assigned To "})),O.name&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:O.name.message})]})]}),(0,g.jsxs)("div",{className:"w-full",children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["Task Priority ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)(s.xI,{control:S,name:"taskPriority",rules:{required:"Task Priority is required"},render:e=>{var t;let{field:a}=e;return(0,g.jsxs)(o.A,(0,l.A)((0,l.A)({},a),{},{placeholder:"Select Task Priority",className:"".concat(u.Hy," ").concat(O.taskPriority?"border-red-500":"border-gray-300"),getPopupContainer:B,children:[(0,g.jsx)(o.A.Option,{value:"",children:"Select Task Priority"}),null===(t=["low","medium","high","urgent"])||void 0===t?void 0:t.map(e=>(0,g.jsx)(o.A.Option,{value:e,children:e},e))]}))}}),O.taskPriority&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:O.taskPriority.message})]}),(0,g.jsxs)("div",{className:"w-full",children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["Related To ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)(s.xI,{control:S,name:"relatedTo",rules:{required:"Related To is required"},render:e=>{var t;let{field:a}=e;return(0,g.jsxs)(o.A,(0,l.A)((0,l.A)({},a),{},{placeholder:"Select Related To",className:"".concat(u.Hy," ").concat(O.relatedTo?"border-red-500":"border-gray-300"),getPopupContainer:B,children:[(0,g.jsx)(o.A.Option,{value:"",children:"Select Related To"}),null===(t=["project","other"])||void 0===t?void 0:t.map(e=>(0,g.jsx)(o.A.Option,{value:e,children:e},e))]}))}}),O.relatedTo&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:O.relatedTo.message})]}),"project"===U&&(0,g.jsxs)("div",{className:"w-full",children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["Project ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)(s.xI,{control:S,name:"projectId",rules:{required:"Project is required"},render:e=>{let{field:t}=e;return(0,g.jsxs)(o.A,(0,l.A)((0,l.A)({},t),{},{placeholder:"Select Project",className:"".concat(u.Hy," ").concat(O.projectId?"border-red-500":"border-gray-300"),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),getPopupContainer:B,children:[(0,g.jsx)(o.A.Option,{value:"",children:"Select Project"}),null===R||void 0===R?void 0:R.map((e,t)=>(0,g.jsx)(o.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.title},t))]}))}}),O.projectId&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:O.projectId.message})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["Start Time ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)(s.xI,{name:"checkInTime",control:S,rules:{required:!0},render:e=>{let{field:t}=e;return(0,g.jsx)(y.A,{field:t,showTime:!0,format:"DD/MM/YYYY HH:mm",errors:O,disabledDate:e=>e&&e.isBefore(j()().endOf("day"),"day")})}}),O.checkInTime&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:"Start Time is required"})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["End Time ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)(s.xI,{name:"checkOutTime",control:S,rules:{required:!0},render:e=>{let{field:t}=e;return(0,g.jsx)(y.A,{field:t,showTime:!0,format:"DD/MM/YYYY HH:mm",errors:O,disabledDate:e=>e&&e.isBefore(j()().endOf("day"),"day")})}}),O.checkOutTime&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:"End Time is required"})]}),(0,g.jsxs)("div",{className:"col-span-2",children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["Description ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)("textarea",(0,l.A)((0,l.A)({},A("descriptions",{required:"Description is required"})),{},{className:"".concat(u.Ol," ").concat(O.descriptions?"border-red-500":"border-gray-300"," h-24"),placeholder:"Enter description"})),O.descriptions&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:O.descriptions.message})]}),(0,g.jsxs)("div",{className:"col-span-2 space-y-4",children:[(0,g.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(!t)return;const a={filePath:t,isVideo:!1,isMultiple:!1};_((0,h.Sg)(a)).then(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.payload)&&void 0!==t&&t.data&&F(t=>{var a;return[...t,null===e||void 0===e||null===(a=e.payload)||void 0===a?void 0:a.data]})})},className:"hidden",id:"file-upload"}),(0,g.jsxs)("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white cursor-pointer hover:bg-gray-50",children:[(0,g.jsx)(x.chT,{className:"mr-2"})," Add Attachments"]}),(0,g.jsx)("div",{className:"space-y-2",children:null===q||void 0===q?void 0:q.map((e,t)=>(0,g.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[(0,g.jsxs)("a",{href:"".concat("https://vigapi.vigorousit.com","/public/").concat(e),className:"flex items-center space-x-2",target:"_blank",rel:"noopener noreferrer",children:[(0,g.jsx)(x.chT,{className:"text-gray-500"}),(0,g.jsx)("span",{className:"text-sm text-gray-600",children:e})]}),(0,g.jsx)("button",{type:"button",onClick:()=>(e=>{F(t=>null===t||void 0===t?void 0:t.filter((t,a)=>a!==e))})(t),className:"text-red-500 hover:text-red-700",children:(0,g.jsx)(x.QCr,{})})]},t))})]})]}),(0,g.jsxs)("div",{className:"flex justify-end space-x-4 mt-6",children:[(0,g.jsx)(r.Ay,{onClick:Q,disabled:w,children:"Cancel"}),(0,g.jsx)(r.Ay,{type:"primary",htmlType:"submit",disabled:w,loading:w,children:w?"Updating...":"Update"})]})]})})}}}]);
//# sourceMappingURL=4352.0a069da4.chunk.js.map