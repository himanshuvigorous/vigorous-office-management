"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[2339],{62339:(e,n,t)=>{t.r(n),t.d(n,{default:()=>M});var l=t(89379),a=t(24858),o=t(83003),i=t(15187),r=t(65043),s=t(31744),d=t(39160),c=t(65512),p=t(97326),m=(t(86178),t(60446)),u=t.n(m),h=t(78227),v=t(12106),x=t(42837),y=t(94084),f=t(69223),w=t.n(f),N=t(55971),j=t(50822),g=(t(57916),t(6720)),b=t(37762),D=t(64857),S=t(33007),I=t(16210),A=(t(63506),t(23156)),P=t(53913),C=t(13382),Y=t(70579);const R=function(e){let{appraisalData:n,isOpen:t,onClose:l,employeData:a}=e;(0,o.wA)();const i=(0,r.useRef)(null);return(0,Y.jsxs)(P.A,{title:"Appraisal Details / ".concat(null===a||void 0===a?void 0:a.fullName),open:t,onCancel:()=>{l()},footer:null,width:"95%",contentBg:"#f3f4f6",style:{top:20},className:"antmodalclassName",children:[(0,Y.jsx)("div",{className:"flex justify-end items-center mb-1",children:(0,Y.jsxs)("div",{className:"flex space-x-2",children:[(0,Y.jsx)(C.Ay,{type:"primary",icon:(0,Y.jsx)(A.Ru,{}),onClick:()=>{const e=new(w().Workbook),t=e.addWorksheet("Appraisal Report");t.addRow(["S.No.","Employee Name","Previous Package","Previous Monthly Salary","Previous PerDay Salary","New Package","New Monthly Salary","New PerDay Salary","Increment Date","Increment Percentage","Increment Amount","Is Percentage"]),null===n||void 0===n||n.forEach((e,n)=>{const l=[n+1,(null===a||void 0===a?void 0:a.fullName)||"-",(null===e||void 0===e?void 0:e.previousPackage)||"-",(null===e||void 0===e?void 0:e.previousMonthlySalary)||"-",(null===e||void 0===e?void 0:e.previousPerDaySalary)||"-",(null===e||void 0===e?void 0:e.newPackage)||"-",(null===e||void 0===e?void 0:e.newMonthlySalary)||"-",(null===e||void 0===e?void 0:e.newPerDaySalary)||"-",null!==e&&void 0!==e&&e.incrementDate?u()(e.incrementDate).format("DD-MM-YYYY hh:mm a"):"-",(null===e||void 0===e?void 0:e.incrementPercentage)||"-",(null===e||void 0===e?void 0:e.incrementAmount)||"-",null!==e&&void 0!==e&&e.isPercentage?"Yes":"No"];t.addRow(l)}),t.getRow(1).eachCell(e=>{e.font={bold:!0},e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFD3D3D3"}},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),t.eachRow((e,n)=>{e.eachCell(e=>{e.alignment={vertical:"middle",horizontal:"left"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),t.autoFilter={from:"A1",to:"L".concat(n.length+1)},t.columns.forEach(e=>{let n=0;e.eachCell({includeEmpty:!0},e=>{const t=e.value?e.value.toString().length:10;t>n&&(n=t)}),e.width=n<10?10:n+2}),e.xlsx.writeBuffer().then(e=>{const n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),t=document.createElement("a");t.href=URL.createObjectURL(n),t.download="Appraisal_Report_".concat((null===a||void 0===a?void 0:a.fullName)||"Employee",".xlsx"),t.click()})},className:"flex items-center bg-green-600 hover:bg-green-700",children:"Export Excel"}),(0,Y.jsx)(C.Ay,{type:"primary",icon:(0,Y.jsx)(A.kl1,{}),onClick:()=>{const e=new b.uE({orientation:"landscape",unit:"pt"});e.setFontSize(16),e.text("Appraisal Report - ".concat((null===a||void 0===a?void 0:a.fullName)||"-"),40,40),e.setFontSize(12);const t=n.map((e,n)=>[n+1,(null===a||void 0===a?void 0:a.fullName)||"-",(null===e||void 0===e?void 0:e.previousPackage)||"-",(null===e||void 0===e?void 0:e.previousMonthlySalary)||"-",(null===e||void 0===e?void 0:e.previousPerDaySalary)||"-",(null===e||void 0===e?void 0:e.newPackage)||"-",(null===e||void 0===e?void 0:e.newMonthlySalary)||"-",(null===e||void 0===e?void 0:e.newPerDaySalary)||"-",null!==e&&void 0!==e&&e.incrementDate?u()(e.incrementDate).format("DD-MM-YYYY hh:mm a"):"-",(null===e||void 0===e?void 0:e.incrementPercentage)||"-",(null===e||void 0===e?void 0:e.incrementAmount)||"-",null!==e&&void 0!==e&&e.isPercentage?"Yes":"No"]);(0,D.Ay)(e,{startY:80,head:[["S.No.","Employee Name","Previous Package","Previous Monthly Salary","Previous PerDay Salary","New Package","New Monthly Salary","New PerDay Salary","Increment Date","Increment Percentage","Increment Amount","Is Percentage"]],body:t,margin:{horizontal:10},styles:{cellPadding:6,fontSize:9,valign:"middle",halign:"left"},headStyles:{fillColor:[211,211,211],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},didDrawPage:n=>{const t=e.internal.getNumberOfPages();e.setFontSize(10),e.text("Page ".concat(n.pageNumber," of ").concat(t),n.settings.margin.left,e.internal.pageSize.height-20)}}),e.save("Appraisal_Report_".concat((null===a||void 0===a?void 0:a.fullName)||"Employee",".pdf"))},className:"flex items-center bg-red-600 hover:bg-red-700",children:"Export PDF"})]})}),(0,Y.jsx)("div",{className:"w-full p-1",children:(0,Y.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",ref:i,children:(0,Y.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,Y.jsx)("thead",{className:"",children:(0,Y.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[5%]",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"S.No."})})}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"Employee Name"})})}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"Previous Package"})})}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"Previous Monthly Salary"})})}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"Previous PerDay Salary"})})}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"New Package"})})}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"New Monthly Salary"})})}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"New PerDay Salary"})})}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"Increment Date"})})}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"Increment Percentage"})})}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"Increment Amount"})})}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,Y.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,Y.jsx)("span",{children:"Is Percentage"})})})]})}),(0,Y.jsx)("tbody",{children:n&&(null===n||void 0===n?void 0:n.length)>0?null===n||void 0===n?void 0:n.map((e,n)=>(0,Y.jsxs)("tr",{className:"".concat(n%2===0?"bg-[#e9ecef]/80":"bg-white"," border-b-[1px] border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:n+1}),(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:null===a||void 0===a?void 0:a.fullName}),(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.previousPackage)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.previousMonthlySalary)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.previousPerDaySalary)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.newPackage)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.newMonthlySalary)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.newPerDaySalary)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:u()(null===e||void 0===e?void 0:e.incrementDate).format("DD-MM-YYYY hh:mm a")||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.incrementPercentage)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:null===e||void 0===e?void 0:e.incrementAmount}),(0,Y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:null!==e&&void 0!==e&&e.isPercentage?"Yes":"No"})]},n)):(0,Y.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,Y.jsx)("td",{colSpan:11,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})})})]})};var k=t(89427);const M=function(){const{control:e,formState:{errors:n},setValue:t}=(0,a.mN)(),m=(0,o.wA)(),{employeeAppraisalReportist:w,employeeAppraisalReportFunc_loading:A,totalemployeeAppraisalReportCount:P}=(0,o.d4)(e=>e.reports),{employeList:C}=(0,o.d4)(e=>e.employe),[M,F]=(0,r.useState)(""),E=JSON.parse(localStorage.getItem("user_info_".concat(i.AU))),[_,z]=(0,r.useState)(1),[T,O]=(0,r.useState)(""),{branchList:B}=(0,o.d4)(e=>e.branch),{designationList:L,loading:U}=(0,o.d4)(e=>e.designation),{departmentListData:H,loading:V}=(0,o.d4)(e=>e.department),K=(0,a.FH)({control:e,name:"PDCompanyId",defaultValue:""}),W=(0,a.FH)({control:e,name:"PDBranchId",defaultValue:""}),q=(0,a.FH)({control:e,name:"status",defaultValue:""}),G=(0,a.FH)({control:e,name:"departmentId"}),J=(0,a.FH)({control:e,name:"isTerminated"}),$=(0,a.FH)({control:e,name:"isResigned"}),Q=(0,a.FH)({control:e,name:"PdDesignationId",defaultValue:""}),X=(0,a.FH)({control:e,name:"employeeId",defaultValue:""}),[Z,ee]=((0,a.FH)({control:e,name:"startDate",defaultValue:u()().subtract(1,"month")}),(0,a.FH)({control:e,name:"endDate",defaultValue:u()()}),(0,r.useState)(10)),[ne,te]=(0,r.useState)({data:null,isOpen:!1}),[le,ae]=(0,r.useState)([]);(0,r.useEffect)(()=>{"company"!==(null===E||void 0===E?void 0:E.userType)&&"companyDirector"!==(null===E||void 0===E?void 0:E.userType)||m((0,s.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===E||void 0===E?void 0:E.userType)?K:"company"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.companyId})),m((0,S.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.companyId})),t("startDate",u()().subtract(1,"month")),t("endDate",u()())},[]),(0,r.useEffect)(()=>{re()},[_,T,Z]),(0,r.useEffect)(()=>{const e=setTimeout(()=>{O(M)},500);return()=>{clearTimeout(e)}},[M]);const oe=function(){return{currentPage:_,pageSize:Z,reqPayload:{text:T,sort:!0,isPagination:!(arguments.length>0&&void 0!==arguments[0])||arguments[0],companyId:"admin"===(null===E||void 0===E?void 0:E.userType)?K:"company"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.companyId,branchId:"company"===(null===E||void 0===E?void 0:E.userType)||"admin"===(null===E||void 0===E?void 0:E.userType)||"companyDirector"===(null===E||void 0===E?void 0:E.userType)?W:"companyBranch"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.branchId,isTL:"",isManager:"",isHR:"",isReceptionist:"",directorId:"",status:"true"==q||"false"!=q&&"",departmentId:"",departmentIds:G?[G]:[],designationIds:Q?[Q]:[],employeIds:X?[X]:[],roleKey:"",isTerminated:"Yes"==J||"No"!=J&&"",isResigned:"Yes"==$||"No"!=$&&""}}},ie=()=>{m((0,x.qV)({companyId:"admin"===(null===E||void 0===E?void 0:E.userType)?K:"company"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.companyId,branchId:["admin","company","companyDirector"].includes(null===E||void 0===E?void 0:E.userType)?W:"companyBranch"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.branchId,departmentId:G||"",directorId:"",text:"",sort:!0,status:!0,isPagination:!1,isBranch:!1,isDirector:!1}))},re=()=>{m((0,v.Ah)(oe(!0)))},se=async()=>{re()},de=[{key:"1",label:(0,Y.jsx)("span",{className:"text-white",children:"Advance Filters"}),children:(0,Y.jsxs)("div",{className:"bg-[#ececec] space-y-1 2xl:flex justify-between items-center",children:[(0,Y.jsxs)("div",{className:"sm:flex grid grid-cols-1 gap-1.5 sm:flex-wrap text-[14px]",children:[("admin"===(null===E||void 0===E?void 0:E.userType)||"company"===(null===E||void 0===E?void 0:E.userType)||"companyDirector"===(null===E||void 0===E?void 0:E.userType))&&(0,Y.jsxs)("div",{className:"",children:[(0,Y.jsx)(a.xI,{name:"PDBranchId",control:e,render:e=>{let{field:n}=e;return(0,Y.jsxs)(c.A,(0,l.A)((0,l.A)({},n),{},{className:"inputAntdSelectClassNameFilterReport ",placeholder:"Select Branch",showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,Y.jsx)(c.A.Option,{value:"",children:"Select Branch"}),null===B||void 0===B?void 0:B.map(e=>(0,Y.jsxs)(c.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),n.PDBranchId&&(0,Y.jsx)("p",{className:"text-red-500 text-sm",children:n.PDBranchId.message})]}),(0,Y.jsx)("div",{children:(0,Y.jsx)(a.xI,{name:"departmentId",control:e,render:e=>{var n;let{field:t}=e;return(0,Y.jsxs)(c.A,(0,l.A)((0,l.A)({},t),{},{className:"inputAntdSelectClassNameFilterReport",showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),onFocus:()=>{m((0,S.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===E||void 0===E?void 0:E.userType)?K:"company"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.companyId,branchId:["admin","company","companyDirector"].includes(null===E||void 0===E?void 0:E.userType)?W:"companyBranch"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.branchId}))},onChange:e=>{t.onChange(e)},placeholder:"Select Department",children:[(0,Y.jsx)(c.A.Option,{value:"",children:"Select Department"}),V?(0,Y.jsx)(c.A.Option,{disabled:!0,children:(0,Y.jsx)(k.A,{})}):null===(n=(0,i._o)(H))||void 0===n?void 0:n.map(e=>(0,Y.jsx)(c.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]}))}})}),(0,Y.jsx)("div",{className:"",children:(0,Y.jsx)(a.xI,{name:"PdDesignationId",control:e,render:e=>{var n;let{field:t}=e;return(0,Y.jsxs)(c.A,(0,l.A)((0,l.A)({},t),{},{className:"inputAntdSelectClassNameFilterReport",showSearch:!0,placeholder:"Select Designation",onFocus:()=>{m((0,I.EF)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===E||void 0===E?void 0:E.userType)?K:"company"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.companyId,branchId:["admin","company","companyDirector"].includes(null===E||void 0===E?void 0:E.userType)?W:"companyBranch"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.branchId}))},onChange:e=>t.onChange(e),filterOption:(e,n)=>{var t;return null===(t=String(null===n||void 0===n?void 0:n.children))||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase())},children:[(0,Y.jsx)(c.A.Option,{value:"",children:"Select Designation"}),U?(0,Y.jsx)(c.A.Option,{disabled:!0,children:(0,Y.jsx)(k.A,{})}):null===(n=(0,i._o)(L))||void 0===n?void 0:n.map(e=>(0,Y.jsx)(c.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]}))}})}),(0,Y.jsx)("div",{className:"",children:(0,Y.jsx)(a.xI,{name:"employeeId",control:e,render:e=>{let{field:n}=e;return(0,Y.jsx)(c.A,{mode:"multiple",allowClear:!0,showSearch:!0,filterOption:(e,n)=>{var t;return null===n||void 0===n||null===(t=n.label)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase())},className:"inputAntdMultiSelectClassNameFilterReport ",placeholder:"Select Employee",onFocus:ie,options:null===C||void 0===C?void 0:C.map(e=>({label:e.fullName,value:e._id})),value:n.value||[],onChange:e=>n.onChange(e)})}})}),(0,Y.jsx)("div",{children:(0,Y.jsx)(a.xI,{name:"startDate",control:e,render:e=>{let{field:t}=e;return(0,Y.jsx)(y.A,{report:!0,defaultValue:u()().subtract(1,"month"),size:"middle",field:t,errors:n})}})}),(0,Y.jsx)("div",{children:(0,Y.jsx)(a.xI,{name:"endDate",control:e,render:e=>{let{field:t}=e;return(0,Y.jsx)(y.A,{report:!0,defaultValue:u()(),size:"middle",field:t,errors:n})}})})]}),(0,Y.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,Y.jsx)("button",{onClick:()=>{t("PDBranchId",""),t("PdCompanyId",""),t("departmentId",""),t("PdDesignationId",""),t("status",""),t("employeeId",""),t("isTerminated",""),t("isResigned",""),t("startDate",u()().subtract(1,"month")),t("endDate",u()()),se()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,Y.jsx)("span",{className:"text-[12px]",children:"Reset"})}),(0,Y.jsx)("button",{onClick:()=>{se()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,Y.jsx)("span",{className:"text-[12px]",children:"Submit"})})]})]})}];return(0,Y.jsxs)(d.A,{onChange:e=>{F(e)},children:[(0,Y.jsxs)("div",{className:"bg-grey-100 w-full p-1",children:[(0,Y.jsxs)("div",{className:"",children:[(0,Y.jsx)(p.A,{className:"custom-collapse",items:de,defaultActiveKey:[1],expandIcon:e=>{let{isActive:n}=e;return(0,Y.jsx)(g.WnU,{size:20,style:{color:"white",transform:n?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})}}),(0,Y.jsxs)("div",{className:"space-y-1.5 sm:flex justify-between items-center ",children:[(0,Y.jsxs)("div",{className:"flex items-center gap-2 sm:pt-0 pt-1",children:[(0,Y.jsx)("span",{htmlFor:"pageSize",className:"text-sm font-light text-gray-500",children:"Rows per page:"}),(0,Y.jsx)(c.A,{id:"pageSize",value:Z,onChange:e=>{ee(Number(e)),z(Number(1))},className:"text-sm font-light text-gray-700 bg-white border border-gray-200 rounded-md px-3 py-1.5 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-300 transition",children:i.qc.map(e=>(0,Y.jsx)(c.A.Option,{value:e,children:e},e))})]}),(0,Y.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,Y.jsx)("button",{onClick:()=>{(async()=>{var e,n;const t=new b.uE({orientation:"landscape",unit:"pt"});t.setFontSize(16);const l=await(null===j.K||void 0===j.K?void 0:j.K.employeeAppraisalReportFunc(oe(!1)));if(!w&&!l)return;const a=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(n=e.docs)||void 0===n?void 0:n.map((e,n)=>{var t;return[n+1,(null===e||void 0===e?void 0:e.employeName)||"-",(null===e||void 0===e?void 0:e.designationName)||"-",(null===e||void 0===e?void 0:e.departmentName)||"-",(null===e||void 0===e?void 0:e.currentSalary)||"-",(null===e||void 0===e||null===(t=e.latestIncrement)||void 0===t?void 0:t.previousMonthlySalary)||"-",null!==e&&void 0!==e&&e.lastIncrementDate?u()(e.lastIncrementDate).format("DD-MM-YYYY hh:mm a"):"-",null!==e&&void 0!==e&&e.nextIncrementDate?u()(e.nextIncrementDate).format("DD-MM-YYYY hh:mm a"):"-"]});(0,D.Ay)(t,{startY:40,head:[["sno","employeName","designationName","departmentName","currentSalary","Previous Salary","Date of Appraisal","Date of next increment"]],body:a,margin:{horizontal:10},styles:{cellPadding:8,fontSize:10,valign:"middle",halign:"left"},headStyles:{fillColor:[211,211,211],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]}}),t.save("Employee_Appraisal_Report.pdf")})()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,Y.jsx)("span",{className:"text-[12px]",children:"Export PDF"})}),(0,Y.jsx)("button",{onClick:()=>{(async()=>{var e,n;const t=new f.Workbook,l=t.addWorksheet("Employee Attendance");l.columns=[{header:"S.No",key:"sno",width:10},{header:"Employee Name",key:"employeName",width:30},{header:"Designation",key:"designationName",width:20},{header:"Department",key:"departmentName",width:20},{header:"Current Salary",key:"currentSalary",width:20},{header:"Previous Salary",key:"previousMonthlySalary",width:25},{header:"Date of Appraisal",key:"lastIncrementDate",width:25},{header:"Date of next increment",key:"nextIncrementDate",width:25}],l.getRow(1).eachCell(e=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFB6D7A8"}},e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});const a=await(null===j.K||void 0===j.K?void 0:j.K.employeeAppraisalReportFunc(oe(!1)));if(!w&&!a)return;const o=null===a||void 0===a||null===(e=a.data)||void 0===e||null===(n=e.docs)||void 0===n?void 0:n.map((e,n)=>{var t;return{sno:n+1,employeName:(null===e||void 0===e?void 0:e.employeName)||"-",designationName:(null===e||void 0===e?void 0:e.designationName)||"-",departmentName:(null===e||void 0===e?void 0:e.departmentName)||"-",currentSalary:(null===e||void 0===e?void 0:e.currentSalary)||"-",previousMonthlySalary:(null===e||void 0===e||null===(t=e.latestIncrement)||void 0===t?void 0:t.previousMonthlySalary)||"-",lastIncrementDate:null!==e&&void 0!==e&&e.lastIncrementDate?u()(e.lastIncrementDate).format("DD-MM-YYYY hh:mm A"):"-",nextIncrementDate:null!==e&&void 0!==e&&e.nextIncrementDate?u()(e.nextIncrementDate).format("DD-MM-YYYY hh:mm A"):"-"}});null===o||void 0===o||o.forEach(e=>{l.addRow(e).eachCell(e=>{e.alignment={vertical:"middle",horizontal:"left"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),l.autoFilter={from:"A1",to:"I1"},t.xlsx.writeBuffer().then(e=>{const n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),t=document.createElement("a");t.href=URL.createObjectURL(n),t.download="Employee_Appraisal_Report.xlsx",t.click()})})()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,Y.jsx)("span",{className:"text-[12px]",children:"Export Excel"})})]})]})]}),(0,Y.jsx)("div",{className:"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl",children:(0,Y.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center w-[5%]",children:"S.No."}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Employee Name"}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Designation"}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Department"}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Current Salary"}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Previous Salary "}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Date of Appraisal"}),(0,Y.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Date of next increment "})]})}),A?(0,Y.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,Y.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap text-center font-[600] text-sm text-gray-500",children:(0,Y.jsx)(N.A,{})})}):(0,Y.jsx)("tbody",{children:w&&(null===w||void 0===w?void 0:w.length)>0?null===w||void 0===w?void 0:w.map((e,n)=>{var t;return(0,Y.jsxs)("tr",{className:"border-b-[1px] ".concat(n%2===0?"bg-[#e9ecef]/80":"bg-white"," border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,Y.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:n+1+(_-1)*Z}),(0,Y.jsx)("td",{className:"whitespace-nowrap text-center border-none px-2 py-3",children:(null===e||void 0===e?void 0:e.employeName)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap text-center border-none px-2 py-3",children:(null===e||void 0===e?void 0:e.designationName)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap text-center border-none px-2 py-3",children:(null===e||void 0===e?void 0:e.departmentName)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap text-center border-none px-2 py-3",children:(null===e||void 0===e?void 0:e.currentSalary)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap text-center border-none px-2 py-3",children:(null===e||void 0===e||null===(t=e.latestIncrement)||void 0===t?void 0:t.previousMonthlySalary)||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap text-center border-none px-2 py-3",children:u()(null===e||void 0===e?void 0:e.lastIncrementDate).format("DD-MM-YYYY hh:mm a")||"-"}),(0,Y.jsx)("td",{className:"whitespace-nowrap text-center border-none px-2 py-3",children:u()(null===e||void 0===e?void 0:e.nextIncrementDate).format("DD-MM-YYYY hh:mm a")||"-"})]})}):(0,Y.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,Y.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap text-center font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(0,Y.jsx)(h.A,{totalCount:P,pageSize:Z,currentPage:_,onChange:e=>{z(e)}})]}),(0,Y.jsx)(R,{appraisalData:le,isOpen:null===ne||void 0===ne?void 0:ne.isOpen,employeData:null===ne||void 0===ne?void 0:ne.data,onClose:()=>{te({data:null,isOpen:!1})}})]})}},63506:(e,n,t)=>{t.d(n,{A:()=>y});var l=t(65043),a=t(23156),o=t(13382),i=t(53913),r=t(55971),s=t(60446),d=t.n(s),c=t(83003),p=t(70337),m=t(69223),u=t.n(m),h=t(37762),v=t(64857),x=t(70579);const y=function(e){var n,t,s;let{groupId:m,isOpen:y,onClose:f}=e;const w=(0,c.wA)(),{clientList:N,loading:j}=(0,c.d4)(e=>e.client),g=(0,l.useRef)(null);(0,l.useEffect)(()=>{b()},[m]);const b=()=>{let e={companyId:null===m||void 0===m?void 0:m.companyId,branchId:null===m||void 0===m?void 0:m.branchId,groupId:null===m||void 0===m?void 0:m._id,directorId:"",organizationId:"",industryId:"",text:"",sort:!0,status:"",isPagination:!1};null!==m&&void 0!==m&&m.companyId&&null!==m&&void 0!==m&&m.branchId&&null!==m&&void 0!==m&&m._id&&w((0,p.Aq)(e))};return(0,x.jsxs)(i.A,{title:"Client List / ".concat(null===m||void 0===m?void 0:m.fullName," / ").concat(null===m||void 0===m?void 0:m.groupName),open:y,onCancel:()=>{f()},footer:null,width:"95%",contentBg:"#f3f4f6",style:{top:20},className:"antmodalclassName",children:[(0,x.jsxs)("div",{className:"sm:flex grid grid-cols-1 sm:justify-between  w-full items-center mb-4",children:[(0,x.jsxs)("div",{children:[null!==(n=null===m||void 0===m?void 0:m.email)&&void 0!==n?n:"-"," / ",(null===m||void 0===m||null===(t=m.mobile)||void 0===t?void 0:t.code)+(null===m||void 0===m||null===(s=m.mobile)||void 0===s?void 0:s.number)]}),(0,x.jsxs)("div",{className:"flex justify-end sm:p-0 p-1 space-x-2",children:[(0,x.jsx)(o.Ay,{type:"primary",icon:(0,x.jsx)(a.Ru,{}),onClick:()=>{const e=new(u().Workbook),n=e.addWorksheet("Client Report");n.addRow(["S.No.","Client ID","Client Name","Organization","Mobile No.","Email ID","PAN Number","Created At","Created By","Status"]),N.forEach((e,t)=>{var l,a,o;const i=[t+1,(null===e||void 0===e?void 0:e.userName)||"-",(null===e||void 0===e?void 0:e.fullName)||"-",(null===e||void 0===e?void 0:e.organizationName)||"-",(null===e||void 0===e||null===(l=e.mobile)||void 0===l?void 0:l.code)+(null===e||void 0===e||null===(a=e.mobile)||void 0===a?void 0:a.number)||"-",(null===e||void 0===e?void 0:e.email)||"-",(null===e||void 0===e||null===(o=e.clientProfile)||void 0===o?void 0:o.penNumber)||"-",d()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")||"-",(null===e||void 0===e?void 0:e.createdBy)||"-",null!==e&&void 0!==e&&e.status?"Active":"InActive"];n.addRow(i)}),n.getRow(1).eachCell(e=>{e.font={bold:!0},e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFD3D3D3"}},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),n.eachRow((e,n)=>{e.eachCell(e=>{e.alignment={vertical:"middle",horizontal:"left"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),n.autoFilter={from:"A1",to:"J".concat(N.length+1)},n.columns.forEach(e=>{let n=0;e.eachCell({includeEmpty:!0},e=>{const t=e.value?e.value.toString().length:10;t>n&&(n=t)}),e.width=n<10?10:n+2}),e.xlsx.writeBuffer().then(e=>{const n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),t=document.createElement("a");t.href=URL.createObjectURL(n),t.download="Client_Report_".concat((null===m||void 0===m?void 0:m.groupName)||"Group",".xlsx"),t.click()})},className:"flex items-center bg-green-600 hover:bg-green-700",children:"Export Excel"}),(0,x.jsx)(o.Ay,{type:"primary",icon:(0,x.jsx)(a.kl1,{}),onClick:()=>{var e,n,t;const l=new h.uE({orientation:"landscape",unit:"pt"});l.setFontSize(16),l.text("Client List - ".concat(null===m||void 0===m?void 0:m.fullName," / ").concat(null===m||void 0===m?void 0:m.groupName),40,40),l.text("".concat(null!==(e=null===m||void 0===m?void 0:m.email)&&void 0!==e?e:"-"," / ").concat((null===m||void 0===m||null===(n=m.mobile)||void 0===n?void 0:n.code)+(null===m||void 0===m||null===(t=m.mobile)||void 0===t?void 0:t.number)),40,60);const a=N.map((e,n)=>{var t,l,a;return[n+1,(null===e||void 0===e?void 0:e.userName)||"-",(null===e||void 0===e?void 0:e.fullName)||"-",(null===e||void 0===e?void 0:e.organizationName)||"-",(null===e||void 0===e||null===(t=e.mobile)||void 0===t?void 0:t.code)+(null===e||void 0===e||null===(l=e.mobile)||void 0===l?void 0:l.number)||"-",(null===e||void 0===e?void 0:e.email)||"-",(null===e||void 0===e||null===(a=e.clientProfile)||void 0===a?void 0:a.penNumber)||"-",d()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")||"-",null!==e&&void 0!==e&&e.status?"Active":"InActive"]});(0,v.Ay)(l,{startY:80,head:[["S.No.","Client ID","Client Name","Organization","Mobile No.","Email ID","PAN Number","Created At","Status"]],body:a,margin:{horizontal:10},styles:{cellPadding:8,fontSize:10,valign:"middle",halign:"left"},headStyles:{fillColor:[211,211,211],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},didDrawPage:e=>{l.setFontSize(10);const n=l.internal.getNumberOfPages();l.text("Page ".concat(e.pageNumber," of ").concat(n),e.settings.margin.left,l.internal.pageSize.height-20)}}),l.save("Client_Report_".concat((null===m||void 0===m?void 0:m.groupName)||"Group",".pdf"))},className:"flex items-center bg-red-600 hover:bg-red-700",children:"Export PDF"})]})]}),(0,x.jsx)("div",{className:"w-full p-1",children:(0,x.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",ref:g,children:(0,x.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,x.jsx)("thead",{className:"",children:(0,x.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,x.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[5%]",children:(0,x.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,x.jsx)("span",{children:"S.No."})})}),(0,x.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:(0,x.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,x.jsx)("span",{children:"Profile Image"})})}),(0,x.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:(0,x.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,x.jsx)("span",{children:"Client Id"})})}),(0,x.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:(0,x.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,x.jsx)("span",{children:"Client Name"})})}),(0,x.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:(0,x.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,x.jsx)("span",{children:"Organization"})})}),(0,x.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,x.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,x.jsx)("span",{children:"Mb. No."})})}),(0,x.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,x.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,x.jsx)("span",{children:"Email Id"})})}),(0,x.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,x.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,x.jsx)("span",{children:"PAN Number"})})}),(0,x.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,x.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,x.jsx)("span",{children:"CreatedAt"})})}),(0,x.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,x.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,x.jsx)("span",{children:"CreatedBy"})})}),(0,x.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:(0,x.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,x.jsx)("span",{children:"status"})})})]})}),j?(0,x.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,x.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,x.jsx)(r.A,{})})}):(0,x.jsx)("tbody",{children:N&&(null===N||void 0===N?void 0:N.length)>0?null===N||void 0===N?void 0:N.map((e,n)=>{var t,l,o;return(0,x.jsxs)("tr",{className:"".concat(n%2===0?"bg-[#e9ecef]/80":"bg-white"," border-b-[1px] border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,x.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:n+1}),(0,x.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:e.profileImage?(0,x.jsx)("img",{alt:"",src:"".concat("https://vigapi.vigorousit.com","/public/").concat(e.profileImage),className:"rounded-full min-w-10 min-h-10 w-10 h-10 ring-1 ring-amber-300"}):(0,x.jsx)("div",{className:"w-9 h-9 rounded-full bg-gray-500 flex items-center justify-center",children:(0,x.jsx)(a.x$1,{className:"w-5 h-5 text-white"})})}),(0,x.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.userName)||"-"}),(0,x.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.fullName)||"-"}),(0,x.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.organizationName)||"-"}),(0,x.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e||null===(t=e.mobile)||void 0===t?void 0:t.code)+(null===e||void 0===e||null===(l=e.mobile)||void 0===l?void 0:l.number)||"-"}),(0,x.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.email)||"-"}),(0,x.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e||null===(o=e.clientProfile)||void 0===o?void 0:o.penNumber)||"-"}),(0,x.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:d()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")||"-"}),(0,x.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(null===e||void 0===e?void 0:e.createdBy)||"-"}),(0,x.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:null!==e&&void 0!==e&&e.status?"Active":"InActive"})]},n)}):(0,x.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,x.jsx)("td",{colSpan:11,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})})})]})}}}]);
//# sourceMappingURL=2339.42a61a86.chunk.js.map