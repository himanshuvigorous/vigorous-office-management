"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[4733],{84733:(e,a,l)=>{l.r(a),l.d(a,{default:()=>f});var n=l(89379),s=l(65043),d=l(39160),r=l(83003),i=l(73216),o=l(24858),t=l(31174),c=l(735),m=l(15187),u=l(36105),v=l(30575),x=l(84480),p=l(78729),h=l(31744),b=(l(14118),l(20126)),g=l(51957),N=l(65512),j=l(56659),y=l(17995),A=l(89427),P=l(70579);const f=function(){const{loading:e}=(0,r.d4)(e=>e.vendor),{register:a,handleSubmit:l,setValue:f,control:D,formState:{errors:S}}=(0,o.mN)(),{userCompanyId:C,userDirectorId:I,userBranchId:E,userType:L}=(0,c.A)(),O=(0,r.wA)(),Q=(0,i.Zp)(),{vendorIdEnc:w}=(0,i.g)(),T=(0,t.Yc)(w),M=JSON.parse(localStorage.getItem("user_info_".concat(m.AU))),{vendorDetails:Z}=(0,r.d4)(e=>e.vendor),{companyList:B,companyListLoading:_}=(0,r.d4)(e=>e.company),{countryListData:q}=(0,r.d4)(e=>e.country),{branchList:G,branchListloading:F}=(0,r.d4)(e=>e.branch),{stateListData:H}=(0,r.d4)(e=>e.states),{cityListData:V}=(0,r.d4)(e=>e.city),z=(0,o.FH)({control:D,name:"PDCompanyId",defaultValue:C}),k=((0,o.FH)({control:D,name:"directorId",defaultValue:I}),(0,o.FH)({control:D,name:"PDBranchId",defaultValue:E})),$=(0,o.FH)({control:D,name:"PDCountry",defaultValue:""}),Y=(0,o.FH)({control:D,name:"PDState",defaultValue:""}),J=(0,o.FH)({control:D,name:"PDPin",defaultValue:""});return(0,s.useEffect)(()=>{J&&J.length>=4&&J.length<=6&&(0,m.jh)(J).then(e=>{e&&(f("PDCity",e.city),f("PDState",e.state),f("PDCountry",e.country))}).catch(e=>{console.error("Error fetching data:",e)})},[J]),(0,s.useEffect)(()=>{(z||"company"===(null===M||void 0===M?void 0:M.userType)||"companyDirector"===(null===M||void 0===M?void 0:M.userType))&&O((0,h.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===M||void 0===M?void 0:M.userType)?z:"company"===(null===M||void 0===M?void 0:M.userType)?null===M||void 0===M?void 0:M._id:null===M||void 0===M?void 0:M.companyId}))},[z]),(0,s.useEffect)(()=>{"admin"===(null===M||void 0===M?void 0:M.userType)&&O((0,p.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,s.useEffect)(()=>{let e={_id:T};O((0,b.Z_)(e))},[]),(0,s.useEffect)(()=>{var e,a,l,n,s,d,r,i,o,t,c,m,u,v,x,p,h,b,g,N,j,y,A,P;Z&&(f("PDCompanyId",null===Z||void 0===Z?void 0:Z.companyId),f("PDBranchId",null===Z||void 0===Z?void 0:Z.branchId),f("name",null===Z||void 0===Z?void 0:Z.fullName),f("email",null===Z||void 0===Z?void 0:Z.email),f("Secemail",null===Z||void 0===Z||null===(e=Z.vendorProfile)||void 0===e?void 0:e.secondaryEmail),f("GSTNumber",null===Z||void 0===Z||null===(a=Z.vendorProfile)||void 0===a?void 0:a.GSTNumber),f("adharNumber",null===Z||void 0===Z||null===(l=Z.vendorProfile)||void 0===l?void 0:l.adharNumber),f("penNumber",null===Z||void 0===Z||null===(n=Z.vendorProfile)||void 0===n?void 0:n.penNumber),f("code",null===Z||void 0===Z||null===(s=Z.mobile)||void 0===s?void 0:s.code),f("number",null===Z||void 0===Z||null===(d=Z.mobile)||void 0===d?void 0:d.number),f("Seccode",null===Z||void 0===Z||null===(r=Z.vendorProfile)||void 0===r||null===(i=r.secondaryMobile)||void 0===i?void 0:i.code),f("Secnumber",null===Z||void 0===Z||null===(o=Z.vendorProfile)||void 0===o||null===(t=o.secondaryMobile)||void 0===t?void 0:t.number),f("lancode",null===Z||void 0===Z||null===(c=Z.vendorProfile)||void 0===c||null===(m=c.landline)||void 0===m?void 0:m.code),f("lannumber",null===Z||void 0===Z||null===(u=Z.vendorProfile)||void 0===u||null===(v=u.landline)||void 0===v?void 0:v.number),f("PDAddress",null===Z||void 0===Z||null===(x=Z.addresses)||void 0===x||null===(p=x.primary)||void 0===p?void 0:p.street),f("PDcountry",null===Z||void 0===Z||null===(h=Z.addresses)||void 0===h||null===(b=h.primary)||void 0===b?void 0:b.country),f("PDState",null===Z||void 0===Z||null===(g=Z.addresses)||void 0===g||null===(N=g.primary)||void 0===N?void 0:N.state),f("PDCity",null===Z||void 0===Z||null===(j=Z.addresses)||void 0===j||null===(y=j.primary)||void 0===y?void 0:y.city),f("PDPin",null===Z||void 0===Z||null===(A=Z.addresses)||void 0===A||null===(P=A.primary)||void 0===P?void 0:P.pinCode),f("openingBalance",Number(null===Z||void 0===Z?void 0:Z.openingBalance)))},[Z]),(0,P.jsx)(d.A,{children:(0,P.jsx)("div",{className:"gap-4",children:(0,P.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:l(e=>{var a,l,n,s;const d={_id:T,companyId:z,directorId:"",branchId:k,fullName:null===e||void 0===e?void 0:e.name,profileImage:"",email:null===e||void 0===e?void 0:e.email,mobile:{code:null===e||void 0===e?void 0:e.code,number:null===e||void 0===e?void 0:e.number},status:!0,isDeleted:!1,addresses:{primary:{street:null!==(a=null===e||void 0===e?void 0:e.PDAddress)&&void 0!==a?a:"",city:null!==(l=null===e||void 0===e?void 0:e.PDCity)&&void 0!==l?l:"",state:null!==(n=null===e||void 0===e?void 0:e.PDState)&&void 0!==n?n:"",country:null!==(s=null===e||void 0===e?void 0:e.PDCountry)&&void 0!==s?s:"",pinCode:null===e||void 0===e?void 0:e.PDPin}},vendorProfile:{penNumber:null===e||void 0===e?void 0:e.penNumber,adharNumber:null===e||void 0===e?void 0:e.adharNumber,GSTNumber:null===e||void 0===e?void 0:e.GSTNumber,secondaryEmail:null===e||void 0===e?void 0:e.Secemail,secondaryMobile:{code:null===e||void 0===e?void 0:e.Seccode,number:null===e||void 0===e?void 0:e.Secnumber},landline:{code:null===e||void 0===e?void 0:e.lancode,number:null===e||void 0===e?void 0:e.lannumber}}};O((0,b.qI)(d)).then(e=>{e.error||Q(-1)})}),children:[(0,P.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2",children:["admin"===L&&(0,P.jsxs)("div",{className:"",children:[(0,P.jsxs)("label",{className:"".concat(m.Q0),children:["Company ",(0,P.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,P.jsx)(o.xI,{control:D,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:a}=e;return(0,P.jsxs)(N.A,(0,n.A)((0,n.A)({},a),{},{defaultValue:"",className:"".concat(m.Hy," "),filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,P.jsx)(N.A.Option,{value:"",children:"Select Company"}),_?(0,P.jsx)(N.A.Option,{disabled:!0,children:(0,P.jsx)(A.A,{})}):null===B||void 0===B?void 0:B.map(e=>(0,P.jsx)(N.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),S.PDCompanyId&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.PDCompanyId.message})]}),("admin"===L||"company"===L||"companyDirector"===L)&&(0,P.jsxs)("div",{children:[(0,P.jsxs)("label",{className:"".concat(m.Q0),children:["Branch ",(0,P.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,P.jsx)(o.xI,{name:"PDBranchId",control:D,rules:{required:"Branch is required"},render:e=>{let{field:a}=e;return(0,P.jsxs)(N.A,(0,n.A)((0,n.A)({},a),{},{className:"".concat(m.Hy," ").concat(S.PDBranchId?"border-[1px] ":"border-gray-300"),placeholder:"Select Branch",filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,P.jsx)(N.A.Option,{value:"",children:"Select Branch"}),F?(0,P.jsx)(N.A.Option,{disabled:!0,children:(0,P.jsx)(A.A,{})}):null===G||void 0===G?void 0:G.map(e=>(0,P.jsx)(N.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),S.PDBranchId&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.PDBranchId.message})]})]}),(0,P.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2",children:[(0,P.jsxs)("div",{className:"",children:[(0,P.jsxs)("label",{className:"".concat(m.Q0),children:["Name ",(0,P.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,P.jsx)("input",(0,n.A)((0,n.A)({type:"text"},a("name",{required:"Name is required"})),{},{className:"placeholder: ".concat(m.Ol," ").concat(S.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Name"})),S.name&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.name.message})]}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsxs)("label",{className:"".concat(m.Q0),children:["Email ",(0,P.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,P.jsx)("input",(0,n.A)((0,n.A)({type:"text"},a("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(m.Ol," ").concat(S.email?"border-[1px] ":"border-gray-300"),placeholder:"Enter Email"})),S.email&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.email.message})]}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)("label",{className:"".concat(m.Q0),children:"Secondary Email"}),(0,P.jsx)("input",(0,n.A)((0,n.A)({type:"text"},a("Secemail",{pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(m.Ol," ").concat(S.Secemail?"border-[1px] ":"border-gray-300"),placeholder:"Enter Secondary Email"})),S.Secemail&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.Secemail.message})]}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)("label",{className:"".concat(m.Q0),children:"PAN Number"}),(0,P.jsx)("input",(0,n.A)((0,n.A)({type:"text"},a("penNumber",{pattern:{value:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,message:"Invalid PAN card format (ABCDE1234E)"}})),{},{className:" ".concat(m.Ol," ").concat(S.penNumber?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter PAN number"})),S.penNumber&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.penNumber.message})]}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)("label",{className:"".concat(m.Q0),children:"Aadhar Number"}),(0,P.jsx)("input",(0,n.A)((0,n.A)({type:"number"},a("adharNumber",{minLength:{value:12,message:"Must be exactly 12 digits"},maxLength:{value:12,message:"Must be exactly 12 digits"}})),{},{className:" ".concat(m.Ol," ").concat(S.adharNumber?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Aadhar number",maxLength:12,onInput:e=>{e.target.value.length>12&&(e.target.value=e.target.value.slice(0,12))}})),S.adharNumber&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.adharNumber.message})]}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)("label",{className:"".concat(m.Q0),children:"GST Number"}),(0,P.jsx)("input",(0,n.A)((0,n.A)({type:"text"},a("GSTNumber",{pattern:{value:/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}[Z]{1}[0-9A-Z]{1}$/,message:"Invalid GST Number format (29AAACH7409R1ZX)"}})),{},{className:" ".concat(m.Ol," ").concat(S.GSTNumber?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter GST number",maxLength:15})),S.GSTNumber&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.GSTNumber.message})]}),(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsxs)("div",{className:"w-[150px]",children:[(0,P.jsxs)("label",{className:"".concat(m.Q0),children:["code",(0,P.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,P.jsx)(o.xI,{control:D,name:"code",rules:{required:"code is required"},render:e=>{let{field:a}=e;return(0,P.jsx)(j.A,{field:a,errors:S})}}),S.code&&(0,P.jsx)("p",{className:"text-red-500 text-sm mt-3",children:S.code.message})]}),(0,P.jsxs)("div",{className:"w-full",children:[(0,P.jsxs)("label",{className:"".concat(m.Q0),children:["Mobile No",(0,P.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,P.jsx)("input",(0,n.A)((0,n.A)({type:"number"},a("number",{required:"Mobile No is required",minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(m.Ol," ").concat(S.number?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),S.number&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.number.message})]})]}),(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsxs)("div",{className:"w-[150px]",children:[(0,P.jsx)("label",{className:"".concat(m.Q0),children:"code"}),(0,P.jsx)(o.xI,{control:D,name:"Seccode",render:e=>{let{field:a}=e;return(0,P.jsx)(j.A,{field:a,errors:S})}}),S.Seccode&&(0,P.jsx)("p",{className:"text-red-500 text-sm mt-3",children:S.Seccode.message})]}),(0,P.jsxs)("div",{className:"w-full",children:[(0,P.jsx)("label",{className:"".concat(m.Q0),children:"Secondary Mobile No"}),(0,P.jsx)("input",(0,n.A)((0,n.A)({type:"number"},a("Secnumber",{minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(m.Ol," ").concat(S.Secnumber?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),S.Secnumber&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.Secnumber.message})]})]}),(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsxs)("div",{className:"w-[150px]",children:[(0,P.jsx)("label",{className:"".concat(m.Q0),children:"code"}),(0,P.jsx)(o.xI,{control:D,name:"lancode",render:e=>{let{field:a}=e;return(0,P.jsx)(j.A,{field:a,errors:S})}}),S.lancode&&(0,P.jsx)("p",{className:"text-red-500 text-sm mt-3",children:S.lancode.message})]}),(0,P.jsxs)("div",{className:"w-full",children:[(0,P.jsx)("label",{className:"".concat(m.Q0),children:"LandLine No"}),(0,P.jsx)("input",(0,n.A)((0,n.A)({type:"number"},a("lannumber",{minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(m.Ol," ").concat(S.lannumber?"border-[1px] ":"border-gray-300"),placeholder:"Enter LandLine No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),S.lannumber&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.lannumber.message})]})]})]}),(0,P.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-2",children:(0,P.jsxs)("div",{className:"col-span-2",children:[(0,P.jsx)("label",{className:"".concat(m.Q0),children:"Address"}),(0,P.jsx)("input",(0,n.A)((0,n.A)({type:"text"},a("PDAddress",{})),{},{className:"".concat(m.Ol," ").concat(S.PDAddress?"border-[1px] ":"border-gray-300"),placeholder:"Enter Address "})),S.PDAddress&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.PDAddress.message})]})}),(0,P.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 md:gap-8 gap-3 md:my-2",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"".concat(m.Q0),children:"Country"}),(0,P.jsx)(o.xI,{control:D,name:"PDCountry",render:e=>{var a;let{field:l}=e;return(0,P.jsx)(g.A,(0,n.A)((0,n.A)({className:"w-full"},l),{},{onChange:e=>{l.onChange(e)},options:null===q||void 0===q||null===(a=q.docs)||void 0===a?void 0:a.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,P.jsx)("input",{placeholder:"Enter Country",onFocus:()=>{O((0,u.dw)({isPagination:!1,text:"",sort:!0,status:!0}))},className:"".concat(m.Ol," ").concat(S.PDCountry?"border-[1px] ":"border-gray-300")})}))}}),S.PDCountry&&(0,P.jsx)("p",{className:"".concat(m.ci),children:S.PDCountry.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"".concat(m.Q0),children:"State"}),(0,P.jsx)(o.xI,{control:D,name:"PDState",render:e=>{var a;let{field:l}=e;return(0,P.jsx)(g.A,(0,n.A)((0,n.A)({className:"w-full"},l),{},{onChange:e=>l.onChange(e),options:null===H||void 0===H||null===(a=H.docs)||void 0===a?void 0:a.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,P.jsx)("input",{placeholder:"Enter State",onFocus:()=>{O((0,v.mz)({isPagination:!1,text:"",countryName:$,sort:!0,status:!0}))},className:"".concat(m.Ol," ").concat(S.PDState?"border-[1px] ":"border-gray-300")})}))}}),S.PDState&&(0,P.jsx)("p",{className:"".concat(m.ci),children:S.PDState.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"".concat(m.Q0),children:"City"}),(0,P.jsx)(o.xI,{control:D,name:"PDCity",render:e=>{var a;let{field:l}=e;return(0,P.jsx)(g.A,(0,n.A)((0,n.A)({className:"w-full"},l),{},{onChange:e=>l.onChange(e),options:null===V||void 0===V||null===(a=V.docs)||void 0===a?void 0:a.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,P.jsx)("input",{onFocus:()=>{O((0,x.cY)({isPagination:!1,text:"",sort:!0,status:!0,stateName:Y}))},placeholder:"Enter City",className:"".concat(m.Ol," ").concat(S.PDCity?"border-[1px] ":"border-gray-300")})}))}}),S.PDCity&&(0,P.jsx)("p",{className:"".concat(m.ci),children:S.PDCity.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(m.Q0),children:"Pin Code"}),(0,P.jsx)(o.xI,{control:D,name:"PDPin",render:e=>{let{field:a}=e;return(0,P.jsx)("input",(0,n.A)((0,n.A)({},a),{},{type:"number",placeholder:"Enter Pin Code",maxLength:6,onInput:e=>{e.target.value.length>6&&(e.target.value=e.target.value.slice(0,6))},className:"".concat(m.Ol," ").concat(S.PDPin?"border-[1px] ":"border-gray-300")}))}}),S.PDPin&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:S.PDPin.message})]})]}),(0,P.jsx)("div",{className:"flex justify-end ",children:(0,P.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded"),children:e?(0,P.jsx)(y.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=4733.6f3a3fd7.chunk.js.map