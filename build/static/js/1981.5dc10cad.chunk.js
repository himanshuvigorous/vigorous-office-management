"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[1981],{65337:(e,t,l)=>{l.d(t,{A:()=>i});var a=l(91686),s=l(70579);const i=function(){return(0,s.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,s.jsx)(a.A,{size:"large"})})}},71981:(e,t,l)=>{l.r(t),l.d(t,{default:()=>U});var a=l(65043),s=l(39160),i=l(73216),n=l(35475),d=l(83003),o=l(23156),r=l(47196),c=l(30064),x=l.n(c),m=l(31174),u=l(3538),p=l(15187),v=(l(70337),l(65337),l(69527)),h=l(86178),g=l.n(h),f=l(78872),j=l(31462),b=l(30326),w=l(53913),y=l(65512),N=l(91686),k=l(96651),D=l(4938),A=l(33007),C=l(31744),_=l(42837),S=l(78227),I=l(55971),Y=l(83002),T=l(6720),O=l(11906),E=(l(89427),l(60446)),L=l.n(E),M=l(32620),P=l(60397),z=l(70579);const U=function(){var e,t,l,c,h,E,U,R,B,V,q,F,J,W,G,K,Q,X,Z,H,$,ee;const te=(0,i.Zp)(),le=(0,d.wA)(),[ae,se]=(0,a.useState)(!1),[ie,ne]=(0,a.useState)(null),de=JSON.parse(localStorage.getItem("user_info_".concat(p.AU))),{employeList:oe}=(0,d.d4)(e=>e.employe),{taskList:re,totalTaskCount:ce,loading:xe}=(0,d.d4)(e=>e.addTask),{employeDetailsData:me}=(0,d.d4)(e=>e.employe),[ue,pe]=(0,a.useState)(!1),[ve,he]=(0,a.useState)(null),[ge,fe]=(0,a.useState)({isOpen:!1,data:null}),[je,be]=(0,n.ok)(),we=parseInt(je.get("page"))||1,ye=parseInt(je.get("limit"))||10,Ne=je.get("employeeId")||"",ke=je.get("status")||"",De=je.get("overdue")||"",[Ae,Ce]=(0,a.useState)(we),[_e,Se]=(0,a.useState)(ye),[Ie,Ye]=(0,a.useState)(Ne),[Te,Oe]=(0,a.useState)(ke),[Ee,Le]=(0,a.useState)(De),[Me,Pe]=(0,a.useState)("");(0,a.useEffect)(()=>{const e=new URLSearchParams;Ae>1&&e.set("page",Ae),10!==_e&&e.set("limit",_e),Ie&&e.set("employeeId",Ie),Te&&e.set("status",Te),Ee&&e.set("overdue",Ee),be(e)},[Ae,_e,Ie,Te,Ee,Me]),(0,a.useEffect)(()=>{"manager"==(null===de||void 0===de?void 0:de.roleKey)&&"employee"==(null===de||void 0===de?void 0:de.userType)&&ze()},[Ae,_e,Ie,Te,Ee,Me]);const ze=()=>{var e;let t={page:Ae,limit:_e,reqPayload:{companyId:null===de||void 0===de?void 0:de.companyId,branchId:null===de||void 0===de?void 0:de.branchId,departmentId:null!==(e=null===de||void 0===de?void 0:de.departmentId)&&void 0!==e?e:"",directorId:"",clientId:"",employeId:Ie,taskTypeId:"",groupId:"",text:Me,sort:!0,status:Te||O.l0.filter(e=>"Completed"!==e&&"Task_Stop"!==e),isOverDue:"true"===Ee||"false"!==Ee&&"",isPagination:!0}};le((0,v.u3)(t))};(0,a.useEffect)(()=>{if(ve){const e={_id:null===ve||void 0===ve?void 0:ve._id};le((0,_.yJ)(e))}},[ve]),(0,a.useEffect)(()=>{le((0,C.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===de||void 0===de?void 0:de.userType)?null===de||void 0===de?void 0:de._id:null===de||void 0===de?void 0:de.companyId})),le((0,A.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===de||void 0===de?void 0:de.userType)?null===de||void 0===de?void 0:de._id:null===de||void 0===de?void 0:de.companyId}))},[]);const{canCreate:Ue,canRead:Re,canUpdate:Be,canDelete:Ve}=(0,D.A)(),qe=()=>{pe(!1),he(null)},Fe=e=>{let t={_id:e};x().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&le((0,v.dk)(t)).then(e=>{Ae>1&&1==(null===re||void 0===re?void 0:re.length)?Ce(Number(Ae-1)):ze()})})};return"manager"!==(null===de||void 0===de?void 0:de.roleKey)||"employee"!==(null===de||void 0===de?void 0:de.userType)?(0,z.jsx)(s.A,{children:(0,z.jsx)("div",{className:"bg-red-100 text-red-800 p-4 rounded-md mt-2",children:(0,z.jsx)("p",{className:"text-center font-semibold",children:"You are not a Manager. This page is viewable for Manager only."})})}):(0,z.jsxs)(s.A,{onChange:e=>{Pe(e)},children:[(0,z.jsx)("section",{children:(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsxs)("div",{className:"2xl:flex justify-between items-center space-y-1.5 overflow-y-auto py-1",children:[(0,z.jsxs)("div",{className:"grid sm:grid-cols-3 grid-cols-1 md:grid-cols-4 lg:grid-cols-4 xl:flex xl:gap-3 gap-1.5",children:[(0,z.jsx)("div",{className:"",children:(0,z.jsx)(y.A,{value:Ie,onChange:e=>{Ye(e),Ce(1)},disabled:xe,showSearch:!0,filterOption:(e,t)=>{var l;return null===t||void 0===t||null===(l=t.label)||void 0===l?void 0:l.toLowerCase().includes(e.toLowerCase())},className:"".concat(p.Lp," "),placeholder:"Select Employee",onFocus:()=>{le((0,_.qV)({companyId:null===de||void 0===de?void 0:de.companyId,branchId:null===de||void 0===de?void 0:de.branchId,departmentId:null!==de&&void 0!==de&&de.departmentId?null===de||void 0===de?void 0:de.departmentId:"",directorId:"",text:"",sort:!0,status:!0,isPagination:!1,isBranch:!1,isDirector:!1}))},options:[{label:"Select Employee",value:""},...(oe||[]).map(e=>({label:e.fullName,value:e._id}))]})}),(0,z.jsx)("div",{className:"",children:(0,z.jsxs)(y.A,{value:Te,onChange:e=>{Oe(e),Ce(1)},disabled:xe,defaultValue:"",className:"".concat(p.Lp," "),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,z.jsx)(y.A.Option,{value:"",children:"Select Status"}),null===(e=O.l0.filter(e=>"Completed"!==e&&"Task_Stop"!==e))||void 0===e?void 0:e.map(e=>(0,z.jsx)(y.A.Option,{value:e,children:null===e||void 0===e?void 0:e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())}))]})}),(0,z.jsx)("div",{children:(0,z.jsxs)(y.A,{value:Ee,onChange:e=>{Le(e),Ce(1)},defaultValue:"",disabled:xe,className:"".concat(p.Lp," "),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,z.jsx)(y.A.Option,{value:"",children:"All Task"}),(0,z.jsx)(y.A.Option,{value:"true",children:"Overdue Task"}),(0,z.jsx)(y.A.Option,{value:"false",children:"Other Task"})]})})]}),(0,z.jsxs)("div",{className:"flex justify-end items-center gap-2 ",children:[(0,z.jsx)("button",{onClick:()=>{Ce(1),Se(10),Ye(""),Oe(""),Le(""),Pe("")},className:"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,z.jsx)("span",{className:"text-[12px]",children:"Reset"})}),Ue&&(0,z.jsx)(k.A,{placement:"topLeft",title:"Add Task",children:(0,z.jsxs)("button",{onClick:()=>{te("/admin/task/create")},className:"bg-header px-2 py-1.5 rounded-md flex justify-center whitespace-nowrap items-center space-x-2 text-white",children:[(0,z.jsx)(o.OiG,{}),(0,z.jsx)("span",{className:"text-[12px]",children:"Add Task"})]})})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("span",{className:"text-sm font-light text-gray-500",children:"Rows per page:"}),(0,z.jsx)(y.A,{value:_e,onChange:e=>{Se(Number(e)),Ce(Number(1))},className:"text-sm font-light text-gray-700 bg-white border border-gray-200 rounded-md px-3 py-1.5 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-300 transition",children:p.qc.map(e=>(0,z.jsx)(y.A.Option,{value:e,children:e},e))})]})]}),(0,z.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:Re&&(0,z.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,z.jsx)("thead",{className:"bg-header text-white text-[12px] font-[500]",children:(0,z.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left w-[50px]",children:"S.No."}),(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[135px]",children:"Client Name"}),(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[115px]",children:"Department"}),(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[135px]",children:"Task Name"}),(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[125px]",children:"Assign To"}),(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[85px]",children:"Financial Year"}),(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[85px]",children:"Period"}),(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left hidden 2xl:table-cell min-w-[95px]",children:"Assigned Date"}),(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left hidden 2xl:table-cell min-w-[95px]",children:"Due Date"}),(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left hidden 2xl:table-cell min-w-[125px]",children:"Last Updated On"}),(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[75px]",children:"Status"}),(Be||Ve||Re)&&(0,z.jsx)("th",{className:"p-2 whitespace-nowrap text-left w-[75px]",children:"Action"})]})}),xe?(0,z.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,z.jsx)("td",{colSpan:12,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,z.jsx)(I.A,{})})}):(0,z.jsx)("tbody",{children:re&&re.length>0?re.map((e,t)=>{var l,a,s,i,n,d,c;return(0,z.jsxs)("tr",{className:" !text-xs \n                          ".concat(null!==e&&void 0!==e&&e.isOverDue?"bg-rose-300 text-gray-800":"high"==(null===e||void 0===e?void 0:e.priority)?"bg-[#FFE5B4] text-gray-800":"medium"==(null===e||void 0===e?void 0:e.priority)?"bg-green-300 text-gray-800":"bg-white text-[#374151]","\n                          border-b-[1px] border-[#DDDDDD]  text-[14px]"),children:[(0,z.jsx)("td",{className:"p-2 text-left w-[50px]",children:t+1+(Ae-1)*_e}),(0,z.jsx)("td",{className:"p-2 text-left min-w-[135px]",children:null===e||void 0===e||null===(l=e.clientData)||void 0===l?void 0:l.fullName}),(0,z.jsx)("td",{className:"p-2 text-left min-w-[115px]",children:null===e||void 0===e||null===(a=e.departmentData)||void 0===a?void 0:a.name}),(0,z.jsx)("td",{className:"p-2 text-left min-w-[135px]",children:null===e||void 0===e?void 0:e.taskName}),(0,z.jsx)("td",{className:"p-2 text-left min-w-[125px]",children:(0,z.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,z.jsx)("span",{children:null===e||void 0===e||null===(s=e.assignedEmployeData)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.fullName}),(null===e||void 0===e||null===(n=e.assignedEmployeData)||void 0===n?void 0:n.length)>1&&(0,z.jsxs)("span",{className:"text-header flex items-center gap-1",children:["+",(0,z.jsx)("span",{className:"h-5 w-5 bg-header text-white text-[12px] rounded-full flex items-center justify-center",children:(null===e||void 0===e||null===(d=e.assignedEmployeData)||void 0===d?void 0:d.length)-1})]}),(0,z.jsx)(o.Ny1,{className:"text-[#374151] text-[14px] cursor-pointer",onClick:()=>fe({isOpen:!0,data:e})})]})}),(0,z.jsx)("td",{className:"p-2 text-left min-w-[85px]",children:(null===e||void 0===e?void 0:e.financialYear)||"-"}),(0,z.jsxs)("td",{className:"p-2 text-left min-w-[85px]",children:["Monthly"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.monthName),"Quaterly"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.monthQuaters),"Yearly"===(null===e||void 0===e?void 0:e.type)&&"Yearly"]}),(0,z.jsx)("td",{className:"p-2 text-left hidden 2xl:table-cell min-w-[95px]",children:g()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")}),(0,z.jsx)("td",{className:"p-2 text-left hidden 2xl:table-cell min-w-[95px]",children:g()(null===e||void 0===e?void 0:e.dueDate).format("DD-MM-YYYY hh:mm a")}),(0,z.jsx)("td",{className:"p-2 text-left hidden 2xl:table-cell min-w-[125px]",children:g()(null===e||void 0===e?void 0:e.updatedAt).format("DD-MM-YYYY hh:mm a")}),(0,z.jsx)("td",{className:"p-2 text-left min-w-[75px]",children:(0,z.jsx)("span",{className:"\n                              ".concat("Assigned"===(null===e||void 0===e?void 0:e.status)?"bg-blue-500 text-white":"Accepted"===(null===e||void 0===e?void 0:e.status)?"bg-green-500 text-white":"Pending_at_client"===(null===e||void 0===e?void 0:e.status)?"bg-yellow-300 text-black":"Pending_at_department"===(null===e||void 0===e?void 0:e.status)?"bg-purple-300 text-black":"Pending_at_colleague"===(null===e||void 0===e?void 0:e.status)?"bg-teal-300 text-black":"Pending_at_manager"===(null===e||void 0===e?void 0:e.status)?"bg-orange-300 text-black":"Work_in_progress"===(null===e||void 0===e?void 0:e.status)?"bg-indigo-500 text-white":"Pending_for_approval"===(null===e||void 0===e?void 0:e.status)?"bg-pink-300 text-black":"Pending_for_fees"===(null===e||void 0===e?void 0:e.status)?"bg-gray-400 text-black":"Completed"===(null===e||void 0===e?void 0:e.status)?"bg-green-600 text-white":"Task_Stop"===(null===e||void 0===e?void 0:e.status)?"bg-red-600 text-white":"Rejected"===(null===e||void 0===e?void 0:e.status)?"bg-rose-800 text-white":"reAssign_to_other"===(null===e||void 0===e?void 0:e.status)?"bg-cyan-700 text-white":"bg-white text-black"," border-header border-[1px] px-2 py-1.5 rounded-lg whitespace-nowrap text-[12px]"),children:null===e||void 0===e||null===(c=e.status)||void 0===c?void 0:c.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())})}),(Be||Ve||Re)&&(0,z.jsx)("td",{className:"p-2 text-left w-[75px]",children:(0,z.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2",children:[Re&&(0,z.jsx)(k.A,{placement:"topLeft",title:"View Task",children:(0,z.jsx)("button",{onClick:()=>{te("/admin/task/view/".concat((0,m.w)(null===e||void 0===e?void 0:e._id),"/").concat((0,m.w)("manager")))},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border-gray-800 border-[1.5px]",type:"button",children:(0,z.jsx)(j.JPe,{className:" hover:text-gray-800 text-gray-800",size:16})})}),(0,z.jsx)(b.A,{menu:{items:[{key:"responsive-date-info",label:(0,z.jsx)("div",{className:"2xl:hidden block",children:(0,z.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,z.jsxs)("span",{onClick:()=>(0,p.v2)(L()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")||"Data not available"),className:"flex items-center text-slate-800 hover:text-slate-700",children:[(0,z.jsx)(T.XkG,{className:"mr-2",size:16}),"Assigned Date"]}),(0,z.jsxs)("span",{onClick:()=>(0,p.v2)(L()(null===e||void 0===e?void 0:e.dueDate).format("DD-MM-YYYY hh:mm a")||"Data not available"),className:"flex items-center text-purple-800 hover:text-purple-700",children:[(0,z.jsx)(T.j2y,{className:"mr-2",size:16}),"Due Date"]}),(0,z.jsxs)("span",{onClick:()=>(0,p.v2)(L()(null===e||void 0===e?void 0:e.updatedAt).format("DD-MM-YYYY hh:mm a")||"Data not available"),className:"flex items-center text-teal-700 hover:text-teal-600",children:[(0,z.jsx)(M.Wv9,{className:"mr-2",size:15}),"Last Updated On"]}),(0,z.jsxs)("span",{onClick:()=>(0,p.v2)((null===e||void 0===e?void 0:e.createdBy)||"Data not available"),className:"flex items-center text-sky-800 hover:text-sky-700",children:[(0,z.jsx)(P.cCX,{className:"mr-2",size:16}),"Created By"]})]})})},...Be?[{key:"edit-task",label:(0,z.jsxs)("span",{className:"flex justify-start items-center gap-1 ".concat("Assigned"!==(null===e||void 0===e?void 0:e.status)?"text-gray-500":""),children:[(0,z.jsx)(o.Jcp,{className:"mr-2 ".concat("Assigned"!==(null===e||void 0===e?void 0:e.status)?"text-gray-500":"text-[#3c8dbc] hover:text-[#337ab7]"),size:16}),"Edit Task"]}),disabled:"Assigned"!==(null===e||void 0===e?void 0:e.status),onClick:()=>{"Assigned"===(null===e||void 0===e?void 0:e.status)&&te("/admin/task/edit/".concat((0,m.w)(null===e||void 0===e?void 0:e._id)))}}]:[],...Re?[{key:"view-description",label:(0,z.jsxs)("span",{className:"flex justify-start items-center gap-1",onClick:()=>{return t=e,se(!0),void ne(null===t||void 0===t?void 0:t.commentData);var t},children:[(0,z.jsx)(u.bEZ,{className:"mr-2 text-[#3c8dbc] hover:text-[#337ab7]",size:16}),"View Description"]})}]:[],...Ve&&"company"!==(null===de||void 0===de?void 0:de.userType)?[{key:"delete-task",label:(0,z.jsxs)("span",{onClick:()=>{"Assigned"===(null===e||void 0===e?void 0:e.status)&&Fe(null===e||void 0===e?void 0:e._id)},className:"flex justify-start items-center gap-1 ".concat("Assigned"!==(null===e||void 0===e?void 0:e.status)?"text-gray-500":"text-red-500"),children:[(0,z.jsx)(r.tqC,{className:"mr-2 ".concat("Assigned"===(null===e||void 0===e?void 0:e.status)?"text-red-600 hover:text-red-500":"text-gray-500"),size:16}),"Delete Task"]})}]:[],..."company"===(null===de||void 0===de?void 0:de.userType)?[{key:"delete-task",label:(0,z.jsxs)("span",{onClick:()=>{Fe(null===e||void 0===e?void 0:e._id)},className:"flex justify-start items-center gap-1  text-red-500",children:[(0,z.jsx)(r.tqC,{className:"mr-2 ".concat("text-red-600 hover:text-red-500"),size:16}),"Delete Task"]})}]:[]]},trigger:["click"],children:(0,z.jsx)("button",{className:"px-2 py-1.5 text-xs rounded-md bg-transparent border-gray-800 border-[1.5px]",type:"button",children:(0,z.jsx)(Y.xWf,{className:" hover:text-gray-900 text-gray-900",size:16})})})]})})]})}):(0,z.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,z.jsx)("td",{colSpan:12,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(null===re||void 0===re?void 0:re.length)>0&&(0,z.jsx)(S.A,{totalCount:ce,pageSize:_e,currentPage:Ae,onChange:e=>Ce(e)})]})}),ae&&(0,z.jsx)(f.A,{isOpen:ae,onClose:()=>(se(!1),void ne(null)),comment:ie}),(0,z.jsxs)(w.A,{title:"Employee List",visible:null===ge||void 0===ge?void 0:ge.isOpen,onCancel:()=>fe({isOpen:!1,employee:null}),className:"antmodalclassName",footer:[(0,z.jsx)("button",{onClick:()=>fe({isOpen:!1,employee:null}),className:" capitalize px-2 py-1 rounded-sm bg-header text-white",children:"Close"},"close")],width:800,centered:!0,children:[(0,z.jsx)("div",{className:"flex items-center",children:(0,z.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 p-4",children:null===ge||void 0===ge||null===(t=ge.data)||void 0===t||null===(l=t.assignedEmployeData)||void 0===l?void 0:l.map(e=>(0,z.jsxs)("div",{onClick:()=>(he(e),void pe(!0)),className:"flex flex-col items-center p-3 rounded-lg bg-white hover:bg-gray-50 cursor-pointer transition-all shadow-sm hover:shadow-md border border-gray-100",children:[(0,z.jsx)("div",{className:"w-16 h-16 mb-2 rounded-full overflow-hidden ring-2 ring-amber-100",children:(0,z.jsx)("img",{alt:e.fullName,src:e.profileImage?"".concat("https://vigapi.vigorousit.com","/public/").concat(e.profileImage):"/images/avatar.jpg",className:"w-full h-full object-cover"})}),(0,z.jsxs)("div",{className:"text-center",children:[(0,z.jsx)("p",{className:"font-medium text-gray-800 truncate max-w-[100px]",children:e.fullName}),e.designation&&(0,z.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate max-w-[100px]",children:e.designation})]})]},e.id))})}),(0,z.jsx)(w.A,{title:"Employee Details",visible:ue,onCancel:qe,className:"antmodalclassName",footer:[(0,z.jsx)("button",{onClick:qe,className:" capitalize px-2 py-1 rounded-sm bg-header text-white",children:"Close"},"close")],width:600,centered:!0,children:xe?(0,z.jsx)("div",{className:"flex justify-center",children:(0,z.jsx)(N.A,{size:"large"})}):(null===me||void 0===me?void 0:me.data)&&(0,z.jsx)("div",{className:"mt-4",children:(0,z.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,z.jsx)("img",{alt:"",src:null!==me&&void 0!==me&&null!==(c=me.data)&&void 0!==c&&c.profileImage?"".concat("https://vigapi.vigorousit.com","/public/").concat(null===me||void 0===me||null===(h=me.data)||void 0===h?void 0:h.profileImage):"/images/avatar.jpg",className:"rounded-full w-16 h-16 ring-2 ring-amber-300"}),(0,z.jsxs)("div",{className:"ml-4",children:[(0,z.jsx)("p",{className:"font-semibold",children:null===me||void 0===me||null===(E=me.data)||void 0===E?void 0:E.fullName}),(0,z.jsx)("p",{children:null===me||void 0===me||null===(U=me.data)||void 0===U||null===(R=U.designationData)||void 0===R?void 0:R.name}),(0,z.jsx)("p",{children:null===me||void 0===me||null===(B=me.data)||void 0===B?void 0:B.email}),(0,z.jsx)("p",{children:null===me||void 0===me||null===(V=me.data)||void 0===V||null===(q=V.companyData)||void 0===q?void 0:q.fullName}),(0,z.jsx)("p",{children:null===me||void 0===me||null===(F=me.data)||void 0===F||null===(J=F.departmentData)||void 0===J?void 0:J.name}),(0,z.jsx)("p",{children:null===me||void 0===me||null===(W=me.data)||void 0===W||null===(G=W.branchData)||void 0===G?void 0:G.fullName}),(0,z.jsxs)("p",{children:[null===me||void 0===me||null===(K=me.data)||void 0===K||null===(Q=K.mobile)||void 0===Q?void 0:Q.code," ",null===me||void 0===me||null===(X=me.data)||void 0===X||null===(Z=X.mobile)||void 0===Z?void 0:Z.number]}),(0,z.jsxs)("div",{className:"mt-3",children:[(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Office Email:"})," ",null===me||void 0===me||null===(H=me.data)||void 0===H?void 0:H.officeEmail]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"User Name:"})," ",null===me||void 0===me||null===($=me.data)||void 0===$?void 0:$.userName]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Status:"})," ",null!==me&&void 0!==me&&null!==(ee=me.data)&&void 0!==ee&&ee.status?"Active":"Inactive"]})]})]})]})})})]})]})}},78872:(e,t,l)=>{l.d(t,{A:()=>r});var a=l(65043),s=l(15187),i=l(86178),n=l.n(i),d=l(92021),o=l(70579);const r=e=>{let{onClose:t,comment:l}=e;const[i,r]=(0,a.useState)([]),[c,x]=(0,a.useState)("translate-y-full"),m=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;return null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),x("translate-y-0"),()=>{x("translate-y-full")}},[i]),(0,a.useEffect)(()=>{if(l){const e=l.map(e=>{var t;return{sender:null===e||void 0===e||null===(t=e.creatorData)||void 0===t?void 0:t.fullName,text:null===e||void 0===e?void 0:e.message,status:null===e||void 0===e?void 0:e.status,createdAt:(null===e||void 0===e?void 0:e.createdAt)||Date.now()}});r(e)}},[l]);const u=()=>{setTimeout(()=>{x("translate-y-full"),setTimeout(()=>{t()},300)},50)};return(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-end items-end px-2 z-[1501]",onClick:u,children:(0,o.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[80vh] shadow-xl overflow-hidden transform transition-all duration-500 ease-in-out ".concat(c),onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"p-2 bg-header text-white rounded-lg shadow-md text-center text-md font-semibold flex justify-between items-center",children:["Task Comments",(0,o.jsx)(d.clO,{className:"cursor-pointer",onClick:u})]}),(0,o.jsxs)("div",{className:"p-4 h-[60vh] overflow-y-auto space-y-2",children:[i.length>0?i.map((e,t)=>(0,o.jsx)("div",{className:"flex flex-col ".concat("You"===e.sender?"items-end":"items-start"),children:(0,o.jsxs)("div",{className:"p-1 w-[100%] max-w-[100%]",children:[(0,o.jsx)("div",{className:"text-sm font-semibold mb-2 text-gray-600 ",children:e.sender}),(0,o.jsxs)("div",{className:"pl-4 border-l border-gray-200 ".concat("Assigned"===e.status?"border-blue-500 text-white":"Accepted"===e.status?"border-green-500 text-white":"Pending_at_client"===e.status?"border-yellow-400 text-black":"Completed"===e.status?"border-green-800 text-white":"border-gray-300 text-black"),children:[(0,o.jsx)("p",{className:"text-sm mb-2 text-gray-800 ",children:e.text}),(0,o.jsx)("div",{className:"text-xs mb-2 px-2 py-1 rounded-full inline-block shadow-xl ".concat("Assigned"===e.status?"bg-blue-500 text-white":"Accepted"===e.status?"bg-green-500 text-white":"Pending_at_client"===e.status?"bg-yellow-400 text-black":"Completed"===e.status?"bg-green-800 text-white":"bg-gray-300 text-black"),children:s.LE[e.status]||"No Status"})]}),(0,o.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:n()(e.createdAt).format("MMM DD, YYYY - h:mm A")})]})},t)):(0,o.jsx)("p",{className:"text-center text-gray-500",children:"No comments available."}),(0,o.jsx)("div",{ref:m})]})]})})}}}]);
//# sourceMappingURL=1981.5dc10cad.chunk.js.map