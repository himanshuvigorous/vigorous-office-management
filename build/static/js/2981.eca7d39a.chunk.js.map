{"version":3,"file":"static/js/2981.eca7d39a.chunk.js","mappings":"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","sources":["pages/Project management/Vigovendor/VigorousprojectVendorTransactionReport.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getvendorFundOrPurchaseReport } from \"./VigovendorFeatures/_vigo_vendor_reducers\";\nimport { useParams } from \"react-router-dom\";\nimport { decrypt } from \"../../../config/Encryption\";\nimport { domainName } from \"../../../constents/global\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport ExcelJS from 'exceljs';\nimport autoTable from \"jspdf-autotable\";\nimport GlobalLayout from \"../../../global_layouts/GlobalLayout/GlobalLayout\";\n\nconst VigorousprojectVendorTransactionReport = () => {\n    const dispatch = useDispatch();\n    const param = useParams();\n    const { vendorIdEnc } = param;\n    const vendorId = decrypt(vendorIdEnc);\n    const userInfoglobal = JSON.parse(localStorage.getItem(`user_info_${domainName}`));\n    const { vendorFundPurchaseDataList, vendorFundPurchaseDataCount, loading } = useSelector(state => state.vigoVendor);\n    const tableRef = useRef();\n\n    useEffect(() => {\n        dispatch(getvendorFundOrPurchaseReport({\n            companyId: userInfoglobal?.userType === \"company\"\n                ? userInfoglobal?._id\n                : userInfoglobal?.companyId,\n            branchId: userInfoglobal?.userType === \"companyBranch\"\n                ? userInfoglobal?._id\n                : userInfoglobal?.branchId,\n            \"directorId\": \"\",\n            vendorId: vendorId,\n            \"text\": \"\",\n            \"sort\": true,\n            \"status\": \"\",\n            \"isPagination\": false\n        }));\n    }, []);\n\n    // Format date for display\n    const formatDate = (dateString) => {\n        return new Date(dateString).toLocaleDateString('en-US', {\n            year: 'numeric',\n            month: 'short',\n            day: 'numeric'\n        });\n    };\n\n    // Format amount with currency\n    const formatAmount = (amount) => {\n        return new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'INR'\n        }).format(amount);\n    };\n\n    // Get reference type label\n    const getReferenceLabel = (reference) => {\n        const referenceMap = {\n            'purchaseExpense': 'Purchase Expense',\n            'fundTransfer': 'Fund Transfer'\n        };\n        return referenceMap[reference] || reference;\n    };\n\n    // Export to PDF\n    const exportToPDF = () => {\n      const doc = new jsPDF({\n          orientation: \"landscape\",\n          unit: \"pt\",\n        });\n\n     \n\n        // Table\n        autoTable(doc,{\n            startY: 35,\n            head: [['Date', 'Reference', 'Amount',  'Created By']],\n            body: vendorFundPurchaseDataList?.map(item => [\n                formatDate(item.date),\n                getReferenceLabel(item.referanceBy),\n                Number(item.amount).toFixed(2),\n         \n                item.createdBy\n            ]),\n\n            margin: { horizontal: 10 },\n            styles: {\n                cellPadding: 8,\n                fontSize: 10,\n                valign: \"middle\",\n                halign: \"left\",\n            },\n            headStyles: {\n                fillColor: [211, 211, 211],\n                textColor: [0, 0, 0],\n                fontStyle: \"bold\",\n            },\n            alternateRowStyles: {\n                fillColor: [245, 245, 245],\n            },\n        });\n\n        // Total amount\n        const totalAmount = vendorFundPurchaseDataList?.reduce((sum, item) => sum + item.amount, 0);\n        const finalY = doc.lastAutoTable.finalY + 10;\n\n        doc.setFontSize(10);\n        doc.setTextColor(40, 40, 40);\n        doc.setFont(undefined, 'bold');\n        doc.text(`Total Amount: ${Number(totalAmount).toFixed(2)}`, 14, finalY);\n\n        doc.save(`vendor-transactions-${vendorId}-${new Date().toISOString().split('T')[0]}.pdf`);\n    };\n\n    // Export to Excel\n    const exportToExcel = async () => {\n        const workbook = new ExcelJS.Workbook();\n        const worksheet = workbook.addWorksheet('Vendor Transactions');\n\n        // Add title\n        worksheet.mergeCells('A1:E1');\n        worksheet.getCell('A1').value = 'Vendor Transaction Report';\n        worksheet.getCell('A1').font = { size: 16, bold: true };\n        worksheet.getCell('A1').alignment = { horizontal: 'center' };\n\n        // Add generation date\n        worksheet.mergeCells('A2:E2');\n        worksheet.getCell('A2').value = `Generated on: ${new Date().toLocaleDateString()}`;\n        worksheet.getCell('A2').font = { size: 10, color: { argb: 'FF666666' } };\n        worksheet.getCell('A2').alignment = { horizontal: 'center' };\n\n        // Add vendor info\n        worksheet.getCell('A3').value = `Vendor ID: ${vendorId}`;\n        worksheet.getCell('A3').font = { size: 10, color: { argb: 'FF666666' } };\n\n        // Add headers\n        const headers = ['Date', 'Reference', 'Amount',  'Created By', 'Created Date'];\n        worksheet.addRow(headers);\n\n        // Style headers\n        const headerRow = worksheet.getRow(5);\n        headerRow.font = { bold: true, color: { argb: 'FFFFFFFF' } };\n        headerRow.fill = {\n            type: 'pattern',\n            pattern: 'solid',\n            fgColor: { argb: 'FF2980B9' }\n        };\n        headerRow.alignment = { horizontal: 'center' };\n\n        // Add data rows\n        vendorFundPurchaseDataList?.forEach(item => {\n            worksheet.addRow([\n                formatDate(item.date),\n                getReferenceLabel(item.referanceBy),\n                item.amount,\n                item.createdBy,\n                formatDate(item.createdAt)\n            ]);\n        });\n\n        // Format columns\n        worksheet.columns = [\n            { width: 15 }, // Date\n            { width: 20 }, // Reference\n            { width: 15 }, // Amount\n            { width: 30 }, // Transaction ID\n            { width: 20 }, // Created By\n            { width: 15 }  // Created Date\n        ];\n\n        // Format amount column\n        const amountColumn = worksheet.getColumn(3);\n        amountColumn.numFmt = '$#,##0.00';\n\n        // Add total row\n        const totalAmount = vendorFundPurchaseDataList?.reduce((sum, item) => sum + item.amount, 0);\n        const totalRow = worksheet.addRow(['', 'Total:', totalAmount, '', '', '']);\n        totalRow.font = { bold: true };\n        totalRow.getCell(3).numFmt = '$#,##0.00';\n\n        // Generate and download\n        const buffer = await workbook.xlsx.writeBuffer();\n        const blob = new Blob([buffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `vendor-transactions-${vendorId}-${new Date().toISOString().split('T')[0]}.xlsx`;\n        link.click();\n        URL.revokeObjectURL(url);\n    };\n\n    // Calculate totals\n    const totalAmount = vendorFundPurchaseDataList?.reduce((sum, item) => sum + item.amount, 0);\n    const purchaseExpenseTotal = vendorFundPurchaseDataList?.filter(item => item.referanceBy === 'purchaseExpense')\n        .reduce((sum, item) => sum + item.amount, 0);\n    const fundTransferTotal = vendorFundPurchaseDataList\n        ?.filter(item => item.referanceBy === 'fundTransfer')\n        .reduce((sum, item) => sum + item.amount, 0);\n\n    if (loading) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n            </div>\n        );\n    }\n\n    return (\n        <GlobalLayout>\n            <div className=\"min-h-screen bg-gray-50 py-8\">\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n\n\n                    {/* Summary Cards */}\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n                        <div className=\"bg-white rounded-lg shadow p-6\">\n                            <div className=\"flex items-center\">\n                                <div className=\"flex-shrink-0\">\n                                    <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center\">\n                                        <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n                                        </svg>\n                                    </div>\n                                </div>\n                                <div className=\"ml-4\">\n                                    <p className=\"text-sm font-medium text-gray-600\">Total Transactions</p>\n                                    <p className=\"text-2xl font-semibold text-gray-900\">{vendorFundPurchaseDataList?.length}</p>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"bg-white rounded-lg shadow p-6\">\n                            <div className=\"flex items-center\">\n                                <div className=\"flex-shrink-0\">\n                                    <div className=\"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center\">\n                                        <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n                                        </svg>\n                                    </div>\n                                </div>\n                                <div className=\"ml-4\">\n                                    <p className=\"text-sm font-medium text-gray-600\">Total Amount</p>\n                                    <p className=\"text-2xl font-semibold text-gray-900\">{formatAmount(totalAmount)}</p>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"bg-white rounded-lg shadow p-6\">\n                            <div className=\"flex items-center\">\n                                <div className=\"flex-shrink-0\">\n                                    <div className=\"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center\">\n                                        <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                                        </svg>\n                                    </div>\n                                </div>\n                                <div className=\"ml-4\">\n                                    <p className=\"text-sm font-medium text-gray-600\">Breakdown</p>\n                                    <p className=\"text-sm text-gray-900\">\n                                        Purchase: {formatAmount(purchaseExpenseTotal)} |\n                                        Transfer: {formatAmount(fundTransferTotal)}\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Export Buttons */}\n                    <div className=\"mb-6 flex flex-wrap gap-3\">\n                        <button\n                            onClick={exportToPDF}\n                            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                        >\n                            <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                            </svg>\n                            Export PDF\n                        </button>\n                        <button\n                            onClick={exportToExcel}\n                            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n                        >\n                            <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                            </svg>\n                            Export Excel\n                        </button>\n                    </div>\n\n                    {/* Transactions Table */}\n                    <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n                        <div className=\"overflow-x-auto\">\n                            <table ref={tableRef} className=\"min-w-full divide-y divide-gray-200\">\n                                <thead className=\"bg-gray-50\">\n                                    <tr>\n                                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                            Date\n                                        </th>\n                                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                            Reference\n                                        </th>\n                                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                            Amount\n                                        </th>\n\n                                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                            Created By\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody className=\"bg-white divide-y divide-gray-200\">\n                                    {vendorFundPurchaseDataList?.map((transaction) => (\n                                        <tr key={transaction._id} className=\"hover:bg-gray-50\">\n                                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                                {formatDate(transaction.date)}\n                                            </td>\n                                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${transaction.referanceBy === 'purchaseExpense'\n                                                        ? 'bg-blue-100 text-blue-800'\n                                                        : 'bg-green-100 text-green-800'\n                                                    }`}>\n                                                    {getReferenceLabel(transaction.referanceBy)}\n                                                </span>\n                                            </td>\n                                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                                                {formatAmount(transaction.amount)}\n                                            </td>\n\n                                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                                                {transaction.createdBy}\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                                {vendorFundPurchaseDataList?.length > 0 && (\n                                    <tfoot className=\"bg-gray-50\">\n                                        <tr>\n                                            <td colSpan=\"2\" className=\"px-6 py-4 text-sm font-medium text-gray-900 text-right\">\n                                                Total:\n                                            </td>\n                                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900\">\n                                                {formatAmount(totalAmount)}\n                                            </td>\n                                            <td colSpan=\"2\"></td>\n                                        </tr>\n                                    </tfoot>\n                                )}\n                            </table>\n                        </div>\n\n                        {vendorFundPurchaseDataList?.length === 0 && !loading && (\n                            <div className=\"text-center py-12\">\n                                <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                                </svg>\n                                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No transactions</h3>\n                                <p className=\"mt-1 text-sm text-gray-500\">No transactions found for this vendor.</p>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </GlobalLayout>\n    );\n};\n\nexport default VigorousprojectVendorTransactionReport;"],"names":["VigorousprojectVendorTransactionReport","dispatch","useDispatch","param","useParams","vendorIdEnc","vendorId","decrypt","userInfoglobal","JSON","parse","localStorage","getItem","concat","domainName","vendorFundPurchaseDataList","vendorFundPurchaseDataCount","loading","useSelector","state","vigoVendor","tableRef","useRef","useEffect","getvendorFundOrPurchaseReport","companyId","userType","_id","branchId","formatDate","dateString","Date","toLocaleDateString","year","month","day","formatAmount","amount","Intl","NumberFormat","style","currency","format","getReferenceLabel","reference","totalAmount","reduce","sum","item","purchaseExpenseTotal","filter","referanceBy","fundTransferTotal","_jsx","className","children","GlobalLayout","_jsxs","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","length","onClick","exportToPDF","doc","jsPDF","orientation","unit","autoTable","startY","head","body","map","date","Number","toFixed","createdBy","margin","horizontal","styles","cellPadding","fontSize","valign","halign","headStyles","fillColor","textColor","fontStyle","alternateRowStyles","finalY","lastAutoTable","setFontSize","setTextColor","setFont","undefined","text","save","toISOString","split","async","workbook","ExcelJS","worksheet","addWorksheet","mergeCells","getCell","value","font","size","bold","alignment","color","argb","addRow","headerRow","getRow","type","pattern","fgColor","forEach","createdAt","columns","width","getColumn","numFmt","totalRow","buffer","xlsx","writeBuffer","blob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","ref","scope","transaction","colSpan"],"sourceRoot":""}