"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[3544],{33544:(e,l,a)=>{a.r(l),a.d(l,{default:()=>_});var n=a(89379),t=a(65043),d=a(24858),i=a(39160),o=a(83003),s=a(15187),c=a(3825),r=a(73216),u=a(36105),m=a(30575),v=a(84480),p=a(27971),x=a(31174),h=a(31744),b=a(88967),g=a(65337),N=a(51957),f=a(65512),y=a(37037),j=a(56659),D=a(30064),P=a.n(D),C=a(77538),w=a(29542),A=a(82565),k=a(89427),E=a(88877),I=a(60397),B=a(735),S=(a(77285),a(70579));const _=()=>{var e,l,a,D,_,T,O;const{branchIdEnc:q}=(0,r.g)(),L=(0,t.useRef)([]),F=(0,t.useRef)([]),U=(0,x.Yc)(q),[M,Q]=(0,t.useState)(null),[H,R]=((0,r.Zp)(),(0,t.useState)(1)),[z,Z]=(0,t.useState)(!0),[V,G]=(0,t.useState)([{id:1,documentType:"",documentNo:"",file:[],isEditable:!0}]),[$,J]=(0,t.useState)([1]),[W,Y]=(0,t.useState)(null),{countryListData:K,loading:X}=(0,o.d4)(e=>e.country),{stateListData:ee}=(0,o.d4)(e=>e.states),{cityListData:le}=(0,o.d4)(e=>e.city),{employeeDocumentList:ae,loading:ne}=(0,o.d4)(e=>e.employeeDocument),[te,de]=(0,t.useState)(null),[ie,oe]=(0,t.useState)(null),[se,ce]=(0,t.useState)(!1),{bankNameListData:re}=(0,o.d4)(e=>e.bankname),{loadingUpdateFile:ue}=(0,o.d4)(e=>e.fileUpload),[me,ve]=(0,t.useState)({}),[pe,xe]=(0,t.useState)({}),{branchDetailsData:he,branchListloading:be}=(0,o.d4)(e=>e.branch),[ge,Ne]=(0,t.useState)([]),[fe,ye]=(0,t.useState)([]),je=null===(e=JSON.parse(localStorage.getItem("user_info_".concat(s.AU))))||void 0===e?void 0:e.userType,{register:De,handleSubmit:Pe,setValue:Ce,control:we,clearErrors:Ae,formState:{errors:ke}}=(0,d.mN)(),Ee=(0,o.wA)(),Ie=(0,d.FH)({control:we,name:"PDAddress",defaultValue:""}),Be=(0,d.FH)({control:we,name:"PDState",defaultValue:""}),Se=(0,d.FH)({control:we,name:"PDcountry",defaultValue:""}),_e=(0,d.FH)({control:we,name:"PDPin",defaultValue:""});(0,t.useEffect)(()=>{_e&&_e.length>=4&&_e.length<=6&&/^\d{6}$/.test(_e)&&(0,s.jh)(_e).then(e=>{e&&(Ce("PDCity",e.city),Ce("PDState",e.state),Ce("PDCountry",e.country))}).catch(e=>{console.error("Error fetching data:",e)})},[_e]),(0,t.useEffect)(()=>{(async()=>{try{var e;Z(!0),await Ee((0,p.no)({isPagination:!1,companyId:null===(e=(0,B.A)())||void 0===e?void 0:e.userCompanyId}));const l={_id:U};await Ee((0,h.ZN)(l)).then(e=>{Z(!1)})}catch(ie){console.error("Error fetching data:",ie)}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{Z(!0),await Ee((0,C.CY)({isPagination:!1,text:"",sort:!0,status:!0}))}catch(ie){console.error("Error fetching data:",ie)}})()},[]),(0,t.useEffect)(()=>{if(null!==he&&void 0!==he&&he.data){var e,l,a,n,t,d,i,o,s,c,r,u,m,v,p,x,h,b,g,N,f,y,j,D,P,C,w,A,k,E,I,B,S,_,T,O,q,L,F,U,M,Q,H,R,z,Z,V,$,W,K,X,ee,le,ae,ne,te,ie;const oe=null!==he&&void 0!==he&&null!==(e=he.data)&&void 0!==e&&null!==(l=e.documentData)&&void 0!==l&&l.length?null===he||void 0===he||null===(a=he.data)||void 0===a||null===(n=a.documentData)||void 0===n?void 0:n.map(e=>({_id:null===e||void 0===e?void 0:e._id,documentType:null===e||void 0===e?void 0:e.name,documentNo:null===e||void 0===e?void 0:e.number,file:null===e||void 0===e?void 0:e.filePath,isEditable:!1})):[{_id:"",documentType:"",documentNo:"",file:[],isEditable:!0}];G([...oe]),Y("".concat("https://vigapi.vigorousit.com","/public/").concat(null===he||void 0===he||null===(t=he.data)||void 0===t?void 0:t.profileImage)),Ce("ProfileImage",null===he||void 0===he||null===(d=he.data)||void 0===d?void 0:d.profileImage),Ce("PDcompanyName",null===he||void 0===he||null===(i=he.data)||void 0===i?void 0:i.fullName),Ce("PDFirstName",null===he||void 0===he||null===(o=he.data)||void 0===o?void 0:o.firstName),Ce("PDLastName",null===he||void 0===he||null===(s=he.data)||void 0===s?void 0:s.lastName),Ce("PDtagline",null===he||void 0===he||null===(c=he.data)||void 0===c||null===(r=c.companyProfile)||void 0===r?void 0:r.tagline),Ce("PDBranchHead",null===he||void 0===he||null===(u=he.data)||void 0===u||null===(m=u.companyProfile)||void 0===m?void 0:m.tagline),Ce("PDBranchCode",null===he||void 0===he||null===(v=he.data)||void 0===v||null===(p=v.branchProfile)||void 0===p?void 0:p.branchCode),Ce("PDAddress",null===he||void 0===he||null===(x=he.data)||void 0===x||null===(h=x.addresses)||void 0===h||null===(b=h.primary)||void 0===b?void 0:b.street),Ce("PDcountry",null===he||void 0===he||null===(g=he.data)||void 0===g||null===(N=g.addresses)||void 0===N||null===(f=N.primary)||void 0===f?void 0:f.country),Ce("PDState",null===he||void 0===he||null===(y=he.data)||void 0===y||null===(j=y.addresses)||void 0===j||null===(D=j.primary)||void 0===D?void 0:D.state),Ce("PDCity",null===he||void 0===he||null===(P=he.data)||void 0===P||null===(C=P.addresses)||void 0===C||null===(w=C.primary)||void 0===w?void 0:w.city),Ce("PDPin",null===he||void 0===he||null===(A=he.data)||void 0===A||null===(k=A.addresses)||void 0===k||null===(E=k.primary)||void 0===E?void 0:E.pinCode),de({lat:null===he||void 0===he||null===(I=he.data)||void 0===I||null===(B=I.addresses)||void 0===B||null===(S=B.location)||void 0===S?void 0:S.latitude,lng:null===he||void 0===he||null===(_=he.data)||void 0===_||null===(T=_.addresses)||void 0===T||null===(O=T.location)||void 0===O?void 0:O.longitude}),Ce("PDEmail",null===he||void 0===he||null===(q=he.data)||void 0===q?void 0:q.email),Ce("PDMobileCode",null===he||void 0===he||null===(L=he.data)||void 0===L||null===(F=L.mobile)||void 0===F?void 0:F.code),Ce("PDMobileNo",null===he||void 0===he||null===(U=he.data)||void 0===U||null===(M=U.mobile)||void 0===M?void 0:M.number),Ce("PDaadharNumber",null===he||void 0===he||null===(Q=he.data)||void 0===Q?void 0:Q.aadharNumber),Ce("PDgstnumber",null===he||void 0===he||null===(H=he.data)||void 0===H?void 0:H.gstNumber),Ce("PDpannumber",null===he||void 0===he||null===(R=he.data)||void 0===R?void 0:R.panNumber),Ce("PDfrn",null===he||void 0===he||null===(z=he.data)||void 0===z?void 0:z.frn),Ce("PDtannumber",null===he||void 0===he||null===(Z=he.data)||void 0===Z?void 0:Z.tanNumber),Ce("DCdocumenttype0",null===he||void 0===he||null===(V=he.data)||void 0===V?void 0:V.documentType0),Ce("DCdocumentno0",null===he||void 0===he||null===($=he.data)||void 0===$?void 0:$.documentNo0),Ce("DCdocumentUpload0",null===he||void 0===he||null===(W=he.data)||void 0===W?void 0:W.documentUpload0),Ce("PDBranchHead",null===he||void 0===he||null===(K=he.data)||void 0===K||null===(X=K.branchProfile)||void 0===X?void 0:X.head),Ce("PDRemark",null===he||void 0===he||null===(ee=he.data)||void 0===ee||null===(le=ee.branchProfile)||void 0===le?void 0:le.remarks),null===he||void 0===he||null===(ae=he.data)||void 0===ae||null===(ne=ae.documentData)||void 0===ne||ne.forEach((e,l)=>{Ce("DCdocumentId".concat(l),null===e||void 0===e?void 0:e._id),Ce("DCdocumenttype".concat(l),null===e||void 0===e?void 0:e.name),Ce("DCdocumentno".concat(l),null===e||void 0===e?void 0:e.number),Ce("DCdocumentUpload".concat(l),null===e||void 0===e?void 0:e.filePath),Ce("openingBalance".concat(l),null===e||void 0===e?void 0:e.openingBalance)});const se=null!==he&&void 0!==he&&null!==(te=he.data)&&void 0!==te&&null!==(ie=te.bankData)&&void 0!==ie&&ie.length?he.data.bankData.map(e=>({_id:(null===e||void 0===e?void 0:e._id)||"",accountType:(null===e||void 0===e?void 0:e.accountType)||"",bankName:(null===e||void 0===e?void 0:e.bankName)||"",branchName:(null===e||void 0===e?void 0:e.branchName)||"",bankholderName:(null===e||void 0===e?void 0:e.bankholderName)||"",accountNumber:(null===e||void 0===e?void 0:e.accountNumber)||"",ifscCode:(null===e||void 0===e?void 0:e.ifscCode)||"",openingBalance:Number(null===e||void 0===e?void 0:e.openingBalance)||"",file:(null===e||void 0===e?void 0:e.filePath)||[]})):[{_id:"",accountType:"",bankName:"",branchName:"",bankholderName:"",accountNumber:"",ifscCode:"",openingBalance:"",file:[]}];J([...se])}},[he]);const Te=(e,l,a)=>{const n=[...$],t=[...ge];if("ifscCode"===l){var d;if(/^[A-Z]{4}0[A-Z0-9]{6}$/.test(a))null!==(d=t[e])&&void 0!==d&&d[l]&&delete t[e][l];else t[e]||(t[e]={}),t[e][l]="Invalid IFSC code. Example: SBIN0001234"}if("accountNumber"===l){var i;if(/^\d{6,18}$/.test(a))null!==(i=t[e])&&void 0!==i&&i[l]&&delete t[e][l];else t[e]||(t[e]={}),t[e][l]="Invalid account number. Must be 6 to 18 digits."}n[e][l]=a,J(n),Ne(t)},Oe=e=>{R(e)},qe=(e,l,a)=>{var n;const t=[...V];t[e][l]=a,G(t);const d=[...fe];null!==(n=d[e])&&void 0!==n&&n[l]&&delete d[e][l],ye(d)},Le=(e,l)=>{if(!l)return;let a=l;const n=new FileReader;let t="";n.onload=l=>{t=l.target.result,P().fire({title:"Preview your file",html:'\n            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">\n              <p style="margin-bottom: 20px;">Do you want to upload this file?</p>\n              <img id="filePreview" src="'.concat(t,'" alt="File Preview" style="max-width: 100%; max-height: 300px; width: auto; height: auto;">\n              <br>\n              <button id="changeImageBtn" style="  margin-top: 15px;\n    padding: 10px 18px;\n    cursor: pointer;\n    background-color:#074173;\n    color: white;\n    font-size: 16px;\n    font-weight: 600;\n    border: none;\n    border-radius: 8px;\n    transition: background-color 0.3s, transform 0.2s;\n    box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2);">Change Image</button>\n              <input type="file" id="fileInput" style="display: none;" accept="image/*">\n            </div>\n          '),showCancelButton:!0,confirmButtonText:"Confirm!",cancelButtonText:"Cancel",didOpen:()=>{const e=document.getElementById("changeImageBtn"),l=document.getElementById("fileInput"),n=document.getElementById("filePreview");e.addEventListener("click",()=>{l.click()}),l.addEventListener("change",e=>{const l=e.target.files[0];if(l){a=l;const e=new FileReader;e.onload=e=>{n.src=e.target.result},e.readAsDataURL(l)}})}}).then(l=>{l.isConfirmed&&Ee((0,b.Sg)({filePath:a,isVideo:!1,isMultiple:!1})).then(l=>{if(!l.error){var a,n;const t=[...V];t[e].file=[null===l||void 0===l||null===(a=l.payload)||void 0===a?void 0:a.data],G(t);const d=[...fe];null!==(n=d[e])&&void 0!==n&&n.file&&delete d[e].file,ye(d)}})}).then(l=>{L.current[e]&&(L.current[e].value="")})},n.readAsDataURL(l)},Fe=()=>{let e=[];return V.forEach((l,a)=>{let n={};l.documentType||(n.documentType="Document Type is required."),l.documentNo||(n.documentNo="Document No is required."),l.file&&0!==l.file.length||(n.file="Document file is required."),Object.keys(n).length>0&&(e[a]=n)}),ye(e),e.every(e=>0===Object.keys(e).length)};return(0,t.useEffect)(()=>{M&&(Ce("PDAddress",null===M||void 0===M?void 0:M.address),Ce("PDCountry",null===M||void 0===M?void 0:M.country),Ce("PDState",null===M||void 0===M?void 0:M.state),Ce("PDCity",null===M||void 0===M?void 0:M.city),Ce("PDPin",null===M||void 0===M?void 0:M.postalCode))},[M]),(0,t.useEffect)(()=>{var e,l,a;Se!==(null===he||void 0===he||null===(e=he.data)||void 0===e||null===(l=e.addresses)||void 0===l||null===(a=l.primary)||void 0===a?void 0:a.country)&&(Ce("PDState",""),Ce("PDCity",""))},[Se]),(0,t.useEffect)(()=>{var e,l,a;Be!==(null===he||void 0===he||null===(e=he.data)||void 0===e||null===(l=e.addresses)||void 0===l||null===(a=l.primary)||void 0===a?void 0:a.state)&&Ce("PDCity","")},[Be]),(0,S.jsx)(i.A,{children:z?(0,S.jsx)(g.A,{}):(0,S.jsx)("div",{className:"grid grid-cols-12 gap-2",children:(0,S.jsxs)("form",{className:"space-y-2 md:col-span-12 col-span-12",onSubmit:Pe(e=>{if(1===H){var l,a,n,t,d,i,o;const s={_id:U,profileImage:null===e||void 0===e?void 0:e.ProfileImage,companyId:null===he||void 0===he||null===(l=he.data)||void 0===l?void 0:l.companyId,directorId:null===he||void 0===he||null===(a=he.data)||void 0===a?void 0:a.directorId,branchId:U,fullName:null===e||void 0===e?void 0:e.PDcompanyName,email:null===e||void 0===e?void 0:e.PDEmail,userType:"companyBranch",status:null===he||void 0===he||null===(n=he.data)||void 0===n?void 0:n.status,mobile:{code:null===e||void 0===e?void 0:e.PDMobileCode,number:null===e||void 0===e?void 0:e.PDMobileNo},branchProfile:{head:null===e||void 0===e?void 0:e.PDBranchHead,remarks:null===e||void 0===e?void 0:e.PDRemark},addresses:{primary:{street:null!==(t=null===e||void 0===e?void 0:e.PDAddress)&&void 0!==t?t:"",city:null!==(d=null===e||void 0===e?void 0:e.PDCity)&&void 0!==d?d:"",state:null!==(i=null===e||void 0===e?void 0:e.PDState)&&void 0!==i?i:"",country:null!==(o=null===e||void 0===e?void 0:e.PDcountry)&&void 0!==o?o:"",pinCode:null===e||void 0===e?void 0:e.PDPin},location:{latitude:null===te||void 0===te?void 0:te.lat,longitude:null===te||void 0===te?void 0:te.lng,address:null===e||void 0===e?void 0:e.PDAddress}}};Ee((0,h.Ub)(s))}if(2===H&&Fe()){const e={documents:V.map((e,l)=>null!==e&&void 0!==e&&e._id?{userId:U,_id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.documentType,number:null===e||void 0===e?void 0:e.documentNo,filePath:null===e||void 0===e?void 0:e.file}:{userId:U,name:null===e||void 0===e?void 0:e.documentType,number:null===e||void 0===e?void 0:e.documentNo,filePath:null===e||void 0===e?void 0:e.file}),userType:"companyBranch",type:"documents"};Ee((0,b.lU)(e)).then(e=>{e.error||Ee((0,h.ZN)({_id:U}))})}if(3===H&&(()=>{let e=[];return $.forEach((l,a)=>{let n={};l.accountType||(n.accountType="Account Type is required."),l.bankholderName||(n.bankholderName="Account Holder name is required."),l.accountNumber||(n.accountNumber="Account No is required."),l.bankName||(n.bankName="Bank Name is required."),l.branchName||(n.branchName="Branch Name is required."),l.ifscCode||(n.ifscCode="Ifsc code is required."),Object.keys(n).length>0&&(e[a]=n)}),Ne(e),e.every(e=>0===Object.keys(e).length)})()){const e={bank:$.map((e,l)=>null!==e&&void 0!==e&&e._id?{userId:U,_id:null===e||void 0===e?void 0:e._id,bankholderName:null===e||void 0===e?void 0:e.bankholderName,bankName:null===e||void 0===e?void 0:e.bankName,accountNumber:null===e||void 0===e?void 0:e.accountNumber,branchName:null===e||void 0===e?void 0:e.branchName,ifscCode:null===e||void 0===e?void 0:e.ifscCode,openingBalance:Number(null===e||void 0===e?void 0:e.openingBalance),accountType:null===e||void 0===e?void 0:e.accountType,filePath:null===e||void 0===e?void 0:e.file}:{userId:U,bankholderName:null===e||void 0===e?void 0:e.bankholderName,bankName:null===e||void 0===e?void 0:e.bankName,accountNumber:null===e||void 0===e?void 0:e.accountNumber,branchName:null===e||void 0===e?void 0:e.branchName,ifscCode:null===e||void 0===e?void 0:e.ifscCode,openingBalance:Number(null===e||void 0===e?void 0:e.openingBalance),accountType:null===e||void 0===e?void 0:e.accountType,filePath:null===e||void 0===e?void 0:e.file}),type:"bank"};Ee((0,b.lU)(e)).then(e=>{e.error||Ee((0,h.ZN)({_id:U}))})}}),children:[(0,S.jsxs)("div",{className:"flex bg-header justify-start items-center rounded-lg gap-5 px-3 pt-2 overflow-x-auto overflow-y-hidden text-nowrap",children:[(0,S.jsxs)("button",{type:"button",onClick:()=>Oe(1),className:"flex relative flex-col items-center  pb-2 ".concat(1===H?"text-white ]":"text-gray-500"," cursor-pointer"),children:[1===H&&(0,S.jsx)("div",{className:"w-full h-3 bg-[#f4f6f9] absolute bottom-0 translate-y-1/2 rounded-2xl"}),(0,S.jsx)("span",{className:"text-sm font-semibold text-nowrap",children:"Primary Details"})]}),(0,S.jsxs)("button",{type:"button",onClick:()=>Oe(2),className:"flex flex-col items-center relative pb-2 ".concat(2===H?"text-white ]":"text-gray-500"," cursor-pointer"),children:[2===H&&(0,S.jsx)("div",{className:"w-full h-3 bg-[#f4f6f9] absolute bottom-0 translate-y-1/2 rounded-2xl"}),(0,S.jsx)("span",{className:"text-sm font-semibold",children:"Documents"})]}),(0,S.jsxs)("button",{type:"button",onClick:()=>Oe(3),className:"flex flex-col items-center relative pb-2 ".concat(3===H?"text-white ]":"text-gray-500"," cursor-pointer"),children:[3===H&&(0,S.jsx)("div",{className:"w-full h-3 bg-[#f4f6f9] absolute bottom-0 translate-y-1/2 rounded-2xl"}),(0,S.jsx)("span",{className:"text-sm font-semibold",children:"Bank"})]})]}),1===H&&(0,S.jsxs)(S.Fragment,{children:[" ",(0,S.jsxs)("div",{className:"grid  grid-cols-1 md:grid-cols-2",children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:" ",children:[(0,S.jsx)(d.xI,{name:"ProfileImage",control:we,render:e=>{let{field:l}=e;return(0,S.jsx)(A.A,{setValue:Ce,name:"image",field:l})}}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3",children:[(0,S.jsxs)("div",{className:"",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Branch Name ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("input",(0,n.A)((0,n.A)({type:"text"},De("PDcompanyName",{required:"Branch Name is required"})),{},{className:"placeholder: ".concat(s.Ol," ").concat(ke.PDcompanyName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Branch Name"})),ke.PDcompanyName&&(0,S.jsx)("p",{className:"text-red-500 text-sm",children:ke.PDcompanyName.message})]}),"admin"===je&&(0,S.jsxs)("div",{className:"",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Company ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("select",(0,n.A)((0,n.A)({disabled:!0},De("PDCompanyId")),{},{className:"".concat(s.id,"  ").concat(ke.PDCompanyId?"border-[1px] ":"border-gray-300"," "),children:(0,S.jsx)("option",{value:null===he||void 0===he||null===(l=he.data)||void 0===l||null===(a=l.companyData)||void 0===a?void 0:a._id,children:null===he||void 0===he||null===(D=he.data)||void 0===D||null===(_=D.companyData)||void 0===_?void 0:_.fullName})})),ke.PDCompanyId&&(0,S.jsx)("p",{className:"text-red-500 text-sm",children:ke.PDCompanyId.message})]})]}),(0,S.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3",children:(0,S.jsxs)("div",{className:"",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Branch Head ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("input",(0,n.A)((0,n.A)({type:"text"},De("PDBranchHead",{required:"Branch Head is required"})),{},{className:" ".concat(s.Ol," ").concat(ke.PDBranchHead?"border-[1px] ":"border-gray-300"),placeholder:"Enter Branch Head"})),ke.PDBranchHead&&(0,S.jsx)("p",{className:"text-red-500 text-sm",children:ke.PDBranchHead.message})]})}),(0,S.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3 md:mt-4",children:(0,S.jsxs)("div",{className:"col-span-2",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Primary Address"," ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("input",(0,n.A)((0,n.A)({type:"text"},De("PDAddress",{required:"Address  is required"})),{},{className:"".concat(s.Ol," ").concat(ke.PDAddress?"border-[1px] ":"border-gray-300"),placeholder:"Enter Address "})),ke.PDAddress&&(0,S.jsx)("p",{className:"text-red-500 text-sm",children:ke.PDAddress.message})]})}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3 md:mt-4",children:[(0,S.jsxs)("div",{className:"",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Email ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("input",(0,n.A)((0,n.A)({type:"text"},De("PDEmail",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(s.Ol," ").concat(ke.PDEmail?"border-[1px] ":"border-gray-300"),placeholder:"Enter Email"})),ke.PDEmail&&(0,S.jsx)("p",{className:"text-red-500 text-sm",children:ke.PDEmail.message})]}),(0,S.jsxs)("div",{className:"flex gap-3",children:[(0,S.jsxs)("div",{className:"w-[150px]",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Code ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)(d.xI,{control:we,name:"PDMobileCode",rules:{required:"code is required"},render:e=>{let{field:l}=e;return(0,S.jsx)(j.A,{field:l,errors:ke})}}),ke.PDMobileCode&&(0,S.jsx)("p",{className:"".concat(s.ci),children:ke.PDMobileCode.message})]}),(0,S.jsxs)("div",{className:"w-full",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Mobile No ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("input",(0,n.A)((0,n.A)({type:"number"},De("PDMobileNo",{required:"Mobile No is required",minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(s.Ol," ").concat(ke.PDMobileNo?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),ke.PDMobileNo&&(0,S.jsx)("p",{className:"text-red-500 text-sm",children:ke.PDMobileNo.message})]})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 md:gap-8 gap-3 md:my-1 px-3",children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"".concat(s.Q0),children:["Country ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)(d.xI,{control:we,name:"PDcountry",rules:{required:"Country is required"},render:e=>{var l;let{field:a}=e;return(0,S.jsx)(N.A,(0,n.A)((0,n.A)({},a),{},{onChange:e=>{a.onChange(e)},className:"w-full",options:null===K||void 0===K||null===(l=K.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),notFoundContent:X&&(0,S.jsx)(k.A,{}),children:(0,S.jsx)("input",{placeholder:"Enter Country",onFocus:()=>{Ee((0,u.dw)({isPagination:!1,text:"",sort:!0,status:!0}))},className:"".concat(s.Ol," ").concat(ke.PDcountry?"border-[1px] ":"border-gray-300")})}))}}),ke.PDcountry&&(0,S.jsx)("p",{className:"".concat(s.ci),children:ke.PDcountry.message})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"".concat(s.Q0),children:["State ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)(d.xI,{control:we,name:"PDState",rules:{required:"State is required"},render:e=>{var l;let{field:a}=e;return(0,S.jsx)(N.A,(0,n.A)((0,n.A)({},a),{},{className:"w-full",onChange:e=>a.onChange(e),options:null===ee||void 0===ee||null===(l=ee.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,S.jsx)("input",{placeholder:"Enter State",onFocus:()=>{Ee((0,m.mz)({isPagination:!1,text:"",countryName:Se,sort:!0,status:!0}))},className:"".concat(s.Ol," ").concat(ke.PDState?"border-[1px] ":"border-gray-300")})}))}}),ke.PDState&&(0,S.jsx)("p",{className:"".concat(s.ci),children:ke.PDState.message})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"".concat(s.Q0),children:["City ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)(d.xI,{control:we,name:"PDCity",rules:{required:"City is required"},render:e=>{var l;let{field:a}=e;return(0,S.jsx)(N.A,(0,n.A)((0,n.A)({},a),{},{className:"w-full",onChange:e=>a.onChange(e),options:null===le||void 0===le||null===(l=le.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,S.jsx)("input",{placeholder:"Enter City",onFocus:()=>{Ee((0,v.cY)({isPagination:!1,text:"",sort:!0,status:!0,stateName:Be}))},className:"".concat(s.Ol," ").concat(ke.PDCity?"border-[1px] ":"border-gray-300")})}))}}),ke.PDCity&&(0,S.jsx)("p",{className:"".concat(s.ci),children:ke.PDCity.message})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Pin Code ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)(d.xI,{control:we,name:"PDPin",rules:{required:"Pin Code is required"},render:e=>{let{field:l}=e;return(0,S.jsx)("input",(0,n.A)((0,n.A)({},l),{},{type:"number",placeholder:"Enter Pin Code",maxLength:6,onInput:e=>{e.target.value.length>6&&(e.target.value=e.target.value.slice(0,6))},className:"".concat(s.Ol," ").concat(ke.PDPin?"border-[1px] ":"border-gray-300")}))}}),ke.PDPin&&(0,S.jsx)("p",{className:"text-red-500 text-sm",children:ke.PDPin.message})]})]}),(0,S.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3"})]}),(0,S.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,S.jsx)("button",{type:"Submit",className:"".concat(s.Wb),children:"Submit Details"})})]}),(0,S.jsx)(y.A,{setLocation:de,address:Ie,setClickLocationaddres:Q,innitialLocation:null===he||void 0===he||null===(T=he.data)||void 0===T||null===(O=T.addresses)||void 0===O?void 0:O.location})]})]}),2===H&&(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:" rounded-md ",children:[V.map((e,l)=>{var a,t,d,i,o;return(0,S.jsxs)("div",{className:"border border-gray-300 rounded-md my-2",children:[(0,S.jsxs)("div",{className:"flex justify-between items-center mb-4 bg-header rounded-t-md",children:[(0,S.jsxs)("div",{className:"px-3 py-2 text-white font-semibold",children:[" ","Document ",l+1]}),(0,S.jsxs)("div",{className:"flex justify-end items-end",children:[(0,S.jsx)("button",{type:"button",onClick:()=>((e,l)=>{null!==e&&void 0!==e&&e._id?Ee((0,b.Nn)({_id:null===e||void 0===e?void 0:e._id})).then(e=>{e.error||G(e=>e.filter((e,a)=>a!==l))}):G(e=>e.filter((e,a)=>a!==l))})(e,l),className:"text-red-600 hover:text-red-800",children:(0,S.jsx)(c.F23,{size:20,className:"m-2"})}),(0,S.jsx)("button",{type:"button",onClick:()=>(e=>{G(l=>l.map((l,a)=>a===e?(0,n.A)((0,n.A)({},l),{},{isEditable:!l.isEditable}):l))})(l),className:"text-white",children:null!==e&&void 0!==e&&e.isEditable?(0,S.jsx)(I.cZR,{size:20,className:"m-2"}):(0,S.jsx)(E.Ivr,{size:20,className:"m-2"})})]})]}),(0,S.jsxs)("div",{className:"px-3 grid sm:grid-cols-2 grid-cols-1 gap-4 items-end mb-3",children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Document Type"," ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsxs)(f.A,{disabled:!e.isEditable,value:e.documentType,className:" ".concat(s.Hy," ").concat(ke.documentType?"border-[1px] ":"border-gray-300"),onChange:e=>qe(l,"documentType",e),placeholder:"Select Document Type",showSearch:!0,children:[(0,S.jsx)(f.A.Option,{value:"",children:"Select Document"}),ne?(0,S.jsx)(f.A.Option,{disabled:!0,children:(0,S.jsx)(k.A,{})}):null===ae||void 0===ae?void 0:ae.filter(e=>"General"===(null===e||void 0===e?void 0:e.type)).map(e=>(0,S.jsx)(f.A.Option,{value:e.name,children:e.name},e.name))]}),(null===(a=fe[l])||void 0===a?void 0:a.documentType)&&(0,S.jsx)("p",{className:"text-red-600 text-sm",children:fe[l].documentType})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Document No ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("input",{disabled:!e.isEditable,type:"text",value:e.documentNo,onChange:e=>qe(l,"documentNo",e.target.value),className:"".concat(e.isEditable?s.Ol:s.id," ").concat(null!==(t=fe[l])&&void 0!==t&&t.documentNo?"border-[1px] ":""),placeholder:"Enter Document No"}),(null===(d=fe[l])||void 0===d?void 0:d.documentNo)&&(0,S.jsx)("p",{className:"text-red-600 text-sm",children:fe[l].documentNo})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsxs)("div",{children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Upload Document ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("input",{disabled:!e.isEditable,type:"file",ref:e=>L.current[l]=e,id:"documentUpload".concat(l),className:"hidden",onChange:e=>Le(l,e.target.files[0])}),(0,S.jsx)("br",{}),(0,S.jsx)("label",{htmlFor:"documentUpload".concat(l),className:"".concat(null!==e&&void 0!==e&&e.isEditable?"bg-header":"bg-gray-400"," text-white mt-2 py-1.5 px-3 text-nowrap text-sm rounded cursor-pointer"),children:"Upload"})]}),(null===e||void 0===e||null===(i=e.file)||void 0===i?void 0:i.length)>0?e.file.map((a,n)=>(0,S.jsxs)("div",{className:"relative",children:[(0,S.jsx)(w.A,{src:"".concat("https://vigapi.vigorousit.com","/public/").concat(a),alt:"Uploaded ".concat(n+1)}),(0,S.jsx)("button",{disabled:!(null!==e&&void 0!==e&&e.isEditable),className:"absolute -top-1 -right-2 ".concat(null!==e&&void 0!==e&&e.isEditable?"bg-red-600":"bg-gray-400"," text-white rounded-full w-5 h-5 flex items-center justify-center text-xs"),onClick:()=>(e=>{const l=[...V];l[e].file=[],G(l),L.current[e]&&(L.current[e].value="")})(l),children:"\u2715"})]},n)):null,(null===(o=fe[l])||void 0===o?void 0:o.file)&&(0,S.jsx)("p",{className:"text-red-600 text-sm",children:fe[l].file})]})]})]},l)}),(0,S.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,S.jsx)("button",{type:"button",onClick:()=>{G([...V,{id:Date.now(),isEditable:!0}])},className:"bg-header text-white py-1.5 px-3 text-nowrap text-sm rounded ",children:"Add More"})})]}),(0,S.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,S.jsx)("button",{disabled:ue,type:"Submit",className:"".concat(s.Wb),children:ue?"Submitting ...":"Submit Details"})})]}),3===H&&(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"rounded-md",children:[$.map((e,l)=>{var a,n,t,d,i,o,r,u,m,v,p,x,h,g,N,y,j,D,C,A,E,I,B;return(0,S.jsxs)("div",{className:"border border-gray-300 rounded-md my-2",children:[(0,S.jsxs)("div",{className:"flex justify-between items-center mb-4 bg-header rounded-t-md",children:[(0,S.jsxs)("div",{className:"px-3 py-2 text-white font-semibold",children:[" ","Bank Document ",l+1]}),0!==l&&(0,S.jsx)("button",{type:"button",onClick:()=>((e,l)=>{null!==e&&void 0!==e&&e._id?Ee((0,b.Nn)({_id:null===e||void 0===e?void 0:e._id})).then(e=>{e.error||J(e=>e.filter((e,a)=>a!==l))}):J(e=>e.filter((e,a)=>a!==l))})(e,l),className:"text-red-600 hover:text-red-800",children:(0,S.jsx)(c.F23,{size:20,className:"m-2"})})]}),(0,S.jsxs)("div",{className:"px-3 grid sm:grid-cols-2 grid-cols-1 gap-4 mb-3",children:[(0,S.jsxs)("div",{className:"w-full",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Account Holder Name"," ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("input",{type:"text",value:e.bankholderName,onChange:e=>Te(l,"bankholderName",e.target.value),className:"".concat(s.Ol," ").concat(null!==(a=ge[l])&&void 0!==a&&a.bankholderName?"border-[1px] ":""),placeholder:"Enter Account Holder name"}),(null===(n=ge[l])||void 0===n?void 0:n.bankholderName)&&(0,S.jsx)("p",{className:"text-red-600 text-sm",children:ge[l].bankholderName})]}),(0,S.jsxs)("div",{className:"w-full",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Bank Name ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsxs)(f.A,{value:e.bankName,onChange:e=>Te(l,"bankName",e),className:"".concat(s.Hy," ").concat(null!==(t=ge[l])&&void 0!==t&&t.bankName?"border-[1px] ":""),children:[(0,S.jsx)(f.A.Option,{value:"",children:"Select Bank Name"}),be?(0,S.jsx)(f.A.Option,{disabled:!0,children:(0,S.jsx)(k.A,{})}):null===(d=(0,s._o)(re,"name"))||void 0===d?void 0:d.map(e=>(0,S.jsx)(f.A.Option,{value:e.name,children:e.name},e.name))]}),(null===(i=ge[l])||void 0===i?void 0:i.bankName)&&(0,S.jsx)("p",{className:"text-red-600 text-sm",children:ge[l].bankName})]}),(0,S.jsxs)("div",{className:"w-full",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Branch Name ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("input",{type:"text",value:e.branchName,onChange:e=>Te(l,"branchName",e.target.value),className:"".concat(s.Ol," ").concat(null!==(o=ge[l])&&void 0!==o&&o.branchName?"border-[1px] ":""),placeholder:"Enter Branch name"}),(null===(r=ge[l])||void 0===r?void 0:r.branchName)&&(0,S.jsx)("p",{className:"text-red-600 text-sm",children:ge[l].branchName})]}),(0,S.jsxs)("div",{className:"w-full",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Account Number",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("input",{type:"number",value:e.accountNumber,onChange:e=>Te(l,"accountNumber",e.target.value),className:"".concat(s.Ol," ").concat(null!==(u=ge[l])&&void 0!==u&&u.accountNumber?"border-[1px] ":""),placeholder:"Enter Account Number"}),(null===(m=ge[l])||void 0===m?void 0:m.accountNumber)&&(0,S.jsx)("p",{className:"text-red-600 text-sm",children:ge[l].accountNumber})]}),(0,S.jsxs)("div",{className:"w-full",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["IFSC Code",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsx)("input",{type:"text",value:e.ifscCode,onChange:e=>Te(l,"ifscCode",e.target.value),className:"".concat(s.Ol," ").concat(null!==(v=ge[l])&&void 0!==v&&v.ifscCode?"border-[1px] ":""),placeholder:"Enter IFSC Code"}),(null===(p=ge[l])||void 0===p?void 0:p.ifscCode)&&(0,S.jsx)("p",{className:"text-red-600 text-sm",children:ge[l].ifscCode})]}),(0,S.jsxs)("div",{className:"w-full",children:[(0,S.jsxs)("label",{className:"".concat(s.Q0),children:["Account Type ",(0,S.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,S.jsxs)(f.A,{value:e.accountType,onChange:e=>Te(l,"accountType",e),className:"".concat(s.Hy," ").concat(null!==(x=ge[l])&&void 0!==x&&x.accountType?"border-[1px] ":""),showSearch:!0,children:[(0,S.jsx)(f.A.Option,{value:"",children:"Select Account Type"}),(0,S.jsx)(f.A.Option,{className:"",value:"saving",children:"Saving"}),(0,S.jsx)(f.A.Option,{className:"",value:"current",children:"Current"}),(0,S.jsx)(f.A.Option,{className:"",value:"Salary",children:"Salary"}),(0,S.jsx)(f.A.Option,{className:"",value:"Joint",children:"Joint"})]}),(null===(h=ge[l])||void 0===h?void 0:h.accountType)&&(0,S.jsx)("p",{className:"text-red-600 text-sm",children:ge[l].accountType})]}),(0,S.jsxs)("div",{className:"w-full",children:[(0,S.jsx)("label",{className:"".concat(s.Q0),children:"Opening Balance"}),(0,S.jsx)("input",{type:"number",step:"any",disabled:null===he||void 0===he||null===(g=he.data)||void 0===g||null===(N=g.bankData)||void 0===N||null===(y=N.find(l=>(null===l||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e._id)))||void 0===y?void 0:y.openingBalance,value:e.openingBalance,onChange:e=>Te(l,"openingBalance",e.target.value),className:"".concat(null!==he&&void 0!==he&&null!==(j=he.data)&&void 0!==j&&null!==(D=j.bankData)&&void 0!==D&&null!==(C=D.find(l=>(null===l||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e._id)))&&void 0!==C&&C.openingBalance?s.id:s.Ol," ").concat(null!==(A=ge[l])&&void 0!==A&&A.openingBalance?"border-[1px] ":""," "),placeholder:"Enter Opening name"}),(null===(E=ge[l])||void 0===E?void 0:E.openingBalance)&&(0,S.jsx)("p",{className:"text-red-600 text-sm",children:ge[l].openingBalance})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"".concat(s.Q0),children:"Upload Image"}),(0,S.jsx)("input",{ref:e=>F.current[l]=e,type:"file",id:"bankUpload".concat(l),className:"hidden",onChange:e=>((e,l)=>{if(!l)return;let a=l;const n=new FileReader;let t="";n.onload=l=>{t=l.target.result,P().fire({title:"Preview your file",html:'\n          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">\n            <p style="margin-bottom: 20px;">Do you want to upload this file?</p>\n            <img id="filePreview" src="'.concat(t,'" alt="File Preview" style="max-width: 100%; max-height: 300px; width: auto; height: auto;">\n            <br>\n            <button id="changeImageBtn" style="  margin-top: 15px;\n  padding: 10px 18px;\n  cursor: pointer;\n  background-color: #074173;\n  color: white;\n  font-size: 16px;\n  font-weight: 600;\n  border: none;\n  border-radius: 8px;\n  transition: background-color 0.3s, transform 0.2s;\n  box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2);">Change Image</button>\n            <input type="file" id="fileInput" style="display: none;" accept="image/*">\n          </div>\n        '),showCancelButton:!0,confirmButtonText:"Confirm!",cancelButtonText:"Cancel",didOpen:()=>{const e=document.getElementById("changeImageBtn"),l=document.getElementById("fileInput"),n=document.getElementById("filePreview");e.addEventListener("click",()=>{l.click()}),l.addEventListener("change",e=>{const l=e.target.files[0];if(l){a=l;const e=new FileReader;e.onload=e=>{n.src=e.target.result},e.readAsDataURL(l)}})}}).then(l=>{l.isConfirmed&&Ee((0,b.Sg)({filePath:a,isVideo:!1,isMultiple:!1})).then(l=>{if(!l.error){var a,n;const t=[...$];t[e].file=[null===l||void 0===l||null===(a=l.payload)||void 0===a?void 0:a.data],G(t);const d=[...ge];null!==(n=d[e])&&void 0!==n&&n.file&&delete d[e].file,Ne(d)}}).then(l=>{F.current[e]&&(F.current[e].value="")})})},n.readAsDataURL(l)})(l,e.target.files[0])}),(0,S.jsx)("br",{}),(0,S.jsx)("label",{htmlFor:"bankUpload".concat(l),className:"bg-header text-white mt-2 py-1.5 px-3 text-nowrap text-sm rounded cursor-pointer",children:"Upload Image"})]}),(null===e||void 0===e||null===(I=e.file)||void 0===I?void 0:I.length)>0?e.file.map((e,a)=>(0,S.jsxs)("div",{className:"relative",children:[(0,S.jsx)(w.A,{src:"".concat("https://vigapi.vigorousit.com","/public/").concat(e),alt:"Uploaded ".concat(a+1)}),(0,S.jsx)("button",{className:"absolute -top-1 -right-2 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",onClick:()=>(e=>{const l=[...$];l[e].file=[],J(l),F.current[e]&&(F.current[e].value="")})(l),children:"\u2715"})]},a)):null,(null===(B=ge[l])||void 0===B?void 0:B.file)&&(0,S.jsx)("p",{className:"text-red-600 text-sm",children:ge[l].file})]})]})]},l)}),(0,S.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,S.jsx)("button",{type:"button",onClick:()=>{J([...$,{id:Date.now()}])},className:"bg-header text-white py-1.5 px-3 text-nowrap text-sm rounded ",children:"Add More"})})]}),(0,S.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,S.jsx)("button",{disabled:ue,type:"Submit",className:"".concat(s.Wb),children:ue?"Submitting ...":"Submit Details"})})]})]})})})}},37037:(e,l,a)=>{a.d(l,{A:()=>s});var n=a(79942),t=a(65043),d=a(15187),i=a(70579);const o={width:"100%",height:"90%"},s=e=>{let{setLocation:l,setClickLocationaddres:a,innitialLocation:s}=e;const[c,r]=(0,t.useState)(null),[u,m]=(0,t.useState)(null),v=(0,t.useRef)(null),p=(0,t.useRef)(null),x=(e,l)=>{if(!window.google||!window.google.maps||!window.google.maps.Geocoder)return void console.error("Google Maps API is not loaded properly.");(new window.google.maps.Geocoder).geocode({location:{lat:e,lng:l}},(e,l)=>{if("OK"===l&&e[0]){var n,t,d,i;const l=e[0].address_components,o=e[0].formatted_address,s=null===(n=l.find(e=>e.types.includes("country")))||void 0===n?void 0:n.long_name,c=null===(t=l.find(e=>e.types.includes("administrative_area_level_1")))||void 0===t?void 0:t.long_name,r=null===(d=l.find(e=>e.types.includes("locality")))||void 0===d?void 0:d.long_name,u=null===(i=l.find(e=>e.types.includes("postal_code")))||void 0===i?void 0:i.long_name;a({address:o,country:s,state:c,city:r,postalCode:u})}else console.error("Geocoder failed due to: ",l)})};return(0,t.useEffect)(()=>{if(null!==s&&void 0!==s&&s.latitude&&null!==s&&void 0!==s&&s.longitude){const e={lat:null===s||void 0===s?void 0:s.latitude,lng:null===s||void 0===s?void 0:s.longitude};m(e),r(e)}},[s]),(0,t.useEffect)(()=>{c&&l(c)},[c]),(0,i.jsxs)("div",{className:"p-3 m-2 min-h-[400px]",children:[(0,i.jsx)("div",{className:"mb-3",children:(0,i.jsx)(n.jT,{onLoad:e=>v.current=e,onPlaceChanged:()=>{if(v.current){const e=v.current.getPlace();if(e.geometry){const l={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};r(l),p.current.panTo(l),x(l.lat,l.lng)}}},children:(0,i.jsx)("input",{type:"text",placeholder:"Search for a place",className:"".concat(d.Ol)})})}),(0,i.jsx)(n.u6,{mapContainerStyle:o,center:u||{lat:0,lng:0},zoom:u?17:2,onClick:e=>{const l=e.latLng.lat(),a=e.latLng.lng();r({lat:l,lng:a}),x(l,a)},onLoad:e=>p.current=e,options:{disableDefaultUI:!1,zoomControl:!0,fullscreenControl:!0,mapTypeControl:!0,streetViewControl:!0},children:c&&(0,i.jsx)(n.pH,{position:c,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"})})]})}},65337:(e,l,a)=>{a.d(l,{A:()=>d});var n=a(91686),t=a(70579);const d=function(){return(0,t.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,t.jsx)(n.A,{size:"large"})})}},77285:(e,l,a)=>{a(65043),a(70579)}}]);
//# sourceMappingURL=3544.5c037af1.chunk.js.map