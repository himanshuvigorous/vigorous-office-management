"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[1044],{51044:(e,d,i)=>{i.r(d),i.d(d,{default:()=>j});var n=i(89379),l=i(65043),a=i(24858),o=i(39160),s=i(83003),r=i(73216),c=i(735),t=i(65512),u=i(15187),m=i(78729),v=i(31744),p=i(16520),h=i(17995),x=i(89427),y=i(70579);const j=function(){const{register:e,handleSubmit:d,setValue:i,control:j,formState:{errors:g}}=(0,a.mN)(),{loading:f}=(0,s.d4)(e=>e.clientService),{userCompanyId:N,userDirectorId:b,userBranchId:A,userType:I}=(0,c.A)(),C=(0,s.wA)(),T=(0,r.Zp)(),D=JSON.parse(localStorage.getItem("user_info_".concat(u.AU))),{companyList:S}=(0,s.d4)(e=>e.company),{countryListData:B,companyListLoading:P}=(0,s.d4)(e=>e.country),{branchList:_,branchListloading:w}=(0,s.d4)(e=>e.branch),L=(0,a.FH)({control:j,name:"PDCompanyId",defaultValue:N}),O=(0,a.FH)({control:j,name:"PDBranchId",defaultValue:A});return(0,l.useEffect)(()=>{i("PDMobileCode","+91")},[B]),(0,l.useEffect)(()=>{"admin"===(null===D||void 0===D?void 0:D.userType)&&C((0,m.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,l.useEffect)(()=>{(L||"company"===(null===D||void 0===D?void 0:D.userType)||"companyDirector"===(null===D||void 0===D?void 0:D.userType))&&C((0,v.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===D||void 0===D?void 0:D.userType)?L:"company"===(null===D||void 0===D?void 0:D.userType)?null===D||void 0===D?void 0:D._id:null===D||void 0===D?void 0:D.companyId}))},[L]),(0,y.jsx)(o.A,{children:(0,y.jsx)("div",{className:"gap-4",children:(0,y.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:d(e=>{const d={companyId:"admin"===(null===D||void 0===D?void 0:D.userType)?L:"company"===(null===D||void 0===D?void 0:D.userType)?null===D||void 0===D?void 0:D._id:null===D||void 0===D?void 0:D.companyId,directorId:"",branchId:"company"===(null===D||void 0===D?void 0:D.userType)||"admin"===(null===D||void 0===D?void 0:D.userType)||"companyDirector"===(null===D||void 0===D?void 0:D.userType)?O:"companyBranch"===(null===D||void 0===D?void 0:D.userType)?null===D||void 0===D?void 0:D._id:null===D||void 0===D?void 0:D.branchId,name:null===e||void 0===e?void 0:e.name};C((0,p.BQ)(d)).then(e=>{e.error||T(-1)})}),children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===D||void 0===D?void 0:D.userType)&&(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("label",{className:"".concat(u.Q0),children:["Company ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(a.xI,{control:j,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:d}=e;return(0,y.jsxs)(t.A,(0,n.A)((0,n.A)({},d),{},{defaultValue:"",className:"".concat(u.Hy," "),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,y.jsx)(t.A.Option,{value:"",children:"Select Company"}),P?(0,y.jsx)(t.A.Option,{disabled:!0,children:(0,y.jsx)(x.A,{})}):null===S||void 0===S?void 0:S.map(e=>(0,y.jsx)(t.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),g.PDCompanyId&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:g.PDCompanyId.message})]}),("admin"===(null===D||void 0===D?void 0:D.userType)||"company"===(null===D||void 0===D?void 0:D.userType)||"companyDirector"===(null===D||void 0===D?void 0:D.userType))&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"".concat(u.Q0),children:["Branch ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(a.xI,{name:"PDBranchId",control:j,rules:{required:"Branch is required"},render:e=>{let{field:d}=e;return(0,y.jsxs)(t.A,(0,n.A)((0,n.A)({},d),{},{className:"".concat(u.Hy," ").concat(g.PDBranchId?"border-[1px] ":"border-gray-300"),placeholder:"Select Branch",showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,y.jsx)(t.A.Option,{value:"",children:"Select Branch"}),w?(0,y.jsx)(t.A.Option,{disabled:!0,children:(0,y.jsx)(x.A,{})}):null===_||void 0===_?void 0:_.map(e=>(0,y.jsx)(t.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),g.PDBranchId&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:g.PDBranchId.message})]}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("label",{className:"".concat(u.Q0),children:["Name ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)("input",(0,n.A)((0,n.A)({type:"text"},e("name",{required:"Name is required"})),{},{className:"placeholder: ".concat(u.Ol," ").concat(g.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Service"})),g.name&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:g.name.message})]})]}),(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-2 md:my-2"}),(0,y.jsx)("div",{className:"flex justify-end ",children:(0,y.jsx)("button",{type:"submit",disabled:f,className:"".concat(f?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:f?(0,y.jsx)(h.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=1044.7d431ca5.chunk.js.map