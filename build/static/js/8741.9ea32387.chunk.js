"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[8741],{48741:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(89379),r=t(24858),l=t(39160),c=t(83003),d=t(73216),i=t(31174),n=t(65043),o=t(15187),u=t(86178),x=t.n(u),m=t(67353),p=(t(94084),t(67384)),h=t(65512),v=t(70579);const j=function(){const{register:e,handleSubmit:s,setValue:t,control:u,getValues:j,formState:{errors:N}}=(0,r.mN)(),g=(0,c.wA)(),f=(0,d.Zp)(),{planIdEnc:b}=(0,d.g)(),A=(0,i.Yc)(b),{planByIdData:y}=(0,c.d4)(e=>e.plan);(0,n.useEffect)(()=>{let e={_id:A};g((0,m.Kb)(e))},[]),(0,n.useEffect)(()=>{var e,s,a,r,l,c,d,i;y&&null!==y&&void 0!==y&&y.data&&(t("title",null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e.title),t("description",null===y||void 0===y||null===(s=y.data)||void 0===s?void 0:s.description),t("cutPrice",null===y||void 0===y||null===(a=y.data)||void 0===a?void 0:a.cutPrice),t("colorCode",null===y||void 0===y||null===(r=y.data)||void 0===r?void 0:r.colorCode),t("price",null===y||void 0===y||null===(l=y.data)||void 0===l?void 0:l.price),t("duration",null===y||void 0===y||null===(c=y.data)||void 0===c?void 0:c.days),t("status",null===y||void 0===y||null===(d=y.data)||void 0===d?void 0:d.status),t("expireIn",null===(i=x()(y.data.discountExpireIn))||void 0===i?void 0:i.format("YYYY-MM-DD")),t("features",y.data.features))},[y]);const C=(0,r.FH)({control:u,name:"colorCode",defaultValue:""});return(0,r.FH)({control:u,name:"price",defaultValue:""}),(0,r.FH)({control:u,name:"cutPrice",defaultValue:""}),(0,v.jsx)(l.A,{children:(0,v.jsx)("div",{className:"gap-4",children:(0,v.jsxs)("form",{autoComplete:"off",className:"mt-0 md:px-1",onSubmit:s(e=>{const s={_id:A,status:null===e||void 0===e?void 0:e.status,title:e.title,description:e.description,price:e.price,cutPrice:e.cutPrice,colorCode:e.colorCode,days:+e.duration,features:null===e||void 0===e?void 0:e.features};g((0,m.$F)(s)).then(e=>{e.error||f("/admin/plan")})}),children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("label",{className:"".concat(o.Q0),children:["Title ",(0,v.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,v.jsx)("input",(0,a.A)((0,a.A)({type:"text"},e("title",{required:"Title is required"})),{},{className:"".concat(o.Ol," ").concat(N.title?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Title"})),N.title&&(0,v.jsx)("p",{className:"text-red-500 text-sm",children:N.title.message})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("label",{className:"".concat(o.Q0),children:["Description ",(0,v.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,v.jsx)("input",(0,a.A)((0,a.A)({type:"text"},e("description",{required:"Description is required"})),{},{className:"".concat(o.Ol," ").concat(N.description?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Description"})),N.description&&(0,v.jsx)("p",{className:"text-red-500 text-sm",children:N.description.message})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("label",{className:"".concat(o.Q0),children:["Price (\u20b9) ",(0,v.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,v.jsx)("input",(0,a.A)((0,a.A)({type:"number"},e("price",{required:"Price is required"})),{},{className:"".concat(o.Ol," ").concat(N.price?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Price"})),N.price&&(0,v.jsx)("p",{className:"text-red-500 text-sm",children:N.price.message})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("label",{className:"".concat(o.Q0),children:["Color Code ",(0,v.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,v.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,v.jsx)("input",(0,a.A)((0,a.A)({type:"text",value:C},e("colorCode",{required:"Color Code is required",pattern:{value:/^#[0-9A-Fa-f]{6}$/,message:"Enter a valid Hex color code (e.g., #FF5733)"}})),{},{onChange:e=>{},className:"".concat(N.colorCode?"border-[1px] ":"border-gray-300"," w-full py-2 pl-3 pr-16 rounded"),placeholder:"#FF5733",maxLength:7})),(0,v.jsx)(p.A,{value:C,onChange:e=>{const{r:s,g:a,b:r,a:l}=e.metaColor,c=((e,s,t)=>{const a=e=>{const s=e.toString(16);return 1===s.length?"0"+s:s};return"#".concat(a(e)).concat(a(s)).concat(a(t))})(s,a,r);t("colorCode",c)},className:"absolute right-1 top-1/2 transform -translate-y-1/2 md:w-75 w-1/2 h-10 cursor-pointer"})]}),N.colorCode&&(0,v.jsx)("p",{className:"text-red-500 text-sm",children:N.colorCode.message})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("label",{className:"".concat(o.Q0),children:["Duration (Days) ",(0,v.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,v.jsx)("input",(0,a.A)((0,a.A)({type:"number"},e("duration",{required:"Duration is required"})),{},{className:"".concat(o.Ol," ").concat(N.duration?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Duration"})),N.duration&&(0,v.jsx)("p",{className:"text-red-500 text-sm",children:N.duration.message})]}),(0,v.jsxs)("div",{className:"w-full",children:[(0,v.jsx)("label",{className:"".concat(o.Q0),children:"Status"}),(0,v.jsx)(r.xI,{name:"status",control:u,render:e=>{let{field:s}=e;return(0,v.jsxs)(h.A,(0,a.A)((0,a.A)({},s),{},{className:"".concat(o.Hy," ").concat(N.status?"border-[1px] ":"border-gray-300"),placeholder:"Select Status",children:[(0,v.jsx)(h.A.Option,{value:!0,children:"Active"}),(0,v.jsx)(h.A.Option,{value:!1,children:"In Active"})]}))}}),N.status&&(0,v.jsx)("p",{className:"text-red-500 text-sm",children:N.status.message})]})]}),(0,v.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-2 md:my-2",children:(0,v.jsxs)("div",{className:"",children:[(0,v.jsxs)("label",{className:"".concat(o.Q0),children:["Features",(0,v.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,v.jsx)(r.xI,{name:"features",control:u,defaultValue:[],rules:{required:"At least one feature is required"},render:e=>{let{field:s}=e;return(0,v.jsx)(h.A,(0,a.A)((0,a.A)({},s),{},{mode:"tags",placeholder:"Please select",style:{width:"100%"},className:"".concat(o.Ol)}))}}),N.features&&(0,v.jsx)("p",{className:"text-red-500 text-sm",children:N.features.message})]})}),(0,v.jsx)("div",{className:"flex justify-end ",children:(0,v.jsx)("button",{type:"submit",className:"bg-header text-white p-2 px-4 rounded mt-4",children:"Submit"})})]})})})}}}]);
//# sourceMappingURL=8741.9ea32387.chunk.js.map