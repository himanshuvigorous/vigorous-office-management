"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[1682],{71682:(e,a,n)=>{n.r(a),n.d(a,{default:()=>N});var d=n(89379),i=n(24858),l=n(39160),s=n(83003),o=n(73216),r=n(31174),c=n(65043),t=n(15187),u=(n(42837),n(31744)),m=n(78729),p=n(65512),v=n(17995),y=n(89427),x=n(30295),h=n(70579);const N=()=>{const{loading:e}=(0,s.d4)(e=>e.AssetType),{register:a,handleSubmit:n,control:N,setValue:j,formState:{errors:g}}=(0,i.mN)(),b=(0,s.wA)(),A=(0,o.Zp)(),{AssetTypeIdEnc:I}=(0,o.g)(),T=JSON.parse(localStorage.getItem("user_info_".concat(t.AU))),f=(0,r.Yc)(I),{AssetTypeDetails:B}=(0,s.d4)(e=>e.AssetType),[D,q]=(0,c.useState)(!1),{companyList:C,companyListLoading:P}=(0,s.d4)(e=>e.company),{branchList:S,branchListloading:_}=(0,s.d4)(e=>e.branch);(0,c.useEffect)(()=>{let e={_id:f};b((0,x.DX)(e))},[]);const O=(0,i.FH)({control:N,name:"PDCompanyId",defaultValue:""});(0,i.FH)({control:N,name:"isPaid",defaultValue:""});(0,c.useEffect)(()=>{B&&(j("PDCompanyId",null===B||void 0===B?void 0:B.companyId),j("PDBranchId",null===B||void 0===B?void 0:B.branchId),j("AssetTypeName",null===B||void 0===B?void 0:B.name),j("amount",null===B||void 0===B?void 0:B.amount),j("quantity",null===B||void 0===B?void 0:B.quantity),j("openingBalance",null===B||void 0===B?void 0:B.openingBalance))},[B]);(0,c.useEffect)(()=>{(O||"company"===(null===T||void 0===T?void 0:T.userType)||"companyDirector"===(null===T||void 0===T?void 0:T.userType))&&b((0,u.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===T||void 0===T?void 0:T.userType)?O:"company"===(null===T||void 0===T?void 0:T.userType)?null===T||void 0===T?void 0:T._id:null===T||void 0===T?void 0:T.companyId}))},[O]),(0,c.useEffect)(()=>{"admin"===(null===T||void 0===T?void 0:T.userType)&&b((0,m.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]);return(0,h.jsx)(l.A,{children:(0,h.jsx)("div",{className:"gap-4",children:(0,h.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:n(e=>{const a={_id:f,companyId:"admin"===(null===T||void 0===T?void 0:T.userType)?null===e||void 0===e?void 0:e.PDCompanyId:"company"===(null===T||void 0===T?void 0:T.userType)?null===T||void 0===T?void 0:T._id:null===T||void 0===T?void 0:T.companyId,directorId:"companyDirector"===(null===T||void 0===T?void 0:T.userType)?null===T||void 0===T?void 0:T._id:null===T||void 0===T?void 0:T.directorId,branchId:"admin"===(null===T||void 0===T?void 0:T.userType)||"companyDirector"===(null===T||void 0===T?void 0:T.userType)||"company"===(null===T||void 0===T?void 0:T.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===T||void 0===T?void 0:T.userType)?null===T||void 0===T?void 0:T._id:null===T||void 0===T?void 0:T.branchId,name:null===e||void 0===e?void 0:e.AssetTypeName,quantity:+(null===e||void 0===e?void 0:e.quantity),amount:+(null===e||void 0===e?void 0:e.amount),openingBalance:+(null===e||void 0===e?void 0:e.openingBalance)};b((0,x.mW)(a)).then(e=>{e.error||A(-1)})}),children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===T||void 0===T?void 0:T.userType)&&(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(t.Q0),children:["Company ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsxs)("select",(0,d.A)((0,d.A)({},a("PDCompanyId",{required:"company is required"})),{},{showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),className:" ".concat(t.Ol," ").concat(g.PDCompanyId?"border-[1px] ":"border-gray-300"),children:[(0,h.jsx)("option",{className:"",value:"",children:"Select Comapany"}),P?(0,h.jsx)(p.A.Option,{disabled:!0,children:(0,h.jsx)(y.A,{})}):null===C||void 0===C?void 0:C.map(e=>(0,h.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName}))]})),g.PDCompanyId&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:g.PDCompanyId.message})]}),("admin"===(null===T||void 0===T?void 0:T.userType)||"company"===(null===T||void 0===T?void 0:T.userType)||"companyDirector"===(null===T||void 0===T?void 0:T.userType))&&(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(t.Q0),children:["Branch ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)(i.xI,{name:"PDBranchId",control:N,rules:{required:"Branch is required"},render:e=>{let{field:a}=e;return(0,h.jsxs)(p.A,(0,d.A)((0,d.A)({},a),{},{className:"".concat(t.Hy," ").concat(g.PDBranchId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Branch",children:[(0,h.jsx)(p.A.Option,{value:"",children:"Select Branch"}),_?(0,h.jsx)(p.A.Option,{disabled:!0,children:(0,h.jsx)(y.A,{})}):null===S||void 0===S?void 0:S.map(e=>(0,h.jsx)(p.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),g.PDBranchId&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:g.PDBranchId.message})]}),(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(t.Q0),children:["Name ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)("input",(0,d.A)((0,d.A)({type:"text"},a("AssetTypeName",{required:"Asset Name is required"})),{},{className:"".concat(t.Ol," ").concat(g.AssetTypeName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Asset Name  Name"})),g.AssetTypeName&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:g.AssetTypeName.message})]}),(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(t.Q0),children:["quantity",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)("input",(0,d.A)((0,d.A)({type:"number",disabled:!0},a("quantity",{required:"quantity is required"})),{},{className:"".concat(t.id," ").concat(g.maxDays?"border-[1px] ":"border-gray-300"),placeholder:"Enter quantity"})),g.quantity&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:g.quantity.message})]}),(0,h.jsxs)("div",{className:"",children:[(0,h.jsx)("label",{className:"".concat(t.Q0),children:"Opening Balance "}),(0,h.jsx)("input",(0,d.A)((0,d.A)({type:"number",step:"any",disabled:!0},a("openingBalance",{})),{},{className:"".concat(t.id," ").concat(g.totalLeaves?"border-[1px] ":"border-gray-300"),placeholder:"Enter Opening Balance"})),g.openingBalance&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:g.openingBalance.message})]})]}),(0,h.jsx)("div",{className:"flex justify-end",children:(0,h.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 mt-3 rounded"),children:e?(0,h.jsx)(v.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=1682.750a8eaf.chunk.js.map