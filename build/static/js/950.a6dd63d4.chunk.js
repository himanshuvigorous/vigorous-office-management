"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[950],{60950:(e,a,n)=>{n.r(a),n.d(a,{default:()=>h});var d=n(89379),i=n(24858),s=n(39160),l=n(83003),o=n(73216),r=n(65043),c=(n(42837),n(15187)),t=n(31744),u=n(78729),m=n(65512),p=n(17995),v=n(89427),y=n(30295),x=n(70579);const h=()=>{const{loading:e}=(0,l.d4)(e=>e.AssetType),{register:a,handleSubmit:n,control:h,formState:{errors:N},setValue:j}=(0,i.mN)(),g=(0,l.wA)(),b=(0,o.Zp)(),{companyList:A,companyListLoading:T}=(0,l.d4)(e=>e.company),{branchList:f,branchListloading:I}=(0,l.d4)(e=>e.branch),[B,q]=(0,r.useState)(!1),D=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),C=(0,i.FH)({control:h,name:"PDCompanyId",defaultValue:""});(0,i.FH)({control:h,name:"isPaid",defaultValue:""});return(0,r.useEffect)(()=>{(C||"company"===(null===D||void 0===D?void 0:D.userType)||"companyDirector"===(null===D||void 0===D?void 0:D.userType))&&g((0,t.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===D||void 0===D?void 0:D.userType)?C:"company"===(null===D||void 0===D?void 0:D.userType)?null===D||void 0===D?void 0:D._id:null===D||void 0===D?void 0:D.companyId}))},[C]),(0,r.useEffect)(()=>{"admin"===(null===D||void 0===D?void 0:D.userType)&&g((0,u.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,x.jsx)(s.A,{children:(0,x.jsx)("div",{className:"gap-4",children:(0,x.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:n(e=>{const a={companyId:"admin"===(null===D||void 0===D?void 0:D.userType)?null===e||void 0===e?void 0:e.PDCompanyId:"company"===(null===D||void 0===D?void 0:D.userType)?null===D||void 0===D?void 0:D._id:null===D||void 0===D?void 0:D.companyId,directorId:"companyDirector"===(null===D||void 0===D?void 0:D.userType)?null===D||void 0===D?void 0:D._id:null===D||void 0===D?void 0:D.directorId,branchId:"admin"===(null===D||void 0===D?void 0:D.userType)||"companyDirector"===(null===D||void 0===D?void 0:D.userType)||"company"===(null===D||void 0===D?void 0:D.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===D||void 0===D?void 0:D.userType)?null===D||void 0===D?void 0:D._id:null===D||void 0===D?void 0:D.branchId,name:null===e||void 0===e?void 0:e.AssetTypeName,quantity:+(null===e||void 0===e?void 0:e.quantity),amount:+(null===e||void 0===e?void 0:e.amount),openingBalance:+(null===e||void 0===e?void 0:e.openingBalance)};g((0,y.Jv)(a)).then(e=>{e.error||b(-1)})}),children:[(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===D||void 0===D?void 0:D.userType)&&(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(c.Q0),children:["Company Name ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsxs)("select",(0,d.A)((0,d.A)({},a("PDCompanyId",{required:"company is required"})),{},{className:" ".concat(c.Ol," ").concat(N.PDCompanyId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,x.jsx)("option",{className:"",value:"",children:"Select Comapany"}),T?(0,x.jsx)(m.A.Option,{disabled:!0,children:(0,x.jsx)(v.A,{})}):null===A||void 0===A?void 0:A.map(e=>(0,x.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName}))]})),N.PDCompanyId&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:N.PDCompanyId.message})]}),("admin"===(null===D||void 0===D?void 0:D.userType)||"company"===(null===D||void 0===D?void 0:D.userType)||"companyDirector"===(null===D||void 0===D?void 0:D.userType))&&(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(c.Q0),children:["Branch Name ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)(i.xI,{name:"PDBranchId",control:h,rules:{required:"Branch is required"},render:e=>{let{field:a}=e;return(0,x.jsxs)(m.A,(0,d.A)((0,d.A)({},a),{},{className:"".concat(c.Hy," ").concat(N.PDBranchId?"border-[1px] ":"border-gray-300"),placeholder:"Select Branch",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,x.jsx)(m.A.Option,{value:"",children:"Select Branch"}),I?(0,x.jsx)(m.A.Option,{disabled:!0,children:(0,x.jsx)(v.A,{})}):null===f||void 0===f?void 0:f.map(e=>(0,x.jsx)(m.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),N.PDBranchId&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:N.PDBranchId.message})]}),(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(c.Q0),children:["Name ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,d.A)((0,d.A)({type:"text"},a("AssetTypeName",{required:"Asset  Name  is required"})),{},{className:"".concat(c.Ol," ").concat(N.AssetTypeName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Asset  Name"})),N.AssetTypeName&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:N.AssetTypeName.message})]}),(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(c.Q0),children:["quantity",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,d.A)((0,d.A)({type:"number"},a("quantity",{required:"quantity is required"})),{},{className:"".concat(c.Ol," ").concat(N.maxDays?"border-[1px] ":"border-gray-300"),placeholder:"Enter quantity"})),N.quantity&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:N.quantity.message})]}),(0,x.jsxs)("div",{className:"",children:[(0,x.jsx)("label",{className:"".concat(c.Q0),children:"Opening Balance "}),(0,x.jsx)("input",(0,d.A)((0,d.A)({type:"number",step:"any"},a("openingBalance",{})),{},{className:"".concat(c.Ol," ").concat(N.totalLeaves?"border-[1px] ":"border-gray-300"),placeholder:"Enter Opening Balance"})),N.openingBalance&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:N.openingBalance.message})]})]}),(0,x.jsx)("div",{className:"flex justify-end",children:(0,x.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 mt-3 rounded"),children:e?(0,x.jsx)(p.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=950.a6dd63d4.chunk.js.map