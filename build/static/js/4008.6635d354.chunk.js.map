{"version":3,"file":"static/js/4008.6635d354.chunk.js","mappings":"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","sources":["pages/visitorManagement/visitor/ManagerofficeVisit.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useEffect, useState } from \"react\"\nimport Swal from \"sweetalert2\"\nimport { Controller, useForm, useWatch } from \"react-hook-form\";\nimport { deleteVisitor, getVisitorList, updateVisitor, visitorSearch } from \"./visitorFeatures/_visitor_reducers\"\nimport { companySearch } from \"../../company/companyManagement/companyFeatures/_company_reducers\"\nimport { domainName, inputAntdSelectClassNameFilter, sortByPropertyAlphabetically } from \"../../../constents/global\"\nimport { FaPlus } from \"react-icons/fa\"\nimport GlobalLayout from \"../../../global_layouts/GlobalLayout/GlobalLayout\";\nimport { FaPenToSquare } from \"react-icons/fa6\";\nimport { RiDeleteBin5Line } from \"react-icons/ri\";\nimport { encrypt } from \"../../../config/Encryption\";\nimport CustomPagination from \"../../../component/CustomPagination/CustomPagination\";\nimport getUserIds from \"../../../constents/getUserIds\";\nimport { Select, Tooltip } from \"antd\";\nimport usePermissions from \"../../../config/usePermissions\";\nimport Loader2 from \"../../../global_layouts/Loader/Loader2\";\nimport moment from \"moment\";\nimport { deptSearch } from \"../../department/departmentFeatures/_department_reducers\";\nimport { branchSearch } from \"../../branch/branchManagement/branchFeatures/_branch_reducers\";\nimport { employeSearch } from \"../../employeManagement/employeFeatures/_employe_reducers\";\nimport ListLoader from \"../../../global_layouts/ListLoader\";\n\nfunction ManagerofficeVisit() {\n\n    const { canCreate, canRead, canUpdate, canDelete } = usePermissions();\n    const { setValue, control } = useForm();\n    const {\n        userCompanyId,\n        userBranchId,\n        userType\n    } = getUserIds();\n    const { visitorList, totalVisitorCount, loading } = useSelector(state => state.visitor);\n    const { departmentListData, loading: depLoading } = useSelector((state) => state.department);\n    const { branchList, loading: branchListLoading } = useSelector((state) => state.branch);\n    const userInfoglobal = JSON.parse(\n        localStorage.getItem(`user_info_${domainName}`)\n    );\n    const { employeList, loading: employeListLoading } = useSelector((state) => state.employe);\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const [searchText, setSearchText] = useState(\"\");\n    const companyId = useWatch({\n        control,\n        name: \"PDCompanyId\",\n        defaultValue: userCompanyId,\n    });\n    const branchId = useWatch({\n        control,\n        name: \"PDBranchId\",\n        defaultValue: userBranchId,\n    });\n    const departmentId = useWatch({\n        control,\n        name: \"PdDepartmentId\",\n        defaultValue: '',\n    });\n    const employee = useWatch({\n        control,\n        name: \"employee\",\n        defaultValue: '',\n    });\n\n    const category = useWatch({\n        control,\n        name: \"category\",\n        defaultValue: '',\n    });\n    useEffect(() => {\n        if (userType === \"admin\") {\n            dispatch(companySearch({\n                text: \"\",\n                sort: true,\n                status: true,\n                isPagination: false,\n            }));\n        }\n    }, []);\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const onPaginationChange = (page) => {\n        setCurrentPage(page);\n    };\n\n    const limit = 10;\n\n    const filters = [branchId, employee, departmentId, category, searchText].join(\"-\");\n    const [isFirstRender ,setisFirstRender] = useState(false)\n    \n    useEffect(() => {\n        if (!isFirstRender) {\n            setisFirstRender(state=>true);\n            return;\n        }\n        if (currentPage === 1) {\n            fetchVisitorCatList();\n        } else {\n            setCurrentPage(1);\n        }\n    }, [filters])\n\n    useEffect(() => {\n        (userInfoglobal?.roleKey === \"manager\" && userInfoglobal?.userType === \"employee\") &&\n        fetchVisitorCatList();\n    }, [currentPage])\n\n    const fetchVisitorCatList = () => {\n        const reqListData = {\n            page: currentPage,\n            limit: limit,\n            reqPayload: {\n     departmentId: userInfoglobal?.departmentId ? userInfoglobal?.departmentId : '',\n            companyId:  userInfoglobal?.companyId,\n            branchId: userInfoglobal?.branchId,\n                \"directorId\": \"\",\n                employeId: employee,\n                text: searchText,\n                sort: true,\n                status: \"\",\n                isPagination: true,\n                category: category\n            }\n        }\n        dispatch(getVisitorList(reqListData));\n    }\n    const handleDelete = (id) => {\n        let reqData = {\n            _id: id\n        }\n        Swal.fire({\n            title: \"Warning\",\n            text: \"Are you sure you want to delete!\",\n            icon: \"warning\",\n            showCancelButton: true,\n            cancelButtonText: \"No\",\n        }).then((result) => {\n            if (result.isConfirmed) {\n                dispatch(deleteVisitor(reqData)).then((data) => {\n                    // !data.error && fetchVisitorCatList();\n                    if (currentPage > 1 && visitorList?.length == 1) {\n                        setCurrentPage(Number(currentPage - 1));\n\n                    } else {\n                        !data.error && fetchVisitorCatList();\n                    }\n                })\n            }\n        });\n    };\n\n    const handleCheckOut = (element) => {\n        let reqData = {\n            ...element,\n\n            _id: element?._id,\n            checkOutTime: moment(),\n\n        }\n        Swal.fire({\n            title: \"Warning\",\n            text: \"Are you sure you want to checkout!\",\n            icon: \"warning\",\n            showCancelButton: true,\n            cancelButtonText: \"No\",\n        }).then((result) => {\n            if (result.isConfirmed) {\n                dispatch(updateVisitor(reqData)).then((data) => {\n                    !data.error && fetchVisitorCatList();\n                })\n            }\n        });\n    };\n\n    const fetchEmployeListData = () => {\n        const reqPayload = {\n            text: \"\",\n            status: true,\n            sort: true,\n            isTL: \"\",\n            isHR: \"\",\n\n            isPagination: false,\n            designationId: '',\n            departmentId: userInfoglobal?.departmentId ? userInfoglobal?.departmentId : '',\n            companyId:  userInfoglobal?.companyId,\n            branchId: userInfoglobal?.branchId,\n        };\n\n        dispatch(employeSearch(reqPayload));\n    };\n\n    const onChange = (e) => {\n\n        setSearchText(e);\n    };\nif(!(userInfoglobal?.roleKey === \"manager\" && userInfoglobal?.userType === \"employee\")) {\n    return (\n      <GlobalLayout>\n        <div className=\"bg-red-100 text-red-800 p-4 rounded-md mt-2\">\n          <p className=\"text-center font-semibold\">\n            You are not a Manager. This page is viewable for Manager only.\n          </p>\n        </div>\n      </GlobalLayout>\n    );\n  }\n\n    return (\n        <GlobalLayout onChange={onChange}>\n\n            <div className=''>\n                <div class=\"xl:flex justify-between items-center py-1 xl:space-y-0 space-y-2 overflow-y-auto\">\n                    <div className=\"grid sm:grid-cols-2 grid-cols-1 md:grid-cols-4 sm:gap-3 gap-1\">\n                        <div className=\"\">\n                            <Controller\n                                control={control}\n                                name=\"category\"\n                                rules={{ required: \"category is required\" }}\n                                render={({ field }) => (\n                                    <Select\n                                        {...field}\n                                        defaultValue={\"\"}\n                                        disabled={loading}\n                                        className={` ${inputAntdSelectClassNameFilter} `}\n                                        showSearch\n                                        filterOption={(input, option) =>\n                                            String(option?.children).toLowerCase().includes(input.toLowerCase())\n                                        }\n                                    >\n                                        <Select.Option className=\"\" value=\"\">Select Category</Select.Option>\n                                        <Select.Option value=\"general\">General Visitor</Select.Option>\n                                        <Select.Option value=\"existing\">Existing Client</Select.Option>\n                                        <Select.Option value=\"new\">New Client</Select.Option>\n                                        <Select.Option value=\"employe\">Employe To Client</Select.Option>\n                                    </Select>\n                                )}\n                            />\n                        </div>\n                        <div className=\"\">\n                            <Controller\n                                name=\"employee\"\n                                control={control}\n                                render={({ field }) => (\n                                    <Select\n                                        {...field}\n                                        className={` ${inputAntdSelectClassNameFilter} `}\n                                        popupClassName={'!z-[1580]'}\n                                        placeholder=\"Select Employee\"\n                                        disabled={loading}\n                                        showSearch\n                                        filterOption={(input, option) =>\n                                            String(option?.children).toLowerCase().includes(input.toLowerCase())\n                                        }\n                                        optionLabelProp=\"children\"\n                                        onFocus={() => fetchEmployeListData()}\n                                    >\n                                        <Select.Option value=\"\">Select Employee</Select.Option>\n                                        {employeListLoading ? (\n                                            <Select.Option disabled>\n                                                <ListLoader />\n                                            </Select.Option>\n                                        ) : (\n                                            sortByPropertyAlphabetically(employeList)?.map(\n                                                (item) => (\n                                                    <Select.Option key={item._id} value={item._id}>\n                                                        {item.fullName}\n                                                    </Select.Option>\n                                                )\n                                            )\n                                        )}\n                                    </Select>\n                                )}\n                            />\n                        </div>\n                    </div>\n                    <div className=\"flex justify-end items-center gap-2 \">\n                        <button\n                            onClick={() => {\n                                setValue(\"employee\", \"\");\n                                setValue(\"PDBranchId\", '');\n                                setValue(\"PdDepartmentId\", '');\n                                setValue(\"category\", \"\");\n                                setValue(\"PdCompanyId\", \"\");\n                            }}\n                            className=\"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white\">\n                            <span className=\"text-[12px]\">Reset</span>\n                        </button>\n                        {canCreate &&\n                            <Tooltip placement=\"topLeft\"  title='Add Visitor'>\n                                <button onClick={() => { navigate(\"/admin/visitor/create\") }} className='bg-header p-2 rounded-md flex justify-center items-center space-x-2 text-white'>\n                                    <FaPlus />\n                                    <span className='text-[12px] text-nowrap tracking-wide'>Add Visitor</span>\n                                </button>\n                            </Tooltip>}\n                    </div>\n                </div>\n            </div>\n            <div className=\"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl\">\n                {canRead && <table className=\"w-full max-w-full rounded-xl overflow-x-auto \">\n                    <thead className=''>\n                        <tr className='border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]'>\n                            <th className='border-none p-2 whitespace-nowrap w-[8%]'>\n                                S.no.\n                            </th>\n                            <th className='border-none p-2 whitespace-nowrap'>\n                                Visitor Name\n                            </th>\n                            <th className='border-none p-2 whitespace-nowrap'>\n                                Client Name\n                            </th>\n                            <th className='border-none p-2 whitespace-nowrap'>\n                                Category type\n                            </th>\n                            <th className='border-none p-2 whitespace-nowrap'>\n                                Mobile Number\n                            </th>\n                            <th className='border-none p-2 whitespace-nowrap'>\n                                Contact Person\n                            </th>\n                            {/* <th className='border-none p-2 whitespace-nowrap'>\n                                Employe Name\n                            </th> */}\n                            <th className='border-none !w-12 p-2 whitespace-nowrap'>\n                                Reason\n                            </th>\n                            <th className='border-none p-2 whitespace-nowrap'>\n                                CheckIn\n                            </th>\n                            <th className='border-none p-2 whitespace-nowrap'>\n                                CheckOut\n                            </th>\n                            {/* <th className='border-none p-2 whitespace-nowrap w-[20%]'>\n                                Category\n                            </th> */}\n                            <th className='border-none p-2 whitespace-nowrap'>\n                                Created By\n                            </th>\n                            {/* <th className='border-none p-2 whitespace-nowrap'>\n                                Status\n                            </th> */}\n                            {(canDelete || canUpdate) && <th className='border-none p-2 whitespace-nowrap w-[8%]'>\n                                Action\n                            </th>}\n                        </tr>\n                    </thead>\n                    {loading ? <tr className=\"bg-white bg-opacity-5 \">\n                        <td\n                            colSpan={10}\n                            className=\"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500\"\n                        >\n                            <Loader2 />\n                        </td>\n                    </tr> :\n                        <tbody>\n                            {visitorList && visitorList?.length > 0 ?\n                                visitorList?.map((element, index) => (\n                                    <tr className={`border-b-[1px] border-[#DDDDDD] ${index % 2 === 0 ? 'bg-[#e9ecef]/80' : 'bg-white'} text-[#374151] text-[14px]`}>\n                                        <td className='whitespace-nowrap border-none p-2 '>\n                                            {index + 1 + ((currentPage - 1) * limit)}\n                                        </td>\n                                        <td className='whitespace-nowrap border-none p-2 '>{element?.name ?? \"-\"}</td>\n                                        <td className='whitespace-nowrap border-none p-2 '>{element?.clientName ?? \"-\"}</td>\n                                        <td className='whitespace-nowrap border-none p-2 capitalize '>{element?.category ?? \"-\"}</td>\n                                        <td className=\"whitespace-nowrap border-none p-2\">\n                                            {element?.mobile?.code + \" \" + element?.mobile?.number || '-'}\n                                        </td>\n                                        <td className='whitespace-nowrap border-none p-2 '>{element?.contactPerson ?? \"-\"}</td>\n                                        {/* <td className='whitespace-nowrap border-none p-2 '>{element?.employeName ?? \"-\"}</td> */}\n                                        <td className='whitespace-nowrap border-none p-2 !w-12 '>{element?.visitReasonId ?? \"-\"}</td>\n                                        <td className='whitespace-nowrap border-none p-2 '>{element?.checkInTime ? moment(element?.checkInTime).format('DD-MM-YYYY hh:mm a') : \"-\"}</td>\n                                        <td className='whitespace-nowrap border-none p-2 '>{element?.checkOutTime ? moment(element?.checkOutTime).format('DD-MM-YYYY hh:mm a') : <Tooltip placement=\"topLeft\"  title='Checkout'>\n                                            <button onClick={() => { handleCheckOut(element) }} className=\"px-2 py-1.5 text-xs rounded-md bg-header text-white border border-muted\" type=\"button\">\n                                                {/*  <BiArrowFromLeft className=' hover:text-[#337ab7] text-[#3c8dbc]' size={16} /> */}\n                                                CheckOut\n                                            </button>\n                                        </Tooltip>}</td>\n                                        {/* <td className='whitespace-nowrap border-none p-2 '>{element?.category ?? \"-\"}</td> */}\n                                        <td className=\"whitespace-nowrap border-none px-2 py-3\">\n                                            {element?.createdBy || \"-\"}\n                                        </td>\n                                        {/* <td className='whitespace-nowrap border-none p-2 '>{element?.createdBy ?? \"-\"}</td> */}\n                                        {/* <td className='whitespace-nowrap border-none p-2 '>\n                                        <span className={`${element?.status ? 'bg-[#E0FFBE] border-green-500' : 'bg-red-200 '\n                                            } border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]`}>\n                                            {element?.status ? 'Active' : 'Inactive' ?? \"-\"}\n                                        </span>\n                                    </td> */}\n                                        {(canDelete || canUpdate) && <td className='whitespace-nowrap border-none p-2'>\n                                            <span className=\"py-1.5 flex justify-start items-center space-x-2\">\n                                                {canUpdate &&\n                                                    <Tooltip placement=\"topLeft\"  title='Edit'>\n                                                        <button disabled={(element?.checkOutTime&&element?.checkInTime)} onClick={() => { navigate(`/admin/visitor/edit/${encrypt(element?._id)}`) }} className=\"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted\" type=\"button\">\n                                                            <FaPenToSquare className={`${(element?.checkOutTime&&element?.checkInTime) ? 'text-gray-400' :'hover:text-[#337ab7] text-[#3c8dbc] '}`} size={16} />\n                                                        </button>\n                                                    </Tooltip>}\n                                                {canDelete && <Tooltip placement=\"topLeft\"  title='Delete'>\n                                                    <button disabled={(element?.checkOutTime&&element?.checkInTime)} onClick={() => handleDelete(element?._id)} className=\"px-2 py-1.5 rounded-md bg-transparent border border-muted\" type=\"button\">\n                                                        <RiDeleteBin5Line className={`${(element?.checkOutTime&&element?.checkInTime) ? 'text-gray-400' :'text-red-600 hover:text-red-500 '}`} size={16} />\n                                                    </button>\n                                                </Tooltip>}\n                                            </span>\n                                        </td>}\n                                    </tr>\n                                ))\n                                : (<tr className=\"bg-white bg-opacity-5 \" >\n                                    <td colSpan={4} className=\"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500\">Record Not Found</td>\n                                </tr>)}\n                        </tbody>}\n                </table>}\n            </div>\n            {visitorList?.length > 0 &&\n                <CustomPagination\n                    totalCount={totalVisitorCount}\n                    pageSize={limit}\n                    currentPage={currentPage}\n                    onChange={onPaginationChange}\n                />}\n        </GlobalLayout>\n    )\n}\nexport default ManagerofficeVisit"],"names":["canCreate","canRead","canUpdate","canDelete","usePermissions","setValue","control","useForm","userCompanyId","userBranchId","userType","getUserIds","visitorList","totalVisitorCount","loading","useSelector","state","visitor","departmentListData","depLoading","department","branchList","branchListLoading","branch","userInfoglobal","JSON","parse","localStorage","getItem","concat","domainName","employeList","employeListLoading","employe","navigate","useNavigate","dispatch","useDispatch","searchText","setSearchText","useState","branchId","useWatch","name","defaultValue","departmentId","employee","category","useEffect","companySearch","text","sort","status","isPagination","currentPage","setCurrentPage","filters","join","isFirstRender","setisFirstRender","fetchVisitorCatList","roleKey","reqListData","page","limit","reqPayload","companyId","employeId","getVisitorList","_jsx","GlobalLayout","children","className","_jsxs","onChange","e","class","Controller","rules","required","render","_ref","field","Select","_objectSpread","disabled","inputAntdSelectClassNameFilter","showSearch","filterOption","input","option","String","toLowerCase","includes","Option","value","_ref2","_sortByPropertyAlphab","popupClassName","placeholder","optionLabelProp","onFocus","fetchEmployeListData","isTL","isHR","designationId","employeSearch","ListLoader","sortByPropertyAlphabetically","map","item","_id","fullName","onClick","Tooltip","placement","title","FaPlus","colSpan","Loader2","length","element","index","_element$name","_element$clientName","_element$category","_element$mobile","_element$mobile2","_element$contactPerso","_element$visitReasonI","clientName","mobile","code","number","contactPerson","visitReasonId","checkInTime","moment","format","checkOutTime","reqData","Swal","icon","showCancelButton","cancelButtonText","then","result","isConfirmed","updateVisitor","data","error","handleCheckOut","type","createdBy","encrypt","FaPenToSquare","size","id","deleteVisitor","Number","handleDelete","RiDeleteBin5Line","CustomPagination","totalCount","pageSize"],"sourceRoot":""}