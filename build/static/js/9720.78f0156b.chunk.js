"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[9720],{30125:(e,l,a)=>{a.d(l,{A:()=>j});var d=a(89379),n=a(65043),s=a(24858),i=a(83003),t=a(15187),o=(a(16998),a(15811)),c=a(13382),r=a(53913),u=a(65512),v=a(77396),m=a(60446),x=a.n(m),p=a(30064),h=a.n(p),y=a(70579);const j=e=>{let{closePenaltyModal:l,isPenaltyOpen:a,getPayrollDetailsFunc:m}=e;const{register:p,handleSubmit:j,formState:{errors:g},control:N,setValue:b,reset:f,watch:w}=(0,s.mN)(),D=((0,n.useRef)(null),(0,i.wA)()),{employeePenaltyListData:A,loading:P}=(0,i.d4)(e=>e.employeePenalty);(0,n.useEffect)(()=>{Y()},[]);const{fields:I,append:C,remove:S}=(0,s.jz)({control:N,name:"penaltyDetails"}),Y=()=>{var e,l,d,n,s,i;let t={text:"",sort:!0,status:"Pending",isPagination:!1,directorId:"",companyId:null===a||void 0===a||null===(e=a.data)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.companyId,branchId:null===a||void 0===a||null===(d=a.data)||void 0===d||null===(n=d.data)||void 0===n?void 0:n.branchId,employeId:null===a||void 0===a||null===(s=a.data)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.employeId};D((0,v.E0)(t)).then(e=>{null!==e&&void 0!==e&&e.error||f()})},{Option:O}=u.A;return(0,y.jsx)(r.A,{visible:a,onCancel:l,footer:null,title:"Add Penalty",width:600,className:"antmodalclassName",height:600,children:(0,y.jsxs)("form",{autoComplete:"off",onSubmit:j(e=>{var d,n,s,i,t;const c=null===a||void 0===a||null===(d=a.data)||void 0===d?void 0:d.data,r=null===a||void 0===a||null===(n=a.data)||void 0===n||null===(s=n.data)||void 0===s||null===(i=s.panalty)||void 0===i?void 0:i.map(e=>null===e||void 0===e?void 0:e.penaltyId),u=null===e||void 0===e||null===(t=e.penaltyDetails)||void 0===t?void 0:t.map(e=>null===e||void 0===e?void 0:e.penalty);h().fire({title:"Are you sure?",text:"After submitting, you cannot change Penalties!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, submit it!",cancelButtonText:"Cancel",customClass:{popup:"swal-popup"},zIndex:2e3}).then(e=>{e.isConfirmed&&D((0,o.pG)({_id:null===c||void 0===c?void 0:c._id,companyId:null===c||void 0===c?void 0:c.companyId,branchId:null===c||void 0===c?void 0:c.branchId,employeId:null===c||void 0===c?void 0:c.employeId,startDate:null===c||void 0===c?void 0:c.startDate,endDate:null===c||void 0===c?void 0:c.endDate,allowances:null===c||void 0===c?void 0:c.allowances,deductions:null===c||void 0===c?void 0:c.deductions,penalties:[...r,...u]})).then(e=>{e.error||(m(),l())})})}),children:[(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"rounded-t-lg my-2 ",children:[(0,y.jsx)("div",{className:"divide-y divide-gray-200 border border-gray-200",children:I.map((e,l)=>{var a,n;return(0,y.jsx)("div",{className:" rounded-md my-2 ",children:(0,y.jsx)("div",{className:"",children:(0,y.jsxs)("div",{className:"px-3 grid  grid-cols-1 gap-4 items-end mb-3",children:[(0,y.jsx)("div",{className:"flex gap-3",children:(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsxs)("label",{className:"".concat(t.Q0),children:["penalty ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(s.xI,{name:"penaltyDetails[".concat(l,"].penalty"),control:N,rules:{required:"penalty is required"},render:e=>{var a,n;let{field:s}=e;return(0,y.jsxs)(u.A,(0,d.A)((0,d.A)({},s),{},{className:"".concat(t.Hy," ").concat(null!==(a=g.penaltyDetails)&&void 0!==a&&null!==(n=a[l])&&void 0!==n&&n.penalty?"":"border-gray-300"),placeholder:"Select penalty",getPopupContainer:e=>e.parentNode,value:s.value,onChange:e=>{s.onChange(e)},children:[(0,y.jsx)(O,{value:"",children:"Select penalty"}),null===A||void 0===A?void 0:A.map(e=>(0,y.jsxs)(O,{value:e._id,children:[e.penaltyName," (",x()(e.issueDate).format("DD-MM-YYYY"),")"]},e._id))]}))}}),(null===(a=g.penaltyDetails)||void 0===a||null===(n=a[l])||void 0===n?void 0:n.penalty)&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:g.penaltyDetails[l].penalty.message})]})}),(0,y.jsx)("div",{className:"py-2",children:(0,y.jsx)("div",{className:"flex justify-end items-center",children:(0,y.jsx)("button",{type:"button",onClick:()=>{S(e,l)},className:"text-rose-800 hover:text-rose-900 flex items-center justify-center p-1 rounded-lg",children:(0,y.jsx)("i",{className:"fas fa-trash-alt"})})})})]})},e.id)},l)})}),(0,y.jsx)(c.Ay,{type:"dashed",className:"my-2",onClick:()=>C({}),block:!0,style:{marginBottom:"10px"},children:"Add Penalty"})]})}),(0,y.jsxs)("div",{className:"flex justify-end items-center p-6 pt-0",children:[(0,y.jsx)(c.Ay,{type:"primary",htmlType:"submit",className:"mr-2",children:"Add"}),(0,y.jsx)(c.Ay,{onClick:l,className:"bg-[#d41c1c]",type:"default",children:"Close"})]})]})})}},39720:(e,l,a)=>{a.r(l),a.d(l,{default:()=>P});var d=a(65043),n=a(83003),s=a(39160),i=a(89379),t=a(24858),o=a(15187),c=a(16998),r=a(15811),u=a(65512),v=a(53913),m=a(13382),x=a(70579);const p=e=>{let{closeAllowanceModal:l,isAllowanceOpen:a,getPayrollDetailsFunc:s}=e;const{register:p,handleSubmit:h,formState:{errors:y},control:j,setValue:g,reset:N,watch:b}=(0,t.mN)(),f=((0,d.useRef)(null),(0,n.wA)()),{allowanceListData:w}=(0,n.d4)(e=>e.allowance);(0,d.useEffect)(()=>{I()},[]);const{fields:D,append:A,remove:P}=(0,t.jz)({control:j,name:"allowanceDetails"}),I=()=>{var e,l,d,n;let s={reqPayload:{text:"",sort:!0,status:!0,isPagination:!1,directorId:"",companyId:null===a||void 0===a||null===(e=a.data)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.companyId,branchId:null===a||void 0===a||null===(d=a.data)||void 0===d||null===(n=d.data)||void 0===n?void 0:n.branchId}};f((0,c.Fp)(s)).then(e=>{var l,d,n;null!==e&&void 0!==e&&e.error||(N(),null===a||void 0===a||null===(l=a.data)||void 0===l||null===(d=l.data)||void 0===d||null===(n=d.allowances)||void 0===n||n.forEach(e=>{const l={allowance:null===e||void 0===e?void 0:e.allowanceId,isPercentage:null!==e&&void 0!==e&&e.isPercentage?"Yes":"No",amount:null===e||void 0===e?void 0:e.value};A(l)}))})},{Option:C}=u.A;return(0,x.jsx)(v.A,{visible:a,onCancel:l,footer:null,title:"Add Allowance",width:600,className:"antmodalclassName",height:600,children:(0,x.jsxs)("form",{autoComplete:"off",onSubmit:h(e=>{var d,n,i;const t=null===a||void 0===a||null===(d=a.data)||void 0===d?void 0:d.data;f((0,r.pG)({_id:null===t||void 0===t?void 0:t._id,companyId:null===t||void 0===t?void 0:t.companyId,branchId:null===t||void 0===t?void 0:t.branchId,employeId:null===t||void 0===t?void 0:t.employeId,startDate:null===t||void 0===t?void 0:t.startDate,endDate:null===t||void 0===t?void 0:t.endDate,allowances:null===e||void 0===e||null===(n=e.allowanceDetails)||void 0===n?void 0:n.map(e=>{var l;return{allowanceId:null===e||void 0===e?void 0:e.allowance,name:null===w||void 0===w||null===(l=w.find(l=>(null===l||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e.allowance)))||void 0===l?void 0:l.name,isPercentage:"Yes"===(null===e||void 0===e?void 0:e.isPercentage),value:null===e||void 0===e?void 0:e.amount}}),deductions:null===t||void 0===t?void 0:t.deductions,penalties:null!==t&&void 0!==t&&t.panalty?null===t||void 0===t||null===(i=t.panalty)||void 0===i?void 0:i.map(e=>null===e||void 0===e?void 0:e.penaltyId):[]})).then(e=>{e.error||(s(),l())})}),children:[(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"rounded-t-lg my-2 ",children:[(0,x.jsx)("div",{className:"divide-y divide-gray-200 border border-gray-200",children:D.map((e,l)=>{var a,d,n,s,c,r,v,m;return(0,x.jsx)("div",{className:" rounded-md my-2 ",children:(0,x.jsx)("div",{className:"",children:(0,x.jsxs)("div",{className:"px-3 grid sm:grid-cols-2 grid-cols-1 gap-4 items-end mb-3",children:[(0,x.jsx)("div",{className:"flex gap-3",children:(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(o.Q0),children:["Allowance ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)(t.xI,{name:"allowanceDetails[".concat(l,"].allowance"),control:j,rules:{required:"allowance is required"},render:e=>{var a,d;let{field:n}=e;return(0,x.jsxs)(u.A,(0,i.A)((0,i.A)({},n),{},{className:"".concat(o.Hy," ").concat(null!==(a=y.allowanceDetails)&&void 0!==a&&null!==(d=a[l])&&void 0!==d&&d.allowance?"":"border-gray-300"),placeholder:"Select allowance",getPopupContainer:e=>e.parentNode,value:n.value,onChange:e=>{n.onChange(e)},children:[(0,x.jsx)(C,{value:"",children:"Select allowance"}),null===w||void 0===w?void 0:w.map(e=>(0,x.jsx)(C,{value:e._id,children:e.name},e._id))]}))}}),(null===(a=y.allowanceDetails)||void 0===a||null===(d=a[l])||void 0===d?void 0:d.allowance)&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:y.allowanceDetails[l].allowance.message})]})}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(o.Q0),children:["Is Percentage ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)(t.xI,{name:"allowanceDetails[".concat(l,"].isPercentage"),control:j,rules:{required:"isPercentage is required"},render:e=>{var a,d;let{field:n}=e;return(0,x.jsxs)(u.A,(0,i.A)((0,i.A)({},n),{},{className:"".concat(o.Hy," ").concat(null!==(a=y.allowanceDetails)&&void 0!==a&&null!==(d=a[l])&&void 0!==d&&d.isPercentage?"":"border-gray-300"),placeholder:"Select Is Percentage",getPopupContainer:e=>e.parentNode,value:n.value,onChange:e=>{n.onChange(e)},children:[(0,x.jsx)(C,{value:"",children:"Select Is Percentage"}),(0,x.jsx)(C,{value:"Yes",children:"Yes"}),(0,x.jsx)(C,{value:"No",children:"No"})]}))}}),(null===(n=y.allowanceDetails)||void 0===n||null===(s=n[l])||void 0===s?void 0:s.isPercentage)&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:y.allowanceDetails[l].isPercentage.message})]}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(o.Q0),children:["Yes"===b("allowanceDetails[".concat(l,"].isPercentage"))?"Percentage":"Amount"," ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,i.A)((0,i.A)({type:"number",step:"0.01"},p("allowanceDetails[".concat(l,"].amount"),{required:"Amount is required",valueAsNumber:!0,min:"Yes"===b("allowanceDetails[".concat(l,"].isPercentage"))?1:void 0})),{},{className:"".concat(o.Ol," ").concat(null!==(c=y.allowanceDetails)&&void 0!==c&&null!==(r=c[l])&&void 0!==r&&r.amount?"border-[1px] ":"border-gray-300")})),(null===(v=y.allowanceDetails)||void 0===v||null===(m=v[l])||void 0===m?void 0:m.amount)&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:y.allowanceDetails[l].amount.message})]}),(0,x.jsx)("div",{className:"py-2",children:(0,x.jsx)("div",{className:"flex justify-end items-center",children:(0,x.jsx)("button",{type:"button",onClick:()=>{P(e,l)},className:"text-rose-800 hover:text-rose-900 flex items-center justify-center p-1 rounded-lg",children:(0,x.jsx)("i",{className:"fas fa-trash-alt"})})})})]})},e.id)},l)})}),(0,x.jsx)(m.Ay,{type:"dashed",className:"my-2",onClick:()=>A({}),block:!0,style:{marginBottom:"10px"},children:"Add Allowance"})]})}),(0,x.jsxs)("div",{className:"flex justify-end items-center p-6 pt-0",children:[(0,x.jsx)(m.Ay,{type:"primary",htmlType:"submit",className:"mr-2",children:"Add"}),(0,x.jsx)(m.Ay,{onClick:l,className:"bg-[#d41c1c]",type:"default",children:"Close"})]})]})})};var h=a(41914);const y=e=>{let{closeDeductionModal:l,isDeductionOpen:a,getPayrollDetailsFunc:s}=e;const{register:c,handleSubmit:p,formState:{errors:y},control:j,setValue:g,reset:N,watch:b}=(0,t.mN)(),f=((0,d.useRef)(null),(0,n.wA)()),{deductionsListData:w}=(0,n.d4)(e=>e.deductions);(0,d.useEffect)(()=>{I()},[]);const{fields:D,append:A,remove:P}=(0,t.jz)({control:j,name:"deductionDetails"}),I=()=>{var e,l,d,n;let s={text:"",sort:!0,status:!0,isPagination:!1,directorId:"",companyId:null===a||void 0===a||null===(e=a.data)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.companyId,branchId:null===a||void 0===a||null===(d=a.data)||void 0===d||null===(n=d.data)||void 0===n?void 0:n.branchId};f((0,h.VO)(s)).then(e=>{var l,d,n;null!==e&&void 0!==e&&e.error||(N(),null===a||void 0===a||null===(l=a.data)||void 0===l||null===(d=l.data)||void 0===d||null===(n=d.deductions)||void 0===n||n.forEach(e=>{const l={deduction:null===e||void 0===e?void 0:e.deductionId,isPercentage:null!==e&&void 0!==e&&e.isPercentage?"Yes":"No",amount:null===e||void 0===e?void 0:e.value};A(l)}))})},{Option:C}=u.A;return(0,x.jsx)(v.A,{visible:a,onCancel:l,footer:null,title:"Add Deduction",width:600,className:"antmodalclassName",height:600,children:(0,x.jsxs)("form",{autoComplete:"off",onSubmit:p(e=>{var d,n,i;const t=null===a||void 0===a||null===(d=a.data)||void 0===d?void 0:d.data;f((0,r.pG)({_id:null===t||void 0===t?void 0:t._id,companyId:null===t||void 0===t?void 0:t.companyId,branchId:null===t||void 0===t?void 0:t.branchId,employeId:null===t||void 0===t?void 0:t.employeId,startDate:null===t||void 0===t?void 0:t.startDate,endDate:null===t||void 0===t?void 0:t.endDate,allowances:null===t||void 0===t?void 0:t.allowances,deductions:null===e||void 0===e||null===(n=e.deductionDetails)||void 0===n?void 0:n.map(e=>{var l;return{deductionId:null===e||void 0===e?void 0:e.deduction,name:null===w||void 0===w||null===(l=w.find(l=>(null===l||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e.deduction)))||void 0===l?void 0:l.name,isPercentage:"Yes"===(null===e||void 0===e?void 0:e.isPercentage),value:null===e||void 0===e?void 0:e.amount}}),penalties:null!==t&&void 0!==t&&t.panalty?null===t||void 0===t||null===(i=t.panalty)||void 0===i?void 0:i.map(e=>null===e||void 0===e?void 0:e.penaltyId):[]})).then(e=>{e.error||(s(),l())})}),children:[(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"rounded-t-lg my-2 ",children:[(0,x.jsx)("div",{className:"divide-y divide-gray-200 border border-gray-200",children:D.map((e,l)=>{var a,d,n,s,r,v,m,p;return(0,x.jsx)("div",{className:" rounded-md my-2 ",children:(0,x.jsx)("div",{className:"",children:(0,x.jsxs)("div",{className:"px-3 grid sm:grid-cols-2 grid-cols-1 gap-4 items-end mb-3",children:[(0,x.jsx)("div",{className:"flex gap-3",children:(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(o.Q0),children:["Deduction ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)(t.xI,{name:"deductionDetails[".concat(l,"].deduction"),control:j,rules:{required:"deduction is required"},render:e=>{var a,d;let{field:n}=e;return(0,x.jsxs)(u.A,(0,i.A)((0,i.A)({},n),{},{className:"".concat(o.Hy," ").concat(null!==(a=y.deductionDetails)&&void 0!==a&&null!==(d=a[l])&&void 0!==d&&d.deduction?"":"border-gray-300"),placeholder:"Select deduction",value:n.value,getPopupContainer:e=>e.parentNode,onChange:e=>{n.onChange(e)},children:[(0,x.jsx)(C,{value:"",children:"Select deduction"}),null===w||void 0===w?void 0:w.map(e=>(0,x.jsx)(C,{value:e._id,children:e.name},e._id))]}))}}),(null===(a=y.deductionDetails)||void 0===a||null===(d=a[l])||void 0===d?void 0:d.deduction)&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:y.deductionDetails[l].deduction.message})]})}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(o.Q0),children:["Is Percentage ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)(t.xI,{name:"deductionDetails[".concat(l,"].isPercentage"),control:j,rules:{required:"isPercentage is required"},render:e=>{var a,d;let{field:n}=e;return(0,x.jsxs)(u.A,(0,i.A)((0,i.A)({},n),{},{className:"".concat(o.Hy," ").concat(null!==(a=y.deductionDetails)&&void 0!==a&&null!==(d=a[l])&&void 0!==d&&d.isPercentage?"":"border-gray-300"),placeholder:"Select Is Percentage",getPopupContainer:e=>e.parentNode,value:n.value,onChange:e=>{n.onChange(e)},children:[(0,x.jsx)(C,{value:"",children:"Select Is Percentage"}),(0,x.jsx)(C,{value:"Yes",children:"Yes"}),(0,x.jsx)(C,{value:"No",children:"No"})]}))}}),(null===(n=y.deductionDetails)||void 0===n||null===(s=n[l])||void 0===s?void 0:s.isPercentage)&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:y.deductionDetails[l].isPercentage.message})]}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(o.Q0),children:["Yes"===b("deductionDetails[".concat(l,"].isPercentage"))?"Percentage":"Amount"," ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,i.A)((0,i.A)({type:"number",step:"0.01"},c("deductionDetails[".concat(l,"].amount"),{required:"Amount is required",valueAsNumber:!0,min:"Yes"===b("deductionDetails[".concat(l,"].isPercentage"))?1:void 0})),{},{className:"".concat(o.Ol," ").concat(null!==(r=y.deductionDetails)&&void 0!==r&&null!==(v=r[l])&&void 0!==v&&v.amount?"border-[1px] ":"border-gray-300")})),(null===(m=y.deductionDetails)||void 0===m||null===(p=m[l])||void 0===p?void 0:p.amount)&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:y.deductionDetails[l].amount.message})]}),(0,x.jsx)("div",{className:"py-2",children:(0,x.jsx)("div",{className:"flex justify-end items-center",children:(0,x.jsx)("button",{type:"button",onClick:()=>{P(e,l)},className:"text-rose-800 hover:text-rose-900 flex items-center justify-center p-1 rounded-lg",children:(0,x.jsx)("i",{className:"fas fa-trash-alt"})})})})]})},e.id)},l)})}),(0,x.jsx)(m.Ay,{type:"dashed",className:"my-2",onClick:()=>A({}),block:!0,style:{marginBottom:"10px"},children:"Add Deduction"})]})}),(0,x.jsxs)("div",{className:"flex justify-end items-center p-6 pt-0",children:[(0,x.jsx)(m.Ay,{type:"primary",htmlType:"submit",className:"mr-2",children:"Add"}),(0,x.jsx)(m.Ay,{onClick:l,className:"bg-[#d41c1c]",type:"default",children:"Close"})]})]})})};var j=a(73216),g=a(31174),N=a(86178),b=a.n(N),f=a(30125),w=a(37762),D=a(65239),A=a.n(D);const P=()=>{var e,l,a,i,t,o,c,u,v,m,h,N,D,P;const I=(0,n.wA)(),{payslipIdEnc:C}=(0,j.g)(),S=(0,g.Yc)(C);(0,d.useEffect)(()=>{Y()},[]);const Y=()=>{I((0,r.UE)({_id:S}))},O=(0,d.useRef)(),{payrollDetailsData:k}=(0,n.d4)(e=>e.payrollReducer),[F,_]=(0,d.useState)({isOpen:!1,data:null}),[q,E]=(0,d.useState)({isOpen:!1,data:null}),[R,M]=(0,d.useState)({isOpen:!1,data:null});return(0,x.jsxs)(s.A,{children:[(null===F||void 0===F?void 0:F.isOpen)&&(0,x.jsx)(p,{closeAllowanceModal:()=>_({isOpen:!1,data:[]}),isAllowanceOpen:F,getPayrollDetailsFunc:Y}),(null===q||void 0===q?void 0:q.isOpen)&&(0,x.jsx)(y,{closeDeductionModal:()=>E({isOpen:!1,data:null}),isDeductionOpen:q,getPayrollDetailsFunc:Y}),(null===R||void 0===R?void 0:R.isOpen)&&(0,x.jsx)(f.A,{closePenaltyModal:()=>M({isOpen:!1,data:null}),isPenaltyOpen:R,getPayrollDetailsFunc:Y}),(0,x.jsx)("div",{className:"",children:(0,x.jsx)("div",{ref:O,className:"py-2 bg-gray-100",children:(0,x.jsxs)("div",{className:"bg-white p-4 border-[1px] border-gray-300",children:[(0,x.jsxs)("div",{className:"py-2 border-b-[1px] border-gray-300 lg:flex justify-between items-center",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{className:"text-xl font-semibold mb-3",children:"Payslip"}),(0,x.jsxs)("p",{className:"text-gray-800",children:[null===(e=b()(null===k||void 0===k?void 0:k.startDate))||void 0===e?void 0:e.format("DD-MM-YYYY")," to ",null===(l=b()(null===k||void 0===k?void 0:k.endDate))||void 0===l?void 0:l.format("DD-MM-YYYY")]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"flex justify-end items-center",children:(0,x.jsx)("img",{className:"h-14 w-14 rounded-full",alt:"",src:null===k||void 0===k||null===(a=k.branchData)||void 0===a?void 0:a.profileImage})}),(0,x.jsx)("div",{className:"mt-4 lg:flex justify-end items-center grid md:grid-cols-3 grid-cols-2 gap-4",children:(0,x.jsx)("button",{className:"bg-blue-500 text-white text-sm py-1 px-3 rounded-lg hover:bg-blue-600",onClick:()=>{const e=O.current;A()(e).then(e=>{const l=e.toDataURL("image/png"),a=new w.Ay,d=210*e.height/e.width;a.addImage(l,"PNG",0,0,210,d),a.save("payslip.pdf")})},children:"Download PDF"})})]})]}),(0,x.jsxs)("div",{className:"md:flex justify-between items-center",children:[(0,x.jsxs)("div",{className:"mt-2",children:[(0,x.jsx)("h2",{className:"font-semibold text-lg",children:"Employee Details"}),(0,x.jsxs)("div",{className:"mt-4 text-md space-y-2",children:[(0,x.jsxs)("p",{children:[(0,x.jsx)("span",{className:"font-medium",children:"Employee Name:"})," ",(null===k||void 0===k||null===(i=k.employeData)||void 0===i?void 0:i.fullName)||"N/A"]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("span",{className:"font-medium",children:"Department:"})," ",(null===k||void 0===k||null===(t=k.departmentData)||void 0===t?void 0:t.name)||"N/A"]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("span",{className:"font-medium",children:"Bank Acc./Cheque No.:"})," ",(null===k||void 0===k||null===(o=k.bankData)||void 0===o?void 0:o.accountNumber)||"N/A"]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("span",{className:"font-medium",children:"ESIC number:"})," ",(null===k||void 0===k||null===(c=k.salaryData)||void 0===c?void 0:c.esicNumber)||"N/A"]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("span",{className:"font-medium",children:"UAN number:"})," ",(null===k||void 0===k||null===(u=k.salaryData)||void 0===u?void 0:u.uanNumber)||"N/A"]})]})]}),(0,x.jsx)("div",{className:"mt-6 gap-4",children:(0,x.jsx)("div",{className:"p-4 rounded-md border-[1px] border-gray-300",children:k?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"bg-green-100 border-l-4 border-green-600 rounded-xl p-3",children:[(0,x.jsxs)("h3",{className:"text-3xl font-semibold text-black",children:["Rs ",(null===k||void 0===k||null===(v=k.netSalary)||void 0===v?void 0:v.toFixed(2))||"0.00"]}),(0,x.jsx)("p",{className:"text-gray-600",children:"Employee Net Pay"})]}),(0,x.jsxs)("div",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[(0,x.jsxs)("p",{children:["Actual Basic Pay: Rs ",(null===k||void 0===k||null===(m=k.basicSalary)||void 0===m?void 0:m.toFixed(2))||"0.00"]}),(0,x.jsxs)("p",{children:["Paid Days: ",(null===k||void 0===k?void 0:k.totalAttendance)||"0.00"]}),(0,x.jsxs)("p",{children:["LOP Days: ",(null===k||void 0===k?void 0:k.totalLeave)||"0.00"]}),(0,x.jsxs)("p",{children:["Updated Basic Pay: Rs ",(null===k||void 0===k||null===(h=k.grossSalary)||void 0===h?void 0:h.toFixed(2))||"0.00"]}),(0,x.jsx)("p",{className:"text-blue-400 text-[11px]",children:"The payslip is calculated based on the updated basic pay"})]})]}):(0,x.jsx)("div",{className:"text-gray-600",children:"No data available"})})})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 mt-8 text-sm",children:[(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"bg-gray-50 p-2 overflow-x-auto border-[1px] border-gray-200",children:(0,x.jsxs)("table",{className:"w-full max-w-full overflow-x-auto",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"text-sm",children:[(0,x.jsx)("th",{className:"border-b py-2 text-left w-[30%]",children:"Allowances"}),(0,x.jsx)("th",{className:"border-b py-2 text-right w-[30%]",children:"Amount"})]})}),(0,x.jsx)("tbody",{children:null!==k&&void 0!==k&&k.allowances&&(null===k||void 0===k?void 0:k.allowances.length)>0?null===k||void 0===k?void 0:k.allowances.map((e,l)=>(0,x.jsx)(d.Fragment,{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"py-2",children:(null===e||void 0===e?void 0:e.name)||"N/A"}),(0,x.jsx)("td",{className:"py-2 text-right",children:(null===e||void 0===e?void 0:e.value)||"N/A"})]})},l)):(0,x.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,x.jsx)("td",{colSpan:2,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})})}),(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"bg-gray-50 p-2 overflow-x-auto border-[1px] border-gray-200",children:(0,x.jsxs)("table",{className:"w-full max-w-full overflow-x-auto",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"text-sm",children:[(0,x.jsx)("th",{className:"border-b py-2 text-left w-[30%]",children:"Deductions"}),(0,x.jsx)("th",{className:"border-b py-2 text-right w-[30%]",children:"Amount"})]})}),(0,x.jsx)("tbody",{children:null!==k&&void 0!==k&&k.deductions&&(null===k||void 0===k||null===(N=k.deductions)||void 0===N?void 0:N.length)>0?null===k||void 0===k?void 0:k.deductions.map((e,l)=>(0,x.jsx)(d.Fragment,{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"py-2",children:(null===e||void 0===e?void 0:e.name)||"N/A"}),(0,x.jsx)("td",{className:"py-2 text-right",children:(null===e||void 0===e?void 0:e.value)||"N/A"})]})},l)):(0,x.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,x.jsx)("td",{colSpan:2,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})})}),(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"bg-gray-50 p-2 overflow-x-auto border-[1px] border-gray-200",children:(0,x.jsxs)("table",{className:"w-full max-w-full overflow-x-auto",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"text-sm",children:[(0,x.jsx)("th",{className:"border-b py-2 text-left w-[30%]",children:"Penalties"}),(0,x.jsx)("th",{className:"border-b py-2 text-right w-[30%]",children:"Amount"})]})}),(0,x.jsx)("tbody",{children:null!==k&&void 0!==k&&k.panalty&&(null===k||void 0===k||null===(D=k.panalty)||void 0===D?void 0:D.length)>0?null===k||void 0===k?void 0:k.panalty.map((e,l)=>(0,x.jsx)(d.Fragment,{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"py-2",children:(null===e||void 0===e?void 0:e.name)||"N/A"}),(0,x.jsx)("td",{className:"py-2 text-right",children:(null===e||void 0===e?void 0:e.finalAmount)||"N/A"})]})},l)):(0,x.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,x.jsx)("td",{colSpan:2,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})})})]}),(0,x.jsxs)("div",{className:"mt-8 border-[1px] border-gray-300 bg-gray-50 rounded-lg font-semibold text-gray-800 flex justify-between items-center",children:[(0,x.jsxs)("div",{className:"flex flex-col justify-between md:w-[80%] md:text-sm text-[11px] px-3",children:[(0,x.jsx)("span",{children:"Total Net Payable"}),(0,x.jsx)("span",{children:"Gross Earnings - Total Deductions"})]}),(0,x.jsx)("div",{className:"md:text-md text-sm text-black text-center py-3 px-2 bg-gray-400 md:w-[20%]",children:(0,x.jsxs)("span",{children:["Rs ",null===k||void 0===k||null===(P=k.netSalary)||void 0===P?void 0:P.toFixed(2)]})})]})]})})})]})}}}]);
//# sourceMappingURL=9720.78f0156b.chunk.js.map