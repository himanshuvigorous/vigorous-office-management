{"version":3,"file":"static/js/22.33ce0622.chunk.js","mappings":"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","sources":["pages/visitorManagement/visitorCategories/VisitorCategoriesList.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\"\n\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useEffect, useState } from \"react\"\nimport Swal from \"sweetalert2\"\nimport { useForm, useWatch } from \"react-hook-form\";\n\n// import { deleteVisitorCat, getVisitorCatList, visitorCatSearch } from \"./taskFeatures/_task_reducers\"\nimport { deleteVisitorCat, getVisitorCatList, visitorCatSearch } from \"./visitorCategoryFeatures/_visitor_categories_reducers\"\nimport { companySearch } from \"../../company/companyManagement/companyFeatures/_company_reducers\"\nimport { domainName, inputClassNameSearch } from \"../../../constents/global\"\nimport { FaPlus } from \"react-icons/fa\"\nimport GlobalLayout from \"../../../global_layouts/GlobalLayout/GlobalLayout\";\nimport { FaPenToSquare } from \"react-icons/fa6\";\nimport { RiDeleteBin5Line } from \"react-icons/ri\";\nimport { encrypt } from \"../../../config/Encryption\";\nimport CustomPagination from \"../../../component/CustomPagination/CustomPagination\";\nimport getUserIds from \"../../../constents/getUserIds\";\nimport { Tooltip } from \"antd\";\n\nfunction VisitorCategoriesList() {\n    const { register, setValue, formState: { errors }, control } = useForm();\n    const {\n        userCompanyId,\n        userDirectorId,\n        userBranchId,\n        userEmployeId,\n        userDepartmentId,\n        userDesignationId,\n        userType\n    } = getUserIds();\n    const { companyList } = useSelector((state) => state.company);\n    const { visitorCatList, totalVisitorCatCount } = useSelector(state => state.visitorCategory)\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const companyId = useWatch({\n        control,\n        name: \"companyId\",\n        defaultValue: userCompanyId,\n    });\n    const branchId = useWatch({\n        control,\n        name: \"PDBranchId\",\n        defaultValue: userBranchId,\n    });\n    useEffect(() => {\n        if (userType === \"admin\") {\n            dispatch(companySearch({\n                text: \"\",\n                sort: true,\n                status: true,\n                isPagination: false,\n            }));\n        }\n    }, []);\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const onPaginationChange = (page) => {\n        setCurrentPage(page);\n    };\n\n    const limit = 10;\n\n    useEffect(() => {\n        fetchVisitorCatList();\n    }, [currentPage])\n\n    const fetchVisitorCatList = () => {\n        const reqListData = {\n            page: currentPage,\n            limit: limit,\n            reqPayload: {\n                companyId: companyId,\n                branchId: branchId,\n                \"directorId\": \"\",\n                text: \"\",\n                sort: true,\n                status: \"\",\n                isPagination: true,\n            }\n        }\n        dispatch(getVisitorCatList(reqListData));\n    }\n    const handleDelete = (id) => {\n        let reqData = {\n            _id: id\n        }\n        Swal.fire({\n            title: \"Warning\",\n            text: \"Are you sure you want to delete!\",\n            icon: \"warning\",\n            showCancelButton: true,\n            cancelButtonText: \"No\",\n        }).then((result) => {\n            if (result.isConfirmed) {\n                dispatch(deleteVisitorCat(reqData)).then((data) => {\n                    !data.error && fetchVisitorCatList();\n                })\n            }\n        });\n    };\n\n    const handleOnChange = async (event) => {\n        const searchValue = event.target.value;\n        setValue(\"search\", searchValue);\n\n        if (searchValue.trim().length > 0) {\n            let reqData = {\n                searchValue: searchValue,\n                size: 3,\n                pageNo: 1,\n            };\n \n            dispatch(visitorCatSearch(reqData));\n        }\n    };\n\n\n    return (\n        <GlobalLayout>\n            {/* <h2 className=\"text-2xl font-bold col-span-2\">\n                User Designations\n            </h2> */}\n            <div className=''>\n                {/* <div class=\"sm:flex justify-between items-center py-1 lg:space-y-0 space-y-2 overflow-y-auto\">\n                    <div className=\"relative flex items-center\">\n                        <FaSearch className=\"absolute left-3 text-gray-400\" size={14} />\n                        <input\n                            type=\"text\"\n                            {...register(\"search\")}\n                            onChange={handleOnChange}\n                            className=\"pl-10 pr-4 py-2 text-left rounded-md text-[12px] border border-gray-300 bg-white\"\n                            placeholder=\"Search Anything..\"\n                        />\n                    </div>\n                    <LoginDetails />\n                </div> */}\n                <div className='flex justify-between items-center md:space-y-0 space-y-2 py-1'>\n                    {userType === \"admin\" && (\n                        <div className=\"w-full\">\n                            <select\n                                {...register(\"companyId\", {\n                                    required: \"company is required\",\n                                })}\n                                className={` ${inputClassNameSearch} ${errors.companyId ? \"border-[1px] \" : \"border-gray-300\"\n                                    }`}\n                            >\n                                <option className=\"\" value=\"\">\n                                    Select Comapany\n                                </option>\n                                {companyList?.map((type) => (\n                                    <option value={type?._id}>{type?.fullName}</option>\n                                ))}\n                            </select>\n                            {errors.companyId && (\n                                <p className=\"text-red-500 text-sm\">\n                                    {errors.companyId.message}\n                                </p>\n                            )}\n                        </div>\n                    )}\n                    <button onClick={() => { navigate(\"/admin/visitor-category/create\") }} className='bg-header p-2 rounded-md flex justify-center items-center space-x-2 text-white'>\n                        <FaPlus />\n                        <span className='text-[12px] tracking-wide'>Add Visitor Category</span>\n                    </button>\n                </div>\n            </div>\n            <div className=\"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl\">\n                <table className=\"w-full max-w-full rounded-xl overflow-x-auto \">\n                    <thead className=''>\n                        <tr className='border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]'>\n                            <th className='border-none p-2 whitespace-nowrap w-[15%]'>\n                                S.no.\n                            </th>\n                            <th className='border-none p-2 whitespace-nowrap w-[30%]'>\n                                Name\n                            </th>\n                            <th className='border-none p-2 whitespace-nowrap'>\n                                Status\n                            </th>\n                            <th className='border-none p-2 whitespace-nowrap w-[15%]'>\n                                Action\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {visitorCatList && visitorCatList?.length > 0 ?\n                            visitorCatList?.map((element, index) => (\n                                <tr className={`border-b-[1px] border-[#DDDDDD] ${index % 2 === 0 ? 'bg-[#e9ecef]/80' : 'bg-white'} text-[#374151] text-[14px]`}>\n                                    <td className='whitespace-nowrap border-none p-2 '>\n                                        {index + 1 + ((currentPage - 1) * limit)}\n                                    </td>\n                                    <td className='whitespace-nowrap border-none p-2 '>{element?.name ?? \"-\"}</td>\n                                    <td className='whitespace-nowrap border-none p-2 '>\n                                        <span className={`${element?.status ? 'bg-[#E0FFBE] border-green-500' : 'bg-red-200 border-red-500'\n                                            } border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]`}>\n                                            {element?.status ? 'Active' : 'Inactive' ?? \"-\"}\n                                        </span>\n                                    </td>\n                                    <td className='whitespace-nowrap border-none p-2'>\n                                        <span className=\"py-1.5 flex justify-start items-center space-x-2\">\n                                            <Tooltip placement=\"topLeft\"  title='Edit'>\n                                            <button onClick={() => { navigate(`/admin/visitor-category/edit/${encrypt(element?._id)}`) }} className=\"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted\" type=\"button\">\n                                                <FaPenToSquare className=' hover:text-[#337ab7] text-[#3c8dbc]' size={16} />\n                                            </button>\n                                            </Tooltip>\n                                           <Tooltip placement=\"topLeft\"  title='Delete'>\n                                           <button onClick={() => handleDelete(element?._id)} className=\"px-2 py-1.5 rounded-md bg-transparent border border-muted\" type=\"button\">\n                                                <RiDeleteBin5Line className='text-red-600 hover:text-red-500' size={16} />\n                                            </button>\n                                           </Tooltip>\n                                        </span>\n                                    </td>\n                                </tr>\n                            ))\n                            : (<tr className=\"bg-white bg-opacity-5 \" >\n                                <td colSpan={4} className=\"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500\">Record Not Found</td>\n                            </tr>)}\n                    </tbody>\n                </table>\n            </div>\n            {visitorCatList?.length > 0 &&\n                <CustomPagination\n                    totalCount={totalVisitorCatCount}\n                    pageSize={limit}\n                    currentPage={currentPage}\n                    onChange={onPaginationChange}\n                />}\n        </GlobalLayout>\n    )\n}\nexport default VisitorCategoriesList"],"names":["register","setValue","formState","errors","control","useForm","userCompanyId","userDirectorId","userBranchId","userEmployeId","userDepartmentId","userDesignationId","userType","getUserIds","companyList","useSelector","state","company","visitorCatList","totalVisitorCatCount","visitorCategory","navigate","useNavigate","dispatch","useDispatch","companyId","useWatch","name","defaultValue","branchId","useEffect","companySearch","text","sort","status","isPagination","currentPage","setCurrentPage","useState","fetchVisitorCatList","reqListData","page","limit","reqPayload","getVisitorCatList","_jsxs","GlobalLayout","children","_jsx","className","_objectSpread","required","concat","inputClassNameSearch","value","map","type","_id","fullName","message","onClick","FaPlus","length","element","index","_element$name","_Inactive","Tooltip","placement","title","encrypt","FaPenToSquare","size","id","reqData","Swal","icon","showCancelButton","cancelButtonText","then","result","isConfirmed","deleteVisitorCat","data","error","handleDelete","RiDeleteBin5Line","colSpan","CustomPagination","totalCount","pageSize","onChange"],"sourceRoot":""}