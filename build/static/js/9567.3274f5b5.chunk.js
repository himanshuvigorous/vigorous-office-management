"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[9567],{39567:(e,l,a)=>{a.r(l),a.d(l,{default:()=>y});var t=a(89379),s=a(24858),d=a(39160),i=a(83003),o=a(73216),n=a(31174),r=a(65043),c=a(15187),m=(a(42837),a(92823)),u=a.n(m),p=a(46817),v=a(65512),h=a(735),x=a(17995),N=a(70579);const y=()=>{const{loading:e}=(0,i.d4)(e=>e.emailTemplate),{register:l,handleSubmit:a,control:m,setValue:y,formState:{errors:b}}=(0,s.mN)(),j=(0,i.wA)(),g=(0,o.Zp)(),{userCompanyId:f,userType:A}=(0,h.A)(),{emailTemplateIdEnc:I}=((0,s.FH)({control:m,name:"PDCompanyId",defaultValue:f}),(0,o.g)()),S=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),T=(0,n.Yc)(I),{commonEmailDetails:C}=(0,i.d4)(e=>e.emailTemplate),[k,_]=(0,r.useState)("");(0,r.useEffect)(()=>{let e={_id:T};j((0,p.sX)(e))},[]),(0,r.useEffect)(()=>{C&&(y("templateName",null===C||void 0===C?void 0:C.title),y("status",null===C||void 0===C?void 0:C.status),_(null===C||void 0===C?void 0:C.content))},[C]);return(0,N.jsx)(d.A,{children:(0,N.jsx)("div",{className:"gap-4",children:(0,N.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:a(e=>{const l={_id:T,companyId:"admin"===(null===S||void 0===S?void 0:S.userType)?null===e||void 0===e?void 0:e.PDCompanyId:"company"===(null===S||void 0===S?void 0:S.userType)?null===S||void 0===S?void 0:S._id:null===S||void 0===S?void 0:S.companyId,directorId:"companyDirector"===(null===S||void 0===S?void 0:S.userType)?null===S||void 0===S?void 0:S._id:null===S||void 0===S?void 0:S.directorId,branchId:"admin"===(null===S||void 0===S?void 0:S.userType)||"companyDirector"===(null===S||void 0===S?void 0:S.userType)||"company"===(null===S||void 0===S?void 0:S.userType)?null===C||void 0===C?void 0:C.branchId:"companyBranch"===(null===S||void 0===S?void 0:S.userType)?null===S||void 0===S?void 0:S._id:null===S||void 0===S?void 0:S.branchId,title:null===e||void 0===e?void 0:e.templateName,status:null===e||void 0===e?void 0:e.status,content:k};j((0,p.Ly)(l)).then(e=>{e.error||g(-1)})}),children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(c.Q0),children:["Template Name ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,t.A)((0,t.A)({type:"text"},l("templateName",{required:"Template Name is required"})),{},{className:"".concat(c.Ol," ").concat(b.templateName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Template Name"})),b.templateName&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.templateName.message})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsxs)("label",{className:"".concat(c.Q0),children:["Status ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)(s.xI,{name:"status",control:m,render:e=>{let{field:l}=e;return(0,N.jsxs)(v.A,(0,t.A)((0,t.A)({},l),{},{className:"".concat(c.Hy," ").concat(b.status?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,l)=>String(null===l||void 0===l?void 0:l.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Status",children:[(0,N.jsx)(v.A.Option,{value:"",children:"Select Status"}),(0,N.jsx)(v.A.Option,{value:!0,children:"Active"}),(0,N.jsx)(v.A.Option,{value:!1,children:"In Active"})]}))}}),b.status&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.status.message})]})]}),(0,N.jsxs)("div",{className:"mt-4 col-span-2",children:[(0,N.jsxs)("label",{className:"".concat(c.Q0),children:["Content ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)(u(),{value:k,onChange:e=>{_(e)},placeholder:"Write the email body here",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike"],[{align:[]}],["link","image","video"],["blockquote","code-block"],["clean"]]},formats:["header","font","list","bold","italic","underline","link","align","clean"]})]}),(0,N.jsx)("div",{className:"flex justify-end",children:(0,N.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 mt-3 rounded"),children:e?(0,N.jsx)(x.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=9567.3274f5b5.chunk.js.map