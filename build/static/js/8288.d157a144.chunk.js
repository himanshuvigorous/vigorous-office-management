"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[8288],{38288:(e,a,l)=>{l.r(a),l.d(a,{default:()=>P});var s=l(89379),n=l(65043),r=l(24858),t=l(39160),d=l(83003),c=l(73216),i=l(735),o=l(51957),m=l(65512),u=l(15187),x=l(36105),h=l(30575),v=l(84480),p=l(78729),g=l(31744),b=(l(14118),l(20126)),N=l(56659),j=l(17995),y=l(89427),A=l(70579);const P=function(){const{loading:e}=(0,d.d4)(e=>e.vendor),{register:a,handleSubmit:l,setValue:P,control:f,formState:{errors:D}}=(0,r.mN)(),{userCompanyId:S,userDirectorId:C,userBranchId:I,userType:L}=(0,i.A)(),E=(0,d.wA)(),O=(0,c.Zp)(),{companyList:Q,companyListLoading:w}=(0,d.d4)(e=>e.company),{countryListData:M}=(0,d.d4)(e=>e.country),{branchList:Z,branchListloading:q}=(0,d.d4)(e=>e.branch),{stateListData:B}=(0,d.d4)(e=>e.states),{cityListData:T}=(0,d.d4)(e=>e.city),F=(0,r.FH)({control:f,name:"PDCompanyId",defaultValue:S}),G=((0,r.FH)({control:f,name:"directorId",defaultValue:C}),(0,r.FH)({control:f,name:"PDBranchId",defaultValue:I})),H=(0,r.FH)({control:f,name:"PDCountry",defaultValue:""}),V=(0,r.FH)({control:f,name:"PDState",defaultValue:""}),_=(0,r.FH)({control:f,name:"PDPin",defaultValue:""});return(0,n.useEffect)(()=>{_&&_.length>=4&&_.length<=6&&(0,u.jh)(_).then(e=>{e&&(P("PDCity",e.city),P("PDState",e.state),P("PDCountry",e.country))}).catch(e=>{console.error("Error fetching data:",e)})},[_]),(0,n.useEffect)(()=>{P("PDMobileCode","+91")},[M]),(0,n.useEffect)(()=>{"admin"===L&&E((0,p.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,n.useEffect)(()=>{(F||"company"===L||"companyDirector"===L)&&E((0,g.d0)({text:"",sort:!0,status:!0,companyId:F,isPagination:!1}))},[F]),(0,A.jsx)(t.A,{children:(0,A.jsx)("div",{className:"gap-4",children:(0,A.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:l(e=>{var a,l,s,n;const r={companyId:F,directorId:"",branchId:G,fullName:null===e||void 0===e?void 0:e.name,profileImage:"/images/placeholder.png",email:null===e||void 0===e?void 0:e.email,mobile:{code:null===e||void 0===e?void 0:e.code,number:null===e||void 0===e?void 0:e.number},status:!0,isDeleted:!1,addresses:{primary:{street:null!==(a=null===e||void 0===e?void 0:e.PDAddress)&&void 0!==a?a:"",city:null!==(l=null===e||void 0===e?void 0:e.PDCity)&&void 0!==l?l:"",state:null!==(s=null===e||void 0===e?void 0:e.PDState)&&void 0!==s?s:"",country:null!==(n=null===e||void 0===e?void 0:e.PDCountry)&&void 0!==n?n:"",pinCode:null===e||void 0===e?void 0:e.PDPin}},vendorProfile:{penNumber:null===e||void 0===e?void 0:e.penNumber,adharNumber:null===e||void 0===e?void 0:e.adharNumber,GSTNumber:null===e||void 0===e?void 0:e.GSTNumber,secondaryEmail:null===e||void 0===e?void 0:e.Secemail,secondaryMobile:{code:+(null===e||void 0===e?void 0:e.Secnumber)&&null!==e&&void 0!==e&&e.Seccode?null===e||void 0===e?void 0:e.Seccode:null,number:+(null===e||void 0===e?void 0:e.Secnumber)?+(null===e||void 0===e?void 0:e.Secnumber):null},landline:{code:+(null===e||void 0===e?void 0:e.lannumber)&&null!==e&&void 0!==e&&e.lancode?null===e||void 0===e?void 0:e.lancode:null,number:+(null===e||void 0===e?void 0:e.lannumber)?+(null===e||void 0===e?void 0:e.lannumber):null}}};E((0,b.Bm)(r)).then(e=>{e.error||O("/admin/vendor-list")})}),children:[(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2",children:["admin"===L&&(0,A.jsxs)("div",{className:"",children:[(0,A.jsxs)("label",{className:"".concat(u.Q0),children:["Company ",(0,A.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,A.jsx)(r.xI,{control:f,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:a}=e;return(0,A.jsxs)(m.A,(0,s.A)((0,s.A)({},a),{},{defaultValue:"",className:"".concat(u.Hy," "),filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,A.jsx)(m.A.Option,{value:"",children:"Select Company"}),w?(0,A.jsx)(m.A.Option,{disabled:!0,children:(0,A.jsx)(y.A,{})}):null===Q||void 0===Q?void 0:Q.map(e=>(0,A.jsx)(m.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),D.PDCompanyId&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.PDCompanyId.message})]}),("admin"===L||"company"===L||"companyDirector"===L)&&(0,A.jsxs)("div",{children:[(0,A.jsxs)("label",{className:"".concat(u.Q0),children:["Branch ",(0,A.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,A.jsx)(r.xI,{name:"PDBranchId",control:f,rules:{required:"Branch is required"},render:e=>{let{field:a}=e;return(0,A.jsxs)(m.A,(0,s.A)((0,s.A)({},a),{},{className:"".concat(u.Hy," ").concat(D.PDBranchId?"border-[1px] ":"border-gray-300"),filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Branch",children:[(0,A.jsx)(m.A.Option,{value:"",children:"Select Branch"}),q?(0,A.jsx)(m.A.Option,{disabled:!0,children:(0,A.jsx)(y.A,{})}):null===Z||void 0===Z?void 0:Z.map(e=>(0,A.jsx)(m.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),D.PDBranchId&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.PDBranchId.message})]})]}),(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2",children:[(0,A.jsxs)("div",{className:"",children:[(0,A.jsxs)("label",{className:"".concat(u.Q0),children:["Name ",(0,A.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,A.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("name",{required:"Name is required"})),{},{className:"placeholder: ".concat(u.Ol," ").concat(D.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Name"})),D.name&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.name.message})]}),(0,A.jsxs)("div",{className:"",children:[(0,A.jsxs)("label",{className:"".concat(u.Q0),children:["Email ",(0,A.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,A.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(u.Ol," ").concat(D.email?"border-[1px] ":"border-gray-300"),placeholder:"Enter Email"})),D.email&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.email.message})]}),(0,A.jsxs)("div",{className:"",children:[(0,A.jsx)("label",{className:"".concat(u.Q0),children:"Secondary Email"}),(0,A.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("Secemail",{pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(u.Ol," ").concat(D.Secemail?"border-[1px] ":"border-gray-300"),placeholder:"Enter Secondary Email"})),D.Secemail&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.Secemail.message})]}),(0,A.jsxs)("div",{className:"",children:[(0,A.jsx)("label",{className:"".concat(u.Q0),children:"PAN Number"}),(0,A.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("penNumber",{pattern:{value:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,message:"Invalid PAN card format (ABCDE1234E)"}})),{},{className:" ".concat(u.Ol," ").concat(D.penNumber?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter PAN number"})),D.penNumber&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.penNumber.message})]}),(0,A.jsxs)("div",{className:"",children:[(0,A.jsx)("label",{className:"".concat(u.Q0),children:"Aadhar Number"}),(0,A.jsx)("input",(0,s.A)((0,s.A)({type:"number"},a("adharNumber",{minLength:{value:12,message:"Must be exactly 12 digits"},maxLength:{value:12,message:"Must be exactly 12 digits"}})),{},{className:" ".concat(u.Ol," ").concat(D.adharNumber?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Aadhar number",maxLength:12,onInput:e=>{e.target.value.length>12&&(e.target.value=e.target.value.slice(0,12))}})),D.adharNumber&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.adharNumber.message})]}),(0,A.jsxs)("div",{className:"",children:[(0,A.jsx)("label",{className:"".concat(u.Q0),children:"GST Number"}),(0,A.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("GSTNumber",{pattern:{value:/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}[Z]{1}[0-9A-Z]{1}$/,message:"Invalid GST Number format (29AAACH7409R1ZX)"}})),{},{className:" ".concat(u.Ol," ").concat(D.GSTNumber?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter GST number",maxLength:15})),D.GSTNumber&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.GSTNumber.message})]}),(0,A.jsxs)("div",{className:"flex gap-3",children:[(0,A.jsxs)("div",{className:"w-[150px]",children:[(0,A.jsxs)("label",{className:"".concat(u.Q0),children:["code",(0,A.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,A.jsx)(r.xI,{control:f,name:"code",rules:{required:"code is required"},render:e=>{let{field:a}=e;return(0,A.jsx)(N.A,{field:a,errors:D})}}),D.code&&(0,A.jsx)("p",{className:"text-red-500 text-sm mt-3",children:D.code.message})]}),(0,A.jsxs)("div",{className:"w-full",children:[(0,A.jsxs)("label",{className:"".concat(u.Q0),children:["Mobile No",(0,A.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,A.jsx)("input",(0,s.A)((0,s.A)({type:"number"},a("number",{required:"Mobile No is required",minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(u.Ol," ").concat(D.number?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),D.number&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.number.message})]})]}),(0,A.jsxs)("div",{className:"flex gap-3",children:[(0,A.jsxs)("div",{className:"w-[150px]",children:[(0,A.jsx)("label",{className:"".concat(u.Q0),children:"code"}),(0,A.jsx)(r.xI,{control:f,name:"Seccode",render:e=>{let{field:a}=e;return(0,A.jsx)(N.A,{field:a,errors:D})}}),D.Seccode&&(0,A.jsx)("p",{className:"text-red-500 text-sm mt-3",children:D.Seccode.message})]}),(0,A.jsxs)("div",{className:"w-full",children:[(0,A.jsx)("label",{className:"".concat(u.Q0),children:"Secondary Mobile No"}),(0,A.jsx)("input",(0,s.A)((0,s.A)({type:"number"},a("Secnumber",{minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(u.Ol," ").concat(D.Secnumber?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),D.Secnumber&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.Secnumber.message})]})]}),(0,A.jsxs)("div",{className:"flex gap-3",children:[(0,A.jsxs)("div",{className:"w-[150px]",children:[(0,A.jsx)("label",{className:"".concat(u.Q0),children:"code"}),(0,A.jsx)(r.xI,{control:f,name:"lancode",render:e=>{let{field:a}=e;return(0,A.jsx)(N.A,{field:a,errors:D})}}),D.lancode&&(0,A.jsx)("p",{className:"text-red-500 text-sm mt-3",children:D.lancode.message})]}),(0,A.jsxs)("div",{className:"w-full",children:[(0,A.jsx)("label",{className:"".concat(u.Q0),children:"LandLine No"}),(0,A.jsx)("input",(0,s.A)((0,s.A)({type:"number"},a("lannumber",{minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(u.Ol," ").concat(D.lannumber?"border-[1px] ":"border-gray-300"),placeholder:"Enter LandLine No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),D.lannumber&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.lannumber.message})]})]})]}),(0,A.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-2",children:(0,A.jsxs)("div",{className:"col-span-2",children:[(0,A.jsx)("label",{className:"".concat(u.Q0),children:"Address"}),(0,A.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("PDAddress",{})),{},{className:"".concat(u.Ol," ").concat(D.PDAddress?"border-[1px] ":"border-gray-300"),placeholder:"Enter Address "})),D.PDAddress&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.PDAddress.message})]})}),(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 md:gap-8 gap-3 md:my-2",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{className:"".concat(u.Q0),children:"Country"}),(0,A.jsx)(r.xI,{control:f,name:"PDCountry",render:e=>{var a;let{field:l}=e;return(0,A.jsx)(o.A,(0,s.A)((0,s.A)({className:"w-full"},l),{},{onChange:e=>{l.onChange(e)},options:null===M||void 0===M||null===(a=M.docs)||void 0===a?void 0:a.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,A.jsx)("input",{placeholder:"Enter Country",onFocus:()=>{E((0,x.dw)({isPagination:!1,text:"",sort:!0,status:!0}))},className:"".concat(u.Ol," ").concat(D.PDCountry?"border-[1px] ":"border-gray-300")})}))}}),D.PDCountry&&(0,A.jsx)("p",{className:"".concat(u.ci),children:D.PDCountry.message})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{className:"".concat(u.Q0),children:"State"}),(0,A.jsx)(r.xI,{control:f,name:"PDState",render:e=>{var a;let{field:l}=e;return(0,A.jsx)(o.A,(0,s.A)((0,s.A)({className:"w-full"},l),{},{onChange:e=>l.onChange(e),options:null===B||void 0===B||null===(a=B.docs)||void 0===a?void 0:a.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,A.jsx)("input",{placeholder:"Enter State",onFocus:()=>{E((0,h.mz)({isPagination:!1,text:"",countryName:H,sort:!0,status:!0}))},className:"".concat(u.Ol," ").concat(D.PDState?"border-[1px] ":"border-gray-300")})}))}}),D.PDState&&(0,A.jsx)("p",{className:"".concat(u.ci),children:D.PDState.message})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{className:"".concat(u.Q0),children:"City"}),(0,A.jsx)(r.xI,{control:f,name:"PDCity",render:e=>{var a;let{field:l}=e;return(0,A.jsx)(o.A,(0,s.A)((0,s.A)({className:"w-full"},l),{},{onChange:e=>l.onChange(e),options:null===T||void 0===T||null===(a=T.docs)||void 0===a?void 0:a.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,A.jsx)("input",{onFocus:()=>{E((0,v.cY)({isPagination:!1,text:"",sort:!0,status:!0,stateName:V}))},placeholder:"Enter City",className:"".concat(u.Ol," ").concat(D.PDCity?"border-[1px] ":"border-gray-300")})}))}}),D.PDCity&&(0,A.jsx)("p",{className:"".concat(u.ci),children:D.PDCity.message})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"".concat(u.Q0),children:"Pin Code"}),(0,A.jsx)(r.xI,{control:f,name:"PDPin",render:e=>{let{field:a}=e;return(0,A.jsx)("input",(0,s.A)((0,s.A)({},a),{},{type:"number",placeholder:"Enter Pin Code",maxLength:6,onInput:e=>{e.target.value.length>6&&(e.target.value=e.target.value.slice(0,6))},className:"".concat(u.Ol," ").concat(D.PDPin?"border-[1px] ":"border-gray-300")}))}}),D.PDPin&&(0,A.jsx)("p",{className:"text-red-500 text-sm",children:D.PDPin.message})]})]}),(0,A.jsx)("div",{className:"flex justify-end ",children:(0,A.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded"),children:e?(0,A.jsx)(j.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=8288.d157a144.chunk.js.map