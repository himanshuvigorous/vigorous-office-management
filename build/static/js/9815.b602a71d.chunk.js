"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[9815],{9815:(e,l,d)=>{d.r(l),d.d(l,{default:()=>j});var i=d(89379),s=d(65043),a=d(39160),n=d(83003),t=d(73216),o=d(24858),r=d(31174),c=d(735),u=d(15187),m=d(78729),v=d(31744),p=(d(14118),d(91579)),h=d(65512),x=d(17995),y=d(70579);const j=function(){const{loading:e}=(0,n.d4)(e=>e.clientNews),{register:l,handleSubmit:d,setValue:j,control:f,formState:{errors:N}}=(0,o.mN)(),{userCompanyId:A,userDirectorId:I,userBranchId:g,userType:b}=(0,c.A)(),T=(0,n.wA)(),D=(0,t.Zp)(),{clientnewsIdEnc:_}=(0,t.g)(),C=(0,r.Yc)(_),S=JSON.parse(localStorage.getItem("user_info_".concat(u.AU))),{companyList:O,companyListLoading:P}=(0,n.d4)(e=>e.company),{branchList:w,branchListloading:B}=(0,n.d4)(e=>e.branch),{clientNewsDetails:q}=(0,n.d4)(e=>e.clientNews),E=(0,o.FH)({control:f,name:"PDCompanyId",defaultValue:A}),L=((0,o.FH)({control:f,name:"directorId",defaultValue:I}),(0,o.FH)({control:f,name:"PDBranchId",defaultValue:g}));return(0,s.useEffect)(()=>{(E||"company"===(null===S||void 0===S?void 0:S.userType)||"companyDirector"===(null===S||void 0===S?void 0:S.userType))&&T((0,v.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===S||void 0===S?void 0:S.userType)?E:"company"===(null===S||void 0===S?void 0:S.userType)?null===S||void 0===S?void 0:S._id:null===S||void 0===S?void 0:S.companyId}))},[E]),(0,s.useEffect)(()=>{"admin"===(null===S||void 0===S?void 0:S.userType)&&T((0,m.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,s.useEffect)(()=>{let e={_id:C};T((0,p.hn)(e))},[]),(0,s.useEffect)(()=>{q&&(j("PDCompanyId",null===q||void 0===q?void 0:q.companyId),j("PDBranchId",null===q||void 0===q?void 0:q.branchId),j("title",null===q||void 0===q?void 0:q.title),j("status",null!==q&&void 0!==q&&q.status?"true":"false"))},[q]),(0,y.jsx)(a.A,{children:(0,y.jsx)("div",{className:"gap-4",children:(0,y.jsxs)("form",{autoComplete:"off",className:"mt-3",onSubmit:d(e=>{const l={_id:C,companyId:"admin"===(null===S||void 0===S?void 0:S.userType)?E:"company"===(null===S||void 0===S?void 0:S.userType)?null===S||void 0===S?void 0:S._id:null===S||void 0===S?void 0:S.companyId,branchId:"company"===(null===S||void 0===S?void 0:S.userType)||"admin"===(null===S||void 0===S?void 0:S.userType)||"companyDirector"===(null===S||void 0===S?void 0:S.userType)?L:"companyBranch"===(null===S||void 0===S?void 0:S.userType)?null===S||void 0===S?void 0:S._id:null===S||void 0===S?void 0:S.branchId,directorId:"",title:null===e||void 0===e?void 0:e.title,status:"true"===(null===e||void 0===e?void 0:e.status)};T((0,p.E7)(l)).then(e=>{e.error||D(-1)})}),children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===S||void 0===S?void 0:S.userType)&&(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("label",{className:"".concat(u.Q0),children:["Company ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(o.xI,{control:f,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{var l;let{field:d}=e;return(0,y.jsxs)(h.A,(0,i.A)((0,i.A)({},d),{},{defaultValue:"",className:"".concat(u.Hy," "),children:[(0,y.jsx)(h.A.Option,{value:"",children:"Select Company"}),P?(0,y.jsx)(h.A.Option,{disabled:!0,children:(0,y.jsx)(x.A,{})}):null===(l=(0,u._o)(O,"fullName"))||void 0===l?void 0:l.map(e=>(0,y.jsx)(h.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),N.PDCompanyId&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:N.PDCompanyId.message})]}),("admin"===(null===S||void 0===S?void 0:S.userType)||"company"===(null===S||void 0===S?void 0:S.userType)||"companyDirector"===(null===S||void 0===S?void 0:S.userType))&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"".concat(u.Q0),children:["Branch ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(o.xI,{control:f,name:"PDBranchId",rules:{required:"Branch is required"},render:e=>{var l;let{field:d}=e;return(0,y.jsxs)(h.A,(0,i.A)((0,i.A)({},d),{},{defaultValue:"",className:"".concat(u.Hy," "),showSearch:!0,filterOption:(e,l)=>String(null===l||void 0===l?void 0:l.children).toLowerCase().includes(e.toLowerCase()),children:[(0,y.jsx)(h.A.Option,{value:"",children:"Select Branch"}),B?(0,y.jsx)(h.A.Option,{disabled:!0,children:(0,y.jsx)(x.A,{})}):null===(l=(0,u._o)(w,"fullName"))||void 0===l?void 0:l.map(e=>(0,y.jsx)(h.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),N.PDBranchId&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:N.PDBranchId.message})]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("label",{className:"".concat(u.Q0),children:["Title ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)("input",(0,i.A)((0,i.A)({type:"text"},l("title",{required:"Title is required"})),{},{className:"placeholder: ".concat(u.Ol," ").concat(N.title?"border-[1px] ":"border-gray-300"),placeholder:"Enter Title"})),N.title&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:N.title.message})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"".concat(u.Q0),children:["Status ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(o.xI,{control:f,name:"status",rules:{required:"Status is required"},render:e=>{let{field:l}=e;return(0,y.jsxs)(h.A,(0,i.A)((0,i.A)({},l),{},{defaultValue:"",className:"".concat(u.Hy," "),children:[(0,y.jsx)(h.A.Option,{value:"",children:"Select Status"}),(0,y.jsx)(h.A.Option,{value:"true",children:"Active"}),(0,y.jsx)(h.A.Option,{value:"false",children:"Inactive"})]}))}}),N.status&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:N.status.message})]})]}),(0,y.jsx)("div",{className:"flex justify-end ",children:(0,y.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 mt-3 rounded"),children:e?(0,y.jsx)(x.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=9815.b602a71d.chunk.js.map