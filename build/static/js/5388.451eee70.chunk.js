"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[5388],{5388:(e,s,d)=>{d.r(s),d.d(s,{default:()=>y});var t=d(89379),a=d(24858),l=d(83003),n=d(73216),r=d(65043),i=d(31174),c=d(15187),o=(d(78729),d(33007)),m=d(40088),u=d(65337),p=d(39160),x=d(71985),v=d(65512),h=d(91686),N=d(89427),j=d(70579);const y=function(){const{loading:e}=(0,l.d4)(e=>e.taskType),{control:s,register:d,handleSubmit:y,setValue:g,formState:{errors:f}}=(0,a.mN)(),[I,b]=(0,r.useState)(!0),A=(0,l.wA)(),S=(0,n.Zp)(),{gstTypeList:T,loading:C}=(0,l.d4)(e=>e.gstType),{taskTypeIdEnc:k}=(0,n.g)(),w=(0,i.Yc)(k),{taskTypeDetails:H}=(0,l.d4)(e=>e.taskType),{departmentListData:O,depListLoading:q}=(0,l.d4)(e=>e.department);return(0,r.useEffect)(()=>{(async()=>{try{const e={_id:w};await A((0,m.gX)(e)).then(e=>{b(!1)})}catch(e){console.error("Error fetching data:",e)}})()},[]),(0,r.useEffect)(()=>{H&&A((0,o.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:null===H||void 0===H?void 0:H.companyId})).then(e=>{g("departmentId",null===H||void 0===H?void 0:H.departmentId)})},[H]),(0,r.useEffect)(()=>{if(H){const e={directorId:"",companyId:null===H||void 0===H?void 0:H.companyId,branchId:null===H||void 0===H?void 0:H.branchId,text:"",sort:!0,status:"",isPagination:!0};A((0,x.Bw)(e)).then(e=>{e.error||(g("designationName",null===H||void 0===H?void 0:H.name),g("companyId",null===H||void 0===H?void 0:H.companyId),g("departmentId",null===H||void 0===H?void 0:H.departmentId),g("fees",null===H||void 0===H?void 0:H.fees),g("taskName",null===H||void 0===H?void 0:H.name),g("gstTypeId",null===H||void 0===H?void 0:H.gstTypeId),g("HSNCode",null===H||void 0===H?void 0:H.HSNCode),g("status",null!==H&&void 0!==H&&H.status?"true":"false"))})}},[H]),(0,j.jsx)(p.A,{children:I?(0,j.jsx)(u.A,{}):(0,j.jsx)("div",{className:"gap-4",children:(0,j.jsxs)("form",{autoComplete:"off",className:"mt-0",onSubmit:y(e=>{const s={_id:w,companyId:null===H||void 0===H?void 0:H.companyId,directorId:"",branchId:null===H||void 0===H?void 0:H.branchId,departmentId:null===e||void 0===e?void 0:e.departmentId,name:null===e||void 0===e?void 0:e.taskName,fees:null===e||void 0===e?void 0:e.fees,status:"true"===(null===e||void 0===e?void 0:e.status),gstTypeId:null===e||void 0===e?void 0:e.gstTypeId,HSNCode:null===e||void 0===e?void 0:e.HSNCode};A((0,m.t0)(s)).then(e=>{e.error||S(-1)})}),children:[(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(c.Q0),children:["Department",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)(a.xI,{name:"departmentId",control:s,rules:{required:"department is required"},render:e=>{let{field:s}=e;return(0,j.jsxs)(v.A,(0,t.A)((0,t.A)({},s),{},{className:"".concat(c.Hy," ").concat(f.departmentId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,s)=>String(null===s||void 0===s?void 0:s.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Department",children:[(0,j.jsx)(v.A.Option,{value:"",children:"Select Department"}),q?(0,j.jsx)(v.A.Option,{disabled:!0,children:(0,j.jsx)(N.A,{})}):null===O||void 0===O?void 0:O.map(e=>(0,j.jsx)(v.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]}))}}),f.departmentId&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:f.departmentId.message})]}),(0,j.jsxs)("div",{className:"w-full",children:[(0,j.jsxs)("label",{className:"".concat(c.Q0),children:["Task Name ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)("input",(0,t.A)((0,t.A)({type:"text"},d("taskName",{required:"Task Name is required"})),{},{className:"placeholder: ".concat(c.Ol," ").concat(f.taskName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Task Name"})),f.taskName&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:f.taskName.message})]}),(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(c.Q0),children:["Gst Type",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsxs)("select",(0,t.A)((0,t.A)({onFocus:()=>{const e={directorId:"",companyId:null===H||void 0===H?void 0:H.companyId,branchId:null===H||void 0===H?void 0:H.branchId,text:"",sort:!0,status:"",isPagination:!0};A((0,x.Bw)(e))}},d("gstTypeId",{required:"GST Type is required"})),{},{className:" ".concat(c.Ol," ").concat(f.gstTypeId?"border-[1px] ":"border-gray-300"),children:[(0,j.jsx)("option",{className:"",value:"",children:"Select Gst Type"}),C?(0,j.jsx)(v.A.Option,{disabled:!0,children:(0,j.jsx)(N.A,{})}):null===T||void 0===T?void 0:T.map(e=>(0,j.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.percentage," %"]}))]})),f.gstTypeId&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:f.gstTypeId.message})]}),(0,j.jsxs)("div",{className:"w-full",children:[(0,j.jsxs)("label",{className:"".concat(c.Q0),children:["HSNCode ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)("input",(0,t.A)((0,t.A)({type:"number"},d("HSNCode",{required:"HSNCode is required"})),{},{className:"placeholder: ".concat(c.Ol," ").concat(f.HSNCode?"border-[1px] ":"border-gray-300"),placeholder:"Enter HSNCode"})),f.HSNCode&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:f.HSNCode.message})]}),(0,j.jsxs)("div",{className:"w-full",children:[(0,j.jsxs)("label",{className:"".concat(c.Q0),children:["Fees ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)("input",(0,t.A)((0,t.A)({type:"number"},d("fees",{required:"Fees is required"})),{},{className:"placeholder: ".concat(c.Ol," ").concat(f.fees?"border-[1px] ":"border-gray-300"),placeholder:"Enter Fees"})),f.fees&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:f.fees.message})]}),(0,j.jsxs)("div",{className:"w-full",children:[(0,j.jsxs)("label",{className:"".concat(c.Q0),children:["Status ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)(a.xI,{name:"status",control:s,render:e=>{let{field:s}=e;return(0,j.jsxs)(v.A,(0,t.A)((0,t.A)({},s),{},{className:"".concat(c.Hy," ").concat(f.status?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,s)=>String(null===s||void 0===s?void 0:s.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Status",children:[(0,j.jsx)(v.A.Option,{value:"true",children:"Active"}),(0,j.jsx)(v.A.Option,{value:"false",children:"In Active"})]}))}}),f.status&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:f.status.message})]})]}),(0,j.jsx)("div",{className:"flex justify-end ",children:(0,j.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,j.jsx)("div",{className:"text-center flex justify-center items-center",children:(0,j.jsx)(h.A,{})}):"Submit"})})]})})})}},65337:(e,s,d)=>{d.d(s,{A:()=>l});var t=d(91686),a=d(70579);const l=function(){return(0,a.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,a.jsx)(t.A,{size:"large"})})}}}]);
//# sourceMappingURL=5388.451eee70.chunk.js.map