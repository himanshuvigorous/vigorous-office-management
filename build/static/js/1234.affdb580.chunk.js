/*! For license information please see 1234.affdb580.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[1234],{11645:(e,t,s)=>{s.d(t,{A:()=>a});const a=s(30227).A},21234:(e,t,s)=>{s.r(t),s.d(t,{default:()=>F});var a=s(89379),l=s(65043),i=s(24858),n=s(39160),d=s(83003),o=s(15187),r=s(73216),c=s(31174),m=s(60184),x=(s(33007),s(42837)),u=s(88967),v=s(69527),h=(s(12208),s(40088),s(70337),s(86178)),p=s.n(h),g=s(50423),j=s(3825),N=s(7650),f=s(96651),b=s(65512),y=(s(30064),s(6720)),w=(s(55971),s(29813)),_=s(11645),A=s(53913),k=s(13382),C=s(99472),P=s(47419),z=s(54522),S=s(58168);const D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};var I=s(22172),T=function(e,t){return l.createElement(I.A,(0,S.A)({},e,{ref:t,icon:D}))};const R=l.forwardRef(T);const O={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};var Y=function(e,t){return l.createElement(I.A,(0,S.A)({},e,{ref:t,icon:O}))};const H=l.forwardRef(Y);var V=s(76191),B=s(70579);const{Text:M}=w.A,W=e=>{let{visible:t,onCancel:s,fileData:a=[],domain:i}=e;const[n,d]=(0,l.useState)("grid"),o=e=>e.split(".").pop().toLowerCase(),r=e=>{const t=o(e);return["jpg","jpeg","png","gif","bmp","webp","svg"].includes(t)?"image":"pdf"===t?"pdf":["doc","docx"].includes(t)?"word":["xls","xlsx"].includes(t)?"excel":["ppt","pptx"].includes(t)?"powerpoint":["mp4","mov","avi","wmv"].includes(t)?"video":["mp3","wav","ogg"].includes(t)?"audio":["zip","rar","7z"].includes(t)?"archive":["txt","text"].includes(t)?"text":"other"},c=e=>{const t=32;switch(e){case"pdf":return(0,B.jsx)(m.kl1,{size:t,color:"#e74c3c"});case"word":return(0,B.jsx)(m.WLb,{size:t,color:"#3498db"});case"excel":return(0,B.jsx)(m.Ru,{size:t,color:"#27ae60"});case"powerpoint":return(0,B.jsx)(m.rgF,{size:t,color:"#e67e22"});case"image":return(0,B.jsx)(m.R1W,{size:t,color:"#8e44ad"});case"video":return(0,B.jsx)(m.Zgf,{size:t,color:"#9b59b6"});case"audio":return(0,B.jsx)(m.EVA,{size:t,color:"#f1c40f"});case"archive":return(0,B.jsx)(m.aw1,{size:t,color:"#7f8c8d"});case"text":return(0,B.jsx)(m.t69,{size:t,color:"#95a5a6"});default:return(0,B.jsx)(m.Gp9,{size:t,color:"#bdc3c7"})}},x=e=>{const t="".concat(i,"/").concat(e);window.open(t,"_blank")};return(0,B.jsxs)(A.A,{visible:t,onCancel:s,title:"Attachments (".concat(a.length,")"),width:900,footer:[(0,B.jsx)(k.Ay,{onClick:s,children:"Close"},"close")],children:[(0,B.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:16},children:[(0,B.jsx)(f.A,{title:"Grid View",children:(0,B.jsx)(k.Ay,{icon:(0,B.jsx)(R,{}),type:"grid"===n?"primary":"default",onClick:()=>d("grid"),style:{marginRight:8}})}),(0,B.jsx)(f.A,{title:"List View",children:(0,B.jsx)(k.Ay,{icon:(0,B.jsx)(H,{}),type:"list"===n?"primary":"default",onClick:()=>d("list")})})]}),0===a.length?(0,B.jsx)(C.A,{description:"No attachments available"}):"grid"===n?(0,B.jsx)(P.A,{gutter:[16,16],children:a.map((e,t)=>((e,t)=>{const s=r(e),a=e.split("/").pop(),l="".concat(i,"/").concat(e);return"image"===s?(0,B.jsx)(_.A,{span:8,children:(0,B.jsxs)("div",{onClick:()=>x(e),style:{cursor:"pointer",overflow:"hidden",borderRadius:8,border:"1px solid #f0f0f0",padding:8,textAlign:"center"},children:[(0,B.jsx)("img",{src:l,alt:a,style:{width:"100%",height:150,objectFit:"cover",borderRadius:4}}),(0,B.jsx)(M,{ellipsis:!0,style:{display:"block",marginTop:8},children:a}),(0,B.jsx)(M,{type:"secondary",style:{fontSize:12},children:o(a).toUpperCase()})]})},t):(0,B.jsx)(_.A,{span:8,children:(0,B.jsxs)("div",{onClick:()=>x(e),style:{border:"1px solid #f0f0f0",padding:16,borderRadius:8,textAlign:"center",cursor:"pointer"},children:[(0,B.jsx)("div",{children:c(s)}),(0,B.jsx)(M,{ellipsis:!0,style:{display:"block",marginTop:8},children:a}),(0,B.jsx)(M,{type:"secondary",style:{fontSize:12},children:o(a).toUpperCase()})]})},t)})(e,t))}):(0,B.jsx)(z.A,{itemLayout:"horizontal",dataSource:a,renderItem:(e,t)=>{const s=r(e),a=e.split("/").pop();return(0,B.jsxs)(z.A.Item,{onClick:()=>x(e),style:{cursor:"pointer"},children:[(0,B.jsx)(z.A.Item.Meta,{avatar:c(s),title:(0,B.jsx)(M,{strong:!0,children:a}),description:"".concat(o(a).toUpperCase()," file")}),(0,B.jsxs)("div",{style:{color:"#1890ff"},children:[(0,B.jsx)(V.A,{style:{marginRight:4}}),"Open"]})]})}})]})},F=()=>{var e,t,s,h,w,_;const{taskIdEnc:A,mainType:k}=(0,r.g)(),C=(0,c.Yc)(A),P=(0,c.Yc)(k),z=(0,r.Zp)(),S=(0,d.wA)(),{register:D,control:I,handleSubmit:T,watch:R,setValue:O,getValues:Y,reset:H,formState:{errors:V}}=(0,i.mN)(),[M,F]=(0,l.useState)(!1),{employeList:L}=(0,d.d4)(e=>e.employe),[J,E]=(JSON.parse(localStorage.getItem("user_info_".concat(o.AU))),(0,l.useState)(!1)),[q,Q]=(0,l.useState)([]),{taskDetailsData:G,loading:U}=(0,d.d4)(e=>e.addTask);(0,l.useEffect)(()=>{S((0,v.At)({_id:C}))},[]);const[Z,$]=(0,l.useState)([]),K=(0,i.FH)({control:I,name:"status",defaultValue:""});return(0,l.useEffect)(()=>{const e={companyId:null===G||void 0===G?void 0:G.companyId,branchId:null===G||void 0===G?void 0:G.branchId,departmentId:"reAssign_to_other"==K?null===G||void 0===G?void 0:G.departmentId:"",directorId:"",text:"",sort:!0,isManager:"Pending_at_manager"==K||"manager"===P&&"Pending_at_colleague"==K,status:!0,isPagination:!1};"Pending_at_manager"!=K&&"Pending_at_colleague"!=K&&"reAssign_to_other"!=K||S((0,x.qV)(e))},[K]),(0,B.jsx)(n.A,{children:U?(0,B.jsxs)("div",{className:"mt-3 p-4",children:[(0,B.jsxs)("div",{className:"rounded-md grid sm:grid-cols-[1fr_1fr] grid-cols-1 gap-2",children:[(0,B.jsx)("div",{className:"rounded-md my-2 bg-white p-4 shadow-md",children:(0,B.jsx)(N.A,{active:!0,paragraph:{rows:6}})}),(0,B.jsx)("div",{className:"rounded-md my-2 bg-white p-4 shadow-md",children:(0,B.jsx)(N.A,{active:!0,paragraph:{rows:6}})})]}),(0,B.jsxs)("div",{className:"border rounded-t-xl mt-4 bg-white p-4 shadow-md",children:[(0,B.jsx)(N.A,{active:!0,paragraph:{rows:4}}),(0,B.jsx)(N.A.Button,{active:!0,size:"large",style:{width:200}})]})]}):(0,B.jsxs)("section",{children:[(0,B.jsxs)("div",{className:"mt-3 ",children:[(0,B.jsx)("div",{children:(0,B.jsxs)("div",{className:"rounded-md grid sm:grid-cols-[1fr_1fr] grid-cols-1 gap-2",children:[(0,B.jsx)("div",{className:" rounded-md my-2",children:(0,B.jsx)("div",{className:"flex justify-between items-center mb-3 rounded-t-md",children:(0,B.jsxs)("table",{className:"w-full border-collapse rounded-xl shadow-md overflow-hidden bg-white",children:[(0,B.jsx)("thead",{className:"text-white bg-header ",children:(0,B.jsxs)("tr",{className:"text-white bg-header ",children:[(0,B.jsx)("th",{children:(0,B.jsx)("div",{className:"mt-2 mb-1 ml-2",children:" Task Details"})}),(0,B.jsx)("th",{children:(0,B.jsx)("div",{className:"mt-2 mb-1 ml-2",children:" "})})]})}),(0,B.jsxs)("tbody",{className:"text-sm text-gray-700",children:[(0,B.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,B.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(g.x5Z,{className:"size-4 text-header text-lg "}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Client Name"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null===G||void 0===G||null===(e=G.clientData)||void 0===e?void 0:e.fullName})]}),(null===G||void 0===G||null===(t=G.clientBranch)||void 0===t?void 0:t.fullName)&&(0,B.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(y.NiP,{className:"size-4 text-header text-lg "}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Client Branch"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null===G||void 0===G||null===(s=G.clientBranch)||void 0===s?void 0:s.fullName})]})]}),(0,B.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,B.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(j.$Sr,{className:"size-4 text-header text-lg "}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Department"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null===G||void 0===G||null===(h=G.departmentData)||void 0===h?void 0:h.name})]}),(0,B.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(m.J4C,{className:"size-4 text-header text-lg"}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Task Name"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null===G||void 0===G?void 0:G.taskName})]})]}),(0,B.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,B.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(m.J4C,{className:"size-4 text-header text-lg"}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Financial Year"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null===G||void 0===G?void 0:G.financialYear})]}),(0,B.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(m.J4C,{className:"size-4 text-header text-lg"}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Fees"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null===G||void 0===G?void 0:G.fee})]})]}),(0,B.jsx)("tr",{className:" hover:bg-indigo-50",children:(0,B.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(m.J4C,{className:"size-4 text-header text-lg"}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Description"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null===G||void 0===G?void 0:G.remarks})]})}),"Completed"===(null===G||void 0===G?void 0:G.status)&&!1===(null===G||void 0===G?void 0:G.isInvoiceGenerated)&&(0,B.jsx)("tr",{className:"hover:bg-indigo-50",children:(0,B.jsx)("td",{className:"p-3 text-gray-600",colSpan:"2",children:(0,B.jsx)("div",{className:"flex items-center justify-center",children:(0,B.jsxs)("button",{onClick:()=>{var e,t,s,a;const l={taskId:null===G||void 0===G?void 0:G._id,taskName:null===G||void 0===G?void 0:G.taskName,clientId:null===G||void 0===G||null===(e=G.clientData)||void 0===e?void 0:e._id,clientName:null===G||void 0===G||null===(t=G.clientData)||void 0===t?void 0:t.fullName,departmentId:null===G||void 0===G||null===(s=G.departmentData)||void 0===s?void 0:s._id,departmentName:null===G||void 0===G||null===(a=G.departmentData)||void 0===a?void 0:a.name,fee:null===G||void 0===G?void 0:G.fee,financialYear:null===G||void 0===G?void 0:G.financialYear,type:null===G||void 0===G?void 0:G.type,monthName:null===G||void 0===G?void 0:G.monthName,monthQuaters:null===G||void 0===G?void 0:G.monthQuaters,remarks:null===G||void 0===G?void 0:G.remarks,dueDate:null===G||void 0===G?void 0:G.dueDate,createdAt:null===G||void 0===G?void 0:G.createdAt,taskTypeId:null===G||void 0===G?void 0:G.taskTypeId,branchId:null===G||void 0===G?void 0:G.branchId,companyId:null===G||void 0===G?void 0:G.companyId},i=(0,c.w)(JSON.stringify(l));z("/admin/invoice/create?taskData=".concat(i))},className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg",type:"button",children:[(0,B.jsx)(m.OiG,{className:"text-white",size:16}),(0,B.jsx)("span",{className:"font-medium",children:"Create Invoice"})]})})})})]})]})})}),(0,B.jsx)("div",{className:" rounded-md my-2",children:(0,B.jsx)("div",{className:"flex justify-between items-center mb-3 rounded-t-md",children:(0,B.jsxs)("table",{className:"w-full border-collapse rounded-xl shadow-md overflow-hidden bg-white",children:[(0,B.jsx)("thead",{className:"text-white bg-header ",children:(0,B.jsxs)("tr",{className:"text-white bg-header ",children:[(0,B.jsx)("th",{className:"text-white bg-header ",children:(0,B.jsx)("div",{className:"mt-2 mb-1 ml-2",children:" Other Details"})}),(0,B.jsx)("th",{className:"text-white bg-header ",children:(0,B.jsx)("div",{className:"mt-2 mb-1 ml-2",children:" "})}),(0,B.jsx)("th",{className:"text-white bg-header ",children:(0,B.jsx)("div",{className:"mt-2 mb-1 ml-2",children:" "})})]})}),(0,B.jsxs)("tbody",{className:"text-sm text-gray-700",children:[(0,B.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,B.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(g.x5Z,{className:"size-4 text-header text-lg"}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Assigned To"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null===G||void 0===G||null===(w=G.assignTaskList)||void 0===w?void 0:w.map((e,t)=>{var s;return null===e||void 0===e||null===(s=e.employeData)||void 0===s?void 0:s.map((e,t)=>"".concat(null===e||void 0===e?void 0:e.fullName," ,"))})})]}),(0,B.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(j.$Sr,{className:"size-4 text-header text-lg"}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Assigned date"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:p()(null===G||void 0===G?void 0:G.createdAt).format("YYYY-MM-DD")})]})]}),(0,B.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,B.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(j.$Sr,{className:"size-4 text-header text-lg"}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Due date"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:p()(null===G||void 0===G?void 0:G.dueDate).format("YYYY-MM-DD")})]}),(0,B.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(m.J4C,{className:"size-4 text-header text-lg"}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Type"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null===G||void 0===G?void 0:G.type})]})]}),(0,B.jsxs)("tr",{className:" hover:bg-indigo-50",children:[""!==(null===G||void 0===G?void 0:G.monthName)&&(0,B.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(m.J4C,{className:"size-4 text-header text-lg"}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Month"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:""===(null===G||void 0===G?void 0:G.monthName)?"not Selected":null===G||void 0===G?void 0:G.monthName})]}),""!==(null===G||void 0===G?void 0:G.monthQuaters)&&(0,B.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(m.J4C,{className:"size-4 text-header text-lg"}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Quarter"})]}),(0,B.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null===(null===G||void 0===G?void 0:G.monthQuaters)?"not Selected":null===G||void 0===G?void 0:G.monthQuaters})]}),""!==(null===G||void 0===G?void 0:G.financialYear)&&(0,B.jsxs)("td",{className:"p-3 invisible text-gray-600",children:[(0,B.jsxs)("div",{className:"flex  items-center gap-2",children:[(0,B.jsx)(m.J4C,{className:"size-4 text-header text-lg"}),(0,B.jsx)("span",{className:"text-[16px] font-medium",children:"Financial Year"})]}),(0,B.jsx)("span",{className:"block  text-[15px] ml-4 font-light mt-1",children:null===(null===G||void 0===G?void 0:G.financialYear)?"not Selected":null===G||void 0===G?void 0:G.financialYear})]})]})]})]})})})]})}),(0,B.jsxs)("div",{className:"border rounded-t-xl",children:[(0,B.jsx)("div",{className:"w-full overflow-auto rounded-t-xl",children:(0,B.jsxs)("table",{className:"min-w-full rounded-t-xl",children:[(0,B.jsx)("thead",{className:"bg-header text-white rounded-t-xl",children:(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{className:"p-2 text-sm whitespace-nowrap",children:"Commented By"}),(0,B.jsx)("td",{className:"p-2 text-sm whitespace-nowrap",children:"Commented"}),(0,B.jsx)("td",{className:"p-2 text-sm whitespace-nowrap",children:"Status"}),(0,B.jsx)("td",{className:"p-2 text-sm whitespace-nowrap",children:"Task Update"}),(0,B.jsx)("td",{className:"p-2 text-sm whitespace-nowrap",children:"Date"}),(0,B.jsx)("td",{className:"p-2 text-sm whitespace-nowrap",children:"Attachment"})]})}),(0,B.jsx)("tbody",{className:"bg-white",children:(null===G||void 0===G?void 0:G.taskStatusCommentData.length)>0?null===G||void 0===G||null===(_=G.taskStatusCommentData)||void 0===_?void 0:_.map((e,t)=>{var s,a,l,i,n,d,o,r,c,m,x,u,v,h,g,j,N,b,w;return(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{className:"whitespace-nowrap border-none p-2 !text-sm capitalize",children:null===e||void 0===e||null===(s=e.creatorData)||void 0===s?void 0:s.fullName}),(0,B.jsx)("td",{className:"whitespace-nowrap border-none p-2 !text-sm min-w-[300px] max-w-[300px] text-wrap",children:null===e||void 0===e?void 0:e.message}),(0,B.jsx)("td",{className:"whitespace-nowrap border-none p-2 !text-sm",children:(0,B.jsx)("span",{className:"\n                              ".concat("Assigned"===(null===e||void 0===e?void 0:e.status)?"bg-blue-500 text-white":"Accepted"===(null===e||void 0===e?void 0:e.status)?"bg-green-500 text-white":"Pending_at_client"===(null===e||void 0===e?void 0:e.status)?"bg-yellow-300 text-black":"Pending_at_department"===(null===e||void 0===e?void 0:e.status)?"bg-purple-300 text-black":"Pending_at_colleague"===(null===e||void 0===e?void 0:e.status)?"bg-teal-300 text-black":"Pending_at_manager"===(null===e||void 0===e?void 0:e.status)?"bg-orange-300 text-black":"Work_in_progress"===(null===e||void 0===e?void 0:e.status)?"bg-indigo-500 text-white":"Pending_for_approval"===(null===e||void 0===e?void 0:e.status)?"bg-pink-300 text-black":"Pending_for_fees"===(null===e||void 0===e?void 0:e.status)?"bg-gray-400 text-black":"Completed"===(null===e||void 0===e?void 0:e.status)?"bg-green-600 text-white":"Task_Stop"===(null===e||void 0===e?void 0:e.status)?"bg-red-600 text-white":"Rejected"===(null===e||void 0===e?void 0:e.status)?"bg-rose-800 text-white":"reAssign_to_other"===(null===e||void 0===e?void 0:e.status)?"bg-cyan-700 text-white":"bg-white text-black"," shadow px-2 py-1.5 rounded-xl text-[12px]"),children:null===e||void 0===e||null===(a=e.status)||void 0===a?void 0:a.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())})}),(0,B.jsxs)("td",{className:"whitespace-nowrap border-none p-2 !text-sm",children:["Pending"==(null===e||void 0===e?void 0:e.status)&&"Task Self Assigned By ".concat(null===e||void 0===e||null===(l=e.creatorData)||void 0===l?void 0:l.fullName),"Rejected"==(null===e||void 0===e?void 0:e.status)&&"Self Assign Task Rejected By ".concat(null===e||void 0===e||null===(i=e.creatorData)||void 0===i?void 0:i.fullName),"Pending_at_client"==(null===e||void 0===e?void 0:e.status)&&"Work Pending At Client Side","Pending_at_department"==(null===e||void 0===e?void 0:e.status)&&"Work Pending At Department","Assigned"===(null===e||void 0===e?void 0:e.status)&&"Task Assigned By ".concat(null===e||void 0===e||null===(n=e.creatorData)||void 0===n?void 0:n.fullName),"request_rejected"===(null===e||void 0===e?void 0:e.status)&&"Reassign Request Rejected By ".concat(null===e||void 0===e||null===(d=e.creatorData)||void 0===d?void 0:d.fullName),"Accepted"===(null===e||void 0===e?void 0:e.status)&&"Task Accepted By ".concat(null===e||void 0===e||null===(o=e.creatorData)||void 0===o?void 0:o.fullName),"comment_reply"===(null===e||void 0===e?void 0:e.status)&&"".concat(null===e||void 0===e||null===(r=e.creatorData)||void 0===r?void 0:r.fullName," Replied on Comment"),"Task_Stop"===(null===e||void 0===e?void 0:e.status)&&"Task Stopped ".concat(null===e||void 0===e||null===(c=e.creatorData)||void 0===c?void 0:c.fullName),"Work_in_progress"===(null===e||void 0===e?void 0:e.status)&&"Work In Progress By ".concat(null===e||void 0===e||null===(m=e.creatorData)||void 0===m?void 0:m.fullName),"reAssign_to_other"===(null===e||void 0===e?void 0:e.status)&&"Reassign to ".concat(null!==(x=null===e||void 0===e||null===(u=e.employeIdData)||void 0===u?void 0:u.fullName)&&void 0!==x?x:""," Request Sent"),"re_assigned"===(null===e||void 0===e?void 0:e.status)&&"Reassigned to ".concat(null===e||void 0===e||null===(v=e.employeIdData)||void 0===v?void 0:v.fullName),"Pending_at_colleague"===(null===e||void 0===e?void 0:e.status)&&"Work Pending at ".concat(null===e||void 0===e||null===(h=e.employeIdData)||void 0===h?void 0:h.fullName," Side"),"Pending_at_manager"===(null===e||void 0===e?void 0:e.status)&&"Work Pending at ".concat(null===e||void 0===e||null===(g=e.employeIdData)||void 0===g?void 0:g.fullName," Side"),"Pending_for_approval"===(null===e||void 0===e?void 0:e.status)&&"Work Completion Time -".concat(null===e||void 0===e?void 0:e.workedHRS," Hours"),"Pending_for_fees"===(null===e||void 0===e?void 0:e.status)&&"Task Pending For Fees","re_start"===(null===e||void 0===e?void 0:e.status)&&"Task Restarted By ".concat(null===e||void 0===e||null===(j=e.creatorData)||void 0===j?void 0:j.fullName),"Completed"===(null===e||void 0===e?void 0:e.status)&&"Task Completed By ".concat(null===e||void 0===e||null===(N=e.creatorData)||void 0===N?void 0:N.fullName)]}),(0,B.jsx)("td",{className:"whitespace-nowrap border-none p-2 !text-sm",children:p()(null===e||void 0===e?void 0:e.updatedAt).format("YYYY-MM-DD hh:mm A")}),(0,B.jsx)("td",{children:(null===e||void 0===e||null===(b=e.attachment)||void 0===b?void 0:b.length)>0?(0,B.jsx)(f.A,{placement:"topLeft",title:"View Attachment ( ".concat(null===e||void 0===e?void 0:e.attachment.length,")"),children:(0,B.jsxs)("button",{onClick:()=>{Q(null===e||void 0===e?void 0:e.attachment),E(!0)},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted relative",type:"button",children:[(0,B.jsx)(y.jEG,{className:" text-[#3c8dbc]  ".concat(0==(null===e||void 0===e||null===(w=e.attachment)||void 0===w?void 0:w.length)?"text-gray-400":"hover:text-[#337ab7]"),size:16}),(0,B.jsx)("span",{className:"absolute top-0 right-0 translate-x-1/2 -translate-y-1/2 text-[8px] text-white bg-cyan-700 rounded-full px-1.5 py-0.5",children:null===e||void 0===e?void 0:e.attachment.length})]})}):(0,B.jsx)(f.A,{placement:"topLeft",title:"No Attachment Available",children:(0,B.jsx)("button",{className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,B.jsx)(y.jEG,{className:"hover:text-gray-700 text-gray-800",size:16})})})})]})}):(0,B.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,B.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),("manager"===P&&"Assigned"!==(null===G||void 0===G?void 0:G.status)&&"Rejected"!==(null===G||void 0===G?void 0:G.status)&&"Pending"!==(null===G||void 0===G?void 0:G.status)&&"Completed"!==(null===G||void 0===G?void 0:G.status)||"manager"!==P&&"Completed"!==(null===G||void 0===G?void 0:G.status)&&"Rejected"!==(null===G||void 0===G?void 0:G.status)&&"Pending"!==(null===G||void 0===G?void 0:G.status)&&"Assigned"!==(null===G||void 0===G?void 0:G.status)&&"Task_Stop"!==(null===G||void 0===G?void 0:G.status)&&"Pending_for_approval"!==(null===G||void 0===G?void 0:G.status)&&"reAssign_to_other"!==(null===G||void 0===G?void 0:G.status))&&(0,B.jsx)("form",{autoComplete:"off",className:" mt-2 rounded-xl",onSubmit:T(e=>{S((0,v.v5)({_id:C,description:null===e||void 0===e?void 0:e.comments,status:null===e||void 0===e?void 0:e.status,attachment:Z,workedHRS:"Pending_for_approval"==K?+(null===e||void 0===e?void 0:e.workedHRS):0,employeId:"Pending_at_manager"==K||"Pending_at_colleague"==K||"reAssign_to_other"==K?null===e||void 0===e?void 0:e.employee:null})).then(e=>{null!==e&&void 0!==e&&e.error||(S((0,v.At)({_id:C})),H(),O("status",""),$([]))})}),children:(0,B.jsxs)("div",{className:"p-2",children:[(0,B.jsxs)("div",{className:"Pending_at_manager"==K||"Pending_at_colleague"==K||"reAssign_to_other"==K||"Pending_for_approval"==K?"grid grid-cols-3 gap-2":"grid grid-cols-2 gap-2",children:[(0,B.jsx)("div",{className:"text-header",children:(0,B.jsx)("div",{className:"w-full ",children:(0,B.jsx)("input",(0,a.A)((0,a.A)({},D("comments")),{},{type:"text",placeholder:"write comments",className:"".concat(o.Ol," ")}))})}),(0,B.jsx)("div",{className:"",children:(0,B.jsx)(i.xI,{control:I,name:"status",rules:{required:"status is required"},render:e=>{let{field:t}=e;return(0,B.jsxs)(b.A,(0,a.A)((0,a.A)({},t),{},{defaultValue:"",className:"".concat(o.Hy," mt-2"),children:[(0,B.jsxs)(b.A.Option,{value:"",selected:!0,children:[" ","Select a status"]}),(0,B.jsx)(b.A.Option,{value:"Pending_at_client",children:"Pending at Client"}),(0,B.jsxs)(b.A.Option,{value:"Pending_at_department",children:["Pending at Department"," "]}),"&& ",(0,B.jsxs)(b.A.Option,{value:"Pending_at_colleague",children:[" ","Pending at Colleague"," "]}),"manager"!==P&&(0,B.jsx)(b.A.Option,{value:"Pending_at_manager",children:"Pending at Manager"}),(0,B.jsx)(b.A.Option,{value:"Work_in_progress",children:"Work in Progress"}),"manager"!==P&&(0,B.jsx)(b.A.Option,{value:"reAssign_to_other",children:"Reassign To Other"}),"manager"!==P&&(0,B.jsxs)(b.A.Option,{value:"Pending_for_approval",children:["Pending for Approval"," "]}),(0,B.jsx)(b.A.Option,{value:"Task_Stop",children:"Task Stop"}),"manager"===P&&(0,B.jsx)(b.A.Option,{value:"Completed",children:"Completed"}),(0,B.jsx)(b.A.Option,{value:"Pending_for_fees",children:"Pending for Fees"}),"manager"===P&&(0,B.jsx)(b.A.Option,{value:"re_start",children:"Task Restart"})]}))}})}),("Pending_at_manager"==K||"Pending_at_colleague"==K||"reAssign_to_other"==K)&&(0,B.jsx)("div",{className:"",children:(0,B.jsx)(i.xI,{control:I,name:"employee",rules:{required:"employee is required"},render:e=>{let{field:t}=e;return(0,B.jsxs)(b.A,(0,a.A)((0,a.A)({},t),{},{defaultValue:"",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),className:"".concat(o.Hy," mt-2"),children:[(0,B.jsxs)(b.A.Option,{value:"",selected:!0,children:[" ","Select Employee"]}),null===L||void 0===L?void 0:L.map((e,t)=>(0,B.jsx)(b.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},t))]}))}})}),"Pending_for_approval"==K&&(0,B.jsx)("div",{className:"w-full ",children:(0,B.jsx)("input",(0,a.A)((0,a.A)({},D("workedHRS")),{},{type:"number",placeholder:"Working Hours",className:"".concat(o.Ol," ")}))})]}),(0,B.jsx)("div",{className:"  pt-2 mt-1",children:M?(0,B.jsx)("div",{className:"space-y-2"}):(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsx)("input",{type:"file",onChange:e=>{const t={filePath:e.target.files[0],isVideo:!1,isMultiple:!1};S((0,u.Sg)(t)).then(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.payload)&&void 0!==t&&t.data&&$(t=>{var s;return[...t,null===e||void 0===e||null===(s=e.payload)||void 0===s?void 0:s.data]})})},className:"hidden",id:"file-upload"}),(0,B.jsxs)("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white cursor-pointer",children:[(0,B.jsx)(m.chT,{className:"mr-2"})," Add Attachments"]}),(0,B.jsx)("div",{className:"space-y-2",children:null===Z||void 0===Z?void 0:Z.map((e,t)=>(0,B.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[(0,B.jsxs)("a",{href:"".concat("https://vigapi.vigorousit.com","/public/").concat(e),className:"flex items-center space-x-2",target:"_blank",rel:"noopener noreferrer",children:[(0,B.jsx)(m.chT,{className:"text-gray-500"}),(0,B.jsx)("span",{className:"text-sm text-gray-600",children:e})]}),(0,B.jsx)("button",{type:"button",onClick:()=>(e=>{$(t=>null===t||void 0===t?void 0:t.filter((t,s)=>s!==e))})(t),className:"text-red-500 hover:text-red-700",children:(0,B.jsx)(m.QCr,{})})]},t))})]})}),(0,B.jsx)("div",{className:"flex justify-end col-span-2 mt-4",children:(0,B.jsx)("button",{type:"submit",className:"bg-header text-white p-2 px-4 rounded",children:"Submit"})})]})})]})]}),(0,B.jsx)(W,{visible:J,onCancel:()=>{E(!1)},fileData:q,domain:"".concat("https://vigapi.vigorousit.com","/public")})]})})}},47419:(e,t,s)=>{s.d(t,{A:()=>a});const a=s(74647).A}}]);
//# sourceMappingURL=1234.affdb580.chunk.js.map