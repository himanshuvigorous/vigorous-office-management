"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[4030],{54030:(e,t,l)=>{l.r(t),l.d(t,{default:()=>B});var a=l(65043),s=l(39160),i=l(73216),n=l(35475),d=l(83003),o=l(23156),r=l(47196),c=l(30064),u=l.n(c),x=l(31174),v=l(3538),m=l(15187),p=(l(70337),l(65337),l(69527)),h=l(86178),g=l.n(h),f=l(78872),j=l(31462),b=l(30326),y=l(53913),w=l(65512),N=l(91686),k=l(96651),D=l(4938),A=l(33007),C=l(31744),_=l(42837),I=l(78227),S=l(55971),T=l(83002),Y=l(6720),O=(l(11906),l(89427)),L=l(60446),E=l.n(L),z=l(32620),P=l(60397),M=l(70579);const B=function(){var e,t,l,c,h,L,B,U,R,V,q,F,J,G,W,Q,X,Z,H,K,$;const{branchList:ee,branchListloading:te}=(0,d.d4)(e=>e.branch),le=(0,i.Zp)(),ae=(0,d.wA)(),[se,ie]=(0,a.useState)(!1),[ne,de]=(0,a.useState)(null),oe=JSON.parse(localStorage.getItem("user_info_".concat(m.AU))),{employeList:re}=(0,d.d4)(e=>e.employe),{taskList:ce,totalTaskCount:ue,loading:xe}=(0,d.d4)(e=>e.addTask),{employeDetailsData:ve}=(0,d.d4)(e=>e.employe),{departmentListData:me,loading:pe}=(0,d.d4)(e=>e.department),[he,ge]=(0,a.useState)(!1),[fe,je]=(0,a.useState)(null),[be,ye]=(0,a.useState)({isOpen:!1,data:null}),[we,Ne]=(0,n.ok)(),ke=parseInt(we.get("page"))||1,De=parseInt(we.get("limit"))||10,Ae=we.get("branchId")||"",Ce=we.get("departmentId")||"",_e=we.get("employeeId")||"",Ie=(we.get("status"),we.get("overdue")||""),[Se,Te]=(0,a.useState)(ke),[Ye,Oe]=(0,a.useState)(De),[Le,Ee]=(0,a.useState)(Ae),[ze,Pe]=(0,a.useState)(Ce),[Me,Be]=(0,a.useState)(_e),[Ue,Re]=(0,a.useState)(Ie),[Ve,qe]=(0,a.useState)("");(0,a.useEffect)(()=>{const e=new URLSearchParams;Se>1&&e.set("page",Se),10!==Ye&&e.set("limit",Ye),Le&&e.set("branchId",Le),ze&&e.set("departmentId",ze),Me&&e.set("employeeId",Me),Ue&&e.set("overdue",Ue),Ne(e)},[Se,Ye,Le,ze,Me,Ue,Ve]),(0,a.useEffect)(()=>{Fe()},[Se,Ye,Le,ze,Me,Ue,Ve]);const Fe=()=>{let e={page:Se,limit:Ye,reqPayload:{companyId:"company"===(null===oe||void 0===oe?void 0:oe.userType)?null===oe||void 0===oe?void 0:oe._id:null===oe||void 0===oe?void 0:oe.companyId,branchId:"company"===(null===oe||void 0===oe?void 0:oe.userType)||"admin"===(null===oe||void 0===oe?void 0:oe.userType)||"companyDirector"===(null===oe||void 0===oe?void 0:oe.userType)?Le:"companyBranch"===(null===oe||void 0===oe?void 0:oe.userType)?null===oe||void 0===oe?void 0:oe._id:null===oe||void 0===oe?void 0:oe.branchId,departmentId:ze,directorId:"",clientId:"",employeId:Me,taskTypeId:"",groupId:"",text:Ve,sort:!0,status:"Completed",isOverDue:"true"===Ue||"false"!==Ue&&"",isPagination:!0}};ae((0,p.u3)(e))};(0,a.useEffect)(()=>{if(fe){const e={_id:null===fe||void 0===fe?void 0:fe._id};ae((0,_.yJ)(e))}},[fe]);const Je=()=>{ge(!1),je(null)},Ge=e=>{let t={_id:e};u().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&ae((0,p.dk)(t)).then(e=>{Se>1&&1==(null===ce||void 0===ce?void 0:ce.length)?Te(Number(Se-1)):Fe()})})};(0,a.useEffect)(()=>{ae((0,C.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===oe||void 0===oe?void 0:oe.userType)?null===oe||void 0===oe?void 0:oe._id:null===oe||void 0===oe?void 0:oe.companyId})),ae((0,A.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===oe||void 0===oe?void 0:oe.userType)?null===oe||void 0===oe?void 0:oe._id:null===oe||void 0===oe?void 0:oe.companyId}))},[]);const{canCreate:We,canRead:Qe,canUpdate:Xe,canDelete:Ze}=(0,D.A)();return(0,M.jsxs)(s.A,{onChange:e=>{qe(e)},children:[(0,M.jsx)("section",{children:(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{className:"space-y-1",children:[(0,M.jsxs)("div",{className:"2xl:flex justify-between items-center space-y-1.5 overflow-y-auto py-1",children:[(0,M.jsxs)("div",{className:"grid sm:grid-cols-3 grid-cols-1 md:grid-cols-4 lg:grid-cols-4 xl:flex xl:gap-3 gap-1.5",children:[("company"==(null===oe||void 0===oe?void 0:oe.userType)||"companyDirector"==(null===oe||void 0===oe?void 0:oe.userType))&&(0,M.jsx)("div",{children:(0,M.jsxs)(w.A,{value:Le,onChange:e=>{Ee(e),Te(1)},defaultValue:"",disabled:xe,className:"".concat(m.Lp," "),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,M.jsx)(w.A.Option,{value:"",children:"Select Branch"}),te?(0,M.jsx)(w.A.Option,{disabled:!0,children:(0,M.jsx)(O.A,{})}):null===ee||void 0===ee?void 0:ee.map(e=>(0,M.jsx)(w.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]})}),(0,M.jsx)("div",{className:"",children:(0,M.jsxs)(w.A,{value:ze,onChange:e=>{Pe(e),Te(1)},showSearch:!0,disabled:xe,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),defaultValue:"",className:"".concat(m.Lp," "),children:[(0,M.jsx)(w.A.Option,{value:"",children:"Select Department"}),pe?(0,M.jsx)(w.A.Option,{disabled:!0,children:(0,M.jsx)(O.A,{})}):null===me||void 0===me?void 0:me.map(e=>(0,M.jsx)(w.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]})}),(0,M.jsx)("div",{className:"",children:(0,M.jsx)(w.A,{value:Me,onChange:e=>{Be(e),Te(1)},disabled:xe,showSearch:!0,filterOption:(e,t)=>{var l;return null===t||void 0===t||null===(l=t.label)||void 0===l?void 0:l.toLowerCase().includes(e.toLowerCase())},className:"".concat(m.Lp," "),placeholder:"Select Employee",onFocus:()=>{ae((0,_.qV)({companyId:"company"===(null===oe||void 0===oe?void 0:oe.userType)?null===oe||void 0===oe?void 0:oe._id:null===oe||void 0===oe?void 0:oe.companyId,branchId:["admin","company","companyDirector"].includes(null===oe||void 0===oe?void 0:oe.userType)?Le:"companyBranch"===(null===oe||void 0===oe?void 0:oe.userType)?null===oe||void 0===oe?void 0:oe._id:null===oe||void 0===oe?void 0:oe.branchId,departmentId:ze||"",directorId:"",text:"",sort:!0,status:!0,isPagination:!1,isBranch:!1,isDirector:!1}))},options:[{label:"Select Employee",value:""},...(re||[]).map(e=>({label:e.fullName,value:e._id}))]})}),(0,M.jsx)("div",{children:(0,M.jsxs)(w.A,{value:Ue,onChange:e=>{Re(e),Te(1)},defaultValue:"",disabled:xe,className:"".concat(m.Lp," "),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,M.jsx)(w.A.Option,{value:"",children:"All Task"}),(0,M.jsx)(w.A.Option,{value:"true",children:"Overdue Task"}),(0,M.jsx)(w.A.Option,{value:"false",children:"Other Task"})]})})]}),(0,M.jsxs)("div",{className:"flex justify-end items-center gap-2 ",children:[(0,M.jsx)("button",{onClick:()=>{Te(1),Oe(10),Ee(""),Pe(""),Be(""),Re(""),qe("")},className:"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,M.jsx)("span",{className:"text-[12px]",children:"Reset"})}),We&&(0,M.jsx)(k.A,{placement:"topLeft",title:"Add Task",children:(0,M.jsxs)("button",{onClick:()=>{le("/admin/task/create")},className:"bg-header px-2 py-1.5 rounded-md flex justify-center whitespace-nowrap items-center space-x-2 text-white",children:[(0,M.jsx)(o.OiG,{}),(0,M.jsx)("span",{className:"text-[12px]",children:"Add Task"})]})})]})]}),(0,M.jsxs)("div",{className:"flex items-center gap-2",children:[(0,M.jsx)("span",{className:"text-sm font-light text-gray-500",children:"Rows per page:"}),(0,M.jsx)(w.A,{value:Ye,onChange:e=>{Oe(Number(e)),Te(Number(1))},className:"text-sm font-light text-gray-700 bg-white border border-gray-200 rounded-md px-3 py-1.5 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-300 transition",children:m.qc.map(e=>(0,M.jsx)(w.A.Option,{value:e,children:e},e))})]})]}),(0,M.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:Qe&&(0,M.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,M.jsx)("thead",{className:"bg-header text-white text-[12px] font-[500]",children:(0,M.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left w-[50px]",children:"S.No."}),(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[135px]",children:"Client Name"}),(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[115px]",children:"Department"}),(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[135px]",children:"Task Name"}),(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[125px]",children:"Assign To"}),(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[85px]",children:"Financial Year"}),(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[85px]",children:"Period"}),(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left hidden 2xl:table-cell min-w-[95px]",children:"Assigned Date"}),(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left hidden 2xl:table-cell min-w-[95px]",children:"Due Date"}),(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left hidden 2xl:table-cell min-w-[125px]",children:"Last Updated On"}),(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left min-w-[75px]",children:"Status"}),(Xe||Ze||Qe)&&(0,M.jsx)("th",{className:"p-2 whitespace-nowrap text-left w-[75px]",children:"Action"})]})}),xe?(0,M.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,M.jsx)("td",{colSpan:12,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,M.jsx)(S.A,{})})}):(0,M.jsx)("tbody",{children:ce&&ce.length>0?ce.map((e,t)=>{var l,a,s,i,n,d,c;return(0,M.jsxs)("tr",{className:" !text-xs \n                          ".concat(null!==e&&void 0!==e&&e.isOverDue?"bg-rose-300 text-gray-800":"high"==(null===e||void 0===e?void 0:e.priority)?"bg-[#FFE5B4] text-gray-800":"medium"==(null===e||void 0===e?void 0:e.priority)?"bg-green-300 text-gray-800":"bg-white text-[#374151]","\n                          border-b-[1px] border-[#DDDDDD]  text-[14px]"),children:[(0,M.jsx)("td",{className:"p-2 text-left w-[50px]",children:t+1+(Se-1)*Ye}),(0,M.jsx)("td",{className:"p-2 text-left min-w-[135px]",children:null===e||void 0===e||null===(l=e.clientData)||void 0===l?void 0:l.fullName}),(0,M.jsx)("td",{className:"p-2 text-left min-w-[115px]",children:null===e||void 0===e||null===(a=e.departmentData)||void 0===a?void 0:a.name}),(0,M.jsx)("td",{className:"p-2 text-left min-w-[135px]",children:null===e||void 0===e?void 0:e.taskName}),(0,M.jsx)("td",{className:"p-2 text-left min-w-[125px]",children:(0,M.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,M.jsx)("span",{children:null===e||void 0===e||null===(s=e.assignedEmployeData)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.fullName}),(null===e||void 0===e||null===(n=e.assignedEmployeData)||void 0===n?void 0:n.length)>1&&(0,M.jsxs)("span",{className:"text-header flex items-center gap-1",children:["+",(0,M.jsx)("span",{className:"h-5 w-5 bg-header text-white text-[12px] rounded-full flex items-center justify-center",children:(null===e||void 0===e||null===(d=e.assignedEmployeData)||void 0===d?void 0:d.length)-1})]}),(0,M.jsx)(o.Ny1,{className:"text-[#374151] text-[14px] cursor-pointer",onClick:()=>ye({isOpen:!0,data:e})})]})}),(0,M.jsx)("td",{className:"p-2 text-left min-w-[85px]",children:(null===e||void 0===e?void 0:e.financialYear)||"-"}),(0,M.jsxs)("td",{className:"p-2 text-left min-w-[85px]",children:["Monthly"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.monthName),"Quaterly"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.monthQuaters),"Yearly"===(null===e||void 0===e?void 0:e.type)&&"Yearly"]}),(0,M.jsx)("td",{className:"p-2 text-left hidden 2xl:table-cell min-w-[95px]",children:g()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")}),(0,M.jsx)("td",{className:"p-2 text-left hidden 2xl:table-cell min-w-[95px]",children:g()(null===e||void 0===e?void 0:e.dueDate).format("DD-MM-YYYY hh:mm a")}),(0,M.jsx)("td",{className:"p-2 text-left hidden 2xl:table-cell min-w-[125px]",children:g()(null===e||void 0===e?void 0:e.updatedAt).format("DD-MM-YYYY hh:mm a")}),(0,M.jsx)("td",{className:"p-2 text-left min-w-[75px]",children:(0,M.jsx)("span",{className:"\n                              ".concat("Assigned"===(null===e||void 0===e?void 0:e.status)?"bg-blue-500 text-white":"Accepted"===(null===e||void 0===e?void 0:e.status)?"bg-green-500 text-white":"Pending_at_client"===(null===e||void 0===e?void 0:e.status)?"bg-yellow-300 text-black":"Pending_at_department"===(null===e||void 0===e?void 0:e.status)?"bg-purple-300 text-black":"Pending_at_colleague"===(null===e||void 0===e?void 0:e.status)?"bg-teal-300 text-black":"Pending_at_manager"===(null===e||void 0===e?void 0:e.status)?"bg-orange-300 text-black":"Work_in_progress"===(null===e||void 0===e?void 0:e.status)?"bg-indigo-500 text-white":"Pending_for_approval"===(null===e||void 0===e?void 0:e.status)?"bg-pink-300 text-black":"Pending_for_fees"===(null===e||void 0===e?void 0:e.status)?"bg-gray-400 text-black":"Completed"===(null===e||void 0===e?void 0:e.status)?"bg-green-600 text-white":"Task_Stop"===(null===e||void 0===e?void 0:e.status)?"bg-red-600 text-white":"Rejected"===(null===e||void 0===e?void 0:e.status)?"bg-rose-800 text-white":"reAssign_to_other"===(null===e||void 0===e?void 0:e.status)?"bg-cyan-700 text-white":"bg-white text-black"," border-header border-[1px] px-2 py-1.5 rounded-lg whitespace-nowrap text-[12px]"),children:null===e||void 0===e||null===(c=e.status)||void 0===c?void 0:c.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())})}),(Xe||Ze||Qe)&&(0,M.jsx)("td",{className:"p-2 text-left w-[75px]",children:(0,M.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2",children:[Qe&&(0,M.jsx)(k.A,{placement:"topLeft",title:"View Task",children:(0,M.jsx)("button",{onClick:()=>{le("/admin/task/view/".concat((0,x.w)(null===e||void 0===e?void 0:e._id),"/").concat((0,x.w)("manager")))},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border-gray-800 border-[1.5px]",type:"button",children:(0,M.jsx)(j.JPe,{className:" hover:text-gray-800 text-gray-800",size:16})})}),!1===(null===e||void 0===e?void 0:e.isInvoiceGenerated)&&(0,M.jsx)(k.A,{placement:"topLeft",title:"Create Invoice",children:(0,M.jsx)("button",{onClick:()=>{var t,l;const a={_id:null===e||void 0===e?void 0:e._id,taskName:null===e||void 0===e?void 0:e.taskName,clientId:null===e||void 0===e||null===(t=e.clientData)||void 0===t?void 0:t._id,clientName:null===e||void 0===e||null===(l=e.clientData)||void 0===l?void 0:l.fullName,fee:null===e||void 0===e?void 0:e.fee,financialYear:null===e||void 0===e?void 0:e.financialYear,type:null===e||void 0===e?void 0:e.type,branchId:null===e||void 0===e?void 0:e.branchId,companyId:null===e||void 0===e?void 0:e.companyId,taskTypeId:null===e||void 0===e?void 0:e.taskTypeId},s=(0,x.w)(JSON.stringify(a));le("/admin/invoice/create?taskData=".concat(s))},className:"px-2 py-1.5 text-xs rounded-md bg-green-600 hover:bg-green-700 text-white border-green-600 border-[1.5px] transition-colors duration-200",type:"button",children:(0,M.jsx)(o.OiG,{className:"text-white",size:16})})}),(0,M.jsx)(b.A,{menu:{items:[{key:"responsive-date-info",label:(0,M.jsx)("div",{className:"2xl:hidden block",children:(0,M.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,M.jsxs)("span",{onClick:()=>(0,m.v2)(E()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")||"Data not available"),className:"flex items-center text-slate-800 hover:text-slate-700",children:[(0,M.jsx)(Y.XkG,{className:"mr-2",size:16}),"Assigned Date"]}),(0,M.jsxs)("span",{onClick:()=>(0,m.v2)(E()(null===e||void 0===e?void 0:e.dueDate).format("DD-MM-YYYY hh:mm a")||"Data not available"),className:"flex items-center text-purple-800 hover:text-purple-700",children:[(0,M.jsx)(Y.j2y,{className:"mr-2",size:16}),"Due Date"]}),(0,M.jsxs)("span",{onClick:()=>(0,m.v2)(E()(null===e||void 0===e?void 0:e.updatedAt).format("DD-MM-YYYY hh:mm a")||"Data not available"),className:"flex items-center text-teal-700 hover:text-teal-600",children:[(0,M.jsx)(z.Wv9,{className:"mr-2",size:15}),"Last Updated On"]}),(0,M.jsxs)("span",{onClick:()=>(0,m.v2)((null===e||void 0===e?void 0:e.createdBy)||"Data not available"),className:"flex items-center text-sky-800 hover:text-sky-700",children:[(0,M.jsx)(P.cCX,{className:"mr-2",size:16}),"Created By"]})]})})},...Xe?[{key:"edit-task",label:(0,M.jsxs)("span",{className:"flex justify-start items-center gap-1 ".concat("Assigned"!==(null===e||void 0===e?void 0:e.status)?"text-gray-500":""),children:[(0,M.jsx)(o.Jcp,{className:"mr-2 ".concat("Assigned"!==(null===e||void 0===e?void 0:e.status)?"text-gray-500":"text-[#3c8dbc] hover:text-[#337ab7]"),size:16}),"Edit Task"]}),disabled:"Assigned"!==(null===e||void 0===e?void 0:e.status),onClick:()=>{"Assigned"===(null===e||void 0===e?void 0:e.status)&&le("/admin/task/edit/".concat((0,x.w)(null===e||void 0===e?void 0:e._id)))}}]:[],...Qe?[{key:"view-description",label:(0,M.jsxs)("span",{className:"flex justify-start items-center gap-1",onClick:()=>{return t=e,ie(!0),void de(null===t||void 0===t?void 0:t.commentData);var t},children:[(0,M.jsx)(v.bEZ,{className:"mr-2 text-[#3c8dbc] hover:text-[#337ab7]",size:16}),"View Description"]})}]:[],...Ze&&"company"!==(null===oe||void 0===oe?void 0:oe.userType)?[{key:"delete-task",label:(0,M.jsxs)("span",{onClick:()=>{"Assigned"===(null===e||void 0===e?void 0:e.status)&&Ge(null===e||void 0===e?void 0:e._id)},className:"flex justify-start items-center gap-1 ".concat("Assigned"!==(null===e||void 0===e?void 0:e.status)?"text-gray-500":"text-red-500"),children:[(0,M.jsx)(r.tqC,{className:"mr-2 ".concat("Assigned"===(null===e||void 0===e?void 0:e.status)?"text-red-600 hover:text-red-500":"text-gray-500"),size:16}),"Delete Task"]})}]:[],..."company"===(null===oe||void 0===oe?void 0:oe.userType)?[{key:"delete-task",label:(0,M.jsxs)("span",{onClick:()=>{Ge(null===e||void 0===e?void 0:e._id)},className:"flex justify-start items-center gap-1  text-red-500",children:[(0,M.jsx)(r.tqC,{className:"mr-2 ".concat("text-red-600 hover:text-red-500"),size:16}),"Delete Task"]})}]:[]]},trigger:["click"],children:(0,M.jsx)("button",{className:"px-2 py-1.5 text-xs rounded-md bg-transparent border-gray-800 border-[1.5px]",type:"button",children:(0,M.jsx)(T.xWf,{className:" hover:text-gray-900 text-gray-900",size:16})})})]})})]})}):(0,M.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,M.jsx)("td",{colSpan:12,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(null===ce||void 0===ce?void 0:ce.length)>0&&(0,M.jsx)(I.A,{totalCount:ue,pageSize:Ye,currentPage:Se,onChange:e=>Te(e)})]})}),se&&(0,M.jsx)(f.A,{isOpen:se,onClose:()=>(ie(!1),void de(null)),comment:ne}),(0,M.jsxs)(y.A,{title:"Employee List",visible:null===be||void 0===be?void 0:be.isOpen,onCancel:()=>ye({isOpen:!1,employee:null}),className:"antmodalclassName",footer:[(0,M.jsx)("button",{onClick:()=>ye({isOpen:!1,employee:null}),className:" capitalize px-2 py-1 rounded-sm bg-header text-white",children:"Close"},"close")],width:800,centered:!0,children:[(0,M.jsx)("div",{className:"flex items-center",children:(0,M.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 p-4",children:null===be||void 0===be||null===(e=be.data)||void 0===e||null===(t=e.assignedEmployeData)||void 0===t?void 0:t.map(e=>(0,M.jsxs)("div",{onClick:()=>(je(e),void ge(!0)),className:"flex flex-col items-center p-3 rounded-lg bg-white hover:bg-gray-50 cursor-pointer transition-all shadow-sm hover:shadow-md border border-gray-100",children:[(0,M.jsx)("div",{className:"w-16 h-16 mb-2 rounded-full overflow-hidden ring-2 ring-amber-100",children:(0,M.jsx)("img",{alt:e.fullName,src:e.profileImage?"".concat("https://vigapi.vigorousit.com","/public/").concat(e.profileImage):"/images/avatar.jpg",className:"w-full h-full object-cover"})}),(0,M.jsxs)("div",{className:"text-center",children:[(0,M.jsx)("p",{className:"font-medium text-gray-800 truncate max-w-[100px]",children:e.fullName}),e.designation&&(0,M.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate max-w-[100px]",children:e.designation})]})]},e.id))})}),(0,M.jsx)(y.A,{title:"Employee Details",visible:he,onCancel:Je,className:"antmodalclassName",footer:[(0,M.jsx)("button",{onClick:Je,className:" capitalize px-2 py-1 rounded-sm bg-header text-white",children:"Close"},"close")],width:600,centered:!0,children:xe?(0,M.jsx)("div",{className:"flex justify-center",children:(0,M.jsx)(N.A,{size:"large"})}):(null===ve||void 0===ve?void 0:ve.data)&&(0,M.jsx)("div",{className:"mt-4",children:(0,M.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,M.jsx)("img",{alt:"",src:null!==ve&&void 0!==ve&&null!==(l=ve.data)&&void 0!==l&&l.profileImage?"".concat("https://vigapi.vigorousit.com","/public/").concat(null===ve||void 0===ve||null===(c=ve.data)||void 0===c?void 0:c.profileImage):"/images/avatar.jpg",className:"rounded-full w-16 h-16 ring-2 ring-amber-300"}),(0,M.jsxs)("div",{className:"ml-4",children:[(0,M.jsx)("p",{className:"font-semibold",children:null===ve||void 0===ve||null===(h=ve.data)||void 0===h?void 0:h.fullName}),(0,M.jsx)("p",{children:null===ve||void 0===ve||null===(L=ve.data)||void 0===L||null===(B=L.designationData)||void 0===B?void 0:B.name}),(0,M.jsx)("p",{children:null===ve||void 0===ve||null===(U=ve.data)||void 0===U?void 0:U.email}),(0,M.jsx)("p",{children:null===ve||void 0===ve||null===(R=ve.data)||void 0===R||null===(V=R.companyData)||void 0===V?void 0:V.fullName}),(0,M.jsx)("p",{children:null===ve||void 0===ve||null===(q=ve.data)||void 0===q||null===(F=q.departmentData)||void 0===F?void 0:F.name}),(0,M.jsx)("p",{children:null===ve||void 0===ve||null===(J=ve.data)||void 0===J||null===(G=J.branchData)||void 0===G?void 0:G.fullName}),(0,M.jsxs)("p",{children:[null===ve||void 0===ve||null===(W=ve.data)||void 0===W||null===(Q=W.mobile)||void 0===Q?void 0:Q.code," ",null===ve||void 0===ve||null===(X=ve.data)||void 0===X||null===(Z=X.mobile)||void 0===Z?void 0:Z.number]}),(0,M.jsxs)("div",{className:"mt-3",children:[(0,M.jsxs)("p",{children:[(0,M.jsx)("strong",{children:"Office Email:"})," ",null===ve||void 0===ve||null===(H=ve.data)||void 0===H?void 0:H.officeEmail]}),(0,M.jsxs)("p",{children:[(0,M.jsx)("strong",{children:"User Name:"})," ",null===ve||void 0===ve||null===(K=ve.data)||void 0===K?void 0:K.userName]}),(0,M.jsxs)("p",{children:[(0,M.jsx)("strong",{children:"Status:"})," ",null!==ve&&void 0!==ve&&null!==($=ve.data)&&void 0!==$&&$.status?"Active":"Inactive"]})]})]})]})})})]})]})}},65337:(e,t,l)=>{l.d(t,{A:()=>i});var a=l(91686),s=l(70579);const i=function(){return(0,s.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,s.jsx)(a.A,{size:"large"})})}},78872:(e,t,l)=>{l.d(t,{A:()=>r});var a=l(65043),s=l(15187),i=l(86178),n=l.n(i),d=l(92021),o=l(70579);const r=e=>{let{onClose:t,comment:l}=e;const[i,r]=(0,a.useState)([]),[c,u]=(0,a.useState)("translate-y-full"),x=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;return null===(e=x.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),u("translate-y-0"),()=>{u("translate-y-full")}},[i]),(0,a.useEffect)(()=>{if(l){const e=l.map(e=>{var t;return{sender:null===e||void 0===e||null===(t=e.creatorData)||void 0===t?void 0:t.fullName,text:null===e||void 0===e?void 0:e.message,status:null===e||void 0===e?void 0:e.status,createdAt:(null===e||void 0===e?void 0:e.createdAt)||Date.now()}});r(e)}},[l]);const v=()=>{setTimeout(()=>{u("translate-y-full"),setTimeout(()=>{t()},300)},50)};return(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-end items-end px-2 z-[1501]",onClick:v,children:(0,o.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[80vh] shadow-xl overflow-hidden transform transition-all duration-500 ease-in-out ".concat(c),onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"p-2 bg-header text-white rounded-lg shadow-md text-center text-md font-semibold flex justify-between items-center",children:["Task Comments",(0,o.jsx)(d.clO,{className:"cursor-pointer",onClick:v})]}),(0,o.jsxs)("div",{className:"p-4 h-[60vh] overflow-y-auto space-y-2",children:[i.length>0?i.map((e,t)=>(0,o.jsx)("div",{className:"flex flex-col ".concat("You"===e.sender?"items-end":"items-start"),children:(0,o.jsxs)("div",{className:"p-1 w-[100%] max-w-[100%]",children:[(0,o.jsx)("div",{className:"text-sm font-semibold mb-2 text-gray-600 ",children:e.sender}),(0,o.jsxs)("div",{className:"pl-4 border-l border-gray-200 ".concat("Assigned"===e.status?"border-blue-500 text-white":"Accepted"===e.status?"border-green-500 text-white":"Pending_at_client"===e.status?"border-yellow-400 text-black":"Completed"===e.status?"border-green-800 text-white":"border-gray-300 text-black"),children:[(0,o.jsx)("p",{className:"text-sm mb-2 text-gray-800 ",children:e.text}),(0,o.jsx)("div",{className:"text-xs mb-2 px-2 py-1 rounded-full inline-block shadow-xl ".concat("Assigned"===e.status?"bg-blue-500 text-white":"Accepted"===e.status?"bg-green-500 text-white":"Pending_at_client"===e.status?"bg-yellow-400 text-black":"Completed"===e.status?"bg-green-800 text-white":"bg-gray-300 text-black"),children:s.LE[e.status]||"No Status"})]}),(0,o.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:n()(e.createdAt).format("MMM DD, YYYY - h:mm A")})]})},t)):(0,o.jsx)("p",{className:"text-center text-gray-500",children:"No comments available."}),(0,o.jsx)("div",{ref:x})]})]})})}}}]);
//# sourceMappingURL=4030.aabacaeb.chunk.js.map