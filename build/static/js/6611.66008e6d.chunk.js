/*! For license information please see 6611.66008e6d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[6611],{56611:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var a=n(73216),i=n(39160),d=n(83003),s=n(65043),o=n(31174),c=n(99974),l=n(53913),r=n(10898),p=n(96651),x=n(13382),g=n(29813),m=n(85157),y=n(51376),u=n(75337),h=n(67407),A=n(61966),j=n(58168);const b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};var f=n(22172),w=function(e,t){return s.createElement(f.A,(0,j.A)({},e,{ref:t,icon:b}))};const k=s.forwardRef(w);const P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var v=function(e,t){return s.createElement(f.A,(0,j.A)({},e,{ref:t,icon:P}))};const C=s.forwardRef(v);var S=n(15187),_=n(70579);const{confirm:N}=l.A,T=()=>{const e=(0,a.Zp)(),t=(0,d.wA)(),n=JSON.parse(localStorage.getItem("user_info_".concat(S.AU))),{sidebarViewData:l,loading:j}=(0,d.d4)(e=>({sidebarViewData:e.dynamicSidebar.sidebarViewData||[],loading:e.dynamicSidebar.loading||!1}));(0,s.useEffect)(()=>{"admin"==(null===n||void 0===n?void 0:n.userType)?b():(localStorage.clear(),window.location.href="/",window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({type:"LOGOUT"})))},[]);const b=async()=>{await t((0,c.ST)())},f=e=>{N({title:"Are you sure you want to delete this item?",icon:(0,_.jsx)(y.A,{}),content:"This action cannot be undone.",okText:"Yes, delete it",okType:"danger",cancelText:"No, cancel",onOk:()=>new Promise(n=>{t((0,c.XP)({_id:e})).then(()=>{b(),n()})})})},w=[{title:"S.No.",key:"index",width:"10%",render:(e,t,n)=>n+1},{title:"Name",dataIndex:"name",key:"name",render:e=>e||"-"},{title:"Slug",dataIndex:"slug",key:"slug",render:e=>e||"-"},{title:"Actions",key:"actions",width:"20%",render:(t,n)=>(0,_.jsxs)(r.A,{size:"middle",children:[(0,_.jsx)(p.A,{placement:"topLeft",title:"Add Child",children:(0,_.jsx)(x.Ay,{type:"text",icon:(0,_.jsx)(u.A,{}),onClick:t=>{t.stopPropagation(),e("/admin/dynamic-sidebar/create/".concat((0,o.w)(n._id)))}})}),(0,_.jsx)(p.A,{placement:"topLeft",title:"Edit",children:(0,_.jsx)(x.Ay,{type:"text",icon:(0,_.jsx)(h.A,{}),onClick:t=>{t.stopPropagation(),e("/admin/dynamic-sidebar/edit/".concat((0,o.w)(n._id)))}})}),(0,_.jsx)(p.A,{placement:"topLeft",title:"Delete",children:(0,_.jsx)(x.Ay,{type:"text",danger:!0,icon:(0,_.jsx)(A.A,{}),onClick:e=>{e.stopPropagation(),f(n._id)}})})]})}],P=[{title:"S.No.",key:"index",width:"10%",render:(e,t,n)=>n+1},{title:"Name",dataIndex:"name",key:"name",render:e=>e||"-"},{title:"Slug",dataIndex:"slug",key:"slug",render:e=>e||"-"},{title:"Actions",key:"actions",width:"20%",render:(t,n)=>(0,_.jsxs)(r.A,{size:"middle",children:[(0,_.jsx)(p.A,{placement:"topLeft",title:"Add Child",children:(0,_.jsx)(x.Ay,{type:"text",icon:(0,_.jsx)(u.A,{}),onClick:t=>{t.stopPropagation(),e("/admin/dynamic-sidebar/create/".concat((0,o.w)(n._id)))}})}),(0,_.jsx)(p.A,{placement:"topLeft",title:"Edit",children:(0,_.jsx)(x.Ay,{type:"text",icon:(0,_.jsx)(h.A,{}),onClick:t=>{t.stopPropagation(),e("/admin/dynamic-sidebar/edit/".concat((0,o.w)(n._id)))}})}),(0,_.jsx)(p.A,{placement:"topLeft",title:"Delete",children:(0,_.jsx)(x.Ay,{type:"text",danger:!0,icon:(0,_.jsx)(A.A,{}),onClick:e=>{e.stopPropagation(),f(n._id)}})})]})}],v=[{title:"S.No.",key:"index",width:"10%",render:(e,t,n)=>n+1},{title:"Name",dataIndex:"name",key:"name",render:e=>e||"-"},{title:"Slug",dataIndex:"slug",key:"slug",render:e=>e||"-"},{title:"Actions",key:"actions",width:"20%",render:(t,n)=>(0,_.jsxs)(r.A,{size:"middle",children:[(0,_.jsx)(p.A,{placement:"topLeft",title:"Edit",children:(0,_.jsx)(x.Ay,{type:"text",icon:(0,_.jsx)(h.A,{}),onClick:t=>{t.stopPropagation(),e("/admin/dynamic-sidebar/edit/".concat((0,o.w)(n._id)))}})}),(0,_.jsx)(p.A,{placement:"topLeft",title:"Delete",children:(0,_.jsx)(x.Ay,{type:"text",danger:!0,icon:(0,_.jsx)(A.A,{}),onClick:e=>{e.stopPropagation(),f(n._id)}})})]})}],T=e=>e.subChildPages&&0!==e.subChildPages.length?(0,_.jsx)(m.A,{columns:v,dataSource:e.subChildPages,rowKey:"_id",pagination:!1,size:"small",bordered:!0}):(0,_.jsx)("div",{style:{margin:0,padding:"8px 16px",background:"#fafafa"},children:(0,_.jsx)(g.A.Text,{type:"secondary",children:"No child pages found"})});return(0,_.jsx)(i.A,{children:(0,_.jsxs)("div",{style:{padding:24},children:[(0,_.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[(0,_.jsx)(g.A.Title,{level:4,style:{margin:0},children:"Dynamic Sidebar Management"}),(0,_.jsx)(x.Ay,{type:"primary",icon:(0,_.jsx)(u.A,{}),onClick:()=>e("/admin/dynamic-sidebar/create"),children:"Add New Sidebar Item"})]}),(0,_.jsx)(m.A,{columns:w,dataSource:l,pagination:!1,rowKey:"_id",loading:j,expandable:{expandedRowRender:e=>e.subPages&&0!==e.subPages.length?(0,_.jsx)(m.A,{columns:P,dataSource:e.subPages,rowKey:"_id",pagination:!1,size:"small",bordered:!0,expandable:{expandedRowRender:T,expandIcon:e=>{let{expanded:t,onExpand:n,record:a}=e;return a.subChildPages&&a.subChildPages.length>0?(0,_.jsx)(x.Ay,{type:"text",size:"small",icon:t?(0,_.jsx)(k,{}):(0,_.jsx)(C,{}),onClick:e=>{e.stopPropagation(),n(a,e)}}):null}}}):(0,_.jsx)("div",{style:{margin:0,padding:"8px 16px",background:"#fafafa"},children:(0,_.jsx)(g.A.Text,{type:"secondary",children:"No subpages found"})}),expandIcon:e=>{let{expanded:t,onExpand:n,record:a}=e;return a.subPages&&a.subPages.length>0?(0,_.jsx)(x.Ay,{type:"text",icon:t?(0,_.jsx)(k,{}):(0,_.jsx)(C,{}),onClick:e=>{e.stopPropagation(),n(a,e)}}):null},rowExpandable:e=>e.subPages&&e.subPages.length>0},locale:{emptyText:"No sidebar items found"},bordered:!0})]})})}}}]);
//# sourceMappingURL=6611.66008e6d.chunk.js.map