"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[7819],{57819:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var n=s(73216),a=s(39160),r=s(83003),c=s(65043),d=s(30064),l=s.n(d),i=s(31174),o=s(23156),p=s(47196),x=s(76932),h=(s(65337),s(78227)),u=s(65512),m=s(96651),w=s(15187),j=s(4938),b=s(55971),v=s(60446),f=s.n(v),g=s(70579);const N=function(){const e=(0,n.Zp)(),t=(0,r.wA)(),{industryListData:s,totalIndustryCount:d,loading:v}=(0,r.d4)(e=>e.industry),[N,y]=(0,c.useState)(""),[A,C]=(0,c.useState)(""),[D,S]=(0,c.useState)(1),k=[A,N].join("-"),[z,L]=(0,c.useState)(!1);(0,c.useEffect)(()=>{z?1===D?B():S(1):L(e=>!0)},[k]),(0,c.useEffect)(()=>{B()},[D]);const B=()=>{const e={currentPage:D,pageSize:10,reqData:{text:N,sort:!1,status:A,isPagination:!0}};t((0,x.d1)(e))},{canCreate:E,canRead:I,canUpdate:O,canDelete:_}=(0,j.A)();return(0,g.jsx)(a.A,{onChange:e=>{y(e)},children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"",children:(0,g.jsxs)("div",{class:"sm:flex justify-between items-center py-1 lg:space-y-0 space-y-2 overflow-y-auto",children:[(0,g.jsx)("div",{className:"grid sm:grid-cols-2 grid-cols-1 lg:grid-cols-2 sm:gap-3 gap-1",children:(0,g.jsxs)(u.A,{className:" ".concat(w.Lp," "),value:A,onChange:e=>{C(e)},placeholder:"Select Status",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,g.jsx)(u.A.Option,{value:"",children:"Select Status"}),(0,g.jsx)(u.A.Option,{value:!0,children:"Active"}),(0,g.jsx)(u.A.Option,{value:!1,children:"InActive"})]})}),(0,g.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,g.jsx)("button",{onClick:()=>{C("")},className:"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,g.jsx)("span",{className:"text-[12px]",children:"Reset"})}),E&&(0,g.jsxs)("button",{onClick:()=>{e("/admin/industry/create")},className:"bg-header px-2 py-1.5 rounded-md flex justify-center items-center space-x-2 text-white",children:[(0,g.jsx)(o.OiG,{}),(0,g.jsx)("span",{className:"text-[12px]",children:"Add Industry Type"})]})]})]})}),(0,g.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:I&&(0,g.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,g.jsx)("thead",{className:"",children:(0,g.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,g.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"S.No."}),(0,g.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[20%]",children:"Industry Name"}),(0,g.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[20%]",children:"Created At"}),(0,g.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[20%]",children:"Created By"}),(0,g.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[15%]",children:"Status"}),(O||_)&&(0,g.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[15%]",children:"Action"})]})}),v?(0,g.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,g.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,g.jsx)(b.A,{})})}):(0,g.jsx)("tbody",{children:s&&(null===s||void 0===s?void 0:s.length)>0?null===s||void 0===s?void 0:s.map((n,a)=>{var r,c,d,h;return(0,g.jsxs)("tr",{className:"".concat(a%2===0?"bg-[#e9ecef]/80":"bg-white"," border-b-[1px] border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,g.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:a+1+10*(D-1)}),(0,g.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(r="".concat(null===n||void 0===n?void 0:n.name," "))&&void 0!==r?r:"-"}),(0,g.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(c="".concat(f()(null===n||void 0===n?void 0:n.createdAt).format("DD-MM-YYYY hh:mm a")," "))&&void 0!==c?c:"-"}),(0,g.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(d=null===n||void 0===n?void 0:n.createdBy)&&void 0!==d?d:"-"}),(0,g.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(0,g.jsxs)("span",{className:"".concat(null!==n&&void 0!==n&&n.status?"bg-[#E0FFBE] border-green-500":"bg-red-200 border-red-500"," border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]"),children:[" ",null!==n&&void 0!==n&&n.status?"Active":null!==(h="Inactive")?h:"-"," "]})}),(_||O)&&(0,g.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(0,g.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2",children:[O&&(0,g.jsx)(m.A,{placement:"topLeft",title:"Edit",children:(0,g.jsx)("button",{onClick:()=>{e("/admin/industry/edit/".concat((0,i.w)(null===n||void 0===n?void 0:n._id)))},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,g.jsx)(o.Jcp,{className:" hover:text-[#337ab7] text-[#3c8dbc]",size:16})})}),_&&(0,g.jsx)(m.A,{placement:"topLeft",title:"Delete",children:(0,g.jsx)("button",{onClick:()=>(e=>{let n={_id:e};l().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&t((0,x.sM)(n)).then(e=>{D>1&&1==(null===s||void 0===s?void 0:s.length)?S(Number(D-1)):B()})})})(null===n||void 0===n?void 0:n._id),className:"px-2 py-1.5 rounded-md bg-transparent border border-muted",type:"button",children:(0,g.jsx)(p.tqC,{className:"text-red-600 hover:text-red-500",size:16})})})]})})]})}):(0,g.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,g.jsx)("td",{colSpan:6,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),d>10&&(0,g.jsx)(h.A,{totalCount:d,pageSize:10,currentPage:D,onChange:e=>{S(e)}})]})})}},65337:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(91686),a=s(70579);const r=function(){return(0,a.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,a.jsx)(n.A,{size:"large"})})}}}]);
//# sourceMappingURL=7819.2e9c06c6.chunk.js.map