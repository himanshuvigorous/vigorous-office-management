"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[3446],{83446:(e,a,l)=>{l.r(a),l.d(a,{default:()=>y});var d=l(89379),o=l(24858),n=l(39160),s=l(83003),i=l(73216),t=l(65043),r=l(15187),c=l(31744),u=(l(78729),l(66015)),m=l(42837),v=(l(31536),l(88967),l(69132)),p=l(31174),h=l(86178),x=l.n(h),N=l(12208),b=l(70579);const y=()=>{var e,a;const{register:l,handleSubmit:h,control:y,watch:j,reset:g,formState:{errors:I},setValue:q}=(0,o.mN)(),f=(0,s.wA)(),A=(0,i.Zp)(),{branchDetailsData:k}=(0,s.d4)(e=>e.branch),{employeList:D}=(0,s.d4)(e=>e.employe),{advanceDetails:_}=(0,s.d4)(e=>e.advance),{clientGroupList:w}=(0,s.d4)(e=>e.clientGroup),{advanceIdEnc:C}=(0,i.g)(),E=(0,p.Yc)(C);(0,t.useEffect)(()=>{f((0,v.fK)({_id:E}))},[]),(0,t.useEffect)(()=>{if(_)if(q("type",null===_||void 0===_?void 0:_.type),q("amount",null===_||void 0===_?void 0:_.amount),q("date",x()(null===_||void 0===_?void 0:_.date).format("YYYY-MM-DD")),q("naration",null===_||void 0===_?void 0:_.naration),f((0,N.J_)({isPagination:!1,text:"",sort:!0,status:!0,groupId:"",companyId:null===_||void 0===_?void 0:_.companyId,branchId:null===_||void 0===_?void 0:_.branchId})).then(e=>{null!==e&&void 0!==e&&e.error||q("groupName",null===_||void 0===_?void 0:_.clientGroupId)}),"bank"===(null===_||void 0===_?void 0:_.type)||"cheque"===(null===_||void 0===_?void 0:_.type))f((0,c.ZN)({_id:null===_||void 0===_?void 0:_.branchId})).then(e=>{null!==e&&void 0!==e&&e.error||(q("bankId",null===_||void 0===_?void 0:_.bankAccId),q("transactionNo",null===_||void 0===_?void 0:_.transactionNo),q("chequeNo",null===_||void 0===_?void 0:_.chequeNo))});else if("cash"===(null===_||void 0===_?void 0:_.type)){const e={text:"",status:!0,sort:!0,isTL:"",isHR:"",isPagination:!1,departmentId:"",designationId:"",companyId:null===_||void 0===_?void 0:_.companyId,branchId:null===_||void 0===_?void 0:_.branchId};f((0,m.qV)(e)).then(e=>{if(null===e||void 0===e||!e.error){var a,l,d;const o=null===e||void 0===e||null===(a=e.payload)||void 0===a||null===(l=a.data)||void 0===l||null===(d=l.docs)||void 0===d?void 0:d.find(e=>(null===e||void 0===e?void 0:e._id)===(null===_||void 0===_?void 0:_.employeId));q("employeeId",{value:null===o||void 0===o?void 0:o._id,label:null===o||void 0===o?void 0:o.fullName})}})}},[_]);return(0,b.jsx)(n.A,{children:(0,b.jsx)("div",{className:"gap-4",children:(0,b.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:h(e=>{var a;const l={_id:E,companyId:null===_||void 0===_?void 0:_.companyId,directorId:null===_||void 0===_?void 0:_.directorId,branchId:null===_||void 0===_?void 0:_.branchId,clientGroupId:null===e||void 0===e?void 0:e.groupName,employeId:"cash"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e||null===(a=e.employeeId)||void 0===a?void 0:a.value:null,bankAccId:"cash"!==(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.bankId:null,type:null===e||void 0===e?void 0:e.type,chequeNo:"cheque"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.chequeNo:null,transactionNo:"bank"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.transactionNo:null,amount:+(null===e||void 0===e?void 0:e.amount),naration:null===e||void 0===e?void 0:e.naration,date:null===e||void 0===e?void 0:e.date};f((0,v.iR)(l)).then(e=>{e.error||A(-1)})}),children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-1 md:gap-8 md:my-1 px-3 md:mt-4",children:[(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(r.Q0),children:["Group Type ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsxs)("select",(0,d.A)((0,d.A)({},l("groupName",{required:"Organization type is required"})),{},{className:" ".concat(r.Ol," ").concat(I.groupName?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),onFocus:()=>{f((0,N.J_)({isPagination:!1,text:"",sort:!0,status:!0,groupId:"",companyId:null===_||void 0===_?void 0:_.companyId,branchId:null===_||void 0===_?void 0:_.branchId}))},children:[(0,b.jsx)("option",{className:"text-xs",value:"",children:"Select Group Type"}),null===w||void 0===w?void 0:w.map((e,a)=>(0,b.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName,"(",null===e||void 0===e?void 0:e.groupName,")"]}))]})),I.groupName&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:I.groupName.message})]}),(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(r.Q0),children:["Type ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsxs)("select",(0,d.A)((0,d.A)({},l("type",{required:"Type is required"})),{},{className:"".concat(r.Ol,"  ").concat(I.type?"border-[1px] ":"border-gray-300"," "),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)("option",{value:"cash",children:"Cash Deposit"}),(0,b.jsx)("option",{value:"cheque",children:"Cheque Deposit"}),(0,b.jsx)("option",{value:"bank",children:"Bank Transfer"})]})),I.type&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:I.type.message})]}),"cash"!==j("type")&&(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(r.Q0),children:["Sender Bank",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsxs)("select",(0,d.A)((0,d.A)({},l("bankId")),{},{className:"".concat(r.Ol,"  ").concat(I.bankId?"border-[1px] ":"border-gray-300"," "),children:[(0,b.jsx)("option",{value:"",children:"select bank"}),(null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.bankData)&&(null===k||void 0===k||null===(a=k.data)||void 0===a?void 0:a.bankData.length)>0&&k.data.bankData.map(e=>(0,b.jsx)("option",{value:e._id,children:"".concat(e.bankName," (").concat(e.branchName,")")},e._id))]})),I.bankId&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:I.bankId.message})]}),"cash"===j("type")&&(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("label",{className:"".concat(r.Q0),children:"Employee"}),(0,b.jsx)(o.xI,{name:"employeeId",control:y,rules:{required:"Employee is required"},render:e=>{let{field:a}=e;return(0,b.jsx)(u.Ay,(0,d.A)((0,d.A)({},a),{},{options:null===D||void 0===D?void 0:D.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.fullName})),classNamePrefix:"react-select",className:"".concat(r.Ph," ").concat(I.employeeId?"border-[1px] ":"border-gray-300"),placeholder:"Select Employee"}))}}),I.employeeId&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:I.employeeId.message})]}),(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(r.Q0),children:["Amount",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,d.A)((0,d.A)({type:"number",step:"0.01"},l("amount",{required:"Amount is required"})),{},{className:" ".concat(r.Ol," ").concat(I.amount?"border-[1px] ":"border-gray-300"),placeholder:"Enter Amount"})),I.amount&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:I.amount.message})]}),"cheque"===j("type")&&(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(r.Q0),children:["Cheque No",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,d.A)((0,d.A)({type:"text"},l("chequeNo",{required:"chequeNo is required"})),{},{className:" ".concat(r.Ol," ").concat(I.chequeNo?"border-[1px] ":"border-gray-300"),placeholder:"Enter Cheque no"})),I.chequeNo&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:I.chequeNo.message})]}),"bank"===j("type")&&(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(r.Q0),children:["Transaction No",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,d.A)((0,d.A)({type:"text"},l("transactionNo",{required:"transaction No is required"})),{},{className:" ".concat(r.Ol," ").concat(I.transactionNo?"border-[1px] ":"border-gray-300"),placeholder:"Enter Cheque no"})),I.transactionNo&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:I.transactionNo.message})]}),(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(r.Q0),children:["Naration",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("textarea",(0,d.A)((0,d.A)({},l("naration",{required:"Naration is required"})),{},{className:" ".concat(r.Ol," ").concat(I.naration?"border-[1px] ":"border-gray-300"),placeholder:"Enter Naration"})),I.naration&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:I.naration.message})]}),(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("label",{className:"".concat(r.Q0),children:["Date",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,d.A)((0,d.A)({type:"date"},l("date",{required:"Date is required"})),{},{className:" ".concat(r.Ol," ").concat(I.date?"border-[1px] ":"border-gray-300"),placeholder:"Enter Date"})),I.date&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:I.date.message})]})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{type:"submit",className:"bg-header text-white p-2 px-4 rounded mt-3",children:"Submit"})})]})})})}}}]);
//# sourceMappingURL=3446.3c421202.chunk.js.map