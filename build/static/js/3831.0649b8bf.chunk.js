"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[3831],{3558:(e,l,a)=>{a.d(l,{A:()=>c});var n=a(89379),t=a(24858),i=a(83003),d=a(65043),o=a(70337),s=a(33007),r=a(70579);const c=function(e){let{clientData:l,fetchData:a}=e;const c=(0,i.wA)(),[u,m]=(0,d.useState)([]),{register:v,control:x,reset:p,handleSubmit:h,formState:{errors:b}}=(0,t.mN)({defaultValues:{ServicesDetails:[{serviceId:"",number:""}]}});(0,d.useEffect)(()=>{var e,a;c((0,s.UU)({companyId:null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.companyId,branchId:null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.branchId,directorId:"",text:"",sort:!0,status:!0,isPagination:!1}))},[c,l]);const{departmentListData:f}=(0,i.d4)(e=>e.department);return(0,d.useEffect)(()=>{var e;const a=(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.departmentIds)||[];m([...a])},[l]),(0,r.jsxs)("form",{autoComplete:"off",onSubmit:h(()=>{const e=(0,n.A)((0,n.A)({},null===l||void 0===l?void 0:l.data),{},{departmentIds:u});c((0,o.Pl)(e)).then(e=>{null!==e&&void 0!==e&&e.error||a()})}),children:[(0,r.jsx)("div",{className:"flex gap-2 justify-between items-center my-2",children:(0,r.jsx)("div",{className:"bg-white shadow-sm w-full overflow-x-auto mt-1 rounded-xl",children:(0,r.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,r.jsx)("th",{className:"border-none p-2 whitespace-nowrap max-w-[5%]",children:(0,r.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?m(f.map(e=>null===e||void 0===e?void 0:e._id)):m([])}})}),(0,r.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:"Department Name"})]})}),(0,r.jsx)("tbody",{children:f&&f.length>0?f.map((e,l)=>(0,r.jsxs)("tr",{className:"border-b-[1px] ".concat(l%2===0?"bg-[#e9ecef]/80":"bg-white"," border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,r.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(0,r.jsx)("input",{type:"checkbox",checked:u.includes(e._id),onChange:()=>{return l=e._id,void m(e=>e.includes(l)?e.filter(e=>e!==l):[...e,l]);var l}})}),(0,r.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:null===e||void 0===e?void 0:e.name})]},e._id)):(0,r.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,r.jsx)("td",{colSpan:9,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})})}),(0,r.jsx)("button",{type:"submit",className:"bg-header px-2 py-2 text-sm rounded-md text-white",children:"Submit"})]})}},13246:(e,l,a)=>{a.d(l,{A:()=>C});var n=a(89379),t=a(51957),i=a(32513),d=a(65512),o=a(24858),s=a(15187),r=a(84480),c=a(30575),u=a(36105),m=a(3825),v=a(83003),x=a(65043),p=a(70337),h=a(86178),b=a.n(h),f=a(94084),y=a(60446),g=a.n(y),N=a(56659),j=a(89427),D=a(70579);const C=function(e){let{clientDataParent:l,fetchData:a}=e;const h=(0,v.wA)(),{register:y,control:C,handleSubmit:A,reset:w,setValue:S,watch:O,formState:{errors:k}}=(0,o.mN)({defaultValues:{clientData:[{fullName:"",userType:"clientBranch",password:"",email:"",mobile:{code:"",number:""},directorProfile:{isShareLoginDetails:!1,secondaryEmail:"",secondaryMobile:[{code:"",number:""}],landline:{code:"",number:""}},generalInfo:{gender:"",dateOfBirth:"",maritalStatus:""},addresses:{street:"",city:"",state:"",country:"",pinCode:""}}]}}),{countryListData:I,loading:P}=(0,v.d4)(e=>e.country),{stateListData:T}=(0,v.d4)(e=>e.states),{cityListData:_}=(0,v.d4)(e=>e.city),{fields:E,append:q,remove:Q}=(0,o.jz)({control:C,name:"clientData"});(0,x.useEffect)(()=>{var e,a,n,t,i;null!==l&&void 0!==l&&null!==(e=l.data)&&void 0!==e&&e.ownerData&&(null===l||void 0===l||null===(a=l.data)||void 0===a||null===(n=a.ownerData)||void 0===n?void 0:n.length)>0&&(w({clientData:[]}),null===l||void 0===l||null===(t=l.data)||void 0===t||null===(i=t.ownerData)||void 0===i||i.forEach((e,l)=>{var a,n,t,i,d,o,s,r,c,u,m,v,x,p,h,b,f,y,N,j,D,C;const A={_id:null===e||void 0===e?void 0:e._id,fullName:null===e||void 0===e?void 0:e.fullName,userType:"clientOwner",email:null===e||void 0===e?void 0:e.email,mobile:{code:null===e||void 0===e||null===(a=e.mobile)||void 0===a?void 0:a.code,number:null===e||void 0===e||null===(n=e.mobile)||void 0===n?void 0:n.number},landline:{code:null===e||void 0===e||null===(t=e.directorProfile)||void 0===t||null===(i=t.landline)||void 0===i?void 0:i.code},directorProfile:{isShareLoginDetails:null===e||void 0===e||null===(d=e.directorProfile)||void 0===d?void 0:d.isShareLoginDetails,secondaryEmail:"",secondaryMobile:{code:"",number:""},landline:{code:null===e||void 0===e||null===(o=e.directorProfile)||void 0===o||null===(s=o.landline)||void 0===s?void 0:s.code,number:null===e||void 0===e||null===(r=e.directorProfile)||void 0===r||null===(c=r.landline)||void 0===c?void 0:c.number}},generalInfo:{gender:null===e||void 0===e||null===(u=e.generalInfo)||void 0===u?void 0:u.gender,dateOfBirth:g()(null===e||void 0===e||null===(m=e.generalInfo)||void 0===m?void 0:m.dateOfBirth),maritalStatus:null===e||void 0===e||null===(v=e.generalInfo)||void 0===v?void 0:v.maritalStatus},addresses:{street:null===e||void 0===e||null===(x=e.addresses)||void 0===x||null===(p=x.primary)||void 0===p?void 0:p.street,city:null===e||void 0===e||null===(h=e.addresses)||void 0===h||null===(b=h.primary)||void 0===b?void 0:b.city,state:null===e||void 0===e||null===(f=e.addresses)||void 0===f||null===(y=f.primary)||void 0===y?void 0:y.state,country:null===e||void 0===e||null===(N=e.addresses)||void 0===N||null===(j=N.primary)||void 0===j?void 0:j.country,pinCode:null===e||void 0===e||null===(D=e.addresses)||void 0===D||null===(C=D.primary)||void 0===C?void 0:C.pinCode,secondary:{street:"",city:"",state:"",country:"",pinCode:""},location:{latitude:0,longitude:0,address:""}}};q(A)}))},[l,w,q]);const[M,B]=(0,x.useState)(!1),[F,L]=(0,x.useState)({});return(0,D.jsx)("form",{autoComplete:"off",onSubmit:A(e=>{var n,t,i,d;const o={companyId:null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.companyId,directorId:"",branchId:null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.branchId,clientId:null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i._id,type:"owner",ownerArr:null===e||void 0===e||null===(d=e.clientData)||void 0===d?void 0:d.map(e=>{var l,a,n,t,i,d,o,s,r,c,u,m,v,x;return{_id:null===e||void 0===e?void 0:e._id,fullName:null===e||void 0===e?void 0:e.fullName,userType:"clientOwner",password:null!==e&&void 0!==e&&e._id?null:"true"===(null===e||void 0===e||null===(l=e.directorProfile)||void 0===l?void 0:l.isShareLoginDetails)?null===e||void 0===e?void 0:e.password:"",email:null===e||void 0===e?void 0:e.email,mobile:{code:null===e||void 0===e||null===(a=e.mobile)||void 0===a?void 0:a.code,number:null===e||void 0===e||null===(n=e.mobile)||void 0===n?void 0:n.number},directorProfile:{isShareLoginDetails:null!==e&&void 0!==e&&e._id?null:null===e||void 0===e||null===(t=e.directorProfile)||void 0===t?void 0:t.isShareLoginDetails,secondaryEmail:"",secondaryMobile:{code:"",number:""},landline:{code:null===e||void 0===e||null===(i=e.landline)||void 0===i?void 0:i.code,number:null===e||void 0===e||null===(d=e.directorProfile.landline)||void 0===d?void 0:d.number}},generalInfo:{gender:null===e||void 0===e||null===(o=e.generalInfo)||void 0===o?void 0:o.gender,dateOfBirth:null===e||void 0===e||null===(s=e.generalInfo)||void 0===s?void 0:s.dateOfBirth,maritalStatus:null===e||void 0===e||null===(r=e.generalInfo)||void 0===r?void 0:r.maritalStatus},addresses:{primary:{street:null===e||void 0===e||null===(c=e.addresses)||void 0===c?void 0:c.street,city:null===e||void 0===e||null===(u=e.addresses)||void 0===u?void 0:u.city,state:null===e||void 0===e||null===(m=e.addresses)||void 0===m?void 0:m.state,country:null===e||void 0===e||null===(v=e.addresses)||void 0===v?void 0:v.country,pinCode:null===e||void 0===e||null===(x=e.addresses)||void 0===x?void 0:x.pinCode},secondary:{street:"",city:"",state:"",country:"",pinCode:""},location:{latitude:0,longitude:0,address:""}}}})};h((0,p.bU)(o)).then(e=>{null!==e&&void 0!==e&&e.error||a()})}),children:(0,D.jsxs)(D.Fragment,{children:[E.map((e,v)=>{var x,A,w,E,q,M,B,z,U,Y,V,H,R,G,W,Z,J,X,$,K,ee,le,ae,ne,te,ie,de,oe,se,re,ce,ue,me,ve,xe,pe,he,be,fe,ye,ge,Ne,je,De,Ce,Ae,we,Se,Oe,ke,Ie;return(0,D.jsxs)("div",{className:"border border-gray-300 rounded-md my-2",children:[(0,D.jsxs)("div",{className:"flex justify-between items-center mb-4 bg-header rounded-t-md",children:[(0,D.jsxs)("div",{className:"px-3 py-2 text-white flex gap-12 font-semibold",children:["Owner ",v+1,0===v&&(0,D.jsxs)("div",{className:"flex items-center gap-2",children:[(0,D.jsx)(i.A,{checked:!!F[v],onChange:()=>{var e,a,t,i,d,o,s,r,c,u,m,x,p,h,b,f,y,N,j,D,C,A,w;(L(e=>(0,n.A)((0,n.A)({},e),{},{[v]:!e[v]})),F[v])?(S("clientData.".concat(v,".fullName"),""),S("clientData.".concat(v,".email"),""),S("clientData.".concat(v,".mobile.code"),""),S("clientData.".concat(v,".mobile.number"),""),S("clientData.".concat(v,".addresses.country"),""),S("clientData.".concat(v,".addresses.state"),""),S("clientData.".concat(v,".addresses.city"),""),S("clientData.".concat(v,".addresses.pinCode"),""),S("clientData[".concat(v,"].generalInfo.dateOfBirth"),""),S("clientData.".concat(v,".addresses.street"),"")):(S("clientData.".concat(v,".fullName"),(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.fullName)||""),S("clientData.".concat(v,".email"),(null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.email)||""),S("clientData.".concat(v,".mobile.code"),(null===l||void 0===l||null===(t=l.data)||void 0===t||null===(i=t.mobile)||void 0===i?void 0:i.code)||""),S("clientData.".concat(v,".mobile.number"),(null===l||void 0===l||null===(d=l.data)||void 0===d||null===(o=d.mobile)||void 0===o?void 0:o.number)||""),S("clientData.".concat(v,".addresses.country"),(null===l||void 0===l||null===(s=l.data)||void 0===s||null===(r=s.addresses)||void 0===r||null===(c=r.primary)||void 0===c?void 0:c.country)||""),S("clientData.".concat(v,".addresses.state"),(null===l||void 0===l||null===(u=l.data)||void 0===u||null===(m=u.addresses)||void 0===m||null===(x=m.primary)||void 0===x?void 0:x.state)||""),S("clientData.".concat(v,".addresses.city"),(null===l||void 0===l||null===(p=l.data)||void 0===p||null===(h=p.addresses)||void 0===h||null===(b=h.primary)||void 0===b?void 0:b.city)||""),S("clientData.".concat(v,".addresses.pinCode"),(null===l||void 0===l||null===(f=l.data)||void 0===f||null===(y=f.addresses)||void 0===y||null===(N=y.primary)||void 0===N?void 0:N.pinCode)||""),S("clientData[".concat(v,"].generalInfo.dateOfBirth"),g()(null===l||void 0===l||null===(j=l.data)||void 0===j||null===(D=j.generalInfo)||void 0===D?void 0:D.dateOfBirth)||null),S("clientData.".concat(v,".addresses.street"),(null===l||void 0===l||null===(C=l.data)||void 0===C||null===(A=C.addresses)||void 0===A||null===(w=A.primary)||void 0===w?void 0:w.street)||""))}}),(0,D.jsx)("span",{className:"text-xs",children:"Same as Primary Details"})]})]}),0!==v&&(0,D.jsx)("button",{type:"button",onClick:()=>((e,l)=>{null!==e&&void 0!==e&&e._id?h((0,p.hs)({_id:null===e||void 0===e?void 0:e._id})).then(e=>{null!==e&&void 0!==e&&e.error||a()}):Q(l)})(e,v),className:"text-red-600 hover:text-red-800",children:(0,D.jsx)(m.F23,{size:20,className:"m-2"})})]}),(0,D.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3",children:[(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(s.Q0),children:["Full Name ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)("input",(0,n.A)((0,n.A)({},y("clientData.".concat(v,".fullName"),{required:"Full Name is required"})),{},{placeholder:"Full Name",className:"".concat(s.Ol," ").concat(null!==k&&void 0!==k&&null!==(x=k.clientData)&&void 0!==x&&null!==(A=x[v])&&void 0!==A&&A.fullName?"border-[1px] ":"border-gray-300")})),(null===k||void 0===k||null===(w=k.clientData)||void 0===w||null===(E=w[v])||void 0===E?void 0:E.fullName)&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:k.clientData[v].fullName.message})]}),!(null!==e&&void 0!==e&&e._id)&&(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(s.Q0),children:["Share Login Details",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(o.xI,{control:C,name:"clientData.".concat(v,".directorProfile.isShareLoginDetails"),rules:{required:" Share Login Details type is required"},render:e=>{let{field:l}=e;return(0,D.jsxs)(d.A,(0,n.A)((0,n.A)({},l),{},{defaultValue:"",className:"".concat(s.Hy," "),children:[(0,D.jsx)(d.A.Option,{value:"true",children:"Yes"}),(0,D.jsx)(d.A.Option,{value:"false",children:"No"})]}))}})]}),"true"===O("clientData.".concat(v,".directorProfile.isShareLoginDetails"))&&!(null!==e&&void 0!==e&&e._id)&&(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(s.Q0),children:["Password ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)("input",(0,n.A)((0,n.A)({type:"password",placeholder:"Password"},y("clientData.".concat(v,".password"),{required:"Password is required"})),{},{className:"".concat(s.Ol," ").concat(null!==k&&void 0!==k&&null!==(q=k.clientData)&&void 0!==q&&null!==(M=q[v])&&void 0!==M&&M.password?"border-[1px] ":"border-gray-300")})),(null===k||void 0===k||null===(B=k.clientData)||void 0===B||null===(z=B[v])||void 0===z?void 0:z.password)&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:k.clientData[v].password.message})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(s.Q0),children:["Email ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)("input",(0,n.A)((0,n.A)({placeholder:"Enter Email"},y("clientData.".concat(v,".email"),{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Invalid email address"}})),{},{className:"".concat(s.Ol," ").concat(null!==k&&void 0!==k&&null!==(U=k.clientData)&&void 0!==U&&null!==(Y=U[v])&&void 0!==Y&&Y.email?"border-[1px] ":"border-gray-300")})),(null===k||void 0===k||null===(V=k.clientData)||void 0===V||null===(H=V[v])||void 0===H?void 0:H.email)&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:k.clientData[v].email.message})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(s.Q0),children:["Mobile ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsxs)("div",{className:"flex gap-2",children:[(0,D.jsx)("div",{className:"w-[150px]",children:(0,D.jsx)(o.xI,{control:C,name:"clientData.".concat(v,".mobile.code"),rules:{required:"code is required"},render:e=>{let{field:l}=e;return(0,D.jsx)(N.A,{field:l,errors:k})}})}),(0,D.jsx)("div",{className:"w-full",children:(0,D.jsx)("input",(0,n.A)((0,n.A)({type:"number"},y("clientData.".concat(v,".mobile.number"),{required:"Mobile number is required",minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))},placeholder:"Number",className:"".concat(s.Ol," ").concat(null!==k&&void 0!==k&&null!==(R=k.clientData)&&void 0!==R&&null!==(G=R[v])&&void 0!==G&&null!==(W=G.mobile)&&void 0!==W&&W.number?"border-[1px] ":"border-gray-300")}))})]}),(0,D.jsxs)("div",{className:"flex gap-3",children:[(null===k||void 0===k||null===(Z=k.clientData)||void 0===Z||null===(J=Z[v])||void 0===J||null===(X=J.mobile)||void 0===X?void 0:X.code)&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:k.clientData[v].mobile.code.message}),(null===k||void 0===k||null===($=k.clientData)||void 0===$||null===(K=$[v])||void 0===K||null===(ee=K.mobile)||void 0===ee?void 0:ee.number)&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:k.clientData[v].mobile.number.message})]})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(s.Q0),children:["Gender ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(o.xI,{control:C,name:"clientData.".concat(v,".generalInfo.gender"),rules:{required:"Gender is required"},render:e=>{let{field:l}=e;return(0,D.jsxs)(d.A,(0,n.A)((0,n.A)({},l),{},{defaultValue:"",className:"".concat(s.Hy," "),children:[(0,D.jsx)(d.A.Option,{value:"",children:"Select Gender"}),(0,D.jsx)(d.A.Option,{value:"Male",children:"Male"}),(0,D.jsx)(d.A.Option,{value:"Female",children:"Female"}),(0,D.jsx)(d.A.Option,{value:"Other",children:"Other"})]}))}}),(null===k||void 0===k||null===(le=k.clientData)||void 0===le||null===(ae=le[v])||void 0===ae||null===(ne=ae.generalInfo)||void 0===ne?void 0:ne.gender)&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:k.clientData[v].generalInfo.gender.message})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(s.Q0),children:["Date of Birth ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(o.xI,{name:"clientData[".concat(v,"].generalInfo.dateOfBirth"),control:C,render:e=>{let{field:l}=e;return(0,D.jsx)(f.A,{field:l,errors:k,disabledDate:e=>e&&e.isAfter(b()().endOf("day"),"day")})}}),(null===k||void 0===k||null===(te=k.clientData)||void 0===te||null===(ie=te[v])||void 0===ie||null===(de=ie.generalInfo)||void 0===de?void 0:de.dateOfBirth)&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:k.clientData[v].generalInfo.dateOfBirth.message})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(s.Q0),children:["Marital Status ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(o.xI,{control:C,name:"clientData.".concat(v,".generalInfo.maritalStatus"),rules:{required:"  Marital Status  is required"},render:e=>{let{field:l}=e;return(0,D.jsxs)(d.A,(0,n.A)((0,n.A)({},l),{},{defaultValue:"",className:"".concat(s.Hy," "),children:[(0,D.jsx)(d.A.Option,{value:"",children:"Select Marital Status"}),(0,D.jsx)(d.A.Option,{value:"Single",children:"Single"}),(0,D.jsx)(d.A.Option,{value:"Married",children:"Married"}),(0,D.jsx)(d.A.Option,{value:"Divorced",children:"Divorced"})]}))}}),(null===k||void 0===k||null===(oe=k.clientData)||void 0===oe||null===(se=oe[v])||void 0===se||null===(re=se.generalInfo)||void 0===re?void 0:re.maritalStatus)&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:k.clientData[v].generalInfo.maritalStatus.message})]})]}),(0,D.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3",children:(0,D.jsxs)("div",{className:"col-span-2",children:[(0,D.jsxs)("label",{className:"".concat(s.Q0),children:["Primary Address",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)("input",(0,n.A)((0,n.A)({type:"text"},y("clientData.".concat(v,".addresses.street"),{required:"Primary Address is required"})),{},{className:"".concat(s.Ol," ").concat(null!==(ce=k.clientData)&&void 0!==ce&&null!==(ue=ce[v])&&void 0!==ue&&null!==(me=ue.addresses)&&void 0!==me&&me.street?"border-[1px] ":"border-gray-300"),placeholder:"Enter Primary Address"})),(null===(ve=k.clientData)||void 0===ve||null===(xe=ve[v])||void 0===xe||null===(pe=xe.addresses)||void 0===pe?void 0:pe.street)&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:null===(he=k.clientData)||void 0===he||null===(be=he[v])||void 0===be||null===(fe=be.addresses)||void 0===fe?void 0:fe.street.message})]})}),(0,D.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 md:gap-8 md:my-1 px-3",children:[(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:"".concat(s.Q0),children:["Country ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(o.xI,{control:C,name:"clientData.".concat(v,".addresses.country"),rules:{required:"Country is required"},render:e=>{var l,a,i,d;let{field:o}=e;return(0,D.jsx)(t.A,(0,n.A)((0,n.A)({},o),{},{onChange:e=>o.onChange(e),className:"w-full",options:null===(l=(0,s._o)(null===I||void 0===I?void 0:I.docs))||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),notFoundContent:P&&(0,D.jsx)(j.A,{}),children:(0,D.jsx)("input",{placeholder:"Enter Country",onFocus:()=>{h((0,u.dw)({isPagination:!1,text:"",sort:!0,status:!0}))},className:"".concat(s.Ol," ").concat(null!==(a=k.clientData)&&void 0!==a&&null!==(i=a[v])&&void 0!==i&&null!==(d=i.addresses)&&void 0!==d&&d.country?"border-[1px] ":"border-gray-300")})}))}}),(null===(ye=k.clientData)||void 0===ye||null===(ge=ye[v])||void 0===ge||null===(Ne=ge.addresses)||void 0===Ne?void 0:Ne.country)&&(0,D.jsx)("p",{className:"".concat(s.ci),children:k.clientData[v].addresses.country.message})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:"".concat(s.Q0),children:["State ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(o.xI,{control:C,name:"clientData.".concat(v,".addresses.state"),rules:{required:"State is required"},render:e=>{var l,a,i,d;let{field:o}=e;return(0,D.jsx)(t.A,(0,n.A)((0,n.A)({},o),{},{onChange:e=>o.onChange(e),className:"w-full",options:null===(l=(0,s._o)(null===T||void 0===T?void 0:T.docs))||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),notFoundContent:(0,D.jsx)(j.A,{}),z:!0,children:(0,D.jsx)("input",{placeholder:"Enter State",onFocus:()=>{h((0,c.mz)({isPagination:!1,text:"",countryName:O("clientData.".concat(v,".addresses.country")),sort:!0,status:!0}))},className:"".concat(s.Ol," ").concat(null!==(a=k.clientData)&&void 0!==a&&null!==(i=a[v])&&void 0!==i&&null!==(d=i.addresses)&&void 0!==d&&d.state?"border-[1px] ":"border-gray-300")})}))}}),(null===(je=k.clientData)||void 0===je||null===(De=je[v])||void 0===De||null===(Ce=De.addresses)||void 0===Ce?void 0:Ce.state)&&(0,D.jsx)("p",{className:"".concat(s.ci),children:k.clientData[v].addresses.state.message})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:"".concat(s.Q0),children:["City ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(o.xI,{control:C,name:"clientData.".concat(v,".addresses.city"),rules:{required:"City is required"},render:e=>{var l,a,i,d;let{field:o}=e;return(0,D.jsx)(t.A,(0,n.A)((0,n.A)({},o),{},{onChange:e=>o.onChange(e),className:"w-full",options:null===(l=(0,s._o)(null===_||void 0===_?void 0:_.docs))||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),notFoundContent:(0,D.jsx)(j.A,{}),children:(0,D.jsx)("input",{placeholder:"Enter City",onFocus:()=>{h((0,r.cY)({isPagination:!1,text:"",sort:!0,status:!0,stateName:O("clientData.".concat(v,".addresses.state"))}))},className:"".concat(s.Ol," ").concat(null!==(a=k.clientData)&&void 0!==a&&null!==(i=a[v])&&void 0!==i&&null!==(d=i.addresses)&&void 0!==d&&d.city?"border-[1px] ":"border-gray-300")})}))}}),(null===(Ae=k.clientData)||void 0===Ae||null===(we=Ae[v])||void 0===we||null===(Se=we.addresses)||void 0===Se?void 0:Se.city)&&(0,D.jsx)("p",{className:"".concat(s.ci),children:k.clientData[v].addresses.city.message})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(s.Q0),children:["Pin Code ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(o.xI,{control:C,name:"clientData.".concat(v,".addresses.pinCode"),rules:{required:"Pin Code is required"},render:e=>{var l,a,t;let{field:i}=e;return(0,D.jsx)("input",(0,n.A)((0,n.A)({},i),{},{type:"number",placeholder:"Enter Pin Code",maxLength:6,onInput:e=>{e.target.value.length>6&&(e.target.value=e.target.value.slice(0,6))},className:"".concat(s.Ol," ").concat(null!==(l=k.clientData)&&void 0!==l&&null!==(a=l[v])&&void 0!==a&&null!==(t=a.addresses)&&void 0!==t&&t.pinCode?"border-[1px] ":"border-gray-300")}))}}),(null===(Oe=k.clientData)||void 0===Oe||null===(ke=Oe[v])||void 0===ke||null===(Ie=ke.addresses)||void 0===Ie?void 0:Ie.pinCode)&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:k.clientData[v].addresses.pinCode.message})]})]})]},e.id)}),(0,D.jsxs)("div",{className:"flex gap-2 justify-between items-center my-2",children:[(0,D.jsx)("button",{type:"button",onClick:()=>q({fullName:"",userType:"clientBranch",password:"",email:"",mobile:{code:"",number:""},directorProfile:{isShareLoginDetails:!1,secondaryEmail:"",secondaryMobile:[{code:"",number:""}],landline:{code:"",number:""}},generalInfo:{gender:"",dateOfBirth:"",maritalStatus:""},addresses:{street:"",city:"",state:"",country:"",pinCode:""}}),className:"bg-header px-2 py-2 text-sm rounded-md text-white",children:"Add New Client"}),(0,D.jsx)("button",{type:"submit",className:"bg-header px-2 py-2 text-sm rounded-md text-white",children:"Submit"})]})]})})}},21421:(e,l,a)=>{a.d(l,{A:()=>h});var n=a(65043),t=a(15187),i=a(83003),d=a(88967),o=a(27971),s=a(3825),r=a(65512),c=a(29542),u=a(30064),m=a.n(u),v=a(17995),x=a(735),p=a(70579);const h=function(e){let{clientData:l,fetchData:a}=e;const[u,h]=(0,n.useState)([{id:1,name:"",documentNo:"",isPeriod:"",quarterName:"",monthName:"",file:[]}]),b=["Jan-Mar","Apr-Jun","Jul-Sep","Oct-Dec"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],{loadingUpdateFile:y}=(0,i.d4)(e=>e.fileUpload),[g,N]=(0,n.useState)([]),j=(0,i.wA)(),{employeeDocumentList:D,employeeDocListloading:C}=(0,i.d4)(e=>e.employeeDocument);(0,n.useEffect)(()=>{var e;j((0,o.no)({isPagination:!1,companyId:null===(e=(0,x.A)())||void 0===e?void 0:e.userCompanyId}))},[j]);const A=(e,l,a)=>{var n;const t=[...u];t[e][l]=a,h(t);const i=[...g];null!==(n=i[e])&&void 0!==n&&n[l]&&delete i[e][l],N(i)};(0,n.useEffect)(()=>{if(l){var e,a;const n=null!==l&&void 0!==l&&null!==(e=l.data)&&void 0!==e&&null!==(a=e.financeData)&&void 0!==a&&a.length?null===l||void 0===l?void 0:l.data.financeData.map(e=>({_id:(null===e||void 0===e?void 0:e._id)||"",name:(null===e||void 0===e?void 0:e.name)||"",year:(null===e||void 0===e?void 0:e.yearRange)||"",file:(null===e||void 0===e?void 0:e.filePath)||[],isPeriod:(null===e||void 0===e?void 0:e.type)||"",quarterName:(null===e||void 0===e?void 0:e.monthQuaters)||"",monthName:(null===e||void 0===e?void 0:e.monthName)||""})):[{_id:"",name:"",year:(0,t.Yz)(),file:[]}];h([...n])}},[l]);const w=(0,t.vr)();return(0,p.jsxs)("form",{autoComplete:"off",onSubmit:async e=>{if(e.preventDefault(),(()=>{let e=[];return u.forEach((l,a)=>{let n={};l.name||(n.name="Document Type is required."),l.year||(n.year="Year is required."),l.isPeriod||(n.isPeriod="type is required."),l.file&&0!==l.file.length||(n.file="Document file is required."),Object.keys(n).length>0&&(e[a]=n)}),N(e),e.every(e=>0===Object.keys(e).length)})()){const e={financialInfo:u.map((e,a)=>{var n,t;return null!==e&&void 0!==e&&e._id?{userId:null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n._id,_id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.name,yearRange:null===e||void 0===e?void 0:e.year,filePath:null===e||void 0===e?void 0:e.file,type:null===e||void 0===e?void 0:e.isPeriod,monthName:"Quaterly"==(null===e||void 0===e?void 0:e.isPeriod)||"Yearly"==(null===e||void 0===e?void 0:e.isPeriod)?"":null===e||void 0===e?void 0:e.monthName,monthQuaters:"Quaterly"!=(null===e||void 0===e?void 0:e.isPeriod)?"":null===e||void 0===e?void 0:e.quarterName}:{userId:null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t._id,name:null===e||void 0===e?void 0:e.name,yearRange:null===e||void 0===e?void 0:e.year,filePath:null===e||void 0===e?void 0:e.file,type:null===e||void 0===e?void 0:e.isPeriod,monthName:"Quaterly"==(null===e||void 0===e?void 0:e.isPeriod)||"Yearly"==(null===e||void 0===e?void 0:e.isPeriod)?"":null===e||void 0===e?void 0:e.monthName,monthQuaters:"Quaterly"!=(null===e||void 0===e?void 0:e.isPeriod)?"":null===e||void 0===e?void 0:e.quarterName}}),type:"financial"};await j((0,d.lU)(e)).then(e=>{e.error||a()})}},children:[(0,p.jsxs)("div",{className:"rounded-md",children:[null===u||void 0===u?void 0:u.map((e,l)=>{var n,i,o,x,y,S,O,k;const I=e.isPeriod;return(0,p.jsxs)("div",{className:"border border-gray-300 rounded-md my-2",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-4 bg-header rounded-t-md",children:[(0,p.jsxs)("div",{className:"px-3 py-2 text-white font-semibold",children:["Financial Document ",l+1]}),(0,p.jsx)("button",{type:"button",onClick:()=>((e,l)=>{null!==e&&void 0!==e&&e._id?j((0,d.Nn)({_id:null===e||void 0===e?void 0:e._id})).then(e=>{e.error||a()}):h(e=>e.filter((e,a)=>a!==l))})(e,l),className:"text-red-600 hover:text-red-800",children:(0,p.jsx)(s.F23,{size:20,className:"m-2"})})]}),(0,p.jsxs)("div",{className:"px-3 grid sm:grid-cols-2 grid-cols-1 gap-4 mb-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"".concat(t.Q0),children:["Document Type ",(0,p.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,p.jsxs)(r.A,{value:e.name,className:" ".concat(t.Hy," ").concat(g.name?"border-[1px] ":"border-gray-300"),onChange:e=>A(l,"name",e),placeholder:"Select Document Type",showSearch:!0,children:[(0,p.jsx)(r.A.Option,{value:"",children:"Select Document"}),C?(0,p.jsx)(r.A.Option,{disabled:!0,children:(0,p.jsx)(v.A,{})}):null===D||void 0===D?void 0:D.filter(e=>"Financial"===(null===e||void 0===e?void 0:e.type)).map(e=>(0,p.jsx)(r.A.Option,{value:e.name,children:e.name},e.name))]}),(null===(n=g[l])||void 0===n?void 0:n.name)&&(0,p.jsx)("p",{className:"text-red-600 text-sm",children:g[l].name})]}),(0,p.jsxs)("div",{className:"w-full",children:[(0,p.jsxs)("label",{className:"".concat(t.Q0),children:["Year ",(0,p.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,p.jsxs)(r.A,{defaultValue:(0,t.Yz)(),value:e.year,onChange:e=>A(l,"year",e),className:"".concat(t.Hy," ").concat(null!==(i=g[l])&&void 0!==i&&i.name?"border-[1px] ":""),children:[(0,p.jsx)(r.A.Option,{value:"",children:"Select Financial Year"}),w.map(e=>(0,p.jsx)(r.A.Option,{value:e,children:e},e))]}),(null===(o=g[l])||void 0===o?void 0:o.year)&&(0,p.jsx)("p",{className:"text-red-600 text-sm",children:g[l].year})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"".concat(t.Q0),children:["Type ",(0,p.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,p.jsxs)(r.A,{defaultValue:"",onChange:e=>A(l,"isPeriod",e),value:null===e||void 0===e?void 0:e.isPeriod,className:"".concat(t.Hy," "),children:[(0,p.jsx)(r.A.Option,{value:"",children:"Select Type"}),(0,p.jsxs)(r.A.Option,{value:"Quaterly",children:[" ","Quaterly"]}),(0,p.jsx)(r.A.Option,{value:"Monthly",children:"Monthly"}),(0,p.jsx)(r.A.Option,{value:"Yearly",children:"Yearly"})]}),(null===(x=g[l])||void 0===x?void 0:x.isPeriod)&&(0,p.jsx)("p",{className:"text-red-600 text-sm",children:g[l].isPeriod})]}),"Quaterly"===I&&(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"".concat(t.Q0),children:["Quarter ",(0,p.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,p.jsxs)(r.A,{defaultValue:"",className:"".concat(t.Hy," "),onChange:e=>A(l,"quarterName",e),value:null===e||void 0===e?void 0:e.quarterName,children:[(0,p.jsx)(r.A.Option,{value:"",children:"Select Quarter"}),b.map(e=>(0,p.jsx)(r.A.Option,{value:e,children:e},e))]}),(null===(y=g[l])||void 0===y?void 0:y.quarterName)&&(0,p.jsx)("p",{className:"text-red-600 text-sm",children:g[l].quarterName})]}),"Monthly"===I&&(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"".concat(t.Q0),children:["Month ",(0,p.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,p.jsxs)(r.A,{defaultValue:"",className:"".concat(t.Hy," "),onChange:e=>A(l,"monthName",e),value:null===e||void 0===e?void 0:e.monthName,children:[(0,p.jsx)(r.A.Option,{value:"",children:"Select Month"}),f.map(e=>(0,p.jsx)(r.A.Option,{value:e,children:e},e))]}),(null===(S=g[l])||void 0===S?void 0:S.monthName)&&(0,p.jsx)("p",{className:"text-red-600 text-sm",children:g[l].monthName})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"".concat(t.Q0),children:["Upload Image  ",(0,p.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,p.jsx)("input",{type:"file",accept:".pdf,image/*",id:"documentUpload".concat(l),className:"hidden",onChange:e=>((e,l)=>{if(!l)return;const a="application/pdf"===l.type,n=URL.createObjectURL(l);m().fire({title:"Preview your file",html:'\n                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">\n                    <p style="margin-bottom: 20px;">Do you want to upload this file?</p>\n                    '.concat(a?'<p style="font-size: 16px; color: #074173;">'.concat(l.name,"</p>"):'<img src="'.concat(n,'" alt="File Preview" style="max-width: 100%; max-height: 300px; width: auto; height: auto;">'),"\n                    <br>\n                </div>\n            "),showCancelButton:!0,confirmButtonText:"Confirm!",cancelButtonText:"Cancel"}).then(a=>{a.isConfirmed&&j((0,d.Sg)({filePath:l,isVideo:!1,isMultiple:!1})).then(l=>{if(!l.error){var a,n;const t=[...u];t[e].file=[null===l||void 0===l||null===(a=l.payload)||void 0===a?void 0:a.data],h(t);const i=[...g];null!==(n=i[e])&&void 0!==n&&n.file&&delete i[e].file,N(i)}})})})(l,e.target.files[0])}),(0,p.jsx)("br",{}),(0,p.jsx)("label",{htmlFor:"documentUpload".concat(l),className:"bg-header text-white mt-2 py-1.5 px-3 text-nowrap text-sm rounded cursor-pointer",children:"Upload Image"})]}),(null===e||void 0===e||null===(O=e.file)||void 0===O?void 0:O.length)>0?e.file.map((e,a)=>(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(c.A,{src:"".concat("https://vigapi.vigorousit.com","/public/").concat(e),alt:"Uploaded ".concat(a+1)}),(0,p.jsx)("button",{className:"absolute -top-1 -right-2 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",onClick:()=>(e=>{const l=[...u];l[e].file=[],h(l)})(l),children:"\u2715"})]},a)):null,(null===(k=g[l])||void 0===k?void 0:k.file)&&(0,p.jsx)("p",{className:"text-red-600 text-sm",children:g[l].file})]})]},l)]},l)}),(0,p.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,p.jsx)("button",{type:"button",onClick:()=>{h([...u,{id:Date.now()}])},className:"bg-header text-white py-1.5 px-3 text-nowrap text-sm rounded ",children:"Add More"})})]}),(0,p.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,p.jsx)("button",{type:"Submit",className:"".concat(t.Wb),children:y?"Submitting ...":"Submit Details"})})]})}},23134:(e,l,a)=>{a.d(l,{Ay:()=>r,gd:()=>s});var n=a(43944),t=a(94414),i=a(78446),d=a(78855);const o=e=>{const{checkboxCls:l}=e,a="".concat(l,"-wrapper");return[{["".concat(l,"-group")]:Object.assign(Object.assign({},(0,t.dF)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,["> ".concat(e.antCls,"-row")]:{flex:1}}),[a]:Object.assign(Object.assign({},(0,t.dF)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},["& + ".concat(a)]:{marginInlineStart:0},["&".concat(a,"-in-form-item")]:{'input[type="checkbox"]':{width:14,height:14}}}),[l]:Object.assign(Object.assign({},(0,t.dF)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",["".concat(l,"-input")]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,["&:focus-visible + ".concat(l,"-inner")]:(0,t.jk)(e)},["".concat(l,"-inner")]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:"".concat((0,n.zA)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(e.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:"".concat((0,n.zA)(e.lineWidthBold)," solid ").concat(e.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(e.motionDurationFast," ").concat(e.motionEaseInBack,", opacity ").concat(e.motionDurationFast)}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{["\n        ".concat(a,":not(").concat(a,"-disabled),\n        ").concat(l,":not(").concat(l,"-disabled)\n      ")]:{["&:hover ".concat(l,"-inner")]:{borderColor:e.colorPrimary}},["".concat(a,":not(").concat(a,"-disabled)")]:{["&:hover ".concat(l,"-checked:not(").concat(l,"-disabled) ").concat(l,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},["&:hover ".concat(l,"-checked:not(").concat(l,"-disabled):after")]:{borderColor:e.colorPrimaryHover}}},{["".concat(l,"-checked")]:{["".concat(l,"-inner")]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseOutBack," ").concat(e.motionDurationFast)}}},["\n        ".concat(a,"-checked:not(").concat(a,"-disabled),\n        ").concat(l,"-checked:not(").concat(l,"-disabled)\n      ")]:{["&:hover ".concat(l,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[l]:{"&-indeterminate":{"&":{["".concat(l,"-inner")]:{backgroundColor:"".concat(e.colorBgContainer),borderColor:"".concat(e.colorBorder),"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},["&:hover ".concat(l,"-inner")]:{backgroundColor:"".concat(e.colorBgContainer),borderColor:"".concat(e.colorPrimary)}}}}},{["".concat(a,"-disabled")]:{cursor:"not-allowed"},["".concat(l,"-disabled")]:{["&, ".concat(l,"-input")]:{cursor:"not-allowed",pointerEvents:"none"},["".concat(l,"-inner")]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},["&".concat(l,"-indeterminate ").concat(l,"-inner::after")]:{background:e.colorTextDisabled}}}]};function s(e,l){const a=(0,i.oX)(l,{checkboxCls:".".concat(e),checkboxSize:l.controlInteractiveSize});return o(a)}const r=(0,d.OF)("Checkbox",(e,l)=>{let{prefixCls:a}=l;return[s(a,e)]})},24455:(e,l,a)=>{a.d(l,{A:()=>g});var n=a(65043),t=a(15187),i=a(83003),d=a(88967),o=a(27971),s=a(3825),r=a(24858),c=a(487),u=a(65512),m=a(29542),v=a(30064),x=a.n(v),p=a(60446),h=a.n(p),b=a(17995),f=a(735),y=a(70579);const g=function(e){let{clientData:l,fetchData:a}=e;const[v,p]=(0,n.useState)([{id:1,documentType:"",documentNo:"",file:[]}]),{loadingUpdateFile:g}=(0,i.d4)(e=>e.fileUpload),[N,j]=(0,n.useState)([]),D=(0,i.wA)(),{control:C,register:A}=(0,r.mN)(),{employeeDocumentList:w,employeeDocListloading:S}=(0,i.d4)(e=>e.employeeDocument);(0,n.useEffect)(()=>{var e;D((0,o.no)({isPagination:!1,companyId:null===(e=(0,f.A)())||void 0===e?void 0:e.userCompanyId}))},[D]),(0,n.useEffect)(()=>{if(l){var e,a;const n=null!==l&&void 0!==l&&null!==(e=l.data)&&void 0!==e&&null!==(a=e.documentData)&&void 0!==a&&a.length?l.data.documentData.map(e=>({_id:(null===e||void 0===e?void 0:e._id)||"",documentType:(null===e||void 0===e?void 0:e.name)||"",documentNo:(null===e||void 0===e?void 0:e.number)||"",file:(null===e||void 0===e?void 0:e.filePath)||[],endYear:(null===e||void 0===e?void 0:e.expireDate)&&h()(null===e||void 0===e?void 0:e.expireDate)})):[{_id:"",documentType:"",documentNo:"",file:[]}];p([...n])}},[l]);const O=(e,l,a)=>{var n;const t=[...v];t[e][l]=a,p(t);const i=[...N];null!==(n=i[e])&&void 0!==n&&n[l]&&delete i[e][l],j(i)};return(0,y.jsxs)("form",{autoComplete:"off",onSubmit:async e=>{if(e.preventDefault(),(()=>{let e=[];return v.forEach((l,a)=>{let n={};l.documentType||(n.documentType="Document Type is required."),l.documentNo||(n.documentNo="Document No is required."),l.file&&0!==l.file.length||(n.file="Document file is required."),Object.keys(n).length>0&&(e[a]=n)}),j(e),e.every(e=>0===Object.keys(e).length)})()){const e={documents:v.map((e,a)=>{var n,t;return null!==e&&void 0!==e&&e._id?{userId:null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n._id,_id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.documentType,number:null===e||void 0===e?void 0:e.documentNo,filePath:null===e||void 0===e?void 0:e.file,expireDate:null!==e&&void 0!==e&&e.endYear?h()(null===e||void 0===e?void 0:e.endYear):null}:{userId:null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t._id,name:null===e||void 0===e?void 0:e.documentType,number:null===e||void 0===e?void 0:e.documentNo,filePath:null===e||void 0===e?void 0:e.file,expireDate:null!==e&&void 0!==e&&e.endYear?h()(null===e||void 0===e?void 0:e.endYear):null}}),type:"documents"};await D((0,d.lU)(e)).then(e=>{e.error||a()})}},children:[(0,y.jsxs)("div",{className:"rounded-md ",children:[null===v||void 0===v?void 0:v.map((e,l)=>{var n,i,o,r,h,f,g,C;return(0,y.jsxs)("div",{className:"border border-gray-300 rounded-md my-2",children:[(0,y.jsxs)("div",{className:"flex justify-between items-center mb-4 bg-header rounded-t-md",children:[(0,y.jsxs)("div",{className:"px-3 py-2 text-white font-semibold",children:["  Document ",l+1]}),(0,y.jsx)("button",{type:"button",onClick:()=>((e,l)=>{null!==e&&void 0!==e&&e._id?D((0,d.Nn)({_id:null===e||void 0===e?void 0:e._id})).then(e=>{e.error||a()}):p(e=>e.filter((e,a)=>a!==l))})(e,l),className:"text-red-600 hover:text-red-800",children:(0,y.jsx)(s.F23,{size:20,className:"m-2"})})]}),(0,y.jsxs)("div",{className:"px-3 grid sm:grid-cols-2 grid-cols-1 gap-4 mb-3",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"".concat(t.Q0),children:["Document Type ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsxs)(u.A,{value:e.documentType,className:" ".concat(t.Hy," ").concat(N.documentType?"border-[1px] ":"border-gray-300"),onChange:e=>O(l,"documentType",e),placeholder:"Select Document Type",showSearch:!0,children:[(0,y.jsx)(u.A.Option,{value:"",children:"Select Document"}),S?(0,y.jsx)(u.A.Option,{disabled:!0,children:(0,y.jsx)(b.A,{})}):null===(n=(0,t._o)(w))||void 0===n?void 0:n.filter(e=>"General"===(null===e||void 0===e?void 0:e.type)).map(e=>(0,y.jsx)(u.A.Option,{value:e.name,children:e.name},e.name))]}),(null===(i=N[l])||void 0===i?void 0:i.documentType)&&(0,y.jsx)("p",{className:"text-red-600 text-sm",children:N[l].documentType})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"".concat(t.Q0),children:["Document No ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)("input",{type:"text",value:e.documentNo,onChange:e=>O(l,"documentNo",e.target.value),className:"".concat(t.Ol," ").concat(null!==(o=N[l])&&void 0!==o&&o.documentNo?"border-[1px] ":""),placeholder:"Enter Document No"}),(null===(r=N[l])||void 0===r?void 0:r.documentNo)&&(0,y.jsx)("p",{className:"text-red-600 text-sm",children:N[l].documentNo})]}),(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsx)("label",{className:"".concat(t.Q0),children:"Expiry Date"}),(0,y.jsx)(c.A,{className:"".concat(t.ot," py-2.5 ").concat(null!==(h=N[l])&&void 0!==h&&h.endYear?"border-[1px] ":"border-gray-300"," "),popupClassName:"!z-[1580]",value:e.endYear,onChange:e=>O(l,"endYear",e),picker:"date"}),(null===(f=N[l])||void 0===f?void 0:f.endYear)&&(0,y.jsx)("p",{className:"text-red-600 text-sm",children:N[l].endYear})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"".concat(t.Q0),children:["Upload Image ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)("input",{type:"file",accept:".pdf,image/*",id:"documentUpload".concat(l),className:"hidden",onChange:e=>((e,l)=>{if(!l)return;const a="application/pdf"===l.type,n=URL.createObjectURL(l);x().fire({title:"Preview your file",html:'\n              <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">\n                  <p style="margin-bottom: 20px;">Do you want to upload this file?</p>\n                  '.concat(a?'<p style="font-size: 16px; color: #074173;">'.concat(l.name,"</p>"):'<img src="'.concat(n,'" alt="File Preview" style="max-width: 100%; max-height: 300px; width: auto; height: auto;">'),"\n                  <br>\n              </div>\n          "),showCancelButton:!0,confirmButtonText:"Confirm!",cancelButtonText:"Cancel"}).then(a=>{a.isConfirmed&&D((0,d.Sg)({filePath:l,isVideo:!1,isMultiple:!1})).then(l=>{if(!l.error){var a,n;const t=[...v];t[e].file=[null===l||void 0===l||null===(a=l.payload)||void 0===a?void 0:a.data],p(t);const i=[...N];null!==(n=i[e])&&void 0!==n&&n.file&&delete i[e].file,j(i)}})})})(l,e.target.files[0])}),(0,y.jsx)("br",{}),(0,y.jsx)("label",{htmlFor:"documentUpload".concat(l),className:"bg-header text-white mt-2 py-1.5 px-3 text-nowrap text-sm rounded cursor-pointer",children:"Upload Image"})]}),(null===e||void 0===e||null===(g=e.file)||void 0===g?void 0:g.length)>0?e.file.map((e,a)=>(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(m.A,{src:"".concat("https://vigapi.vigorousit.com","/public/").concat(e),alt:"Uploaded ".concat(a+1)}),(0,y.jsx)("button",{className:"absolute -top-1 -right-2 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",onClick:()=>(e=>{const l=[...v];l[e].file=[],p(l)})(l),children:"\u2715"})]},a)):null,(null===(C=N[l])||void 0===C?void 0:C.file)&&(0,y.jsx)("p",{className:"text-red-600 text-sm",children:N[l].file})]})]},l)]},l)}),(0,y.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,y.jsx)("button",{type:"button",onClick:()=>{p([...v,{id:Date.now()}])},className:"bg-header text-white py-1.5 px-3 text-nowrap text-sm rounded ",children:"Add More"})})]}),(0,y.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,y.jsx)("button",{disabled:g,type:"Submit",className:"".concat(t.Wb),children:g?"Submitting ...":"Submit Details"})})]})}},32513:(e,l,a)=>{a.d(l,{A:()=>A});var n=a(65043),t=a(98139),i=a.n(t),d=a(79688),o=a(13758),s=a(12366),r=a(37489),c=a(35296),u=a(78440),m=a(78887),v=a(16436);const x=n.createContext(null);var p=a(23134),h=a(88042),b=function(e,l){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&l.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)l.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(a[n[t]]=e[n[t]])}return a};const f=(e,l)=>{var a;const{prefixCls:t,className:f,rootClassName:y,children:g,indeterminate:N=!1,style:j,onMouseEnter:D,onMouseLeave:C,skipGroup:A=!1,disabled:w}=e,S=b(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:O,direction:k,checkbox:I}=n.useContext(c.QO),P=n.useContext(x),{isFormItemInput:T}=n.useContext(v.$W),_=n.useContext(u.A),E=null!==(a=(null===P||void 0===P?void 0:P.disabled)||w)&&void 0!==a?a:_,q=n.useRef(S.value),Q=n.useRef(null),M=(0,o.K4)(l,Q);n.useEffect(()=>{null===P||void 0===P||P.registerValue(S.value)},[]),n.useEffect(()=>{if(!A)return S.value!==q.current&&(null===P||void 0===P||P.cancelValue(q.current),null===P||void 0===P||P.registerValue(S.value),q.current=S.value),()=>null===P||void 0===P?void 0:P.cancelValue(S.value)},[S.value]),n.useEffect(()=>{var e;(null===(e=Q.current)||void 0===e?void 0:e.input)&&(Q.current.input.indeterminate=N)},[N]);const B=O("checkbox",t),F=(0,m.A)(B),[L,z,U]=(0,p.Ay)(B,F),Y=Object.assign({},S);P&&!A&&(Y.onChange=function(){if(S.onChange){for(var e=arguments.length,l=new Array(e),a=0;a<e;a++)l[a]=arguments[a];S.onChange.apply(S,l)}P.toggleOption&&P.toggleOption({label:g,value:S.value})},Y.name=P.name,Y.checked=P.value.includes(S.value));const V=i()("".concat(B,"-wrapper"),{["".concat(B,"-rtl")]:"rtl"===k,["".concat(B,"-wrapper-checked")]:Y.checked,["".concat(B,"-wrapper-disabled")]:E,["".concat(B,"-wrapper-in-form-item")]:T},null===I||void 0===I?void 0:I.className,f,y,U,F,z),H=i()({["".concat(B,"-indeterminate")]:N},r.D,z),[R,G]=(0,h.A)(Y.onClick);return L(n.createElement(s.A,{component:"Checkbox",disabled:E},n.createElement("label",{className:V,style:Object.assign(Object.assign({},null===I||void 0===I?void 0:I.style),j),onMouseEnter:D,onMouseLeave:C,onClick:R},n.createElement(d.A,Object.assign({},Y,{onClick:G,prefixCls:B,className:H,disabled:E,ref:M})),void 0!==g&&null!==g&&n.createElement("span",{className:"".concat(B,"-label")},g))))};const y=n.forwardRef(f);var g=a(60436),N=a(18574),j=function(e,l){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&l.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)l.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(a[n[t]]=e[n[t]])}return a};const D=n.forwardRef((e,l)=>{const{defaultValue:a,children:t,options:d=[],prefixCls:o,className:s,rootClassName:r,style:u,onChange:v}=e,h=j(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:b,direction:f}=n.useContext(c.QO),[D,C]=n.useState(h.value||a||[]),[A,w]=n.useState([]);n.useEffect(()=>{"value"in h&&C(h.value||[])},[h.value]);const S=n.useMemo(()=>d.map(e=>"string"===typeof e||"number"===typeof e?{label:e,value:e}:e),[d]),O=e=>{w(l=>l.filter(l=>l!==e))},k=e=>{w(l=>[].concat((0,g.A)(l),[e]))},I=e=>{const l=D.indexOf(e.value),a=(0,g.A)(D);-1===l?a.push(e.value):a.splice(l,1),"value"in h||C(a),null===v||void 0===v||v(a.filter(e=>A.includes(e)).sort((e,l)=>S.findIndex(l=>l.value===e)-S.findIndex(e=>e.value===l)))},P=b("checkbox",o),T="".concat(P,"-group"),_=(0,m.A)(P),[E,q,Q]=(0,p.Ay)(P,_),M=(0,N.A)(h,["value","disabled"]),B=d.length?S.map(e=>n.createElement(y,{prefixCls:P,key:e.value.toString(),disabled:"disabled"in e?e.disabled:h.disabled,value:e.value,checked:D.includes(e.value),onChange:e.onChange,className:i()("".concat(T,"-item"),e.className),style:e.style,title:e.title,id:e.id,required:e.required},e.label)):t,F=n.useMemo(()=>({toggleOption:I,value:D,disabled:h.disabled,name:h.name,registerValue:k,cancelValue:O}),[I,D,h.disabled,h.name,k,O]),L=i()(T,{["".concat(T,"-rtl")]:"rtl"===f},s,r,Q,_,q);return E(n.createElement("div",Object.assign({className:L,style:u},M,{ref:l}),n.createElement(x.Provider,{value:F},B)))}),C=y;C.Group=D,C.__ANT_CHECKBOX=!0;const A=C},35284:(e,l,a)=>{a.d(l,{A:()=>h});var n=a(65043),t=a(15187),i=a(83003),d=a(3825),o=a(70337),s=a(487),r=a(65512),c=a(60446),u=a.n(c),m=a(55640),v=a(73216),x=a(89427),p=a(70579);const h=function(e){let{clientData:l,fetchData:a}=e;const[c,h]=(0,n.useState)([{id:1,documentType:"",documentNo:"",file:[]}]),{DigitalSignatureTypeList:b,loading:f}=(0,i.d4)(e=>e.digitalSignatureType),{loadingUpdateFile:y}=(0,i.d4)(e=>e.fileUpload),[g,N]=(0,n.useState)([]),j=(0,v.Zp)(),D=(0,i.wA)();(0,n.useEffect)(()=>{var e,a;D((0,m.Nn)({branchId:null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.branchId,companyId:null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.companyId}))},[]);const C=(e,l,a)=>{var n;const t=[...c];t[e][l]=a,h(t);const i=[...g];null!==(n=i[e])&&void 0!==n&&n[l]&&delete i[e][l],N(i)};return(0,n.useEffect)(()=>{if(l){var e,a;const n=null!==l&&void 0!==l&&null!==(e=l.data)&&void 0!==e&&null!==(a=e.signatureData)&&void 0!==a&&a.length?l.data.signatureData.map(e=>({_id:(null===e||void 0===e?void 0:e._id)||"",name:(null===e||void 0===e?void 0:e.name)||"",startDate:u()(null===e||void 0===e?void 0:e.startDate)||"",endDate:u()(null===e||void 0===e?void 0:e.expiryDate)||"",file:(null===e||void 0===e?void 0:e.attechment)||[],signatureType:(null===e||void 0===e?void 0:e.signatureTypeId)||""})):[{documentType:"",documentNo:"",file:[],signatureType:""}];h([...n])}},[l]),(0,p.jsxs)("form",{autoComplete:"off",onSubmit:async e=>{if(e.preventDefault(),(()=>{let e=[];return c.forEach((l,a)=>{let n={};l.name||(n.name="Name is required."),l.signatureType||(n.signatureType="Signature Type is required."),l.startDate||(n.startDate="Start Date is required."),l.endDate||(n.endDate="End Date is required."),Object.keys(n).length>0&&(e[a]=n)}),N(e),e.every(e=>0===Object.keys(e).length)})()){var n,t,i;const e=c.map((e,l)=>null!==e&&void 0!==e&&e._id?{_id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.name,startDate:null===e||void 0===e?void 0:e.startDate,expiryDate:null===e||void 0===e?void 0:e.endDate,signatureTypeId:null===e||void 0===e?void 0:e.signatureType}:{name:null===e||void 0===e?void 0:e.name,startDate:null===e||void 0===e?void 0:e.startDate,expiryDate:null===e||void 0===e?void 0:e.endDate,signatureTypeId:null===e||void 0===e?void 0:e.signatureType}),d={companyId:null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.companyId,directorId:"",branchId:null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.branchId,clientId:null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i._id,type:"Signature",signatureArr:e};D((0,o.bU)(d)).then(e=>{null!==e&&void 0!==e&&e.error||a()}),j(-1)}},children:[(0,p.jsxs)("div",{className:"rounded-md",children:[null===c||void 0===c?void 0:c.map((e,l)=>{var n,i,c,m,v,y,N,j;return(0,p.jsxs)("div",{className:"border border-gray-300 rounded-md my-2",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-4 bg-header rounded-t-md",children:[(0,p.jsxs)("div",{className:"px-3 py-2 text-white font-semibold",children:[" ","digital Signature ",l+1]}),0!==l&&(0,p.jsx)("button",{type:"button",onClick:()=>((e,l)=>{null!==e&&void 0!==e&&e._id?D((0,o.hs)({_id:null===e||void 0===e?void 0:e._id})).then(e=>{e.error||a()}):h(e=>e.filter((e,a)=>a!==l))})(e,l),className:"text-red-600 hover:text-red-800",children:(0,p.jsx)(d.F23,{size:20,className:"m-2"})})]}),(0,p.jsxs)("div",{className:"px-3 grid sm:grid-cols-2 grid-cols-1 gap-4 mb-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"".concat(t.Q0),children:["Signature Type ",(0,p.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,p.jsxs)(r.A,{value:e.signatureType,className:" ".concat(t.Hy," ").concat(g.signatureType?"border-[1px] ":"border-gray-300"),onChange:e=>C(l,"signatureType",e),placeholder:"Select Signature Type",showSearch:!0,children:[(0,p.jsx)(r.A.Option,{value:"",children:"Select Signature Type"}),f?(0,p.jsx)(r.A.Option,{disabled:!0,children:(0,p.jsx)(x.A,{})}):null===(n=(0,t._o)(null===b||void 0===b?void 0:b.docs))||void 0===n?void 0:n.map(e=>(0,p.jsx)(r.A.Option,{value:e._id,children:e.name},e._id))]}),(null===(i=g[l])||void 0===i?void 0:i.signatureType)&&(0,p.jsx)("p",{className:"text-red-600 text-sm",children:g[l].signatureType})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"".concat(t.Q0),children:["Name ",(0,p.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,p.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.name,onChange:e=>C(l,"name",e.target.value),className:"".concat(t.Ol," ").concat(null!==(c=g[l])&&void 0!==c&&c.name?"border-[1px] ":""),placeholder:"Enter  Name"}),(null===(m=g[l])||void 0===m?void 0:m.name)&&(0,p.jsx)("p",{className:"text-red-600 text-sm",children:g[l].name})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"".concat(t.Q0),children:["Start Date ",(0,p.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,p.jsx)(s.A,{size:"large",picker:"date",format:"DD/MM/YYYY",disabledDate:e=>e.isBefore(u()().endOf("day"),"day"),value:null!==e&&void 0!==e&&e.startDate?u()(null===e||void 0===e?void 0:e.startDate):null,onChange:e=>C(l,"startDate",e),className:" ".concat(t.ot," ").concat(null!==(v=g[l])&&void 0!==v&&v.startDate?"border-[1px] ":""," "),popupClassName:"!z-[1580]"}),(null===(y=g[l])||void 0===y?void 0:y.startDate)&&(0,p.jsx)("p",{className:"text-red-600 text-sm",children:g[l].startDate})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"".concat(t.Q0),children:["End Date ",(0,p.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,p.jsx)(s.A,{size:"large",picker:"date",format:"DD/MM/YYYY",disabledDate:e=>e.isBefore(u()().endOf("day"),"day"),value:null!==e&&void 0!==e&&e.endDate?u()(null===e||void 0===e?void 0:e.endDate):null,onChange:e=>C(l,"endDate",e),className:" ".concat(t.ot," ").concat(null!==(N=g[l])&&void 0!==N&&N.endDate?"border-[1px] ":""," "),popupClassName:"!z-[1580]"}),(null===(j=g[l])||void 0===j?void 0:j.endDate)&&(0,p.jsx)("p",{className:"text-red-600 text-sm",children:g[l].endDate})]})]},l)]},l)}),(0,p.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,p.jsx)("button",{type:"button",onClick:()=>{h([...c,{id:Date.now()}])},className:"bg-header text-white py-1.5 px-3 text-nowrap text-sm rounded ",children:"Add More"})})]}),(0,p.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,p.jsx)("button",{disabled:y,type:"Submit",className:"".concat(t.Wb),children:y?"Submitting ...":"Submit Details"})})]})}},79001:(e,l,a)=>{a.d(l,{A:()=>u});var n=a(89379),t=a(24858),i=a(15187),d=a(83003),o=(a(36105),a(65043)),s=a(70337),r=a(56659),c=a(70579);const u=function(e){let{clientData:l,fetchData:a}=e;const{register:u,handleSubmit:m,setValue:v,control:x,formState:{errors:p}}=(0,t.mN)(),{countryListData:h}=(0,d.d4)(e=>e.country),b=(0,d.wA)();return(0,o.useEffect)(()=>{var e,a,n,t,i,d,o,s,r,c,u,m,x,p,h,b,f,y,g;null!==l&&void 0!==l&&null!==(e=l.data)&&void 0!==e&&null!==(a=e.clientProfile)&&void 0!==a&&a.contactInfo&&(v("name",null===l||void 0===l||null===(n=l.data)||void 0===n||null===(t=n.clientProfile)||void 0===t||null===(i=t.contactInfo)||void 0===i?void 0:i.name),v("email",null===l||void 0===l||null===(d=l.data)||void 0===d||null===(o=d.clientProfile)||void 0===o||null===(s=o.contactInfo)||void 0===s?void 0:s.email),v("code",null===l||void 0===l||null===(r=l.data)||void 0===r||null===(c=r.clientProfile)||void 0===c||null===(u=c.contactInfo)||void 0===u||null===(m=u.mobile)||void 0===m?void 0:m.code),v("number",null===l||void 0===l||null===(x=l.data)||void 0===x||null===(p=x.clientProfile)||void 0===p||null===(h=p.contactInfo)||void 0===h||null===(b=h.mobile)||void 0===b?void 0:b.number),v("designation",null===l||void 0===l||null===(f=l.data)||void 0===f||null===(y=f.clientProfile)||void 0===y||null===(g=y.contactInfo)||void 0===g?void 0:g.designation))},[l]),(0,c.jsxs)("form",{autoComplete:"off",className:"",onSubmit:m(e=>{var t;const i=(0,n.A)((0,n.A)({},null===l||void 0===l?void 0:l.data),{},{clientProfile:(0,n.A)((0,n.A)({},null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.clientProfile),{},{contactInfo:{name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,mobile:{code:null===e||void 0===e?void 0:e.code,number:null===e||void 0===e?void 0:e.number},designation:null===e||void 0===e?void 0:e.designation}})});b((0,s.Pl)(i)).then(e=>{null!==e&&void 0!==e&&e.error||a()})}),children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2",children:[(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("label",{className:"".concat(i.Q0),children:["Name ",(0,c.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,c.jsx)("input",(0,n.A)((0,n.A)({type:"text"},u("name",{required:"Name is required"})),{},{className:"placeholder: ".concat(i.Ol," ").concat(p.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Name"})),p.name&&(0,c.jsx)("p",{className:"text-red-500 text-sm",children:p.name.message})]}),(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("label",{className:"".concat(i.Q0),children:["Email ",(0,c.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,c.jsx)("input",(0,n.A)((0,n.A)({type:"text"},u("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(i.Ol," ").concat(p.email?"border-[1px] ":"border-gray-300"),placeholder:"Enter Email"})),p.email&&(0,c.jsx)("p",{className:"text-red-500 text-sm",children:p.email.message})]}),(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("label",{className:"".concat(i.Q0),children:["designation ",(0,c.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,c.jsx)("input",(0,n.A)((0,n.A)({type:"designation"},u("designation",{required:"designation is required"})),{},{className:" ".concat(i.Ol," ").concat(p.designation?"border-[1px] ":"border-gray-300"),placeholder:"Enter designation"})),p.designation&&(0,c.jsx)("p",{className:"text-red-500 text-sm",children:p.designation.message})]}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsxs)("div",{className:"w-[150px]",children:[(0,c.jsxs)("label",{className:"".concat(i.Q0),children:["code",(0,c.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,c.jsx)(t.xI,{control:x,name:"code",rules:{required:"code is required"},render:e=>{let{field:l}=e;return(0,c.jsx)(r.A,{field:l,errors:p})}}),p.code&&(0,c.jsx)("p",{className:"text-red-500 text-sm",children:p.code.message})]}),(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsxs)("label",{className:"".concat(i.Q0),children:["Mobile No",(0,c.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,c.jsx)("input",(0,n.A)((0,n.A)({type:"number"},u("number",{required:"Mobile No is required",minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(i.Ol," ").concat(p.number?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),p.number&&(0,c.jsx)("p",{className:"text-red-500 text-sm",children:p.number.message})]})]})]}),(0,c.jsx)("div",{className:"flex justify-end ",children:(0,c.jsx)("button",{type:"submit",className:"bg-header text-white p-2 px-4 rounded mt-4",children:"Submit"})})]})}},93596:(e,l,a)=>{a.d(l,{A:()=>p});var n=a(65043),t=a(15187),i=a(83003),d=a(88967),o=a(3825),s=a(65512),r=a(77538),c=a(29542),u=a(30064),m=a.n(u),v=a(17995),x=a(70579);const p=function(e){let{clientData:l,fetchData:a}=e;const[u,p]=(0,n.useState)([1]),{bankNameListData:h,bankNameLoading:b}=(0,i.d4)(e=>e.bankname),{loadingUpdateFile:f}=(0,i.d4)(e=>e.fileUpload),[y,g]=(0,n.useState)([]),N=(0,i.wA)(),j=(e,l,a)=>{const n=[...u],t=[...y];if("ifscCode"===l){var i;if(/^[A-Z]{4}0[A-Z0-9]{6}$/.test(a))null!==(i=t[e])&&void 0!==i&&i[l]&&delete t[e][l];else t[e]||(t[e]={}),t[e][l]="Invalid IFSC code. Example: SBIN0001234"}if("accountNumber"===l){var d;if(/^\d{6,18}$/.test(a))null!==(d=t[e])&&void 0!==d&&d[l]&&delete t[e][l];else t[e]||(t[e]={}),t[e][l]="Invalid account number. Must be 6 to 18 digits."}n[e][l]=a,p(n),g(t)};return(0,n.useEffect)(()=>{N((0,r.CY)({isPagination:!1,text:"",sort:!0,status:!0}))},[]),(0,n.useEffect)(()=>{if(l){var e,a,n;const t=null!==l&&void 0!==l&&null!==(e=l.data)&&void 0!==e&&null!==(a=e.bankData)&&void 0!==a&&a.length?null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.bankData.map(e=>({_id:(null===e||void 0===e?void 0:e._id)||"",accountType:(null===e||void 0===e?void 0:e.accountType)||"",bankName:(null===e||void 0===e?void 0:e.bankName)||"",branchName:(null===e||void 0===e?void 0:e.branchName)||"",bankholderName:(null===e||void 0===e?void 0:e.bankholderName)||"",accountNumber:(null===e||void 0===e?void 0:e.accountNumber)||"",ifscCode:(null===e||void 0===e?void 0:e.ifscCode)||"",file:(null===e||void 0===e?void 0:e.filePath)||[]})):[{_id:"",accountType:"",bankName:"",branchName:"",bankholderName:"",accountNumber:"",ifscCode:"",file:[]}];p([...t])}},[l]),(0,x.jsxs)("form",{autoComplete:"off",onSubmit:async e=>{if(e.preventDefault(),(()=>{let e=[];return u.forEach((l,a)=>{let n={};l.accountType||(n.accountType="Account Type is required."),l.bankholderName||(n.bankholderName="Account Holder name is required."),l.accountNumber||(n.accountNumber="Account No is required."),l.bankName||(n.bankName="Bank Name is required."),l.branchName||(n.branchName="Branch Name is required."),l.ifscCode||(n.ifscCode="Ifsc code is required."),Object.keys(n).length>0&&(e[a]=n)}),g(e),e.every(e=>0===Object.keys(e).length)})()){const e={bank:u.map((e,a)=>{var n,t;return null!==e&&void 0!==e&&e._id?{userId:null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n._id,_id:null===e||void 0===e?void 0:e._id,bankholderName:null===e||void 0===e?void 0:e.bankholderName,bankName:null===e||void 0===e?void 0:e.bankName,accountNumber:null===e||void 0===e?void 0:e.accountNumber,branchName:null===e||void 0===e?void 0:e.branchName,ifscCode:null===e||void 0===e?void 0:e.ifscCode,accountType:null===e||void 0===e?void 0:e.accountType,filePath:null===e||void 0===e?void 0:e.file}:{userId:null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t._id,bankholderName:null===e||void 0===e?void 0:e.bankholderName,bankName:null===e||void 0===e?void 0:e.bankName,accountNumber:null===e||void 0===e?void 0:e.accountNumber,branchName:null===e||void 0===e?void 0:e.branchName,ifscCode:null===e||void 0===e?void 0:e.ifscCode,accountType:null===e||void 0===e?void 0:e.accountType,filePath:null===e||void 0===e?void 0:e.file}}),type:"bank"};await N((0,d.lU)(e)).then(e=>{e.error||a()})}},children:[(0,x.jsxs)("div",{className:"rounded-md",children:[u.map((e,l)=>{var n,i,r,f,D,C,A,w,S,O,k,I,P,T;return(0,x.jsxs)("div",{className:"border border-gray-300 rounded-md my-2",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-4 bg-header rounded-t-md",children:[(0,x.jsxs)("div",{className:"px-3 py-2 text-white font-semibold",children:["Bank Document ",l+1]}),(0,x.jsx)("button",{type:"button",onClick:()=>((e,l)=>{null!==e&&void 0!==e&&e._id?N((0,d.Nn)({_id:null===e||void 0===e?void 0:e._id})).then(e=>{e.error||a()}):p(e=>e.filter((e,a)=>a!==l))})(e,l),className:"text-red-600 hover:text-red-800",children:(0,x.jsx)(o.F23,{size:20,className:"m-2"})})]}),(0,x.jsxs)("div",{className:"px-3 grid sm:grid-cols-2 grid-cols-1 gap-4 mb-3",children:[(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(t.Q0),children:["Account Holder Name"," ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",{type:"text",value:e.bankholderName,onChange:e=>j(l,"bankholderName",e.target.value),className:"".concat(t.Ol," ").concat(null!==(n=y[l])&&void 0!==n&&n.bankholderName?"border-[1px] ":""),placeholder:"Enter Account Holder name"}),(null===(i=y[l])||void 0===i?void 0:i.bankholderName)&&(0,x.jsx)("p",{className:"text-red-600 text-sm",children:y[l].bankholderName})]}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(t.Q0),children:["Bank Name ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsxs)(s.A,{value:e.bankName,onChange:e=>j(l,"bankName",e),className:"".concat(t.Hy," ").concat(null!==(r=y[l])&&void 0!==r&&r.bankName?"border-[1px] ":""),children:[(0,x.jsx)(s.A.Option,{value:"",children:"Select Bank Name"}),b?(0,x.jsx)(s.A.Option,{disabled:!0,children:(0,x.jsx)(v.A,{})}):null===(f=(0,t._o)(h))||void 0===f?void 0:f.map(e=>(0,x.jsx)(s.A.Option,{value:e.name,children:e.name},e.name))]}),(null===(D=y[l])||void 0===D?void 0:D.bankName)&&(0,x.jsx)("p",{className:"text-red-600 text-sm",children:y[l].bankName})]}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(t.Q0),children:["Branch Name ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",{type:"text",value:e.branchName,onChange:e=>j(l,"branchName",e.target.value),className:"".concat(t.Ol," ").concat(null!==(C=y[l])&&void 0!==C&&C.branchName?"border-[1px] ":""),placeholder:"Enter Branch name"}),(null===(A=y[l])||void 0===A?void 0:A.branchName)&&(0,x.jsx)("p",{className:"text-red-600 text-sm",children:y[l].branchName})]}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(t.Q0),children:["Account Number",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",{type:"number",value:e.accountNumber,onChange:e=>j(l,"accountNumber",e.target.value),className:"".concat(t.Ol," ").concat(null!==(w=y[l])&&void 0!==w&&w.accountNumber?"border-[1px] ":""),placeholder:"Enter Account Number"}),(null===(S=y[l])||void 0===S?void 0:S.accountNumber)&&(0,x.jsx)("p",{className:"text-red-600 text-sm",children:y[l].accountNumber})]}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(t.Q0),children:["IFSC Code",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",{type:"text",value:e.ifscCode,onChange:e=>j(l,"ifscCode",e.target.value),className:"".concat(t.Ol," ").concat(null!==(O=y[l])&&void 0!==O&&O.ifscCode?"border-[1px] ":""),placeholder:"Enter IFSC Code"}),(null===(k=y[l])||void 0===k?void 0:k.ifscCode)&&(0,x.jsx)("p",{className:"text-red-600 text-sm",children:y[l].ifscCode})]}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(t.Q0),children:["Account Type ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsxs)(s.A,{defaultValue:"",className:"".concat(t.Hy," "),value:e.accountType,onChange:e=>j(l,"accountType",e),children:[(0,x.jsx)(s.A.Option,{value:"",children:"Select Account Type"}),(0,x.jsx)(s.A.Option,{className:"",value:"saving",children:"Saving"}),(0,x.jsx)(s.A.Option,{className:"",value:"current",children:"Current"}),(0,x.jsx)(s.A.Option,{className:"",value:"Salary",children:"Salary"}),(0,x.jsx)(s.A.Option,{className:"",value:"Joint",children:"Joint"})]}),(null===(I=y[l])||void 0===I?void 0:I.accountType)&&(0,x.jsx)("p",{className:"text-red-600 text-sm",children:y[l].accountType})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"".concat(t.Q0),children:"Upload Image"}),(0,x.jsx)("input",{type:"file",accept:".pdf,image/*",id:"bankUpload".concat(l),className:"hidden",onChange:e=>((e,l)=>{if(!l)return;const a="application/pdf"===l.type,n=URL.createObjectURL(l);m().fire({title:"Preview your file",html:'\n                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">\n                    <p style="margin-bottom: 20px;">Do you want to upload this file?</p>\n                    '.concat(a?'<p style="font-size: 16px; color: #074173;">'.concat(l.name,"</p>"):'<img src="'.concat(n,'" alt="File Preview" style="max-width: 100%; max-height: 300px; width: auto; height: auto;">'),"\n                    <br>\n                </div>\n            "),showCancelButton:!0,confirmButtonText:"Confirm!",cancelButtonText:"Cancel"}).then(a=>{a.isConfirmed&&N((0,d.Sg)({filePath:l,isVideo:!1,isMultiple:!1})).then(l=>{if(!l.error){var a,n;const t=[...u];t[e].file=[null===l||void 0===l||null===(a=l.payload)||void 0===a?void 0:a.data],p(t);const i=[...y];null!==(n=i[e])&&void 0!==n&&n.file&&delete i[e].file,g(i)}})})})(l,e.target.files[0])}),(0,x.jsx)("br",{}),(0,x.jsx)("label",{htmlFor:"bankUpload".concat(l),className:"bg-header text-white mt-2 py-1.5 px-3 text-nowrap text-sm rounded cursor-pointer",children:"Upload Image"})]}),(null===e||void 0===e||null===(P=e.file)||void 0===P?void 0:P.length)>0?e.file.map((e,a)=>(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)(c.A,{src:"".concat("https://vigapi.vigorousit.com","/public/").concat(e),alt:"Uploaded ".concat(a+1)}),(0,x.jsx)("button",{className:"absolute -top-1 -right-2 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",onClick:()=>(e=>{const l=[...u];l[e].file=[],p(l)})(l),children:"\u2715"})]},a)):null,(null===(T=y[l])||void 0===T?void 0:T.file)&&(0,x.jsx)("p",{className:"text-red-600 text-sm",children:y[l].file})]})]},l)]},l)}),(0,x.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,x.jsx)("button",{type:"button",onClick:()=>{p([...u,{id:Date.now()}])},className:"bg-header text-white py-1.5 px-3 text-nowrap text-sm rounded ",children:"Add More"})})]}),(0,x.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,x.jsx)("button",{disabled:f,type:"Submit",className:"".concat(t.Wb),children:f?"Submitting ...":"Submit Details"})})]})}}}]);
//# sourceMappingURL=3831.0649b8bf.chunk.js.map