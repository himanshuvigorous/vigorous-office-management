"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[646],{70646:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(89379),d=t(24858),i=t(39160),l=t(83003),r=t(73216),n=t(31174),c=t(65043),o=t(84480),u=t(36105),m=t(30575),x=t(15187),h=t(65512),v=t(17995),N=t(89427),y=t(70579);const j=function(){const{register:e,handleSubmit:s,setValue:t,control:j,formState:{errors:p}}=(0,d.mN)(),{loading:g}=(0,l.d4)(e=>e.city),{countryListData:f,companyListLoading:b}=(0,l.d4)(e=>e.country),{stateListData:A,loading:w}=(0,l.d4)(e=>e.states),{cityByIdData:C}=(0,l.d4)(e=>e.city),I=(0,l.wA)(),S=(0,r.Zp)(),{cityEnc:_}=(0,r.g)(),L=(0,n.Yc)(_);return(0,c.useEffect)(()=>{I((0,u.dw)({text:"",sort:!0,status:!0,isPagination:!1})).then(e=>{e.error||I((0,o.iS)({_id:L}))})},[L,I]),(0,c.useEffect)(()=>{C&&(t("countryName",null===C||void 0===C?void 0:C.countryName),t("countryId",null===C||void 0===C?void 0:C.countryId),t("stateId",null===C||void 0===C?void 0:C.stateId),t("cityName",null===C||void 0===C?void 0:C.name),t("status",null===C||void 0===C?void 0:C.status));const e={text:"",sort:!0,status:!0,countryId:null===C||void 0===C?void 0:C.countryId,isPagination:!1};I((0,m.mz)(e))},[C]),(0,y.jsx)(i.A,{children:(0,y.jsx)("div",{className:"gap-4",children:(0,y.jsxs)("form",{autoComplete:"off",className:"mt-0",onSubmit:s(e=>{const s={_id:L,name:e.cityName,stateId:e.stateId,countryId:e.countryId,status:null===e||void 0===e?void 0:e.status};I((0,o.B1)(s)).then(e=>{e.error||S(-1)})}),children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2 capitalize",children:[(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsxs)("label",{className:"".concat(x.Q0),children:["Country Name ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(d.xI,{name:"countryId",control:j,rules:{required:"Country Name is required"},render:e=>{var s;let{field:t}=e;return(0,y.jsx)(h.A,(0,a.A)((0,a.A)({},t),{},{className:"".concat(x.Hy," ").concat(p._id?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,s)=>String(null===s||void 0===s?void 0:s.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Country Name",children:(null===f||void 0===f||null===(s=f.docs)||void 0===s?void 0:s.length)>0&&b?(0,y.jsxs)(h.A.Option,{disabled:!0,children:[(0,y.jsx)(N.A,{})," "]}):(0,x._o)(null===f||void 0===f?void 0:f.docs).map(e=>(0,y.jsx)(h.A.Option,{value:e._id,children:null===e||void 0===e?void 0:e.name},e._id))}))}}),p._id&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:p._id.message})]}),(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsxs)("label",{className:"".concat(x.Q0),children:["State Name ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(d.xI,{name:"stateId",control:j,rules:{required:"Country Name is required"},render:e=>{var s;let{field:t}=e;return(0,y.jsx)(h.A,(0,a.A)((0,a.A)({},t),{},{className:"".concat(x.Hy," ").concat(p._id?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,s)=>String(null===s||void 0===s?void 0:s.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Country Name",children:(null===A||void 0===A||null===(s=A.docs)||void 0===s?void 0:s.length)>0&&w?(0,y.jsxs)(h.A.Option,{disabled:!0,children:[(0,y.jsx)(N.A,{})," "]}):(0,x._o)(null===A||void 0===A?void 0:A.docs).map(e=>(0,y.jsx)(h.A.Option,{value:e._id,children:e.name},e._id))}))}}),p._id&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:p._id.message})]}),(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsxs)("label",{className:"".concat(x.Q0),children:["City Name ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(d.xI,{name:"cityName",control:j,rules:{required:"City Name is required"},render:e=>{let{field:s}=e;return(0,y.jsx)("input",(0,a.A)((0,a.A)({},s),{},{className:"".concat(p.cityName?"border-[1px] ":"border-gray-300"," ").concat(x.Ol),placeholder:"Enter City Name"}))}}),p.cityName&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:p.cityName.message})]}),(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsxs)("label",{className:"".concat(x.Q0),children:["Status ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(d.xI,{name:"status",control:j,render:e=>{let{field:s}=e;return(0,y.jsxs)(h.A,(0,a.A)((0,a.A)({},s),{},{className:"".concat(x.Hy," ").concat(p.status?"border-[1px] ":"border-gray-300"),placeholder:"Select Status",showSearch:!0,filterOption:(e,s)=>String(null===s||void 0===s?void 0:s.children).toLowerCase().includes(e.toLowerCase()),children:[(0,y.jsx)(h.A.Option,{value:!0,children:"Active"}),(0,y.jsx)(h.A.Option,{value:!1,children:"Not Active"})]}))}}),p.status&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:p.status.message})]})]}),(0,y.jsx)("div",{className:"flex justify-end",children:(0,y.jsx)("button",{type:"submit",disabled:g,className:"".concat(g?"bg-gray-400":"bg-header"," text-white p-2 px-4 mt-3 rounded"),children:g?(0,y.jsx)(v.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=646.bc6bf965.chunk.js.map