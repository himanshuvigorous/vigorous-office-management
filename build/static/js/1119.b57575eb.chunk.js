"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[1119],{21119:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var n=a(89379),l=a(24858),i=a(83003),o=a(15187),d=a(65043),r=a(31744),s=a(39160),c=a(97326),u=a(65512),p=(a(86178),a(60446)),m=a.n(p),v=a(78227),h=a(12106),x=(a(42837),a(94084),a(69223)),y=a(55971),g=a(50822),b=(a(57916),a(6720)),f=a(37762),w=a(64857),D=a(33007),j=a(89427),N=a(70579);const S=function(){const{control:e,formState:{errors:t},setValue:a}=(0,l.mN)(),p=(0,i.wA)(),{recruitmentOnboardingReportList:S,recruitmentOnboardingReportFunc_loading:A,totalRecruitmentOnboardingReportCount:I}=(0,i.d4)(e=>e.reports),{employeList:k}=(0,i.d4)(e=>e.employe),[C,Y]=(0,d.useState)(""),F=JSON.parse(localStorage.getItem("user_info_".concat(o.AU))),{timeSlotsListData:R}=(0,i.d4)(e=>e.timeSlots),[T,B]=(0,d.useState)(1),[O,P]=(0,d.useState)(""),{branchList:_}=(0,i.d4)(e=>e.branch),{departmentListData:E,loading:L}=(0,i.d4)(e=>e.department),M=(0,l.FH)({control:e,name:"PDCompanyId",defaultValue:""}),H=(0,l.FH)({control:e,name:"PDBranchId",defaultValue:""}),z=(0,l.FH)({control:e,name:"PdDesignationId",defaultValue:""}),U=(0,l.FH)({control:e,name:"status",defaultValue:""}),K=(0,l.FH)({control:e,name:"departmentId"}),[V,W]=((0,l.FH)({control:e,name:"startDate",defaultValue:m()().subtract(1,"month")}),(0,l.FH)({control:e,name:"endDate",defaultValue:m()()}),(0,d.useState)(10));(0,d.useEffect)(()=>{"company"!==(null===F||void 0===F?void 0:F.userType)&&"companyDirector"!==(null===F||void 0===F?void 0:F.userType)||p((0,r.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===F||void 0===F?void 0:F.userType)?M:"company"===(null===F||void 0===F?void 0:F.userType)?null===F||void 0===F?void 0:F._id:null===F||void 0===F?void 0:F.companyId})),p((0,D.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===F||void 0===F?void 0:F.userType)?null===F||void 0===F?void 0:F._id:null===F||void 0===F?void 0:F.companyId})),a("startDate",m()().subtract(1,"month")),a("endDate",m()())},[]),(0,d.useEffect)(()=>{J()},[T,O,V]),(0,d.useEffect)(()=>{const e=setTimeout(()=>{P(C)},500);return()=>{clearTimeout(e)}},[C]);const q=function(){return{currentPage:T,pageSize:V,reqPayload:{jobpostId:"",offerLatterStatus:"",text:O,sort:!0,isPagination:!(arguments.length>0&&void 0!==arguments[0])||arguments[0],companyId:"admin"===(null===F||void 0===F?void 0:F.userType)?M:"company"===(null===F||void 0===F?void 0:F.userType)?null===F||void 0===F?void 0:F._id:null===F||void 0===F?void 0:F.companyId,branchId:"company"===(null===F||void 0===F?void 0:F.userType)||"admin"===(null===F||void 0===F?void 0:F.userType)||"companyDirector"===(null===F||void 0===F?void 0:F.userType)?H:"companyBranch"===(null===F||void 0===F?void 0:F.userType)?null===F||void 0===F?void 0:F._id:null===F||void 0===F?void 0:F.branchId,status:U,departmentId:K,departmentIds:[],designationId:z,designationIds:[]}}},J=()=>{p((0,h.cP)(q(!0)))},G=async()=>{J()},Q=[{key:"1",label:(0,N.jsx)("span",{className:"text-white",children:"Advance Filters"}),children:(0,N.jsxs)("div",{className:"bg-[#ececec] space-y-1 gap-1 lg:flex justify-between items-center",children:[(0,N.jsxs)("div",{className:"sm:flex  grid grid-cols-1 gap-1.5 sm:flex-wrap text-[14px]",children:[("admin"===(null===F||void 0===F?void 0:F.userType)||"company"===(null===F||void 0===F?void 0:F.userType)||"companyDirector"===(null===F||void 0===F?void 0:F.userType))&&(0,N.jsxs)("div",{className:"",children:[(0,N.jsx)(l.xI,{name:"PDBranchId",control:e,render:e=>{let{field:t}=e;return(0,N.jsxs)(u.A,(0,n.A)((0,n.A)({},t),{},{className:"inputAntdSelectClassNameFilterReport ",placeholder:"Select Branch",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)(u.A.Option,{value:"",children:"Select Branch"}),null===_||void 0===_?void 0:_.map(e=>(0,N.jsxs)(u.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),t.PDBranchId&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:t.PDBranchId.message})]}),(0,N.jsx)("div",{children:(0,N.jsx)(l.xI,{name:"departmentId",control:e,render:e=>{var t;let{field:a}=e;return(0,N.jsxs)(u.A,(0,n.A)((0,n.A)({},a),{},{className:"inputAntdSelectClassNameFilterReport",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),onFocus:()=>{p((0,D.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===F||void 0===F?void 0:F.userType)?M:"company"===(null===F||void 0===F?void 0:F.userType)?null===F||void 0===F?void 0:F._id:null===F||void 0===F?void 0:F.companyId,branchId:["admin","company","companyDirector"].includes(null===F||void 0===F?void 0:F.userType)?H:"companyBranch"===(null===F||void 0===F?void 0:F.userType)?null===F||void 0===F?void 0:F._id:null===F||void 0===F?void 0:F.branchId}))},onChange:e=>{a.onChange(e)},placeholder:"Select Department",children:[(0,N.jsx)(u.A.Option,{value:"",children:"Select Department"}),L?(0,N.jsx)(u.A.Option,{disabled:!0,children:(0,N.jsx)(j.A,{})}):null===(t=(0,o._o)(E))||void 0===t?void 0:t.map(e=>(0,N.jsx)(u.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]}))}})}),(0,N.jsx)("div",{children:(0,N.jsx)(l.xI,{name:"status",control:e,rules:{},render:e=>{let{field:t}=e;return(0,N.jsx)(u.A,(0,n.A)((0,n.A)({},t),{},{allowClear:!0,className:"inputAntdMultiSelectClassNameFilterReport",placeholder:"Select Status",options:[{label:"Applied",value:"Applied"},{label:"Hold",value:"Hold"},{label:"Shortlisted",value:"Shortlisted"},{label:"Rejected",value:"Rejected"},{label:"Hired",value:"Hired"}],value:t.value||[],onChange:e=>t.onChange(e)}))}})})]}),(0,N.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,N.jsx)("button",{onClick:()=>{a("PDBranchId",""),a("PdCompanyId",""),a("departmentId",""),a("status",""),a("employeeId",""),a("daterange",""),a("shift",""),a("workType",""),a("startDate",m()().subtract(1,"month")),a("endDate",m()()),G()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,N.jsx)("span",{className:"text-[12px]",children:"Reset"})}),(0,N.jsx)("button",{onClick:()=>{G()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,N.jsx)("span",{className:"text-[12px]",children:"Submit"})})]})]})}];return(0,N.jsx)(s.A,{onChange:e=>{Y(e)},children:(0,N.jsxs)("div",{className:"bg-grey-100 w-full p-1",children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsx)(c.A,{className:"custom-collapse",items:Q,defaultActiveKey:[1],expandIcon:e=>{let{isActive:t}=e;return(0,N.jsx)(b.WnU,{size:20,style:{color:"white",transform:t?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})}}),(0,N.jsxs)("div",{className:"space-y-1.5 sm:flex justify-between items-center ",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2 sm:pt-0 pt-1",children:[(0,N.jsx)("span",{htmlFor:"pageSize",className:"text-sm font-light text-gray-500",children:"Rows per page:"}),(0,N.jsx)(u.A,{id:"pageSize",value:V,onChange:e=>{W(Number(e)),B(Number(1))},className:"text-sm font-light text-gray-700 bg-white border border-gray-200 rounded-md px-3 py-1.5 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-300 transition",children:o.qc.map(e=>(0,N.jsx)(u.A.Option,{value:e,children:e},e))})]}),(0,N.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,N.jsx)("button",{onClick:()=>{(async()=>{var e;const t=new f.uE({orientation:"landscape",unit:"pt",format:"A2"});t.setFontSize(16),t.text("Employee Recruitment Onboarding Report",40,30);const a=await(null===g.K||void 0===g.K?void 0:g.K.recruitmentOnboardingReportFunc(q(!1))),n=((null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.docs)||[]).map((e,t)=>{var a,n,l,i;return[t+1,(null===e||void 0===e?void 0:e.fullName)||"-",(null===e||void 0===e||null===(a=e.jobPostData)||void 0===a?void 0:a.title)||"-",(null===e||void 0===e?void 0:e.departmentName)||"-",null!==e&&void 0!==e&&e.applicationData?m()(e.applicationData.createdAt).format("DD-MM-YYYY hh:mm a"):"-",(null===e||void 0===e||null===(n=e.applicationData)||void 0===n?void 0:n.status)||"-",(null===e||void 0===e||null===(l=e.interviewData)||void 0===l?void 0:l.status)||"-",(null===e||void 0===e||null===(i=e.interviewData)||void 0===i?void 0:i.interviewerName)||"-",null!==e&&void 0!==e&&e.onboardingData?m()(e.onboardingData.createdAt).format("DD-MM-YYYY hh:mm a"):"-",null!==e&&void 0!==e&&e.onboardingData?e.onboardingData.status?"Yes":"No":"-"]});(0,w.Ay)(t,{startY:40,head:[["S.No","Employee Name","Designation","Department","Application Date","Application Status","interview Status","Taken By","OnBoarding Date","OnBoarding Status"]],body:n,margin:{horizontal:10},styles:{cellPadding:6,fontSize:9,valign:"middle",halign:"left"},headStyles:{fillColor:[210,210,210],textColor:0,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]}}),t.save("Employee_Recruitment_Onboarding_Report.pdf")})()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,N.jsx)("span",{className:"text-[12px]",children:"Export PDF"})}),(0,N.jsx)("button",{onClick:()=>{(async()=>{var e,t;const a=new x.Workbook,n=a.addWorksheet("Employee Attendance");n.columns=[{header:"S.No",key:"sno",width:6},{header:"Employee Name",key:"fullName",width:20},{header:"Designation",key:"designation",width:20},{header:"Department",key:"department",width:20},{header:"Application Date",key:"applicationDate",width:22},{header:"Application Status",key:"applicationStatus",width:22},{header:"Interview Status",key:"interviewStatus",width:20},{header:"Taken By",key:"takenBy",width:20},{header:"OnBoarding Date",key:"onboardingDate",width:20},{header:"OnBoarding Status",key:"onboardingStatus",width:20}],n.getRow(1).eachCell(e=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFB6D7A8"}},e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});const l=await(null===g.K||void 0===g.K?void 0:g.K.recruitmentOnboardingReportFunc(q(!1)));if(!S&&!l)return;const i=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(t=e.docs)||void 0===t?void 0:t.map((e,t)=>{var a,n,l,i,o,d,r,s,c,u,p;const v=(null===e||void 0===e||null===(a=e.interviewData)||void 0===a?void 0:a.interviewList)||[],h=null!==(n=null===e||void 0===e||null===(l=e.interviewData)||void 0===l?void 0:l.completedInterviews)&&void 0!==n?n:0;return null===v||void 0===v||v.find((e,t)=>t+1===h),null===v||void 0===v||v.find((e,t)=>t===h),{sno:t+1,fullName:(null===e||void 0===e?void 0:e.fullName)||"-",designation:(null===e||void 0===e||null===(i=e.jobPostData)||void 0===i?void 0:i.title)||"-",department:(null===e||void 0===e?void 0:e.departmentName)||"-",applicationDate:null!==e&&void 0!==e&&e.applicationData?m()(null===e||void 0===e||null===(o=e.applicationData)||void 0===o?void 0:o.createdAt).format("DD-MM-YYYY hh:mm a"):"-",applicationStatus:(null===e||void 0===e||null===(d=e.applicationData)||void 0===d?void 0:d.status)||"-",interviewStatus:(null===e||void 0===e||null===(r=e.interviewData)||void 0===r?void 0:r.status)||"-",takenBy:(null===e||void 0===e||null===(s=e.interviewData)||void 0===s?void 0:s.interviewerName)||"-",onboardingDate:null!==e&&void 0!==e&&null!==(c=e.onboardingData)&&void 0!==c&&c.createdAt?m()(null===e||void 0===e||null===(u=e.onboardingData)||void 0===u?void 0:u.createdAt).format("DD-MM-YYYY"):"-",onboardingStatus:null!==e&&void 0!==e&&e.onboardingData?null!==e&&void 0!==e&&null!==(p=e.onboardingData)&&void 0!==p&&p.status?"Yes":"No":"-"}});null===i||void 0===i||i.forEach(e=>{var t;const a=n.addRow(e);if(a.eachCell(e=>{e.alignment={vertical:"middle",horizontal:"left"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),null!==(t=e.resume)&&void 0!==t&&t.hyperlink){const t=a.getCell("resume");t.value={text:e.resume.text,hyperlink:e.resume.hyperlink},t.font={color:{argb:"FF0000FF"},underline:!0}}}),n.autoFilter={from:"A1",to:"I1"},a.xlsx.writeBuffer().then(e=>{const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a");a.href=URL.createObjectURL(t),a.download="Employee_Recruitment_Onboarding_Report.xlsx",a.click()})})()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,N.jsx)("span",{className:"text-[12px]",children:"Export Excel"})})]})]})]}),(0,N.jsx)("div",{className:"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl",children:(0,N.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,N.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center w-[5%]",children:"S.No."}),(0,N.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Employee Name"}),(0,N.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Designation"}),(0,N.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Department"}),(0,N.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Application Date"}),(0,N.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Application Status"}),(0,N.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Interview Status"}),(0,N.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Taken By"}),(0,N.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"onBoarding Date"}),(0,N.jsx)("th",{className:"tableHead",children:(0,N.jsx)("div",{className:"flex justify-start items-center space-x-1",children:(0,N.jsx)("span",{children:"onBoarding Status"})})})]})}),A?(0,N.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,N.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap text-center font-[600] text-sm text-gray-500",children:(0,N.jsx)(y.A,{})})}):(0,N.jsx)("tbody",{children:S&&(null===S||void 0===S?void 0:S.length)>0?null===S||void 0===S?void 0:S.map((e,t)=>{var a,n,l,i,o,d,r;return(0,N.jsxs)("tr",{className:"border-b-[1px] ".concat(t%2===0?"bg-[#e9ecef]/80":"bg-white"," border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,N.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:t+1+(T-1)*V}),(0,N.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e?void 0:e.fullName)||"-"}),(0,N.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e||null===(a=e.jobPostData)||void 0===a?void 0:a.title)||"-"}),(0,N.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e?void 0:e.departmentName)||"-"}),(0,N.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:m()(null===e||void 0===e||null===(n=e.applicationDate)||void 0===n?void 0:n.createdAt).format("DD-MM-YYYY hh:mm a")||"-"}),(0,N.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e||null===(l=e.applicationData)||void 0===l?void 0:l.status)||"-"}),(0,N.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e||null===(i=e.interviewData)||void 0===i?void 0:i.status)||"-"}),(0,N.jsx)("td",{className:"tableData ",children:null===e||void 0===e||null===(o=e.interviewData)||void 0===o?void 0:o.interviewerName}),(0,N.jsx)("td",{className:"tableData ",children:null!==e&&void 0!==e&&e.onboardingData?m()(null===e||void 0===e||null===(d=e.onboardingData)||void 0===d?void 0:d.createdAt).format("DD-MM-YYYY hh:mm a"):"-"}),(0,N.jsx)("td",{className:"tableData ",children:null!==e&&void 0!==e&&e.onboardingData?null!==e&&void 0!==e&&null!==(r=e.onboardingData)&&void 0!==r&&r.status?"Yes":"No":"-"})]})}):(0,N.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,N.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap text-center font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(0,N.jsx)(v.A,{totalCount:I,pageSize:V,currentPage:T,onChange:e=>{B(e)}})]})})}}}]);
//# sourceMappingURL=1119.b57575eb.chunk.js.map