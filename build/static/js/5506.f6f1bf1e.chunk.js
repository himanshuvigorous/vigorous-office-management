"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[5506],{15506:(e,a,t)=>{t.r(a),t.d(a,{default:()=>w});var n=t(89379),o=t(24858),l=t(83003),s=t(15187),i=t(65043),r=t(31744),d=t(39160),c=t(97326),u=t(65512),p=t(96651),m=(t(86178),t(60446)),v=t.n(m),h=t(78227),x=t(12106),y=(t(42837),t(94084),t(69223),t(55971)),f=(t(50822),t(6720)),g=(t(37762),t(64857),t(11906),t(33007),t(89427),t(70337),t(40088),t(12208)),j=t(60184),N=(t(27744),t(17995),t(76932),t(73216)),b=t(70579);const w=function(){const{control:e,formState:{errors:a},setValue:t,watch:m}=(0,o.mN)(),[w,D]=(0,i.useState)(10),{id:S}=(0,N.g)(),T=(0,l.wA)(),{financeAdvanceReportList:A,financeAdvanceReportFunc_loading:I,financeAdvanceCount:P}=(0,l.d4)(e=>e.reports),{departmentListData:C,loading:F}=(0,l.d4)(e=>e.department),_=(0,N.Zp)(),[L,B]=(0,i.useState)({}),{taskTypeList:k}=(0,l.d4)(e=>e.taskType),{clientGroupList:z}=(0,l.d4)(e=>e.clientGroup),{clientList:V}=(0,l.d4)(e=>e.client),{employeList:H}=(0,l.d4)(e=>e.employe),[O,R]=(0,i.useState)(""),G=JSON.parse(localStorage.getItem("user_info_".concat(s.AU))),{industryListData:E,indusSearchloading:q}=(0,l.d4)(e=>e.industry),{orgTypeList:J,orgSearchloading:U}=(0,l.d4)(e=>e.orgType),[K,W]=(0,i.useState)(1),[Z,M]=(0,i.useState)(""),{branchList:Q}=(0,l.d4)(e=>e.branch),X=(0,o.FH)({control:e,name:"PDCompanyId",defaultValue:""}),Y=(0,o.FH)({control:e,name:"PDBranchId",defaultValue:""}),$=(0,o.FH)({control:e,name:"status",defaultValue:""});(0,o.FH)({control:e,name:"PDOrganizationType",defaultValue:""}),(0,o.FH)({control:e,name:"PDindustrytype",defaultValue:""}),(0,o.FH)({control:e,name:"department",defaultValue:""}),(0,o.FH)({control:e,name:"groupName",defaultValue:""}),(0,i.useEffect)(()=>{const e=setTimeout(()=>{M(O)},500);return()=>{clearTimeout(e)}},[O]);const ee=()=>{T((0,g.J_)({companyId:"admin"===(null===G||void 0===G?void 0:G.userType)?m("PDCompanyId"):"company"===(null===G||void 0===G?void 0:G.userType)?null===G||void 0===G?void 0:G._id:null===G||void 0===G?void 0:G.companyId,branchId:"company"===(null===G||void 0===G?void 0:G.userType)||"admin"===(null===G||void 0===G?void 0:G.userType)||"companyDirector"===(null===G||void 0===G?void 0:G.userType)?m("PDBranchId"):"companyBranch"===(null===G||void 0===G?void 0:G.userType)?null===G||void 0===G?void 0:G._id:null===G||void 0===G?void 0:G.branchId,isPagination:!1,text:"",sort:!0,status:!0,groupId:""}))},ae=((()=>{const e=[];for(let a=2005;a<=2034;a++)e.push("".concat(a,"-").concat(a+1))})(),function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{currentPage:K,pageSize:w,reqPayload:{text:Z,sort:!0,isPagination:e,companyId:"admin"===(null===G||void 0===G?void 0:G.userType)?X:"company"===(null===G||void 0===G?void 0:G.userType)?null===G||void 0===G?void 0:G._id:null===G||void 0===G?void 0:G.companyId,directorId:"",branchId:"company"===(null===G||void 0===G?void 0:G.userType)||"admin"===(null===G||void 0===G?void 0:G.userType)||"companyDirector"===(null===G||void 0===G?void 0:G.userType)?Y:"companyBranch"===(null===G||void 0===G?void 0:G.userType)?null===G||void 0===G?void 0:G._id:null===G||void 0===G?void 0:G.branchId,status:"true"==$||"false"!=$&&"",amountFrom:"",amountTo:"",text:"",sort:!0,groupId:S,isPagination:e}}});(0,i.useEffect)(()=>{te(Z)},[K,Z,w]);const te=()=>{T((0,x.r7)(ae(!0)))},[ne,oe]=(0,i.useState)(!1);(0,i.useEffect)(()=>{"company"!==(null===G||void 0===G?void 0:G.userType)&&"companyDirector"!==(null===G||void 0===G?void 0:G.userType)||T((0,r.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===G||void 0===G?void 0:G.userType)?X:"company"===(null===G||void 0===G?void 0:G.userType)?null===G||void 0===G?void 0:G._id:null===G||void 0===G?void 0:G.companyId})),t("startDate",v()().subtract(1,"month")),t("endDate",v()())},[]);const le=async()=>{te()},se=[{key:"1",label:(0,b.jsx)("span",{className:"text-white",children:"Advance Filters"}),children:(0,b.jsxs)("div",{className:"bg-[#ececec]",children:[(0,b.jsxs)("div",{className:"sm:flex  grid grid-cols-1  gap-2 sm:flex-wrap text-[14px]",children:[("admin"===(null===G||void 0===G?void 0:G.userType)||"company"===(null===G||void 0===G?void 0:G.userType)||"companyDirector"===(null===G||void 0===G?void 0:G.userType))&&(0,b.jsxs)("div",{className:"",children:[(0,b.jsx)(o.xI,{name:"PDBranchId",control:e,render:e=>{let{field:a}=e;return(0,b.jsxs)(u.A,(0,n.A)((0,n.A)({},a),{},{className:"inputAntdSelectClassNameFilterReport ",placeholder:"Select Branch",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(u.A.Option,{value:"",children:"Select Branch"}),null===Q||void 0===Q?void 0:Q.map(e=>(0,b.jsxs)(u.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),a.PDBranchId&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:a.PDBranchId.message})]}),(0,b.jsx)(o.xI,{name:"groupName",control:e,render:e=>{let{field:a}=e;return(0,b.jsx)(u.A,(0,n.A)((0,n.A)({},a),{},{className:"inputAntdSelectClassNameFilterReport",options:[{label:"Select Group Type",value:""},...Array.isArray(z)?z.map(e=>({label:"".concat(null===e||void 0===e?void 0:e.fullName," (").concat(null===e||void 0===e?void 0:e.groupName,")"),value:null===e||void 0===e?void 0:e._id})):[]],placeholder:"Select Group Type",onFocus:ee,classNamePrefix:"react-select",isSearchable:!0,onChange:e=>{a.onChange(e)},value:null===a||void 0===a?void 0:a.value}))}})]}),(0,b.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{t("PDCompanyId",""),t("PDBranchId",""),t("status",""),t("PDOrganizationType",""),t("PDindustrytype",""),t("department",""),t("groupName",""),le()},className:"bg-header py-2 my-0.5 rounded-md flex px-10 justify-center items-center text-white",children:(0,b.jsx)("span",{className:"text-[12px]",children:"Reset"})}),(0,b.jsx)("button",{onClick:()=>{le()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,b.jsx)("span",{className:"text-[12px]",children:"Submit"})})]})]})}];return(0,b.jsx)(d.A,{onChange:e=>{R(e)},children:(0,b.jsxs)("div",{className:"bg-grey-100 w-full p-1",children:[(0,b.jsxs)("div",{className:"",children:[(0,b.jsx)(c.A,{className:"custom-collapse",items:se,defaultActiveKey:[1],expandIcon:e=>{let{isActive:a}=e;return(0,b.jsx)(f.WnU,{size:20,style:{color:"white",transform:a?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})}}),(0,b.jsx)("div",{className:"space-y-1.5 flex justify-between items-center",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 py-1",children:[(0,b.jsx)("span",{htmlFor:"pageSize",className:"text-sm font-light text-gray-500",children:"Rows per page:"}),(0,b.jsx)(u.A,{id:"pageSize",value:w,onChange:e=>{D(Number(e))},className:"text-sm font-light text-gray-700 bg-white border border-gray-200 rounded-md px-3 py-1.5 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-300 transition",children:s.qc.map(e=>(0,b.jsx)(u.A.Option,{value:e,children:e},e))})]})})]}),(0,b.jsx)("div",{className:"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl",children:(0,b.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap  w-[5%]",children:"S.No."}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Group Name"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Balance"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Statement"})]})}),I?(0,b.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,b.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap  font-[600] text-sm text-gray-500",children:(0,b.jsx)(y.A,{})})}):(0,b.jsx)("tbody",{children:A&&(null===A||void 0===A?void 0:A.length)>0?null===A||void 0===A?void 0:A.map((e,a)=>{var t;return(0,b.jsxs)("tr",{className:"border-b-[1px] ".concat(a%2===0?"bg-[#e9ecef]/80":"bg-white"," border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,b.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:a+1+(K-1)*w}),(0,b.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:null===e||void 0===e?void 0:e.groupName}),(0,b.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:null===e||void 0===e?void 0:e.totalDepositAmount}),(0,b.jsx)("td",{className:"tableData ",children:(0,b.jsxs)("div",{className:"flex justify-start items-center gap-1",children:[(0,b.jsx)("span",{children:null===e||void 0===e||null===(t=e.departmentData)||void 0===t?void 0:t.length}),(0,b.jsx)(p.A,{placement:"topLeft",title:"View Statement",children:(0,b.jsx)("span",{className:"flex justify-center items-center cursor-pointer",children:(0,b.jsx)(j.Ny1,{onClick:()=>{_("/admin/finance-advance-summary-report/".concat(null===e||void 0===e?void 0:e._id))},className:" hover:text-[#337ab7] text-[#3c8dbc]",size:14})})})]})||"-"})]})}):(0,b.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,b.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap  font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(0,b.jsx)(h.A,{totalCount:P,pageSize:w,currentPage:K,onChange:e=>{W(e)}})]})})}}}]);
//# sourceMappingURL=5506.f6f1bf1e.chunk.js.map