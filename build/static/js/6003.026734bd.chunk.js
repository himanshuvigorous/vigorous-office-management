"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[6003,8280],{16003:(e,n,t)=>{t.r(n),t.d(n,{default:()=>I});var a=t(89379),l=t(24858),o=t(83003),d=t(15187),s=t(65043),i=t(31744),r=t(39160),c=t(97326),p=t(53913),u=t(65512),h=t(96651),m=(t(86178),t(60446)),x=t.n(m),v=t(78227),w=t(12106),j=(t(42837),t(94084),t(69223)),f=t(55971),y=t(50822),N=t(6720),g=t(37762),b=t(64857),D=(t(11906),t(33007),t(89427),t(70337),t(40088),t(12208),t(27744),t(17995),t(76932),t(487)),A=(t(38280),t(70579));const{RangePicker:C}=D.A;const I=function(){var e,n,t,m;const{control:C,formState:{errors:I},setValue:S,watch:T}=(0,l.mN)(),{RangePicker:P}=D.A,[Y,k]=(0,s.useState)(10),L=(0,o.wA)(),{vendorInvoiceReportList:M,vendorInvoiceReport_loading:F,vendorInvoiceReportCount:V}=(0,o.d4)(e=>e.reports),{departmentListData:B,loading:R}=(0,o.d4)(e=>e.department),[z,E]=(0,s.useState)({}),{taskTypeList:_}=(0,o.d4)(e=>e.taskType),{clientGroupList:O}=(0,o.d4)(e=>e.clientGroup),{clientList:H}=(0,o.d4)(e=>e.client),{employeList:q}=(0,o.d4)(e=>e.employe),[K,U]=(0,s.useState)(""),G=JSON.parse(localStorage.getItem("user_info_".concat(d.AU))),{industryListData:W,indusSearchloading:J}=(0,o.d4)(e=>e.industry),{orgTypeList:Z,orgSearchloading:Q}=(0,o.d4)(e=>e.orgType),[X,$]=(0,s.useState)(1),[ee,ne]=(0,s.useState)(""),{branchList:te}=(0,o.d4)(e=>e.branch),ae=(0,l.FH)({control:C,name:"PDCompanyId",defaultValue:""}),le=(0,l.FH)({control:C,name:"PDBranchId",defaultValue:""}),oe=(0,l.FH)({control:C,name:"status",defaultValue:""}),de=(0,l.FH)({control:C,name:"PDOrganizationType",defaultValue:""}),se=(0,l.FH)({control:C,name:"PDindustrytype",defaultValue:""}),ie=(0,l.FH)({control:C,name:"department",defaultValue:""}),re=(0,l.FH)({control:C,name:"groupName",defaultValue:""}),ce=(0,l.FH)({control:C,name:"time",defaultValue:[]});(0,s.useEffect)(()=>{const e=setTimeout(()=>{ne(K)},500);return()=>{clearTimeout(e)}},[K]),(()=>{const e=[];for(let n=2005;n<=2034;n++)e.push("".concat(n,"-").concat(n+1))})();const pe=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{currentPage:X,pageSize:Y,reqPayload:{text:ee,sort:!0,isPagination:e,companyId:"admin"===(null===G||void 0===G?void 0:G.userType)?ae:"company"===(null===G||void 0===G?void 0:G.userType)?null===G||void 0===G?void 0:G._id:null===G||void 0===G?void 0:G.companyId,directorId:"",branchId:"company"===(null===G||void 0===G?void 0:G.userType)||"admin"===(null===G||void 0===G?void 0:G.userType)||"companyDirector"===(null===G||void 0===G?void 0:G.userType)?le:"companyBranch"===(null===G||void 0===G?void 0:G.userType)?null===G||void 0===G?void 0:G._id:null===G||void 0===G?void 0:G.branchId,status:"true"==oe||"false"!=oe&&"",organizationId:de,organizationIds:[],departmentId:ie,departmentIds:[],industryId:se,industryIds:[],groupId:re,groupIds:[],startDate:(null===ce||void 0===ce?void 0:ce.length)>0?x()(ce[0]).format("YYYY-MM-DD"):"",endDate:(null===ce||void 0===ce?void 0:ce.length)>0?x()(ce[1]).format("YYYY-MM-DD"):"",text:"",sort:!0,isPagination:e}}};(0,s.useEffect)(()=>{ue(ee)},[X,ee,Y]);const ue=()=>{L((0,w.OS)(pe(!0)))},[he,me]=(0,s.useState)(!1);(0,s.useEffect)(()=>{"company"!==(null===G||void 0===G?void 0:G.userType)&&"companyDirector"!==(null===G||void 0===G?void 0:G.userType)||L((0,i.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===G||void 0===G?void 0:G.userType)?ae:"company"===(null===G||void 0===G?void 0:G.userType)?null===G||void 0===G?void 0:G._id:null===G||void 0===G?void 0:G.companyId})),S("startDate",x()().subtract(1,"month")),S("endDate",x()())},[]);const xe=async()=>{ue()},ve=async()=>{var e,n;const t=new j.Workbook,a=t.addWorksheet("vendorAdvanceReport");a.columns=[{header:"S.No.",key:"sno",width:10},{header:"Bill Date",key:"billDate",width:20},{header:"Vendor Name",key:"vendorName",width:25},{header:"Description",key:"description",width:30},{header:"Total Amount",key:"grandTotal",width:20},{header:"Due",key:"dueAmount",width:15},{header:"Paid",key:"paidAmount",width:15}];a.getRow(1).eachCell(e=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFB6D7A8"}},e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});const l=await(null===y.K||void 0===y.K?void 0:y.K.vendorInvoiceReport(pe(!1)));if(!l&&(null===l||void 0===l||!l.data))return;const o=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(n=e.docs)||void 0===n?void 0:n.map((e,n)=>({sno:n+1,billDate:x()(null===e||void 0===e?void 0:e.purchaseDate).format("DD-MM-YYYY hh:mm a"),vendorName:(null===e||void 0===e?void 0:e.vendorName)||"-",description:(null===e||void 0===e?void 0:e.description)||"-",grandTotal:(null===e||void 0===e?void 0:e.grandTotal)||"-",dueAmount:"Pending"===(null===e||void 0===e?void 0:e.status)?null===e||void 0===e?void 0:e.grandTotal:0,paidAmount:"Pending"!==(null===e||void 0===e?void 0:e.status)?null===e||void 0===e?void 0:e.grandTotal:0}));null===o||void 0===o||o.forEach(e=>{a.addRow(e).eachCell(e=>{e.alignment={vertical:"middle",horizontal:"left"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),a.autoFilter={from:"A1",to:"I1"},t.xlsx.writeBuffer().then(e=>{const n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),t=document.createElement("a");t.href=URL.createObjectURL(n),t.download="vendorAdvanceReport.xlsx",t.click()})},we=async()=>{var e,n,t;const a=new g.uE({orientation:"landscape",unit:"pt"});a.setFontSize(16);const l=await(null===y.K||void 0===y.K?void 0:y.K.vendorInvoiceReport(pe(!1)));if(!l&&(null===l||void 0===l||null===(e=l.data)||void 0===e||!e.docs))return;const o=null===l||void 0===l||null===(n=l.data)||void 0===n||null===(t=n.docs)||void 0===t?void 0:t.map((e,n)=>[n+1,x()(e.purchaseDate).format("DD-MM-YYYY hh:mm a"),e.vendorName||"-",e.description||"-",e.grandTotal||"-","Pending"===e.status?e.grandTotal:0,"Pending"!==e.status?e.grandTotal:0]);(0,b.Ay)(a,{startY:40,head:[["S.no","Bill Date","Vendor Name","Dscription","Grand Total","Due Amount","Paid Amount"]],body:o,margin:{horizontal:10},styles:{cellPadding:8,fontSize:10,valign:"middle",halign:"left"},headStyles:{fillColor:[211,211,211],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]}}),a.save("vendorAdvanceReport.pdf")},je=[{key:"1",label:(0,A.jsx)("span",{className:"text-white",children:"Advance Filters"}),children:(0,A.jsxs)("div",{className:"bg-[#ececec] space-y-1 sm:flex justify-between items-center",children:[(0,A.jsx)("div",{className:"",children:(0,A.jsx)(l.xI,{name:"time",control:C,render:e=>{let{field:n}=e;return(0,A.jsx)(P,(0,a.A)((0,a.A)({},n),{},{value:n.value,onChange:e=>n.onChange(e),format:"YYYY-MM-DD",getPopupContainer:()=>document.body,popupClassName:"vertical-range-calendar",className:"custom-range-picker"}))}})}),(0,A.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,A.jsx)("button",{onClick:()=>{S("PDCompanyId",""),S("PDBranchId",""),S("status",""),S("PDOrganizationType",""),S("PDindustrytype",""),S("department",""),S("groupName",""),S("time",""),xe()},className:"bg-header py-2 my-0.5 rounded-md flex px-10 justify-center items-center text-white",children:(0,A.jsx)("span",{className:"text-[12px]",children:"Reset"})}),(0,A.jsx)("button",{onClick:()=>{xe()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,A.jsx)("span",{className:"text-[12px]",children:"Submit"})})]})]})}];return(0,A.jsx)(r.A,{onChange:e=>{U(e)},children:(0,A.jsxs)("div",{className:"bg-grey-100 w-full p-1",children:[(0,A.jsxs)("div",{className:"",children:[(0,A.jsx)(c.A,{className:"custom-collapse",items:je,defaultActiveKey:[1],expandIcon:e=>{let{isActive:n}=e;return(0,A.jsx)(N.WnU,{size:20,style:{color:"white",transform:n?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})}}),(0,A.jsxs)("div",{className:"space-y-1.5 sm:flex grid grid-cols-1 py-1 justify-between flex-col sm:flex-row items-center",children:[(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{htmlFor:"pageSize",className:"text-sm font-light text-gray-500",children:"Rows per page:"}),(0,A.jsx)(u.A,{id:"pageSize",value:Y,onChange:e=>{k(Number(e))},className:"text-sm font-light text-gray-700 bg-white border border-gray-200 rounded-md px-3 py-1.5 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-300 transition",children:d.qc.map(e=>(0,A.jsx)(u.A.Option,{value:e,children:e},e))})]}),(0,A.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,A.jsx)("button",{onClick:()=>{we()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,A.jsx)("span",{className:"text-[12px]",children:"Export PDF"})}),(0,A.jsx)("button",{onClick:()=>{ve()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,A.jsx)("span",{className:"text-[12px]",children:"Export Excel"})})]})]})]}),(0,A.jsxs)("div",{className:"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl",children:[(0,A.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap  w-[5%]",children:"S.No."}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Bill Date"}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Vendor Name"}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Description"}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-right",children:"Total Amount"}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-right",children:"Paid"}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-right",children:"Due"})]})}),F?(0,A.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,A.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap  font-[600] text-sm text-gray-500",children:(0,A.jsx)(f.A,{})})}):(0,A.jsx)("tbody",{children:M&&(null===M||void 0===M?void 0:M.length)>0?null===M||void 0===M?void 0:M.map((e,n)=>(0,A.jsxs)("tr",{className:"border-b-[1px] ".concat(n%2===0?"bg-[#e9ecef]/80":"bg-white"," border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,A.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:n+1+(X-1)*Y}),(0,A.jsx)("td",{className:"whitespace-nowrap  border-none p-2",children:x()(null===e||void 0===e?void 0:e.purchaseDate).format("DD-MM-YYYY hh:mm a")||"-"}),(0,A.jsx)("td",{className:"border-none p-2",children:(0,A.jsx)("div",{className:"max-w-[200px] overflow-hidden text-ellipsis",children:(0,A.jsx)(h.A,{title:(null===e||void 0===e?void 0:e.vendorName)||"-",children:(0,A.jsx)("span",{className:"whitespace-nowrap",children:(null===e||void 0===e?void 0:e.vendorName)||"-"})})})}),(0,A.jsx)("td",{className:"border-none p-2",children:(0,A.jsx)("div",{className:"max-w-[250px] overflow-hidden text-ellipsis",children:(0,A.jsx)(h.A,{title:(null===e||void 0===e?void 0:e.description)||"-",children:(0,A.jsx)("span",{className:"whitespace-nowrap",children:(null===e||void 0===e?void 0:e.description)||"-"})})})}),(0,A.jsx)("td",{className:"border-none p-2 text-right",children:(0,A.jsx)("div",{className:"overflow-hidden ",children:(0,A.jsx)(h.A,{title:(0,d.w2)(null===e||void 0===e?void 0:e.grandTotal)||"-",children:(0,A.jsx)("span",{className:"whitespace-nowrap",children:(0,d.w2)(null===e||void 0===e?void 0:e.grandTotal)||"-"})})})}),(0,A.jsx)("td",{className:"border-none p-2 text-right",children:(0,A.jsx)("div",{className:"overflow-hidden ",children:(0,A.jsx)(h.A,{title:"Pending"===(null===e||void 0===e?void 0:e.status)?(0,d.w2)(null===e||void 0===e?void 0:e.grandTotal):"0.00",children:(0,A.jsx)("span",{className:"whitespace-nowrap",children:"Pending"===(null===e||void 0===e?void 0:e.status)?(0,d.w2)(null===e||void 0===e?void 0:e.grandTotal):"0.00"})})})}),(0,A.jsx)("td",{className:"border-none p-2 text-right",children:(0,A.jsx)("div",{className:"overflow-hidden ",children:(0,A.jsx)(h.A,{title:"Pending"!==(null===e||void 0===e?void 0:e.status)?(0,d.w2)(null===e||void 0===e?void 0:e.grandTotal):"0.00",children:(0,A.jsx)("span",{className:"whitespace-nowrap",children:"Pending"!==(null===e||void 0===e?void 0:e.status)?(0,d.w2)(null===e||void 0===e?void 0:e.grandTotal):"0.00"})})})})]})):(0,A.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,A.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap  font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]}),(0,A.jsxs)(p.A,{className:"antmodalclassName !w-[60%] !h-[50%]",title:"Vendor List / ".concat(null===z||void 0===z?void 0:z.fullName," "),open:he,onCancel:()=>me(!1),footer:null,children:[(0,A.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,A.jsxs)("div",{children:[null!==(e=null===z||void 0===z?void 0:z.email)&&void 0!==e?e:"-"," / ",(null===z||void 0===z||null===(n=z.mobile)||void 0===n?void 0:n.code)+(null===z||void 0===z||null===(t=z.mobile)||void 0===t?void 0:t.number)]})}),(0,A.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,A.jsx)("button",{onClick:()=>{we()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,A.jsx)("span",{className:"text-[12px]",children:"Export PDF"})}),(0,A.jsx)("button",{onClick:()=>{ve()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,A.jsx)("span",{className:"text-[12px]",children:"Export Excel"})})]}),(0,A.jsx)("div",{className:"w-full overflow-auto",children:(0,A.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap  w-[5%]",children:"S.No."}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Date of Entry"}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Value Date"}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Vendor Name"}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap ",children:"Description"}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-right",children:"Amount"}),(0,A.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:"Payment Mode"})]})}),(0,A.jsx)("tbody",{children:null!==z&&void 0!==z&&z.advanceData&&(null===z||void 0===z?void 0:z.advanceData.length)>0?null===z||void 0===z||null===(m=z.advanceData)||void 0===m?void 0:m.map((e,n)=>(0,A.jsxs)("tr",{className:"border-b-[1px] ".concat(n%2===0?"bg-[#e9ecef]/80":"bg-white"," border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,A.jsx)("td",{className:"border-none p-2",children:n+1+(X-1)*Y}),(0,A.jsx)("td",{className:"border-none p-2",children:(0,A.jsx)("div",{className:"max-w-[150px] overflow-hidden text-ellipsis",children:(0,A.jsx)(h.A,{title:x()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a"),children:(0,A.jsx)("span",{className:"whitespace-nowrap",children:x()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")})})})}),(0,A.jsx)("td",{className:"border-none p-2",children:(0,A.jsx)("div",{className:"max-w-[150px] overflow-hidden text-ellipsis",children:(0,A.jsx)(h.A,{title:x()(null===e||void 0===e?void 0:e.date).format("DD-MM-YYYY hh:mm a"),children:(0,A.jsx)("span",{className:"whitespace-nowrap",children:x()(null===e||void 0===e?void 0:e.date).format("DD-MM-YYYY hh:mm a")})})})}),(0,A.jsx)("td",{className:"border-none p-2",children:(0,A.jsx)("div",{className:"max-w-[200px] overflow-hidden text-ellipsis",children:(0,A.jsx)(h.A,{title:(null===z||void 0===z?void 0:z.fullName)||"-",children:(0,A.jsx)("span",{className:"whitespace-nowrap",children:(null===z||void 0===z?void 0:z.fullName)||"-"})})})}),(0,A.jsx)("td",{className:"border-none p-2",children:(0,A.jsx)("div",{className:"max-w-[250px] overflow-hidden text-ellipsis",children:(0,A.jsx)(h.A,{title:(null===e||void 0===e?void 0:e.naration)||"-",children:(0,A.jsx)("span",{className:"whitespace-nowrap",children:(null===e||void 0===e?void 0:e.naration)||"-"})})})}),(0,A.jsx)("td",{className:"border-none p-2 text-right",children:(0,A.jsx)("div",{className:"max-w-[120px] overflow-hidden text-ellipsis",children:(0,A.jsx)(h.A,{title:(0,d.w2)(null===e||void 0===e?void 0:e.amount)||"-",children:(0,A.jsx)("span",{className:"whitespace-nowrap",children:(0,d.w2)(null===e||void 0===e?void 0:e.amount)||"-"})})})}),(0,A.jsx)("td",{className:"border-none p-2",children:(0,A.jsx)("div",{className:"max-w-[120px] overflow-hidden text-ellipsis",children:(0,A.jsx)(h.A,{title:null===e||void 0===e?void 0:e.type,children:(0,A.jsx)("span",{className:"whitespace-nowrap",children:null===e||void 0===e?void 0:e.type})})})})]})):(0,A.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,A.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap  font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})})]})]}),(0,A.jsx)(v.A,{totalCount:V,pageSize:Y,currentPage:X,onChange:e=>{$(e)}})]})})}},38280:(e,n,t)=>{t.r(n),t.d(n,{default:()=>I});var a=t(89379),l=t(73216),o=t(39160),d=t(83003),s=t(65043),i=t(30064),r=t.n(i),c=t(31174),p=t(23156),u=t(47196),h=t(24858),m=t(15187),x=t(78227),v=t(31744),w=t(78729),j=(t(65337),t(20126)),f=t(65512),y=t(96651),N=t(4938),g=t(55971),b=t(60446),D=t.n(b),A=t(89427),C=t(70579);const I=function(){const{register:e,control:n,setValue:t,formState:{errors:i}}=(0,h.mN)(),b=(0,l.Zp)(),I=(0,d.wA)(),S=JSON.parse(localStorage.getItem("user_info_".concat(m.AU))),{companyList:T}=(0,d.d4)(e=>e.company),{branchList:P,loading:Y}=(0,d.d4)(e=>e.branch),{vendorDataList:k,totalVendorCount:L,loading:M}=(0,d.d4)(e=>e.vendor),[F,V]=(0,s.useState)(""),[B,R]=(0,s.useState)(1),z=(0,h.FH)({control:n,name:"PDCompanyId",defaultValue:""}),E=(0,h.FH)({control:n,name:"PDBranchId",defaultValue:""}),_=(0,h.FH)({control:n,name:"status",defaultValue:""}),O=[z,E,_,F].join("-"),[H,q]=(0,s.useState)(!1);(0,s.useEffect)(()=>{H?1===B?K():R(1):q(e=>!0)},[O]),(0,s.useEffect)(()=>{K()},[B]);const K=()=>{const e={page:B,limit:10,reqPayload:{companyId:"admin"===(null===S||void 0===S?void 0:S.userType)?z:"company"===(null===S||void 0===S?void 0:S.userType)?null===S||void 0===S?void 0:S._id:null===S||void 0===S?void 0:S.companyId,branchId:"company"===(null===S||void 0===S?void 0:S.userType)||"admin"===(null===S||void 0===S?void 0:S.userType)||"companyDirector"===(null===S||void 0===S?void 0:S.userType)?E:"companyBranch"===(null===S||void 0===S?void 0:S.userType)?null===S||void 0===S?void 0:S._id:null===S||void 0===S?void 0:S.branchId,directorId:"",text:F,sort:!0,status:"true"===_||"false"!==_&&"",isPagination:!0}};I((0,j.Ng)(e))};(0,s.useEffect)(()=>{(z||"company"===(null===S||void 0===S?void 0:S.userType)||"companyDirector"===(null===S||void 0===S?void 0:S.userType))&&I((0,v.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===S||void 0===S?void 0:S.userType)?z:"company"===(null===S||void 0===S?void 0:S.userType)?null===S||void 0===S?void 0:S._id:null===S||void 0===S?void 0:S.companyId}))},[z]),(0,s.useEffect)(()=>{"admin"===(null===S||void 0===S?void 0:S.userType)&&I((0,w.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]);const{canCreate:U,canRead:G,canUpdate:W,canDelete:J}=(0,N.A)();return(0,C.jsx)(o.A,{onChange:e=>{V(e)},children:(0,C.jsxs)("section",{children:[(0,C.jsxs)("div",{className:"sm:flex justify-between items-center md:space-y-0 space-y-2 py-1",children:[(0,C.jsxs)("div",{className:"grid sm:grid-cols-2 grid-cols-1 lg:grid-cols-2 sm:gap-3 gap-1",children:["admin"===(null===S||void 0===S?void 0:S.userType)&&(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)(h.xI,{control:n,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:n}=e;return(0,C.jsxs)(f.A,(0,a.A)((0,a.A)({},n),{},{defaultValue:"",className:"".concat(m.Lp," "),showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,C.jsx)(f.A.Option,{value:"",children:"Select Company"}),null===T||void 0===T?void 0:T.map(e=>(0,C.jsx)(f.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),i.PDCompanyId&&(0,C.jsx)("p",{className:"text-red-500 text-sm",children:i.PDCompanyId.message})]}),("admin"===(null===S||void 0===S?void 0:S.userType)||"company"===(null===S||void 0===S?void 0:S.userType)||"companyDirector"===(null===S||void 0===S?void 0:S.userType))&&(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)(h.xI,{control:n,name:"PDBranchId",rules:{required:"Branch is required"},render:e=>{var n;let{field:t}=e;return(0,C.jsxs)(f.A,(0,a.A)((0,a.A)({},t),{},{defaultValue:"",className:"".concat(m.Lp," "),showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,C.jsx)(f.A.Option,{value:"",children:"Select Branch"}),Y?(0,C.jsx)(f.A.Option,{disabled:!0,children:(0,C.jsx)(A.A,{})}):null===(n=(0,m._o)(P))||void 0===n?void 0:n.map(e=>(0,C.jsx)(f.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),i.PDBranchId&&(0,C.jsx)("p",{className:"text-red-500 text-sm",children:i.PDBranchId.message})]}),(0,C.jsx)(h.xI,{name:"status",control:n,rules:{},render:e=>{let{field:n}=e;return(0,C.jsxs)(f.A,(0,a.A)((0,a.A)({},n),{},{className:" w-32 ".concat(m.Lp," ").concat(i.status?"border-[1px] ":"border-gray-300"),placeholder:"Select Status",showSearch:!0,filterOption:(e,n)=>String(null===n||void 0===n?void 0:n.children).toLowerCase().includes(e.toLowerCase()),children:[(0,C.jsx)(f.A.Option,{value:"",children:"Select Status"}),(0,C.jsx)(f.A.Option,{value:"true",children:" Active "}),(0,C.jsx)(f.A.Option,{value:"false",children:" InActive "})]}))}})]}),(0,C.jsxs)("div",{className:"flex justify-end items-center gap-2 ",children:[(0,C.jsx)("button",{onClick:()=>{t("status",""),t("PDBranchId",""),t("PdCompanyId","")},className:"bg-header   py-[5px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,C.jsx)("span",{className:"text-[12px]",children:"Reset"})}),U&&(0,C.jsx)(y.A,{placement:"topLeft",title:"Add Vendor",children:(0,C.jsxs)("button",{onClick:()=>{b("/admin/vendor/create")},className:"bg-header px-2 py-1.5 rounded-md flex justify-center items-center space-x-2 text-white",children:[(0,C.jsx)(p.OiG,{}),(0,C.jsx)("span",{className:"text-[12px]",children:"Add Vendor"})]})})]})]}),(0,C.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:G&&(0,C.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,C.jsx)("thead",{className:"",children:(0,C.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,C.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"S.No."}),(0,C.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[15%]",children:"Name"}),(0,C.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:"Email"}),(0,C.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:"Mobile Number"}),(0,C.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:"Address"}),(0,C.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:"Created At"}),(0,C.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:"Created By"}),(0,C.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:"Status"}),(J||W)&&(0,C.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Action"})]})}),M?(0,C.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,C.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,C.jsx)(g.A,{})})}):(0,C.jsx)("tbody",{children:k&&(null===k||void 0===k?void 0:k.length)>0?null===k||void 0===k?void 0:k.map((e,n)=>{var t,a,l,o,d,s,i,h;return(0,C.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] ".concat(n%2===0?"bg-[#e9ecef]/80":"bg-white"," text-[#374151] text-[14px]"),children:[(0,C.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:n+1+10*(B-1)}),(0,C.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(t=null===e||void 0===e?void 0:e.fullName)&&void 0!==t?t:"-"}),(0,C.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(a=null===e||void 0===e?void 0:e.email)&&void 0!==a?a:"-"}),(0,C.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(null===e||void 0===e||null===(l=e.mobile)||void 0===l?void 0:l.code)+(null===e||void 0===e||null===(o=e.mobile)||void 0===o?void 0:o.number)}),(0,C.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(0,m.M0)(null===e||void 0===e||null===(d=e.addresses)||void 0===d?void 0:d.primary)}),(0,C.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(s=D()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a"))&&void 0!==s?s:"-"}),(0,C.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(i=null===e||void 0===e?void 0:e.createdBy)&&void 0!==i?i:"-"}),(0,C.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(0,C.jsx)("span",{className:"".concat(null!==e&&void 0!==e&&e.status?"bg-[#E0FFBE] border-green-500":"bg-red-200 border-red-500"," border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]"),children:null!==e&&void 0!==e&&e.status?"Active":null!==(h="Inactive")?h:"-"})}),(J||W)&&(0,C.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(0,C.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2",children:[W&&(0,C.jsx)(y.A,{placement:"topLeft",title:"Edit",children:(0,C.jsx)("button",{onClick:()=>{b("/admin/vendor/edit/".concat((0,c.w)(null===e||void 0===e?void 0:e._id)))},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,C.jsx)(p.Jcp,{className:" hover:text-[#337ab7] text-[#3c8dbc]",size:16})})}),J&&(0,C.jsx)(y.A,{placement:"topLeft",title:"Delete",children:(0,C.jsx)("button",{onClick:()=>(e=>{let n={_id:e};r().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&I((0,j.Ii)(n)).then(e=>{B>1&&1==(null===k||void 0===k?void 0:k.length)?R(Number(B-1)):K()})})})(null===e||void 0===e?void 0:e._id),className:"px-2 py-1.5 rounded-md bg-transparent border border-muted",type:"button",children:(0,C.jsx)(u.tqC,{className:"text-red-600 hover:text-red-500",size:16})})})]})})]})}):(0,C.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,C.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-center text-sm text-gray-500",children:"Record Not Found"})})})]})}),(0,C.jsx)(x.A,{totalCount:L,pageSize:10,currentPage:B,onChange:e=>{R(e)}})]})})}},65337:(e,n,t)=>{t.d(n,{A:()=>o});var a=t(91686),l=t(70579);const o=function(){return(0,l.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,l.jsx)(a.A,{size:"large"})})}}}]);
//# sourceMappingURL=6003.026734bd.chunk.js.map