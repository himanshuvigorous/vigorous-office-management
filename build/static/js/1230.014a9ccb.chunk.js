"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[1230],{11230:(e,a,s)=>{s.r(a),s.d(a,{default:()=>N});var l=s(89379),d=s(24858),n=s(83003),i=s(73216),r=s(39160),o=s(15187),c=s(65043),t=s(44798),m=s(31744),p=s(78729),u=s(65512),x=s(94084),v=s(60446),h=s.n(v),y=s(89427),j=s(70579);const N=()=>{const{register:e,handleSubmit:a,control:s,formState:{errors:v},setValue:N}=(0,d.mN)(),b=(0,d.FH)({control:s,name:"PDCompanyId",defaultValue:""}),A=(0,d.FH)({control:s,name:"PDBranchId",defaultValue:""}),{companyList:f,companyListLoading:g}=(0,n.d4)(e=>e.company),{branchList:D,branchListloading:C}=(0,n.d4)(e=>e.branch),P=JSON.parse(localStorage.getItem("user_info_".concat(o.AU))),I=(0,n.wA)(),T=(0,i.Zp)();return(0,c.useEffect)(()=>{(b||"company"===(null===P||void 0===P?void 0:P.userType)||"companyDirector"===(null===P||void 0===P?void 0:P.userType))&&I((0,m.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===P||void 0===P?void 0:P.userType)?b:"company"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.companyId}))},[b]),(0,c.useEffect)(()=>{"admin"===(null===P||void 0===P?void 0:P.userType)&&I((0,p.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,j.jsx)(r.A,{children:(0,j.jsx)("div",{className:"gap-4",children:(0,j.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:a(e=>{const a={companyId:"admin"===(null===P||void 0===P?void 0:P.userType)?b:"company"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.companyId,branchId:"company"===(null===P||void 0===P?void 0:P.userType)||"admin"===(null===P||void 0===P?void 0:P.userType)||"companyDirector"===(null===P||void 0===P?void 0:P.userType)?A:"companyBranch"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.branchId,name:null===e||void 0===e?void 0:e.name,date:h()(null===e||void 0===e?void 0:e.date).format("YYYY-MM-DD"),type:null===e||void 0===e?void 0:e.type,description:null===e||void 0===e?void 0:e.description,status:!0};I((0,t.$P)(a)).then(e=>{e.error||T(-1)})}),children:[(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===P||void 0===P?void 0:P.userType)&&(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(o.Q0),children:["Company ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)(d.xI,{name:"PDCompanyId",control:s,rules:{required:"Company is required"},render:e=>{let{field:a}=e;return(0,j.jsxs)(u.A,(0,l.A)((0,l.A)({},a),{},{className:" ".concat(o.Hy," ").concat(v.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Company",showSearch:!0,children:[(0,j.jsx)(u.A.Option,{value:"",children:"Select Company"}),g?(0,j.jsx)(u.A.Option,{disabled:!0,children:(0,j.jsx)(y.A,{})}):null===f||void 0===f?void 0:f.map(e=>(0,j.jsxs)(u.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),v.PDCompanyId&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:v.PDCompanyId.message})]}),("admin"===(null===P||void 0===P?void 0:P.userType)||"company"===(null===P||void 0===P?void 0:P.userType)||"companyDirector"===(null===P||void 0===P?void 0:P.userType))&&(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(o.Q0),children:["Branch ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)(d.xI,{name:"PDBranchId",control:s,rules:{required:"Branch is required"},render:e=>{var a;let{field:s}=e;return(0,j.jsxs)(u.A,(0,l.A)((0,l.A)({},s),{},{onChange:e=>{N("type",""),s.onChange(e)},className:" ".concat(o.Hy," ").concat(v.PDPlan?"border-[1px] ":"border-gray-300"," z-[99999]"),placeholder:"Select Branch",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),getPopupContainer:e=>e.parentNode,children:[(0,j.jsx)(u.A.Option,{value:"",children:"Select Branch"}),C?(0,j.jsx)(u.A.Option,{disabled:!0,children:(0,j.jsx)(y.A,{})}):null===(a=(0,o._o)(D,"fullName"))||void 0===a?void 0:a.map(e=>(0,j.jsxs)(u.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),v.PDBranchId&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:v.PDBranchId.message})]}),(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(o.Q0),children:["Name ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)("input",(0,l.A)((0,l.A)({},e("name",{required:"Name is required"})),{},{placeholder:"Name",type:"text",className:"".concat(o.Ol," ").concat(v.name?"border-[1px] ":"border-gray-300")})),v.name&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:v.name.message})]}),(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(o.Q0),children:["Date ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)(d.xI,{name:"date",control:s,rules:{required:"Date  is required"},render:e=>{let{field:a}=e;return(0,j.jsx)(x.A,{field:a,errors:v,disabledDate:e=>e&&e.isBefore(h()().endOf("day"),"day")})}}),v.date&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:v.date.message})]}),(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(o.Q0),children:["Type ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)(d.xI,{name:"type",control:s,rules:{required:"Type  is required"},render:e=>{let{field:a}=e;return(0,j.jsxs)(u.A,(0,l.A)((0,l.A)({},a),{},{className:" ".concat(o.Hy," ").concat(v.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Type",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,j.jsx)(u.A.Option,{value:"",children:"Select Type"}),(0,j.jsx)(u.A.Option,{value:"Public",children:"Public"}),(0,j.jsx)(u.A.Option,{value:"Optional",children:"Optional"}),(0,j.jsx)(u.A.Option,{value:"Company",children:"Company"})]}))}}),v.type&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:v.type.message})]}),(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(o.Q0),children:["Description ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)("textarea",(0,l.A)((0,l.A)({},e("description",{required:"Description is required"})),{},{placeholder:"Description",className:"".concat(o.Ol," ").concat(v.description?"border-[1px] ":"border-gray-300")})),v.description&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:v.description.message})]})]}),(0,j.jsx)("div",{className:"flex justify-end",children:(0,j.jsx)("button",{type:"submit",className:"bg-header text-white p-2 px-4 rounded mt-4",children:"Submit"})})]})})})}}}]);
//# sourceMappingURL=1230.014a9ccb.chunk.js.map