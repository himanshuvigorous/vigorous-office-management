"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[2787],{52787:(e,s,a)=>{a.r(s),a.d(s,{default:()=>C});var t=a(89379),l=a(65043),i=a(55971),n=a(83003),d=a(22019),c=a(53913),r=a(91686),o=a(96651),x=a(73216),m=a(4938),u=a(78729),h=(a(12745),a(30064),a(67353)),p=a(15187),v=a(60446),j=a.n(v),g=a(60184),N=a(86178),y=a.n(N),f=a(49804),b=(a(53790),a(39160),a(3825)),w=(a(89427),a(70579));const C=e=>{var s,a,v,N;let{companyId:C}=e;const[D,P]=(0,l.useState)(!1),I=e=>{e&&(navigator.clipboard.writeText(e),d.Ay.success("Copied to clipboard!"))},M=((0,x.Zp)(),(0,n.wA)()),{companyList:z,totalCompanyCount:L,companyPlanHistoryData:Y,subscriptionData:H,companyInvoiceDetailsdata:E}=(0,n.d4)(e=>e.company),{canCreate:R,canRead:T,canUpdate:F,canDelete:B}=(0,m.A)(),[G,O]=(0,l.useState)(!1),[U,q]=(0,l.useState)(!1),[W,X]=(0,l.useState)([]),[K,Z]=(0,l.useState)({data:null,status:!1,loading:!1}),[$,J]=(0,l.useState)(""),[Q,V]=(0,l.useState)(""),[ee,se]=(0,l.useState)(!1),{planListData:ae}=(0,n.d4)(e=>e.plan),[te,le]=(0,l.useState)(1),[ie,ne]=(0,l.useState)(""),[de,ce]=(0,l.useState)(""),[re,oe]=(0,l.useState)(""),[xe,me]=(0,l.useState)(!1),[ue,he]=(0,l.useState)(!1);(0,l.useEffect)(()=>{he(!0),C&&M((0,u.$n)({companyId:C})),he(!1)},[C]);(0,l.useEffect)(()=>{(async()=>{me(!0),await je(),me(!1)})()},[te,ie,re,de]),(0,l.useEffect)(()=>{var e,s;E&&J(((null!==(e=null===E||void 0===E?void 0:E.amount)&&void 0!==e?e:0)/100-(null!==(s=null===E||void 0===E?void 0:E.amount_refunded)&&void 0!==s?s:0)/100).toFixed(0))},[E]);const[pe,ve]=(0,l.useState)({data:null,status:!1,loading:!1}),je=async()=>{let e={page:te,limit:10,reqPayload:{text:ie,status:de,planId:re,isPagination:!0}};try{await M((0,u.YA)(e))}catch(Q){console.error("Error fetching company list:",Q),me(!1)}};(0,l.useEffect)(()=>{M((0,h.EG)({text:"",sort:!0,status:!0,isPagination:!1}))},[]);(0,l.useEffect)(()=>{z&&ge()},[z]);const ge=(e,s)=>{const a=(0,p.Hc)(e,s,z);X(a)};return(0,w.jsxs)("div",{className:"px-2",children:[(0,w.jsx)("div",{className:"bg-[#ffffff] text-[13px] text-[#676a6c] w-full overflow-x-auto mt-1",children:(0,w.jsx)(c.A,{title:"Subscription Details",open:pe.status,onCancel:()=>ve(e=>(0,t.A)((0,t.A)({},e),{},{status:!1})),className:"antmodalclassName",footer:null,width:1100,wrapClassName:"overflow-hidden",children:null!==pe&&void 0!==pe&&pe.loading?(0,w.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,w.jsx)(r.A,{})}):(0,w.jsxs)("div",{className:"",children:[(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4  bg-gray-50 rounded-lg p-1",children:[(0,w.jsxs)("div",{className:"space-y-3",children:[(0,w.jsx)(S,{label:"Subscription ID",value:null===H||void 0===H?void 0:H.id}),(0,w.jsx)(S,{label:"Payment Method",value:null===H||void 0===H?void 0:H.payment_method}),(0,w.jsx)(S,{label:"Plan ID",value:null===H||void 0===H?void 0:H.plan_id}),(0,w.jsx)(S,{label:"Short URL",value:null===H||void 0===H?void 0:H.short_url,copyable:!0,onCopy:()=>I(null===H||void 0===H?void 0:H.short_url)}),(0,w.jsx)(S,{label:"Total Count",value:null===H||void 0===H?void 0:H.total_count})]}),(0,w.jsxs)("div",{className:"space-y-3",children:[(0,w.jsx)(S,{label:"Paid Count",value:null===H||void 0===H?void 0:H.paid_count}),(0,w.jsx)(S,{label:"Remaining Count",value:null===H||void 0===H?void 0:H.remaining_count}),(0,w.jsx)(S,{label:"Status",value:(0,w.jsxs)("div",{onClick:()=>{},className:"flex justify-between items-center gap-2 text-xs",children:[(0,w.jsx)("span",{children:null!==(s=null===H||void 0===H?void 0:H.status)&&void 0!==s?s:"-"}),(0,w.jsx)("span",{})]}),capitalize:!0}),(0,w.jsx)(S,{label:"Period",value:null!==H&&void 0!==H&&H.current_start&&null!==H&&void 0!==H&&H.current_end?"".concat(y()(H.current_start).format("DD-MM-YYYY")," to ").concat(y()(H.current_end).format("DD-MM-YYYY")):"-"})]})]}),(0,w.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden border border-gray-200",children:(0,w.jsx)("div",{className:"overflow-x-auto",children:(0,w.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,w.jsx)("thead",{className:"bg-gray-800",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)(A,{children:"#"}),(0,w.jsx)(A,{children:"Order ID"}),(0,w.jsx)(A,{children:"Short URL"}),(0,w.jsx)(A,{children:"Amount"}),(0,w.jsx)(A,{children:"Amount Due"}),(0,w.jsx)(A,{children:"Gross Amount"}),(0,w.jsx)(A,{children:"Status"}),(0,w.jsx)(A,{children:"Action"})]})}),(0,w.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:ue?(0,w.jsx)("tr",{children:(0,w.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center",children:(0,w.jsx)("div",{className:"flex justify-center",children:(0,w.jsx)(i.A,{})})})}):(null===H||void 0===H||null===(a=H.invoiceList)||void 0===a?void 0:a.length)>0?H.invoiceList.map((e,s)=>{var a;return(0,w.jsxs)("tr",{className:s%2===0?"bg-gray-50":"bg-white",children:[(0,w.jsx)(k,{children:s+1+10*(te-1)}),(0,w.jsx)(k,{className:"max-w-[120px] truncate",children:(null===e||void 0===e?void 0:e.order_id)||"-"}),(0,w.jsx)(k,{children:null!==e&&void 0!==e&&e.short_url?(0,w.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,w.jsx)("span",{className:"truncate max-w-[100px] md:max-w-[180px]",children:null===e||void 0===e?void 0:e.short_url}),(0,w.jsx)(_,{onCopy:()=>I(null===e||void 0===e?void 0:e.short_url)})]}):"-"}),(0,w.jsx)(k,{children:null!==e&&void 0!==e&&e.amount?(e.amount/100).toFixed(2):"-"}),(0,w.jsx)(k,{children:null!==e&&void 0!==e&&e.amount_due?(e.amount_due/100).toFixed(2):"-"}),(0,w.jsx)(k,{children:null!==e&&void 0!==e&&e.gross_amount?(e.gross_amount/100).toFixed(2):"-"}),(0,w.jsx)(k,{className:"capitalize",children:(null===e||void 0===e?void 0:e.status)||"-"}),(0,w.jsx)(k,{className:"capitalize",children:(0,w.jsx)(o.A,{placement:"topLeft",title:"Payment Summary",children:(0,w.jsx)("button",{className:"px-2 py-1.5 rounded-md bg-transparent border border-muted",type:"button",disabled:"issued"===e.status,children:(0,w.jsx)(f.LhG,{onClick:()=>(async e=>{Z({data:e,status:!0,loading:!0});try{await M((0,u.zY)({paymentId:null===e||void 0===e?void 0:e.payment_id}))}catch(Q){console.error("Error fetching subscription:",Q)}finally{Z(e=>(0,t.A)((0,t.A)({},e),{},{loading:!1}))}})(e),className:"issued"===e.status?"text-gray-500 ":"text-cyan-600 hover:text-cyan-500",size:16})})})}),(0,w.jsx)(c.A,{title:"Payment Summary",className:"antmodalclassName",open:K.status,onCancel:()=>Z(e=>(0,t.A)((0,t.A)({},e),{},{status:!1})),footer:null,width:800,wrapClassName:"overflow-hidden",style:{borderRadius:"12px"},bodyStyle:{padding:"0"},children:null!==K&&void 0!==K&&K.loading?(0,w.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,w.jsx)(r.A,{})}):(0,w.jsxs)("div",{className:"p-6",children:[(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,w.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[(0,w.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Payment Status"}),(0,w.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("captured"===(null===E||void 0===E?void 0:E.status)?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),style:{textTransform:"uppercase"},children:null===E||void 0===E?void 0:E.status})]}),(0,w.jsxs)("div",{className:"space-y-3",children:[(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsx)("span",{className:"text-gray-500",children:"Amount"}),(0,w.jsxs)("span",{className:"font-medium",children:["\u20b9",((null===E||void 0===E?void 0:E.amount)/100).toFixed(2)]})]}),(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsx)("span",{className:"text-gray-500",children:"Payment Method"}),(0,w.jsx)("span",{className:"font-medium",style:{textTransform:"uppercase"},children:null===E||void 0===E?void 0:E.method})]}),(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsx)("span",{className:"text-gray-500",children:"Date"}),(0,w.jsx)("span",{className:"font-medium",children:new Date(null===E||void 0===E?void 0:E.created_at).toLocaleString()})]})]})]}),(0,w.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Customer Details"}),(0,w.jsxs)("div",{className:"space-y-3",children:[(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsx)("span",{className:"text-gray-500",children:"Email"}),(0,w.jsx)("span",{className:"font-medium",children:null===E||void 0===E?void 0:E.email})]}),(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsx)("span",{className:"text-gray-500",children:"Contact"}),(0,w.jsx)("span",{className:"font-medium",children:null===E||void 0===E?void 0:E.contact})]}),(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsx)("span",{className:"text-gray-500",children:"Description"}),(0,w.jsx)("span",{className:"font-medium text-right",children:null===E||void 0===E?void 0:E.description})]})]})]}),(0,w.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 md:col-span-2",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Transaction Details"}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)("p",{className:"text-gray-500",children:"Transaction ID"}),(0,w.jsx)("p",{className:"font-medium break-all",children:null===E||void 0===E?void 0:E.id})]}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)("p",{className:"text-gray-500",children:"Order ID"}),(0,w.jsx)("p",{className:"font-medium break-all",children:null===E||void 0===E?void 0:E.order_id})]}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)("p",{className:"text-gray-500",children:"Invoice ID"}),(0,w.jsx)("p",{className:"font-medium break-all",children:null===E||void 0===E?void 0:E.invoice_id})]})]})]}),(null===E||void 0===E?void 0:E.refund_status)&&(0,w.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 md:col-span-2",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Refund Status"}),(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsx)("span",{className:"text-gray-500",children:"Amount Refunded"}),(0,w.jsxs)("span",{className:"font-medium",children:["\u20b9",((null===E||void 0===E?void 0:E.amount_refunded)/100).toFixed(2)]})]})]})]}),(null===E||void 0===E||null===(a=E.notes)||void 0===a?void 0:a.length)>0&&(0,w.jsxs)("div",{className:"mt-6 bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Notes"}),(0,w.jsx)("ul",{className:"list-disc pl-5 space-y-2",children:E.notes.map((e,s)=>(0,w.jsx)("li",{className:"text-gray-700",children:e},s))})]})]})})]},s)}):(0,w.jsx)("tr",{children:(0,w.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"No records found"})})})]})})})]})})}),(0,w.jsx)("div",{children:Y&&null!==Y&&void 0!==Y&&Y.planHistory&&(null===Y||void 0===Y||null===(v=Y.planHistory)||void 0===v?void 0:v.length)>0?null===Y||void 0===Y||null===(N=Y.planHistory)||void 0===N?void 0:N.map((e,s)=>{var a,l,i,n,d,c,r,x,m,h;return(0,w.jsx)("div",{className:" rounded-md  ",children:(0,w.jsxs)("div",{className:" rounded-md ",children:[(0,w.jsx)("div",{className:"flex justify-between items-center rounded-t-md px-3",children:(0,w.jsxs)("div",{className:"py-2 text-header font-semibold",children:["Plan History ",s+1]})}),(0,w.jsx)("div",{className:"grid sm:grid-cols-1 grid-cols-1 gap-4 items-end overflow-auto",children:(0,w.jsx)("div",{className:"w-full",children:(0,w.jsxs)("table",{className:"w-full  rounded-lg shadow-md overflow-hidden bg-white",children:[(0,w.jsx)("thead",{children:(0,w.jsx)("tr",{})}),(0,w.jsxs)("tbody",{className:"text-sm text-gray-700",children:[(0,w.jsxs)("tr",{className:" hover:bg-indigo-50 ",children:[(0,w.jsxs)("td",{className:"p-3 w-1/2 text-gray-600",children:[(0,w.jsxs)("div",{className:"flex items-center  gap-2",children:[(0,w.jsx)(b.ydi,{className:"size-4 text-header text-lg"}),(0,w.jsx)("span",{className:"text-[16px] font-medium",children:"Plan Name"})]}),(0,w.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null!==(a="".concat(null===e||void 0===e?void 0:e.title," "))&&void 0!==a?a:"-"})]}),(0,w.jsxs)("td",{className:"p-3 w-1/2 text-gray-600",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(g.IqM,{className:"size-4 text-header text-lg"}),(0,w.jsx)("span",{className:"text-[16px] font-medium",children:"Plan Description"})]}),(0,w.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null!==(l=null===e||void 0===e||null===(i=e.planData)||void 0===i?void 0:i.description)&&void 0!==l?l:"-"})]})]}),(0,w.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,w.jsxs)("td",{className:"p-3 w-1/2 text-gray-600",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(b.Mai,{className:"size-4 text-header text-lg"}),(0,w.jsx)("span",{className:"text-[16px] font-medium",children:"Duration"})]}),(0,w.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null!==(n="".concat(null===e||void 0===e?void 0:e.days," days"))&&void 0!==n?n:"-"})]}),(0,w.jsxs)("td",{className:"p-3 w-1/2 text-gray-600",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(b.Mai,{className:"size-4 text-header text-lg"}),(0,w.jsxs)("span",{className:"text-[16px] font-medium",children:[" ","Price/Month"]})]}),(0,w.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null!==(d="\u20b9 ".concat(null===e||void 0===e?void 0:e.price," "))&&void 0!==d?d:"-"})]})]}),(0,w.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,w.jsxs)("td",{className:"p-3 w-1/2 text-gray-600",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(b.C5K,{className:"size-4 text-header text-lg"}),(0,w.jsx)("span",{className:"text-[16px] font-medium",children:"Total Price"})]}),(0,w.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null!==(c="\u20b9 ".concat((null===e||void 0===e?void 0:e.price)*(null===e||void 0===e||null===(r=e.planData)||void 0===r?void 0:r.billingCycle)," "))&&void 0!==c?c:"-"})]}),(0,w.jsxs)("td",{className:"p-3 w-1/2 text-gray-600",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsx)(b.fgf,{className:"size-4 text-header text-lg"}),(0,w.jsxs)("span",{className:"text-[16px] font-medium",children:[" ","Created At"]})]}),(0,w.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null!==(x="".concat(j()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY")," "))&&void 0!==x?x:"-"})]})]}),(0,w.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,w.jsxs)("td",{className:"p-3 w-1/2 text-gray-600",children:[(0,w.jsx)("div",{className:"flex items-center gap-2",children:(0,w.jsx)("span",{className:"text-[16px] font-medium",children:"CreatedBy"})}),(0,w.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null!==(m=null===e||void 0===e?void 0:e.createdBy)&&void 0!==m?m:"-"})]}),(0,w.jsxs)("td",{className:"p-3 w-1/2 text-gray-600",children:[(0,w.jsx)("div",{className:"flex items-center gap-2",children:(0,w.jsx)("span",{className:"text-[16px] font-medium",children:"Status"})}),(0,w.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:null!==(h=null===e||void 0===e?void 0:e.status)&&void 0!==h?h:"-"})]})]}),(0,w.jsx)("tr",{className:" hover:bg-indigo-50 ",children:(0,w.jsxs)("td",{className:"p-3 w-1/2 text-gray-600",children:[(0,w.jsxs)("div",{className:"flex items-center  gap-2",children:[(0,w.jsx)(b.ydi,{className:"size-4 text-header text-lg"}),(0,w.jsx)("span",{className:"text-[16px] font-medium",children:"Action"})]}),(0,w.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(0,w.jsx)(o.A,{placement:"topLeft",title:"Subscription",children:(0,w.jsx)("button",{onClick:()=>{(async e=>{ve({data:e,status:!0,loading:!0});try{await M((0,u.GX)({subscriptionId:null===e||void 0===e?void 0:e.subscriptionId}))}catch(Q){console.error("Error fetching subscription:",Q)}finally{ve(e=>(0,t.A)((0,t.A)({},e),{},{loading:!1}))}})(e)},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,w.jsx)(g.Ny1,{className:" hover:text-[#337ab7] text-[#3c8dbc]",size:16})})})})]})})]})]})})})]},s)},s)}):(0,w.jsx)("div",{className:"flex justify-center items-center text-[15px] text-header",children:" No Data Found "})})]})},S=e=>{let{label:s,value:a,copyable:t=!1,capitalize:l=!1,onCopy:i}=e;return(0,w.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,w.jsxs)("span",{className:"w-32 md:w-40 text-sm font-medium text-gray-600",children:[s,":"]}),(0,w.jsxs)("span",{className:"flex-1 text-sm text-gray-800 ".concat(l?"capitalize":""),children:[a||"-",t&&a&&(0,w.jsx)("button",{onClick:i,className:"ml-2 text-blue-500 hover:text-blue-700 focus:outline-none","aria-label":"Copy to clipboard",children:(0,w.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})]})]})},A=e=>{let{children:s}=e;return(0,w.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:s})},k=e=>{let{children:s,className:a=""}=e;return(0,w.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 ".concat(a),children:s})},_=e=>{let{onCopy:s}=e;return(0,w.jsx)("button",{onClick:s,className:"text-blue-500 hover:text-blue-700 focus:outline-none",title:"Copy to clipboard",children:(0,w.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})}},53790:(e,s,a)=>{a.d(s,{A:()=>j});var t=a(65043),l=a(22019),i=a(53913),n=a(65512),d=a(15187),c=a(83003),r=a(78729),o=a(70579);const{Option:x}=n.A,m="cancel",u="pause_resume",h=[m,u],p={[m]:["immidate"],[u]:["pause","resume"]},v={cancel:"Cancel",pause_resume:"Pause / Resume",immidate:"Immediate",pause:"Pause",resume:"Resume"},j=e=>{let{subscriptionId:s}=e;const[a,m]=(0,t.useState)(!1),[u,j]=(0,t.useState)(""),[g,N]=(0,t.useState)(""),[y,f]=(0,t.useState)(!1),b=(0,c.wA)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>m(!0),className:"px-2 py-1 bg-cyan-800 text-white rounded font-semibold",children:"Change"}),(0,o.jsxs)(i.A,{title:"Update Subscription",className:"antmodalclassName",open:a,onOk:async()=>{if(u&&g){f(!0);try{await b((0,r.f8)({subscriptionId:s,status:u,type:g})).then(e=>{null!==e&&void 0!==e&&e.error||(b((0,r.GX)({subscriptionId:s})),m(!1),j(""),N(""))})}catch(e){console.error(e)}finally{f(!1)}}else l.Ay.warning("Please select both status and type.")},onCancel:()=>{m(!1),j(""),N("")},confirmLoading:y,okText:"Submit",children:[(0,o.jsxs)("div",{style:{marginBottom:16},children:[(0,o.jsx)("label",{children:"Status:"}),(0,o.jsx)(n.A,{value:u||void 0,onChange:e=>{j(e),N("")},placeholder:"Select subscription status",getPopupContainer:e=>e.parentNode,className:"".concat(d.Hy," border-2"),style:{width:"100%"},children:h.map(e=>(0,o.jsx)(x,{value:e,children:v[e]||e},e))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{children:"Type:"}),(0,o.jsx)(n.A,{value:g||void 0,onChange:N,placeholder:"Select subscription type",getPopupContainer:e=>e.parentNode,className:"".concat(d.Hy," border-2"),style:{width:"100%"},disabled:!u,children:(p[u]||[]).map(e=>(0,o.jsx)(x,{value:e,children:v[e]||e},e))})]})]})]})}}}]);
//# sourceMappingURL=2787.4f19f8da.chunk.js.map