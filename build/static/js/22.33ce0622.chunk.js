"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[22],{22:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var s=a(89379),n=a(73216),r=a(83003),o=a(65043),d=a(30064),c=a.n(d),i=a(24858),l=a(53219),p=a(78729),x=a(15187),u=a(60184),m=a(39160),h=a(23156),b=a(47196),v=a(31174),w=a(78227),j=a(735),f=a(96651),y=a(70579);const N=function(){const{register:e,setValue:t,formState:{errors:a},control:d}=(0,i.mN)(),{userCompanyId:N,userDirectorId:g,userBranchId:C,userEmployeId:D,userDepartmentId:I,userDesignationId:A,userType:k}=(0,j.A)(),{companyList:S}=(0,r.d4)(e=>e.company),{visitorCatList:E,totalVisitorCatCount:_}=(0,r.d4)(e=>e.visitorCategory),B=(0,n.Zp)(),F=(0,r.wA)(),P=(0,i.FH)({control:d,name:"companyId",defaultValue:N}),V=(0,i.FH)({control:d,name:"PDBranchId",defaultValue:C});(0,o.useEffect)(()=>{"admin"===k&&F((0,p.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]);const[q,z]=(0,o.useState)(1);(0,o.useEffect)(()=>{L()},[q]);const L=()=>{const e={page:q,limit:10,reqPayload:{companyId:P,branchId:V,directorId:"",text:"",sort:!0,status:"",isPagination:!0}};F((0,l.v3)(e))};return(0,y.jsxs)(m.A,{children:[(0,y.jsx)("div",{className:"",children:(0,y.jsxs)("div",{className:"flex justify-between items-center md:space-y-0 space-y-2 py-1",children:["admin"===k&&(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsxs)("select",(0,s.A)((0,s.A)({},e("companyId",{required:"company is required"})),{},{className:" ".concat(x.OJ," ").concat(a.companyId?"border-[1px] ":"border-gray-300"),children:[(0,y.jsx)("option",{className:"",value:"",children:"Select Comapany"}),null===S||void 0===S?void 0:S.map(e=>(0,y.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName}))]})),a.companyId&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:a.companyId.message})]}),(0,y.jsxs)("button",{onClick:()=>{B("/admin/visitor-category/create")},className:"bg-header p-2 rounded-md flex justify-center items-center space-x-2 text-white",children:[(0,y.jsx)(u.OiG,{}),(0,y.jsx)("span",{className:"text-[12px] tracking-wide",children:"Add Visitor Category"})]})]})}),(0,y.jsx)("div",{className:"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl",children:(0,y.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,y.jsx)("thead",{className:"",children:(0,y.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,y.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[15%]",children:"S.no."}),(0,y.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[30%]",children:"Name"}),(0,y.jsx)("th",{className:"border-none p-2 whitespace-nowrap",children:"Status"}),(0,y.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[15%]",children:"Action"})]})}),(0,y.jsx)("tbody",{children:E&&(null===E||void 0===E?void 0:E.length)>0?null===E||void 0===E?void 0:E.map((e,t)=>{var a,s;return(0,y.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] ".concat(t%2===0?"bg-[#e9ecef]/80":"bg-white"," text-[#374151] text-[14px]"),children:[(0,y.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:t+1+10*(q-1)}),(0,y.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(a=null===e||void 0===e?void 0:e.name)&&void 0!==a?a:"-"}),(0,y.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(0,y.jsx)("span",{className:"".concat(null!==e&&void 0!==e&&e.status?"bg-[#E0FFBE] border-green-500":"bg-red-200 border-red-500"," border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]"),children:null!==e&&void 0!==e&&e.status?"Active":null!==(s="Inactive")?s:"-"})}),(0,y.jsx)("td",{className:"whitespace-nowrap border-none p-2",children:(0,y.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2",children:[(0,y.jsx)(f.A,{placement:"topLeft",title:"Edit",children:(0,y.jsx)("button",{onClick:()=>{B("/admin/visitor-category/edit/".concat((0,v.w)(null===e||void 0===e?void 0:e._id)))},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,y.jsx)(h.Jcp,{className:" hover:text-[#337ab7] text-[#3c8dbc]",size:16})})}),(0,y.jsx)(f.A,{placement:"topLeft",title:"Delete",children:(0,y.jsx)("button",{onClick:()=>(e=>{let t={_id:e};c().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&F((0,l.u)(t)).then(e=>{!e.error&&L()})})})(null===e||void 0===e?void 0:e._id),className:"px-2 py-1.5 rounded-md bg-transparent border border-muted",type:"button",children:(0,y.jsx)(b.tqC,{className:"text-red-600 hover:text-red-500",size:16})})})]})})]})}):(0,y.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,y.jsx)("td",{colSpan:4,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(null===E||void 0===E?void 0:E.length)>0&&(0,y.jsx)(w.A,{totalCount:_,pageSize:10,currentPage:q,onChange:e=>{z(e)}})]})}}}]);
//# sourceMappingURL=22.33ce0622.chunk.js.map