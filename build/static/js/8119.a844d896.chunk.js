"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[8119],{18119:(e,d,l)=>{l.r(d),l.d(d,{default:()=>f});var a=l(89379),i=l(65043),n=l(39160),s=l(83003),o=l(73216),r=l(24858),c=l(31174),t=l(735),u=l(15187),m=(l(36105),l(65512)),v=l(78729),p=l(31744),h=(l(14118),l(16520)),x=l(17995),y=l(89427),j=l(70579);const f=function(){const{register:e,handleSubmit:d,setValue:l,control:f,formState:{errors:N}}=(0,r.mN)(),{loading:g}=(0,s.d4)(e=>e.clientService),{userCompanyId:I,userDirectorId:A,userBranchId:b,userType:S}=(0,t.A)(),C=(0,s.wA)(),D=(0,o.Zp)(),{clientServiceIdEnc:T}=(0,o.g)(),w=(0,c.Yc)(T),O=JSON.parse(localStorage.getItem("user_info_".concat(u.AU))),{clientServiceDetails:P}=(0,s.d4)(e=>e.clientService),{companyList:_,companyListLoading:B}=(0,s.d4)(e=>e.company),{countryListData:L}=(0,s.d4)(e=>e.country),{branchList:q,branchListloading:E}=(0,s.d4)(e=>e.branch),H=(0,r.FH)({control:f,name:"PDCompanyId",defaultValue:I}),k=((0,r.FH)({control:f,name:"directorId",defaultValue:A}),(0,r.FH)({control:f,name:"PDBranchId",defaultValue:b}));return(0,i.useEffect)(()=>{(H||"company"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType))&&C((0,p.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===O||void 0===O?void 0:O.userType)?H:"company"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.companyId}))},[H]),(0,i.useEffect)(()=>{"admin"===(null===O||void 0===O?void 0:O.userType)&&C((0,v.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,i.useEffect)(()=>{let e={_id:w};C((0,h.D2)(e))},[]),(0,i.useEffect)(()=>{P&&(l("PDCompanyId",null===P||void 0===P?void 0:P.companyId),l("PDBranchId",null===P||void 0===P?void 0:P.branchId),l("name",null===P||void 0===P?void 0:P.name),l("status",null===P||void 0===P?void 0:P.status))},[P]),(0,j.jsx)(n.A,{children:(0,j.jsx)("div",{className:"gap-4",children:(0,j.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:d(e=>{const d={_id:w,companyId:"admin"===(null===O||void 0===O?void 0:O.userType)?H:"company"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.companyId,directorId:"",branchId:"company"===(null===O||void 0===O?void 0:O.userType)||"admin"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType)?k:"companyBranch"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.branchId,name:null===e||void 0===e?void 0:e.name,status:null===e||void 0===e?void 0:e.status};C((0,h.kK)(d)).then(e=>{e.error||D(-1)})}),children:[(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===O||void 0===O?void 0:O.userType)&&(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(u.Q0),children:["Company ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)(r.xI,{control:f,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:d}=e;return(0,j.jsxs)(m.A,(0,a.A)((0,a.A)({},d),{},{defaultValue:"",className:"".concat(u.Hy," "),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,j.jsx)(m.A.Option,{value:"",children:"Select Company"}),B?(0,j.jsx)(m.A.Option,{disabled:!0,children:(0,j.jsx)(y.A,{})}):null===_||void 0===_?void 0:_.map(e=>(0,j.jsx)(m.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),N.PDCompanyId&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:N.PDCompanyId.message})]}),("admin"===(null===O||void 0===O?void 0:O.userType)||"company"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType))&&(0,j.jsxs)("div",{children:[(0,j.jsxs)("label",{className:"".concat(u.Q0),children:["Branch ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)(r.xI,{name:"PDBranchId",control:f,rules:{required:"Branch is required"},render:e=>{let{field:d}=e;return(0,j.jsxs)(m.A,(0,a.A)((0,a.A)({},d),{},{className:"".concat(u.Hy," ").concat(N.PDBranchId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Branch",children:[(0,j.jsx)(m.A.Option,{value:"",children:"Select Branch"}),E?(0,j.jsx)(m.A.Option,{disabled:!0,children:(0,j.jsx)(y.A,{})}):null===q||void 0===q?void 0:q.map(e=>(0,j.jsx)(m.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),N.PDBranchId&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:N.PDBranchId.message})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(u.Q0),children:["Name ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)("input",(0,a.A)((0,a.A)({type:"text"},e("name",{required:"Name is required"})),{},{className:"placeholder: ".concat(u.Ol," ").concat(N.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Name"})),N.name&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:N.name.message})]}),(0,j.jsxs)("div",{className:"w-full",children:[(0,j.jsxs)("label",{className:"".concat(u.Q0),children:["Status ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)(r.xI,{name:"status",control:f,render:e=>{let{field:d}=e;return(0,j.jsxs)(m.A,(0,a.A)((0,a.A)({},d),{},{className:"".concat(u.Hy," ").concat(N.status?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Status",children:[(0,j.jsx)(m.A.Option,{value:!0,children:"Active"}),(0,j.jsx)(m.A.Option,{value:!1,children:"In Active"})]}))}}),N.status&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:N.status.message})]})]}),(0,j.jsx)("div",{className:"flex justify-end ",children:(0,j.jsx)("button",{type:"submit",disabled:g,className:"".concat(g?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:g?(0,j.jsx)(x.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=8119.a844d896.chunk.js.map