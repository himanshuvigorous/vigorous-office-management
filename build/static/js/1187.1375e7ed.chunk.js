"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[1187],{11187:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var l=t(89379),n=t(24858),s=t(39160),d=t(83003),o=t(73216),i=t(31174),r=t(65043),c=t(16210),m=(t(78729),t(33007),t(65337)),u=t(15187),p=t(65512),v=t(91686),x=t(70579);const h=function(){var e;const{loading:a}=(0,d.d4)(e=>e.designation),{register:t,handleSubmit:h,setValue:N,control:j,formState:{errors:g}}=(0,n.mN)(),[f,y]=(0,r.useState)(!0),b=(0,d.wA)(),A=(0,o.Zp)(),{desigIdEnc:I}=(0,o.g)(),S=(0,i.Yc)(I),{designationDetails:w,designationRoleData:C}=(0,d.d4)(e=>e.designation),{companyList:D}=(0,d.d4)(e=>e.company),{departmentListData:O}=(0,d.d4)(e=>e.department),_=JSON.parse(localStorage.getItem("user_info_".concat(u.AU)));return null===(e=JSON.parse(localStorage.getItem("user_info_".concat(u.AU))))||void 0===e||e.userType,(0,n.FH)({control:j,name:"companyId",defaultValue:(null===_||void 0===_?void 0:_.companyId)||""}),(0,n.FH)({control:j,name:"branchiId",defaultValue:(null===_||void 0===_?void 0:_.branchId)||""}),(0,n.FH)({control:j,name:"departmentId",defaultValue:(null===_||void 0===_?void 0:_.departmentId)||""}),(0,n.FH)({control:j,name:"directorId",defaultValue:(null===_||void 0===_?void 0:_.directorId)||""}),(0,n.FH)({control:j,name:"roleId",defaultValue:(null===w||void 0===w?void 0:w.roleKey)||""}),(0,r.useEffect)(()=>{(async()=>{try{const e={_id:S};await b((0,c.oT)(e)).then(e=>{})}catch(e){console.error("Error fetching data:",e)}finally{y(!1)}})()},[]),(0,r.useEffect)(()=>{var e,a;w&&(N("designationName",null===w||void 0===w?void 0:w.name),N("CompanyName",null===w||void 0===w||null===(e=w.companyData)||void 0===e?void 0:e.fullName),N("departmentName",null===w||void 0===w||null===(a=w.departmentData)||void 0===a?void 0:a.name),N("departmentId",null===w||void 0===w?void 0:w.departmentId),N("roleId",null===w||void 0===w?void 0:w.roleKey),N("status",null===w||void 0===w?void 0:w.status))},[w]),(0,r.useEffect)(()=>{b((0,c.AK)({text:""}))},[]),(0,x.jsx)(s.A,{children:f?(0,x.jsx)(m.A,{}):(0,x.jsx)("div",{className:"gap-4",children:(0,x.jsxs)("form",{autoComplete:"off",className:"mt-0",onSubmit:h(e=>{const a={_id:S,name:null===e||void 0===e?void 0:e.designationName,companyId:null===w||void 0===w?void 0:w.companyId,departmentId:null===w||void 0===w?void 0:w.departmentId,status:null===e||void 0===e?void 0:e.status,roleKey:null===e||void 0===e?void 0:e.roleId};b((0,c.XW)(a)).then(e=>{e.error||A(-1)})}),children:[(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(u.Q0),children:["Company ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,l.A)((0,l.A)({type:"text",disabled:!0},t("CompanyName")),{},{className:"placeholder: ".concat(u.id," ").concat(g.designationName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Company Name"}))]}),(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(u.Q0),children:["Department ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,l.A)((0,l.A)({type:"text",disabled:!0},t("departmentName")),{},{className:"placeholder: ".concat(u.id," ").concat(g.designationName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Department Name"}))]}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(u.Q0),children:["Designation Name ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,l.A)((0,l.A)({type:"text"},t("designationName",{required:"Designation Name is required"})),{},{className:"placeholder: ".concat(u.Ol," ").concat(g.designationName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Designation Name"})),g.designationName&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:g.designationName.message})]}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(u.Q0),children:["Role ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)(n.xI,{name:"roleId",control:j,rules:{required:"Role is required"},render:e=>{let{field:a}=e;return(0,x.jsxs)(p.A,(0,l.A)((0,l.A)({},a),{},{className:"".concat(u.Hy," ").concat(g.roleId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Roles",children:[(0,x.jsx)(p.A.Option,{value:"",children:"Roles"}),null===C||void 0===C?void 0:C.map(e=>(0,x.jsx)(p.A.Option,{value:null===e||void 0===e?void 0:e.name,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]}))}}),g.roleId&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:g.roleId.message})]}),(0,x.jsxs)("div",{className:"w-full",children:[(0,x.jsxs)("label",{className:"".concat(u.Q0),children:["Status ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)(n.xI,{name:"status",control:j,render:e=>{let{field:a}=e;return(0,x.jsxs)(p.A,(0,l.A)((0,l.A)({},a),{},{className:"".concat(u.Hy," ").concat(g.status?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Status",children:[(0,x.jsx)(p.A.Option,{value:"",children:"Select Status"}),(0,x.jsx)(p.A.Option,{value:!0,children:"Active"}),(0,x.jsx)(p.A.Option,{value:!1,children:"In Active"})]}))}}),g.status&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:g.status.message})]})]}),(0,x.jsx)("div",{className:"flex justify-end ",children:(0,x.jsx)("button",{type:"submit",disabled:a,className:"".concat(a?"bg-gray-400":"bg-header"," text-white p-2 px-4 mt-3 rounded"),children:a?(0,x.jsx)("div",{className:"text-center flex justify-center items-center",children:(0,x.jsx)(v.A,{})}):"Submit"})})]})})})}},65337:(e,a,t)=>{t.d(a,{A:()=>s});var l=t(91686),n=t(70579);const s=function(){return(0,n.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,n.jsx)(l.A,{size:"large"})})}}}]);
//# sourceMappingURL=1187.1375e7ed.chunk.js.map