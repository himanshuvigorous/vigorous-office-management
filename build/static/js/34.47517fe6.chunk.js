"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[34],{30034:(e,d,i)=>{i.r(d),i.d(d,{default:()=>j});var l=i(89379),a=i(65043),n=i(24858),o=i(39160),s=i(83003),r=i(73216),t=i(735),c=i(15187),u=i(78729),m=i(31744),v=i(14118),p=i(91579),h=i(65512),x=i(17995),y=i(70579);const j=function(){const{loading:e}=(0,s.d4)(e=>e.clientNews),{register:d,handleSubmit:i,setValue:j,control:f,formState:{errors:N}}=(0,n.mN)(),{userCompanyId:g,userDirectorId:I,userBranchId:b,userType:A}=(0,t.A)(),T=(0,s.wA)(),C=(0,r.Zp)(),_=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),{companyList:w,companyListLoading:D}=(0,s.d4)(e=>e.company),{branchList:S,branchListloading:P}=(0,s.d4)(e=>e.branch),O=(0,n.FH)({control:f,name:"PDCompanyId",defaultValue:g}),B=((0,n.FH)({control:f,name:"directorId",defaultValue:I}),(0,n.FH)({control:f,name:"PDBranchId",defaultValue:b}));return(0,a.useEffect)(()=>{"admin"===(null===_||void 0===_?void 0:_.userType)&&T((0,u.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,a.useEffect)(()=>{(O||"company"===(null===_||void 0===_?void 0:_.userType)||"companyDirector"===(null===_||void 0===_?void 0:_.userType))&&T((0,m.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===_||void 0===_?void 0:_.userType)?O:"company"===(null===_||void 0===_?void 0:_.userType)?null===_||void 0===_?void 0:_._id:null===_||void 0===_?void 0:_.companyId}))},[O]),(0,a.useEffect)(()=>{(O&&"company"===A||"admin"===A)&&T((0,v.HX)({text:"",sort:!0,status:!0,isPagination:!1,companyId:O}))},[O]),(0,y.jsx)(o.A,{children:(0,y.jsx)("div",{className:"gap-4",children:(0,y.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:i(e=>{const d={companyId:"admin"===(null===_||void 0===_?void 0:_.userType)?O:"company"===(null===_||void 0===_?void 0:_.userType)?null===_||void 0===_?void 0:_._id:null===_||void 0===_?void 0:_.companyId,branchId:"company"===(null===_||void 0===_?void 0:_.userType)||"admin"===(null===_||void 0===_?void 0:_.userType)||"companyDirector"===(null===_||void 0===_?void 0:_.userType)?B:"companyBranch"===(null===_||void 0===_?void 0:_.userType)?null===_||void 0===_?void 0:_._id:null===_||void 0===_?void 0:_.branchId,directorId:"",title:null===e||void 0===e?void 0:e.title};T((0,p.hw)(d)).then(e=>{e.error||C(-1)})}),children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===_||void 0===_?void 0:_.userType)&&(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("label",{className:"".concat(c.Q0),children:["Company ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(n.xI,{control:f,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{var d;let{field:i}=e;return(0,y.jsxs)(h.A,(0,l.A)((0,l.A)({},i),{},{defaultValue:"",className:"".concat(c.Hy," "),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,y.jsx)(h.A.Option,{value:"",children:"Select Company"}),D?(0,y.jsx)(h.A.Option,{disabled:!0,children:(0,y.jsx)(x.A,{})}):null===(d=(0,c._o)(w,"fullName"))||void 0===d?void 0:d.map(e=>(0,y.jsx)(h.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),N.PDCompanyId&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:N.PDCompanyId.message})]}),("admin"===(null===_||void 0===_?void 0:_.userType)||"company"===(null===_||void 0===_?void 0:_.userType)||"companyDirector"===(null===_||void 0===_?void 0:_.userType))&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"".concat(c.Q0),children:["Branch ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(n.xI,{control:f,name:"PDBranchId",rules:{required:"Branch is required"},render:e=>{var d;let{field:i}=e;return(0,y.jsxs)(h.A,(0,l.A)((0,l.A)({},i),{},{defaultValue:"",className:"".concat(c.Hy," "),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,y.jsx)(h.A.Option,{value:"",children:"Select Branch"}),P?(0,y.jsx)(h.A.Option,{disabled:!0,children:(0,y.jsx)(x.A,{})}):null===(d=(0,c._o)(S,"fullName"))||void 0===d?void 0:d.map(e=>(0,y.jsx)(h.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),N.PDBranchId&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:N.PDBranchId.message})]})]}),(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-2 md:my-2",children:(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("label",{className:"".concat(c.Q0),children:["Title ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)("input",(0,l.A)((0,l.A)({type:"text"},d("title",{required:"Title is required"})),{},{className:"placeholder: ".concat(c.Ol," ").concat(N.title?"border-[1px] ":"border-gray-300"),placeholder:"Enter Name"})),N.title&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:N.title.message})]})}),(0,y.jsx)("div",{className:"flex justify-end ",children:(0,y.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,y.jsx)(x.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=34.47517fe6.chunk.js.map