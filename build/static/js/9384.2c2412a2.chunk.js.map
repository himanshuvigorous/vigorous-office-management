{"version":3,"file":"static/js/9384.2c2412a2.chunk.js","mappings":"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","sources":["pages/financeManagement/cashbook/EmployeeCashbookCreate.js"],"sourcesContent":["import { Controller, useForm, useWatch } from \"react-hook-form\";\nimport GlobalLayout from \"../../../global_layouts/GlobalLayout/GlobalLayout\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { domainName, inputAntdSelectClassName, inputClassName, inputDisabledClassName, inputerrorClassNameAutoComplete, inputLabelClassName, inputLabelClassNameReactSelect } from \"../../../constents/global\";\nimport { AutoComplete, Input, Select } from \"antd\";\nimport { branchSearch } from \"../../branch/branchManagement/branchFeatures/_branch_reducers\";\nimport { companySearch } from \"../../company/companyManagement/companyFeatures/_company_reducers\";\nimport { countrySearch } from \"../../global/address/country/CountryFeatures/_country_reducers\";\nimport { stateSearch } from \"../../global/address/state/featureStates/_state_reducers\";\nimport { citySearch } from \"../../global/address/city/CityFeatures/_city_reducers\";\nimport ReactSelect from \"react-select\";\nimport { employeSearch } from \"../../employeManagement/employeFeatures/_employe_reducers\";\nimport { expenseTypeSearch } from \"../../global/other/ExpenseHead/expenseTypeFeature/_expenseType_reducers\";\nimport { fileUploadFunc } from \"../../global/other/fileManagement/FileManagementFeatures/_file_management_reducers\";\nimport { createcashbook } from \"./cashbookFeature/_cashbook_reducers\";\nimport CustomDatePicker from \"../../../global_layouts/DatePicker/CustomDatePicker\";\nimport dayjs from \"dayjs\";\nimport Loader from \"../../../global_layouts/Loader\";\nimport ListLoader from \"../../../global_layouts/ListLoader\";\nimport { FaRegFile, FaTimes } from \"react-icons/fa\";\n\n\nconst EmployeeCashbookCreate = () => {\n\n  const {\n    register,\n    handleSubmit,\n    control,\n    watch,\n    formState: { errors },\n    setValue,\n  } = useForm();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const userInfoglobal = JSON.parse(localStorage.getItem(`user_info_${domainName}`));\n  const { expenseTypeList } = useSelector((state) => state.expenceHead);\n  const CompanyId = useWatch({ control, name: \"PDCompanyId\", defaultValue: \"\" });\n  const BranchId = useWatch({ control, name: \"PDBranchId\", defaultValue: \"\" });\n  const { loading: cashbookLoading } = useSelector(\n    (state) => state.cashbook\n  );\n\n  const [isPreview, setIsPreview] = useState(false);\n  const [formData, setFormData] = useState({\n    attachment: []\n  });\n\n  const onSubmit = (data) => {\n    const finalPayload = {\n      companyId: userInfoglobal?.companyId,\n      directorId: userInfoglobal?.directorId,\n      branchId: userInfoglobal?.branchId,\n      \"employeId\": userInfoglobal?.userType === \"employee\" ? userInfoglobal?._id : null,\n      \"expenseTypeId\": data?.expencehead?.value,\n      \"expenseFor\": 'Employe',\n      \"amount\": + data?.amount,\n      \"naration\": data?.naration,\n      // \"attachment\": data?.fileUploadLink,\n      \"GSTamount\": 0,\n      \"totalAmount\": + data?.amount,\n      date: data?.date,\n      status: \"Pending\",\n      attachment: formData?.attachment,\n    };\n    dispatch(createcashbook(finalPayload)).then((data) => {\n      if (!data.error) navigate(-1);\n    });\n  };\n\n\n  useEffect(() => {\n    if (\n      CompanyId ||\n      userInfoglobal?.userType === \"company\" ||\n      userInfoglobal?.userType === \"companyDirector\"\n    ) {\n      dispatch(\n        branchSearch({\n          text: \"\",\n          sort: true,\n          status: true,\n          isPagination: false,\n          companyId: userInfoglobal?.userType === \"admin\" ? CompanyId : userInfoglobal?.userType === \"company\" ? userInfoglobal?._id : userInfoglobal?.companyId,\n        })\n      );\n    }\n  }, [CompanyId])\n  useEffect(() => {\n    if (userInfoglobal?.userType === \"admin\") {\n      dispatch(\n        companySearch({\n          text: \"\",\n          sort: true,\n          status: true,\n          isPagination: false,\n        })\n      );\n    }\n  }, []);\n\n  // const handleFileChange = (file) => {\n  //   dispatch(\n  //     fileUploadFunc({\n  //       filePath: file,\n  //       isVideo: false,\n  //       isMultiple: false,\n  //     })\n  //   ).then((data) => {\n  //     if (!data.error) {\n  //       setValue('fileUploadLink', data?.payload?.data)\n  //     }\n  //   });\n  // };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    const reqData = {\n      filePath: file,\n      isVideo: false,\n      isMultiple: false,\n    };\n    dispatch(fileUploadFunc(reqData)).then((res) => {\n      if (res?.payload?.data) {\n        setFormData(prev => ({\n          ...prev,\n          attachment: [...prev.attachment, res.payload?.data]\n        }));\n      }\n    });\n  };\n\n  const handleRemoveFile = (index) => {\n    setFormData(prev => {\n      const updatedAttachments = prev.attachment.filter((_, i) => i !== index);\n      return { ...prev, attachment: updatedAttachments };\n    });\n  };\n\n  useEffect(() => {\n    setValue('totalAmount', Number(watch('amount')) + Number(watch('gstAmount')))\n  }, [watch('amount'), watch('gstAmount')])\n\n\n  return (\n    <GlobalLayout>\n      <div className=\"gap-4\">\n        <form autoComplete=\"off\" className=\"mt-2 md:px-1\" onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 md:gap-4 gap-2 md:my-1 px-3 md:mt-4\">\n            <div className=\"w-full\">\n              <label className={`${inputLabelClassName}`}>Expence Head</label>\n              <Controller\n                name=\"expencehead\"\n                control={control}\n                rules={{ required: \"Expence Head is required\" }}\n                render={({ field }) => (\n                  <ReactSelect\n                    onFocus={() => {\n                      const reqPayload = {\n                        directorId: \"\",\n                        companyId: userInfoglobal?.userType === \"admin\"\n                          ? CompanyId\n                          : userInfoglobal?.userType === \"company\"\n                            ? userInfoglobal?._id\n                            : userInfoglobal?.companyId,\n                        branchId: userInfoglobal?.userType === \"company\" ||\n                          userInfoglobal?.userType === \"admin\" ||\n                          userInfoglobal?.userType === \"companyDirector\"\n                          ? BranchId\n                          : userInfoglobal?.userType === \"companyBranch\"\n                            ? userInfoglobal?._id\n                            : userInfoglobal?.branchId,\n                        text: \"\",\n                        sort: true,\n                        status: \"\",\n                        isPagination: false,\n                      }\n                      dispatch(expenseTypeSearch(reqPayload));\n                    }} // API call triggers only when focused\n                    {...field}\n                    options={expenseTypeList?.map((expence) => ({\n                      value: expence?._id,\n                      label: expence?.name,\n                    }))}\n                    classNamePrefix=\"react-select\"\n                    className={`${inputLabelClassNameReactSelect} ${errors.expencehead ? \"border-[1px] \" : \"border-gray-300\"}`}\n                    placeholder=\"Select Expence Head\"\n                  />\n                )}\n              />\n              {errors.expencehead && <p className=\"text-red-500 text-sm\">{errors.expencehead.message}</p>}\n            </div>\n            <div className=\"\">\n              <label className={`${inputLabelClassName}`}>\n                Amount <span className=\"text-red-600\">*</span>\n              </label>\n              <input\n                type=\"number\"\n                 step=\"0.01\"\n                {...register(\"amount\", {\n                  required: \"Amount is required\",\n\n                })}\n                className={` ${inputClassName} ${errors.amount ? \"border-[1px] \" : \"border-gray-300\"\n                  }`}\n                placeholder=\"Enter Amount\"\n              />\n              {errors.amount && (\n                <p className=\"text-red-500 text-sm\">\n                  {errors.amount.message}\n                </p>\n              )}\n            </div>\n\n            <div className=\"\">\n              <label className={`${inputLabelClassName}`}>\n                Naration <span className=\"text-red-600\">*</span>\n              </label>\n              <textarea\n\n                {...register(\"naration\", {\n                  required: \"Naration is required\",\n\n                })}\n                className={` ${inputClassName} ${errors.naration ? \"border-[1px] \" : \"border-gray-300\"\n                  }`}\n                placeholder=\"Enter Naration\"\n              ></textarea>\n              {errors.naration && (\n                <p className=\"text-red-500 text-sm\">\n                  {errors.naration.message}\n                </p>\n              )}\n            </div>\n            <div>\n              <label className={`${inputLabelClassName}`}>Bill Date</label>\n              <Controller\n                name=\"date\"\n                control={control}\n                render={({ field }) => (\n                  <CustomDatePicker\n                    field={field}\n                    errors={errors}\n                    disabledDate={(current) => {\n                      if (!current) return true;\n\n                      const today = dayjs().startOf('day');\n                      const currentDate = current.startOf('day');\n                      const dayOfMonth = today.date();\n\n                      if (dayOfMonth <= 5) {\n                        // --- Last 5 days of previous month ---\n                        const prevMonth = today.subtract(1, 'month');\n                        const endOfPrevMonth = prevMonth.endOf('month').startOf('day');\n                        const startOfLast5PrevMonth = prevMonth\n                          .date(endOfPrevMonth.date() - 4)\n                          .startOf('day');\n\n                        const isInLast5PrevMonth =\n                          (currentDate.isAfter(startOfLast5PrevMonth) || currentDate.isSame(startOfLast5PrevMonth)) &&\n                          (currentDate.isBefore(endOfPrevMonth) || currentDate.isSame(endOfPrevMonth));\n\n                        // --- Current month: 1st to today ---\n                        const startOfCurrentMonth = today.startOf('month');\n                        const isFromStartToToday =\n                          (currentDate.isAfter(startOfCurrentMonth) || currentDate.isSame(startOfCurrentMonth)) &&\n                          (currentDate.isBefore(today) || currentDate.isSame(today));\n\n                        return !(isInLast5PrevMonth || isFromStartToToday);\n                      } else {\n                        // After 5th of month: allow only past dates in current month\n                        const startOfCurrentMonth = today.startOf('month');\n\n                        const isInCurrentMonth =\n                          (currentDate.isAfter(startOfCurrentMonth) || currentDate.isSame(startOfCurrentMonth)) &&\n                          (currentDate.isBefore(today) || currentDate.isSame(today));\n\n                        return !isInCurrentMonth;\n                      }\n                    }}\n                  />\n                )}\n              />\n              {errors.date && <p className=\"text-red-500 text-sm\">Date is required</p>}\n            </div>\n      \n\n            <div className=\"\">\n              <label className={`${inputLabelClassName}`}>\n                Documents\n              </label>\n              {!isPreview ? (\n                <div className=\"space-y-4\">\n                  <input type=\"file\" onChange={handleFileChange} className=\"hidden\" id=\"file-upload\" />\n                  <label htmlFor=\"file-upload\" className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-600 bg-white cursor-pointer\">\n                    <FaRegFile className=\"mr-2\" /> Add Documents\n                  </label>\n\n                  <div className=\"space-y-2\">\n                    {formData.attachment.map((file, index) => (\n                      <div key={index} className=\"flex items-center justify-between p-2 bg-gray-50 rounded-md\">\n                        <a\n                          href={`${process.env.REACT_APP_BACKEND_DOMAIN_NAME}/public/${file}`}\n                          className=\"flex items-center space-x-2\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                        >\n                          <FaRegFile className=\"text-gray-500\" />\n                          <span className=\"text-sm text-gray-600\">{file}</span>\n                        </a>\n                        <button\n                          type=\"button\"\n                          onClick={() => handleRemoveFile(index)}\n                          className=\"text-red-500 hover:text-red-700\"\n                        >\n                          <FaTimes />\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  {/* Attachments preview logic */}\n                </div>\n              )}\n            </div>\n\n          </div>\n          <div className=\"flex justify-end\">\n            <button\n              type=\"submit\"\n              disabled={cashbookLoading}\n              className={`${cashbookLoading ? 'bg-gray-400' : 'bg-header'} text-white p-2 px-4 rounded`}\n            >\n              {cashbookLoading ? <Loader /> : 'Submit'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </GlobalLayout>\n  );\n};\n\nexport default EmployeeCashbookCreate;\n"],"names":["EmployeeCashbookCreate","register","handleSubmit","control","watch","formState","errors","setValue","useForm","dispatch","useDispatch","navigate","useNavigate","userInfoglobal","JSON","parse","localStorage","getItem","concat","domainName","expenseTypeList","useSelector","state","expenceHead","CompanyId","useWatch","name","defaultValue","BranchId","loading","cashbookLoading","cashbook","isPreview","setIsPreview","useState","formData","setFormData","attachment","useEffect","userType","branchSearch","text","sort","status","isPagination","companyId","_id","companySearch","Number","_jsx","GlobalLayout","children","className","_jsxs","autoComplete","onSubmit","data","_data$expencehead","finalPayload","directorId","branchId","expencehead","value","amount","naration","date","createcashbook","then","error","inputLabelClassName","Controller","rules","required","render","_ref","field","ReactSelect","_objectSpread","onFocus","reqPayload","expenseTypeSearch","options","map","expence","label","classNamePrefix","inputLabelClassNameReactSelect","placeholder","message","type","step","inputClassName","_ref2","CustomDatePicker","disabledDate","current","today","dayjs","startOf","currentDate","prevMonth","subtract","endOfPrevMonth","endOf","startOfLast5PrevMonth","isInLast5PrevMonth","isAfter","isSame","isBefore","startOfCurrentMonth","isFromStartToToday","onChange","e","reqData","filePath","target","files","isVideo","isMultiple","fileUploadFunc","res","_res$payload","payload","prev","_res$payload2","id","htmlFor","FaRegFile","file","index","href","process","rel","onClick","updatedAttachments","filter","_","i","handleRemoveFile","FaTimes","disabled","Loader"],"sourceRoot":""}