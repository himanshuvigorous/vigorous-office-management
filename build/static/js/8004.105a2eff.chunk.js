"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[8004],{58004:(e,d,a)=>{a.r(d),a.d(d,{default:()=>y});var l=a(89379),n=a(65043),i=a(24858),s=a(39160),o=a(83003),t=a(73216),r=a(16210),c=a(78729),m=a(33007),u=a(15187),p=a(735),v=a(65512),x=a(17995),h=a(89427),g=a(70579);const y=function(){const{loading:e}=(0,o.d4)(e=>e.designation),{register:d,handleSubmit:a,setValue:y,getValues:j,unregister:N,control:I,formState:{errors:f}}=(0,i.mN)(),{userCompanyId:b,userDepartmentId:A,userBranchId:S,userType:w}=(0,p.A)(),{companyList:C}=(0,o.d4)(e=>e.company),{departmentListData:D,loading:O}=(0,o.d4)(e=>e.department),{designationRoleData:_}=(0,o.d4)(e=>null===e||void 0===e?void 0:e.designation),T=(0,t.Zp)(),q=(0,o.wA)(),H=JSON.parse(localStorage.getItem("user_info_".concat(u.AU))),L=(0,i.FH)({control:I,name:"companyId",defaultValue:b});return(0,i.FH)({control:I,name:"branchiId",defaultValue:S}),(0,i.FH)({control:I,name:"departmentId",defaultValue:A}),(0,i.FH)({control:I,name:"roleId",defaultValue:""}),(0,n.useEffect)(()=>{"admin"===(null===H||void 0===H?void 0:H.userType)&&q((0,c.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,n.useEffect)(()=>{"admin"===(null===H||void 0===H?void 0:H.userType)&&q((0,c.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[L]),(0,n.useEffect)(()=>{(L||"admin"!==(null===H||void 0===H?void 0:H.userType))&&q((0,m.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===H||void 0===H?void 0:H.userType)?L:"company"===(null===H||void 0===H?void 0:H.userType)?null===H||void 0===H?void 0:H._id:null===H||void 0===H?void 0:H.companyId}))},[L]),(0,n.useEffect)(()=>{q((0,r.AK)({text:""}))},[]),(0,g.jsx)(s.A,{children:(0,g.jsx)("div",{className:"gap-4",children:(0,g.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:a(e=>{const d={name:null===e||void 0===e?void 0:e.designationName,companyId:"admin"===(null===H||void 0===H?void 0:H.userType)?null===e||void 0===e?void 0:e.companyId:"company"===(null===H||void 0===H?void 0:H.userType)?null===H||void 0===H?void 0:H._id:null===H||void 0===H?void 0:H.companyId,departmentId:null===e||void 0===e?void 0:e.departmentId,roleKey:null===e||void 0===e?void 0:e.roleId,directorId:""};q((0,r.YZ)(d)).then(e=>{e.error||T(-1)})}),children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===H||void 0===H?void 0:H.userType)&&(0,g.jsxs)("div",{className:"",children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["Company",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsxs)("select",(0,l.A)((0,l.A)({},d("companyId",{required:"Company is required"})),{},{className:" ".concat(u.Ol," ").concat(f.companyId?"border-[1px] ":"border-gray-300"),children:[(0,g.jsx)("option",{className:"",value:"",children:"Select Company"}),null===C||void 0===C?void 0:C.map(e=>(0,g.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName,"(",null===e||void 0===e?void 0:e.userName,")"]}))]})),f.companyId&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:f.companyId.message})]}),(0,g.jsxs)("div",{className:"",children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["Department ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)(i.xI,{name:"departmentId",control:I,rules:{required:"Department is required"},render:e=>{let{field:d}=e;return(0,g.jsxs)(v.A,(0,l.A)((0,l.A)({},d),{},{className:"".concat(u.Hy," ").concat(f.departmentId?"border-[1px] ":"border-gray-300"),placeholder:"Select Department",showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,g.jsx)(v.A.Option,{value:"",children:"Select Department"}),O?(0,g.jsx)(v.A.Option,{disabled:!0,children:(0,g.jsx)(h.A,{})}):null===D||void 0===D?void 0:D.map(e=>(0,g.jsx)(v.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]}))}}),f.departmentId&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:f.departmentId.message})]}),(0,g.jsxs)("div",{className:"w-full",children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["Designation Name ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)("input",(0,l.A)((0,l.A)({type:"text"},d("designationName",{required:"Designation Name is required"})),{},{className:"placeholder: ".concat(u.Ol," ").concat(f.designationName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Designation Name"})),f.designationName&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:f.designationName.message})]}),(0,g.jsxs)("div",{className:"w-full",children:[(0,g.jsxs)("label",{className:"".concat(u.Q0),children:["Role ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)(i.xI,{name:"roleId",control:I,rules:{required:"Role is required"},render:e=>{let{field:d}=e;return(0,g.jsxs)(v.A,(0,l.A)((0,l.A)({},d),{},{className:"".concat(u.Hy," ").concat(f.roleId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Roles",children:[(0,g.jsx)(v.A.Option,{value:"",children:"Roles"}),null===_||void 0===_?void 0:_.map(e=>(0,g.jsx)(v.A.Option,{value:null===e||void 0===e?void 0:e.name,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]}))}}),f.roleId&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:f.roleId.message})]})]}),(0,g.jsx)("div",{className:"flex justify-end ",children:(0,g.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,g.jsx)(x.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=8004.105a2eff.chunk.js.map