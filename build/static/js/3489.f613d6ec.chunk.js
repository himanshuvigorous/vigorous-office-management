"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[3489],{83489:(e,a,s)=>{s.r(a),s.d(a,{default:()=>j});var t=s(89379),n=s(73216),r=s(39160),o=s(83003),l=s(65043),d=s(60446),c=s.n(d),i=s(24858),p=s(77396),h=s(15187),m=s(65512),u=s(4938),x=s(78227),w=s(735),v=s(55971),b=s(70579);const j=function(){const{canCreate:e,canRead:a,canUpdate:s,canDelete:d}=(0,u.A)(),{userCompanyId:j,userBranchId:N,userType:y,userEmployeId:f}=(0,w.A)(),{register:g,setValue:D,control:I,formState:{errors:S}}=(0,i.mN)(),A=((0,n.Zp)(),(0,o.wA)()),{employeePenaltyListData:P,totaemployeePenaltyCount:C,loading:Y}=(0,o.d4)(e=>e.employeePenalty),[B,R]=(0,l.useState)(""),[k,F]=(0,l.useState)(""),E=(0,i.FH)({control:I,name:"PDCompanyId",defaultValue:""}),O=(0,i.FH)({control:I,name:"PDBranchId",defaultValue:""}),_=(0,i.FH)({control:I,name:"status",defaultValue:""}),L=JSON.parse(localStorage.getItem("user_info_".concat(h.AU))),[M,T]=(0,l.useState)(1);(0,l.useEffect)(()=>{"employee"===(null===L||void 0===L?void 0:L.userType)&&null!==L&&void 0!==L&&L._id&&V()},[_,M,O,E,B,k]);const V=()=>{const e={currentPage:M,pageSize:10,reqData:{directorId:"",companyId:j||"",branchId:N||"",text:B,sort:!0,status:_,isPagination:!0,employeId:f,penaltyId:"",issueDate:""}};A((0,p.eo)(e))};return"employee"!==(null===L||void 0===L?void 0:L.userType)?(0,b.jsx)(r.A,{children:(0,b.jsx)("div",{className:"bg-red-100 text-red-800 p-4 rounded-md mt-2",children:(0,b.jsx)("p",{className:"text-center font-semibold",children:"You are not an employee. This page is viewable for employees only."})})}):(0,b.jsx)(r.A,{onChange:e=>{R(e)},children:(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("div",{className:"sm:flex justify-between items-center md:space-y-0 space-y-2 py-1",children:[(0,b.jsx)("div",{className:"sm:flex justify-between items-center md:gap-2 gap-1",children:(0,b.jsx)("div",{className:"",children:(0,b.jsx)(i.xI,{name:"status",control:I,rules:{},render:e=>{let{field:a}=e;return(0,b.jsxs)(m.A,(0,t.A)((0,t.A)({},a),{},{className:" w-32 ".concat(h.Lp," ").concat(S.status?"border-[1px] ":"border-gray-300"),placeholder:"Select Status",disabled:Y,showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(m.A.Option,{value:"",children:"Select Status"}),(0,b.jsx)(m.A.Option,{value:"Pending",children:" Imposed "}),(0,b.jsx)(m.A.Option,{value:"Resolved",children:" Removed "})]}))}})})}),(0,b.jsx)("div",{className:"flex justify-end items-center",children:(0,b.jsx)("button",{onClick:()=>{D("status",""),D("PDBranchId",""),D("PdDepartmentId",""),D("PdCompanyId","")},className:"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,b.jsx)("span",{className:"text-[12px]",children:"Reset"})})})]}),(0,b.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:a&&(0,b.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,b.jsx)("thead",{className:"",children:(0,b.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"S.No."}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Employee Name"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Penalty Name"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Date"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Imposed By"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Penalty Amount"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Reason"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"created At"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"created By"}),(0,b.jsx)("th",{className:"border-none p-2 whitespace-nowrap w-[10%]",children:"Status"})]})}),Y?(0,b.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,b.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,b.jsx)(v.A,{})})}):(0,b.jsx)("tbody",{children:P&&(null===P||void 0===P?void 0:P.length)>0?null===P||void 0===P?void 0:P.map((e,a)=>{var s;return(0,b.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] text-[#374151] text-[14px] ".concat(a%2===0?"bg-[#e9ecef]/80":"bg-white"),children:[(0,b.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:a+1+10*(M-1)}),(0,b.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(null===e||void 0===e?void 0:e.employeName)||"-"}),(0,b.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(null===e||void 0===e?void 0:e.penaltyName)||"-"}),(0,b.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==e&&void 0!==e&&e.issueDate?c()(e.issueDate).format("YYYY-MM-DD"):"-"}),(0,b.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:null!==(s=null===e||void 0===e?void 0:e.createdBy)&&void 0!==s?s:"-"}),(0,b.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(null===e||void 0===e?void 0:e.amount)||"-"}),(0,b.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(null===e||void 0===e?void 0:e.reason)||"-"}),(0,b.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:c()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY")||"-"}),(0,b.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(null===e||void 0===e?void 0:e.createdBy)||"-"}),(0,b.jsx)("td",{className:"tableData",children:(0,b.jsx)("span",{className:"".concat("Pending"===(null===e||void 0===e?void 0:e.status)?"bg-red-200 border-red-500":"bg-[#E0FFBE] border-green-500"," border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]"),children:"Pending"===(null===e||void 0===e?void 0:e.status)?"Imposed":"Resolved"===(null===e||void 0===e?void 0:e.status)?"Removed":null===e||void 0===e?void 0:e.status})})]})}):(0,b.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,b.jsx)("td",{colSpan:3,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(null===P||void 0===P?void 0:P.length)>0&&(0,b.jsx)(x.A,{totalCount:C,pageSize:10,currentPage:M,onChange:e=>{T(e)}})]})})}}}]);
//# sourceMappingURL=3489.f613d6ec.chunk.js.map