"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[3095],{73095:(e,a,l)=>{l.r(a),l.d(a,{default:()=>A});var s=l(89379),n=l(65043),r=l(24858),d=l(39160),t=l(83003),i=l(73216),c=l(735),o=l(51957),m=l(65512),u=l(15187),x=l(36105),v=l(30575),h=l(84480),p=l(78729),g=l(31744),b=l(61413),N=l(56659),j=l(17995),y=l(89427),P=l(70579);const A=function(){const{loading:e}=(0,t.d4)(e=>e.vendor),{register:a,handleSubmit:l,setValue:A,control:D,formState:{errors:f}}=(0,r.mN)(),{userCompanyId:C,userDirectorId:S,userBranchId:I,userType:E}=(0,c.A)(),L=(0,t.wA)(),O=(0,i.Zp)(),{companyList:w,companyListLoading:B}=(0,t.d4)(e=>e.company),{countryListData:Q}=(0,t.d4)(e=>e.country),{branchList:q,branchListloading:T}=(0,t.d4)(e=>e.branch),{stateListData:Z}=(0,t.d4)(e=>e.states),{cityListData:G}=(0,t.d4)(e=>e.city),F=(0,r.FH)({control:D,name:"PDCompanyId",defaultValue:C}),H=(0,r.FH)({control:D,name:"PDBranchId",defaultValue:I}),M=(0,r.FH)({control:D,name:"PDCountry",defaultValue:""}),V=(0,r.FH)({control:D,name:"PDState",defaultValue:""}),_=(0,r.FH)({control:D,name:"PDPin",defaultValue:""});return(0,n.useEffect)(()=>{_&&_.length>=4&&_.length<=6&&(0,u.jh)(_).then(e=>{e&&(A("PDCity",e.city),A("PDState",e.state),A("PDCountry",e.country))}).catch(e=>{console.error("Error fetching data:",e)})},[_]),(0,n.useEffect)(()=>{A("PDMobileCode","+91")},[Q]),(0,n.useEffect)(()=>{"admin"===E&&L((0,p.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,n.useEffect)(()=>{(F||"company"===E||"companyDirector"===E)&&L((0,g.d0)({text:"",sort:!0,status:!0,companyId:F,isPagination:!1}))},[F]),(0,P.jsx)(d.A,{children:(0,P.jsx)("div",{className:"gap-4",children:(0,P.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:l(e=>{var a,l,s,n;const r={companyId:F,directorId:"",branchId:H,fullName:null===e||void 0===e?void 0:e.name,profileImage:"/images/placeholder.png",email:null===e||void 0===e?void 0:e.email,mobile:{code:null===e||void 0===e?void 0:e.code,number:null===e||void 0===e?void 0:e.number},status:!0,isDeleted:!1,addresses:{primary:{street:null!==(a=null===e||void 0===e?void 0:e.PDAddress)&&void 0!==a?a:"",city:null!==(l=null===e||void 0===e?void 0:e.PDCity)&&void 0!==l?l:"",state:null!==(s=null===e||void 0===e?void 0:e.PDState)&&void 0!==s?s:"",country:null!==(n=null===e||void 0===e?void 0:e.PDCountry)&&void 0!==n?n:"",pinCode:null===e||void 0===e?void 0:e.PDPin}},vendorProfile:{penNumber:null===e||void 0===e?void 0:e.penNumber,adharNumber:null===e||void 0===e?void 0:e.adharNumber,GSTNumber:null===e||void 0===e?void 0:e.GSTNumber,secondaryEmail:null===e||void 0===e?void 0:e.Secemail,secondaryMobile:{code:+(null===e||void 0===e?void 0:e.Secnumber)&&null!==e&&void 0!==e&&e.Seccode?null===e||void 0===e?void 0:e.Seccode:null,number:+(null===e||void 0===e?void 0:e.Secnumber)?+(null===e||void 0===e?void 0:e.Secnumber):null},landline:{code:+(null===e||void 0===e?void 0:e.lannumber)&&null!==e&&void 0!==e&&e.lancode?null===e||void 0===e?void 0:e.lancode:null,number:+(null===e||void 0===e?void 0:e.lannumber)?+(null===e||void 0===e?void 0:e.lannumber):null}}};L((0,b.Bm)(r)).then(e=>{e.error||O(-1)})}),children:[(0,P.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2",children:("admin"===E||"company"===E||"companyDirector"===E)&&(0,P.jsxs)("div",{children:[(0,P.jsxs)("label",{className:"".concat(u.Q0),children:["Branch ",(0,P.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,P.jsx)(r.xI,{name:"PDBranchId",control:D,rules:{required:"Branch is required"},render:e=>{let{field:a}=e;return(0,P.jsxs)(m.A,(0,s.A)((0,s.A)({},a),{},{className:"".concat(u.Hy," ").concat(f.PDBranchId?"border-[1px] ":"border-gray-300"),filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Branch",children:[(0,P.jsx)(m.A.Option,{value:"",children:"Select Branch"}),T?(0,P.jsx)(m.A.Option,{disabled:!0,children:(0,P.jsx)(y.A,{})}):null===q||void 0===q?void 0:q.map(e=>(0,P.jsx)(m.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),f.PDBranchId&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:f.PDBranchId.message})]})}),(0,P.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2",children:[(0,P.jsxs)("div",{className:"",children:[(0,P.jsxs)("label",{className:"".concat(u.Q0),children:["Name ",(0,P.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,P.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("name",{required:"Name is required"})),{},{className:"placeholder: ".concat(u.Ol," ").concat(f.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Name"})),f.name&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:f.name.message})]}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsxs)("label",{className:"".concat(u.Q0),children:["Email ",(0,P.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,P.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(u.Ol," ").concat(f.email?"border-[1px] ":"border-gray-300"),placeholder:"Enter Email"})),f.email&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:f.email.message})]}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)("label",{className:"".concat(u.Q0),children:"GST Number"}),(0,P.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("GSTNumber",{pattern:{value:/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}[Z]{1}[0-9A-Z]{1}$/,message:"Invalid GST Number format (29AAACH7409R1ZX)"}})),{},{className:" ".concat(u.Ol," ").concat(f.GSTNumber?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter GST number",maxLength:15})),f.GSTNumber&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:f.GSTNumber.message})]}),(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsxs)("div",{className:"w-[150px]",children:[(0,P.jsxs)("label",{className:"".concat(u.Q0),children:["code",(0,P.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,P.jsx)(r.xI,{control:D,name:"code",rules:{required:"code is required"},render:e=>{let{field:a}=e;return(0,P.jsx)(N.A,{field:a,errors:f})}}),f.code&&(0,P.jsx)("p",{className:"text-red-500 text-sm mt-3",children:f.code.message})]}),(0,P.jsxs)("div",{className:"w-full",children:[(0,P.jsxs)("label",{className:"".concat(u.Q0),children:["Mobile No",(0,P.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,P.jsx)("input",(0,s.A)((0,s.A)({type:"number"},a("number",{required:"Mobile No is required",minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(u.Ol," ").concat(f.number?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),f.number&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:f.number.message})]})]})]}),(0,P.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-2",children:(0,P.jsxs)("div",{className:"col-span-2",children:[(0,P.jsx)("label",{className:"".concat(u.Q0),children:"Address"}),(0,P.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("PDAddress")),{},{className:"".concat(u.Ol," ").concat(f.PDAddress?"border-[1px] ":"border-gray-300"),placeholder:"Enter Address "})),f.PDAddress&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:f.PDAddress.message})]})}),(0,P.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 md:gap-8 gap-3 md:my-2",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"".concat(u.Q0),children:"Country"}),(0,P.jsx)(r.xI,{control:D,name:"PDCountry",render:e=>{var a;let{field:l}=e;return(0,P.jsx)(o.A,(0,s.A)((0,s.A)({className:"w-full"},l),{},{onChange:e=>{l.onChange(e)},options:null===Q||void 0===Q||null===(a=Q.docs)||void 0===a?void 0:a.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,P.jsx)("input",{placeholder:"Enter Country",onFocus:()=>{L((0,x.dw)({isPagination:!1,text:"",sort:!0,status:!0}))},className:"".concat(u.Ol," ").concat(f.PDCountry?"border-[1px] ":"border-gray-300")})}))}}),f.PDCountry&&(0,P.jsx)("p",{className:"".concat(u.ci),children:f.PDCountry.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"".concat(u.Q0),children:"State"}),(0,P.jsx)(r.xI,{control:D,name:"PDState",render:e=>{var a;let{field:l}=e;return(0,P.jsx)(o.A,(0,s.A)((0,s.A)({className:"w-full"},l),{},{onChange:e=>l.onChange(e),options:null===Z||void 0===Z||null===(a=Z.docs)||void 0===a?void 0:a.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,P.jsx)("input",{placeholder:"Enter State",onFocus:()=>{L((0,v.mz)({isPagination:!1,text:"",countryName:M,sort:!0,status:!0}))},className:"".concat(u.Ol," ").concat(f.PDState?"border-[1px] ":"border-gray-300")})}))}}),f.PDState&&(0,P.jsx)("p",{className:"".concat(u.ci),children:f.PDState.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"".concat(u.Q0),children:"City"}),(0,P.jsx)(r.xI,{control:D,name:"PDCity",render:e=>{var a;let{field:l}=e;return(0,P.jsx)(o.A,(0,s.A)((0,s.A)({className:"w-full"},l),{},{onChange:e=>l.onChange(e),options:null===G||void 0===G||null===(a=G.docs)||void 0===a?void 0:a.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,P.jsx)("input",{onFocus:()=>{L((0,h.cY)({isPagination:!1,text:"",sort:!0,status:!0,stateName:V}))},placeholder:"Enter City",className:"".concat(u.Ol," ").concat(f.PDCity?"border-[1px] ":"border-gray-300")})}))}}),f.PDCity&&(0,P.jsx)("p",{className:"".concat(u.ci),children:f.PDCity.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(u.Q0),children:"Pin Code"}),(0,P.jsx)(r.xI,{control:D,name:"PDPin",render:e=>{let{field:a}=e;return(0,P.jsx)("input",(0,s.A)((0,s.A)({},a),{},{type:"number",placeholder:"Enter Pin Code",maxLength:6,onInput:e=>{e.target.value.length>6&&(e.target.value=e.target.value.slice(0,6))},className:"".concat(u.Ol," ").concat(f.PDPin?"border-[1px] ":"border-gray-300")}))}}),f.PDPin&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:f.PDPin.message})]})]}),(0,P.jsx)("div",{className:"flex justify-end ",children:(0,P.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded"),children:e?(0,P.jsx)(j.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=3095.9f438e8b.chunk.js.map