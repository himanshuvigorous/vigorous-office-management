"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[4537],{64537:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var a=t(89379),l=t(65043),n=t(39160),d=t(73216),i=t(83003),r=(t(30064),t(78227)),c=t(15187),o=t(24858),p=t(78729),h=t(65512),x=t(735),m=t(89388),u=t(86178),j=t.n(u),w=t(55971),v=t(70579);const f=function(){const{register:e,control:s,setValue:t,formState:{errors:u}}=(0,o.mN)(),{userCompanyId:f,userBranchId:N,userType:y,userEmployeId:g}=(0,x.A)(),b=((0,d.Zp)(),(0,i.wA)()),{employeeResignationData:D,totalemployeeResignCount:A,employeeLoading:C}=(0,i.d4)(e=>e.resignation),[S,I]=(0,l.useState)(""),k=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),[P,Y]=(0,l.useState)(1),R=((0,o.FH)({control:s,name:"PDCompanyId",defaultValue:f}),(0,o.FH)({control:s,name:"status",defaultValue:""}));(0,l.useEffect)(()=>{"employee"===(null===k||void 0===k?void 0:k.userType)&&null!==k&&void 0!==k&&k._id&&_()},[P,S,R]);const _=()=>{const e={currentPage:P,pageSize:10,reqData:{directorId:"",companyId:f||"",branchId:N||"",employeId:g,text:S,sort:!0,status:R,isPagination:!0,type:"resignation"}};b((0,m.IX)(e))};(0,l.useEffect)(()=>{"admin"===y&&b((0,p.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]);const[F,O]=(0,l.useState)(!1),[T,E]=(0,l.useState)(null),B=()=>{O(!1),E(null)};return"employee"!==(null===k||void 0===k?void 0:k.userType)?(0,v.jsx)(n.A,{children:(0,v.jsx)("div",{className:"bg-red-100 text-red-800 p-4 rounded-md mt-2",children:(0,v.jsx)("p",{className:"text-center font-semibold",children:"You are not an employee. This page is viewable for employees only."})})}):(0,v.jsxs)(n.A,{onChange:e=>{I(e)},children:[(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("div",{className:"flex justify-between items-center md:space-y-0 space-y-2 py-1",children:[(0,v.jsx)("div",{className:"flex items-center space-x-2",children:(0,v.jsx)(o.xI,{name:"status",control:s,rules:{},render:e=>{let{field:s}=e;return(0,v.jsxs)(h.A,(0,a.A)((0,a.A)({},s),{},{className:" w-32 ".concat(c.Lp," ").concat(u.status?"border-[1px] ":"border-gray-300"),placeholder:"Select Status",showSearch:!0,filterOption:(e,s)=>String(null===s||void 0===s?void 0:s.children).toLowerCase().includes(e.toLowerCase()),children:[(0,v.jsx)(h.A.Option,{value:"",children:"Select Status"}),(0,v.jsx)(h.A.Option,{value:"Rejected",children:"Rejected"}),(0,v.jsx)(h.A.Option,{value:"Approved",children:"Approved"}),(0,v.jsx)(h.A.Option,{value:"Requested",children:"Requested"}),(0,v.jsx)(h.A.Option,{value:"Completed",children:"Completed"})]}))}})}),(0,v.jsx)("div",{className:"flex justify-end items-center",children:(0,v.jsx)("button",{onClick:()=>{t("status",""),t("PDBranchId",""),t("PdDepartmentId",""),t("PdCompanyId","")},className:"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,v.jsx)("span",{className:"text-[12px]",children:"Reset"})})})]})}),(0,v.jsxs)("div",{className:"w-full",children:[(0,v.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:(0,v.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] bg-header capitalize text-[12px] text-[#ffff] font-[500] h-[40px]",children:[(0,v.jsx)("th",{className:"p-2 whitespace-nowrap w-[10%]",children:"S.No."}),(0,v.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Title"}),(0,v.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Employee Name"}),(0,v.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Description"}),(0,v.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Apply Date"}),(0,v.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Create At"}),(0,v.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Create By"}),(0,v.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Notice Period(days)"}),(0,v.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Status"})]})}),C?(0,v.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,v.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,v.jsx)(w.A,{})})}):(0,v.jsx)("tbody",{children:D&&(null===D||void 0===D?void 0:D.length)>0?null===D||void 0===D?void 0:D.map((e,s)=>{var t;return(0,v.jsx)(l.Fragment,{children:(0,v.jsxs)("tr",{className:"text-black ".concat(s%2===0?"bg-[#e9ecef]/80":"bg-white"," text-[14px] border-b-[1px] border-[#DDDDDD]"),children:[(0,v.jsx)("td",{className:"whitespace-nowrap p-2",children:s+1+10*(P-1)}),(0,v.jsx)("td",{className:"whitespace-nowrap p-2",children:null===e||void 0===e?void 0:e.title}),(0,v.jsx)("td",{className:"whitespace-nowrap p-2",children:null!==(t=null===e||void 0===e?void 0:e.employeName)&&void 0!==t?t:"-"}),(0,v.jsx)("td",{className:"whitespace p-2",children:null===e||void 0===e?void 0:e.description}),(0,v.jsx)("td",{className:"whitespace-nowrap p-2",children:j()(null===e||void 0===e?void 0:e.applyDate).format("DD-MM-YYYY hh:mm a")}),(0,v.jsx)("td",{className:"whitespace-nowrap p-2",children:j()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")}),(0,v.jsx)("td",{className:"whitespace p-2",children:null===e||void 0===e?void 0:e.createdBy}),(0,v.jsx)("td",{className:"whitespace-nowrap p-2",children:null===e||void 0===e?void 0:e.noticePeriod}),(0,v.jsx)("td",{className:"whitespace-nowrap border-none p-2 ",children:(0,v.jsx)("span",{className:"".concat(null!==e&&void 0!==e&&e.status?"bg-[#E0FFBE] border-green-500":"bg-red-200 border-red-500"," border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]"),children:null===e||void 0===e?void 0:e.status})})]})},e._id)}):(0,v.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,v.jsx)("td",{colSpan:6,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(null===D||void 0===D?void 0:D.length)>0&&(0,v.jsx)(r.A,{totalCount:A,pageSize:10,currentPage:P,onChange:e=>{Y(e)}})]}),F&&T&&(0,v.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1501]",onClick:B,children:(0,v.jsxs)("div",{className:"animate-slideInFromTop bg-white rounded-lg px-6 pt-6 pb-3 w-[800px] max-h-[70vh] overflow-y-hidden",onClick:e=>e.stopPropagation(),children:[(0,v.jsx)("div",{className:"mt-4",children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:null===T||void 0===T?void 0:T.content}})}),(0,v.jsx)("div",{className:"mt-4 flex justify-end",children:(0,v.jsx)("button",{onClick:B,className:"px-4 py-2 text-white bg-header rounded-md",children:"Close"})})]})})]})}}}]);
//# sourceMappingURL=4537.e357d9b5.chunk.js.map