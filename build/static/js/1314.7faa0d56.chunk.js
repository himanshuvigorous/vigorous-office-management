"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[509,682,1314],{509:(e,l,t)=>{t.r(l),t.d(l,{default:()=>i});var n=t(65043),s=t(60184),a=t(70579);const i=e=>{let{content:l,setContent:t,closeEditModal:i,updateNotification:d,isNoticeOpen:o}=e;const r=(0,n.useRef)(null),c=e=>{r.current&&!r.current.contains(e.target)&&i()};(0,n.useEffect)(()=>(document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}),[]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"fixed inset-0 z-[999999999999] bg-gray-900 bg-opacity-50 flex items-start top-0 mt-0 justify-center transition-opacity duration-300 ".concat(o?"animate-[smoothSlideDown_0.5s_ease-in-out]":""),children:(0,a.jsxs)("div",{ref:r,className:"animate-slideInFromTop bg-[#F2F2F2] modalShadow rounded-[12px] shadow-lg w-11/12 max-w-md relative top-[100px] transition-transform duration-700 linear",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b py-4 px-6",children:[(0,a.jsx)("div",{className:"text-sm font-normal",children:"Edit Notification"}),(0,a.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-700",children:(0,a.jsx)(s.QCr,{size:15})})]}),(0,a.jsxs)("div",{className:"text-gray-700 p-3 space-y-1",children:[(0,a.jsx)("div",{className:"text-sm text-black",children:"Content"}),(0,a.jsx)("textarea",{className:"border w-full h-[58px] p-2",value:l,onChange:e=>t(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex justify-end items-center px-3 pt-0 pb-4",children:[(0,a.jsx)("button",{onClick:()=>{l.trim()&&d()},className:"bg-header text-white px-[22px] py-[11px] rounded text-[14px] mr-2",children:"Save"}),(0,a.jsx)("button",{onClick:i,className:"bg-[#d41c1c] text-white px-[22px] py-[11px] rounded text-[14px] mr-2",children:"close"})]})]})})})}},16540:(e,l,t)=>{t.d(l,{A:()=>b});var n=t(65043),s=t(23156),a=t(60446),i=t.n(a),d=t(45964),o=t(89073),r=t(8354),c=t(99472),m=t(53913),x=t(10898),u=t(76399),v=t(29813),p=t(81210),h=t(42156),f=t(38818),g=t(6426),j=t(53722),y=t(70579);const{Text:N}=v.A,b=e=>{var l,t,a,v,b,w,A,T,D,k,I,C,S,E;let{combinedData:Y,currentDate:_,prevMonth:M,nextMonth:O,companyDashboardData:L}=e;const[P,z]=(0,n.useState)(""),q=(e,l)=>new Date(l,e+1,0).getDate(),F=null===_||void 0===_?void 0:_.getFullYear(),H=null===_||void 0===_?void 0:_.getMonth(),B=q(H,F),R=((e,l)=>new Date(l,e,1).getDay())(H,F),U=q(H-1,F),Q=Array.from({length:R},(e,l)=>U-R+l+1),V=Array.from({length:B},(e,l)=>l+1),Z=Array.from({length:42-(Q.length+V.length)},(e,l)=>l+1);return(0,y.jsxs)("div",{className:"w-full h-full relative bg-[#FFFFFF] rounded-xl px-3 py-2.5",children:[(0,y.jsx)("p",{className:"text-left text-[20px] font-[500] text-header",children:" Calendar"}),(0,y.jsxs)("div",{className:"flex justify-between items-center pr-4 mb-2",children:[(0,y.jsxs)("div",{className:"xl:text-[16px] font-[400] text-sm text-black",children:[null===_||void 0===_?void 0:_.toLocaleString("default",{month:"long"})," ",F]}),(0,y.jsxs)("div",{className:"flex gap-1",children:[(0,y.jsx)("button",{onClick:M,className:"p-1 rounded bg-gray-200",children:(0,y.jsx)(s.ed2,{})}),(0,y.jsx)("button",{onClick:O,className:"p-1 rounded bg-gray-200",children:(0,y.jsx)(s.FDZ,{})})]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,y.jsx)("div",{className:"text-left font-[400] text-[12px] text-[#87888A]",children:e},e)),Q.map(e=>(0,y.jsx)("div",{className:"h-8 w-8 p-1 flex items-center justify-center text-[12px] text-[#C3C4C4]",children:e},"prev-".concat(e))),V.map(e=>{const l=i()("".concat(F,"-").concat(String(H+1).padStart(2,"0"),"-").concat(String(e).padStart(2,"0"))).format("YYYY-MM-DD");return(0,y.jsx)("div",{className:"h-auto w-[38px] p-1 flex items-center ".concat(Y.some(e=>e.date===l)&&"bg-header text-white"," justify-center text-[13px] rounded "),onClick:()=>(e=>{const l=i()("".concat(F,"-").concat(String(H+1).padStart(2,"0"),"-").concat(String(e).padStart(2,"0"))).format("YYYY-MM-DD");z(l)})(e),children:(0,y.jsx)("span",{children:e})},e)}),Z.map(e=>(0,y.jsx)("div",{className:"h-auto w-[38px] p-1 flex items-center justify-center text-[12px] text-[#C3C4C4]",children:e},"next-".concat(e)))]}),(0,y.jsx)(m.A,{title:"Events & Holidays - ".concat(P),open:!!P,onCancel:()=>z(""),footer:null,width:800,style:{padding:"16px 24px"},className:"events-holidays-modal antmodalclassName",children:null!==Y&&void 0!==Y&&Y.find(e=>(null===e||void 0===e?void 0:e.date)===P)?(0,y.jsxs)("div",{className:"modal-content-container",children:[(0,y.jsxs)("div",{className:"section-container",children:[(0,y.jsx)(r.A,{orientation:"left",className:"section-divider",children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(p.A,{style:{color:"#1890ff"}}),(0,y.jsx)(N,{strong:!0,style:{fontSize:"16px"},children:"Events"})]})}),(null===(l=Y.find(e=>e.date===P))||void 0===l||null===(t=l.events)||void 0===t?void 0:t.length)>0?(0,y.jsx)("div",{className:"events-grid",children:Y.find(e=>e.date===P).events.map(e=>{var l;return(0,y.jsx)(o.A,{className:"event-card",hoverable:!0,size:"small",children:(0,y.jsxs)("div",{className:"card-content",children:[(0,y.jsxs)("div",{className:"main-content",children:[(0,y.jsx)(N,{strong:!0,className:"event-title",children:e.title}),e.description&&(0,y.jsx)(N,{type:"secondary",className:"event-description",children:e.description}),e.location&&(0,y.jsxs)("div",{className:"event-location",children:[(0,y.jsx)(h.A,{}),(0,y.jsx)(N,{type:"secondary",children:e.location})]})]}),(null===(l=e.attendees)||void 0===l?void 0:l.length)>0&&(0,y.jsxs)("div",{className:"attendees-section",children:[(0,y.jsx)(r.A,{dashed:!0,className:"attendees-divider"}),(0,y.jsxs)(N,{type:"secondary",className:"attendees-title",children:[(0,y.jsx)(f.A,{})," Attendees (",e.attendees.length,")"]}),(0,y.jsx)("div",{className:"attendees-list",children:e.attendees.map(e=>(0,y.jsxs)("div",{className:"attendee-item",children:[(0,y.jsx)(d.A,{size:"small",icon:(0,y.jsx)(j.A,{}),className:"attendee-avatar ".concat(e.status)}),(0,y.jsx)(N,{className:"attendee-name",children:e.name}),(0,y.jsx)(u.A,{size:"small",color:"confirmed"===e.status?"green":"orange",className:"status-tag",children:e.status})]},e.email))})]})]})},e.id)})}):(0,y.jsx)(c.A,{image:c.A.PRESENTED_IMAGE_SIMPLE,description:"No events scheduled for this day",className:"empty-state"})]}),(0,y.jsxs)("div",{className:"section-container",children:[(0,y.jsx)(r.A,{orientation:"left",className:"section-divider",children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(g.A,{style:{color:"#faad14"}}),(0,y.jsx)(N,{strong:!0,style:{fontSize:"16px"},children:"Holidays"})]})}),(null===(a=Y.find(e=>e.date===P))||void 0===a||null===(v=a.holidays)||void 0===v?void 0:v.length)>0?(0,y.jsx)("div",{className:"holidays-grid",children:Y.find(e=>e.date===P).holidays.map(e=>(0,y.jsx)(o.A,{className:"holiday-card",size:"small",children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(d.A,{icon:(0,y.jsx)(g.A,{}),style:{backgroundColor:"#faad14"}}),(0,y.jsxs)("div",{children:[(0,y.jsx)(N,{strong:!0,children:e.name}),e.description&&(0,y.jsx)("div",{children:(0,y.jsx)(N,{type:"secondary",children:e.description})})]})]})},e.id))}):(0,y.jsx)(c.A,{image:c.A.PRESENTED_IMAGE_SIMPLE,description:"No holidays on this day",className:"empty-state"})]})]}):(0,y.jsx)(c.A,{description:"No data available for this date",className:"empty-state"})}),(0,y.jsx)("style",{jsx:!0,global:!0,children:"\n  .events-holidays-modal {\n    border-radius: 8px;\n  }\n\n  .ant-modal-content {\n    background-color: #f9f9f9;\n  }\n\n  .modal-content-container {\n    padding: 16px 24px;\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n    background-color: #f9f9f9;\n  }\n\n  .section-divider {\n    margin: 8px 0 16px 0;\n  }\n\n  .events-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 16px;\n  }\n\n  .holidays-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    gap: 12px;\n  }\n\n  .event-card {\n    border-radius: 8px;\n    border: 1px solid #f0f0f0;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.09);\n  }\n\n  .event-card:hover {\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.09);\n  }\n\n  .holiday-card {\n    border-radius: 8px;\n    border-left: 3px solid #faad14;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.09);\n  }\n\n  .card-content {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n  }\n\n  .event-title {\n    font-size: 15px;\n    display: block;\n    margin-bottom: 4px;\n  }\n\n  .event-description {\n    font-size: 13px;\n    display: block;\n  }\n\n  .event-location {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    margin-top: 6px;\n    font-size: 13px;\n  }\n\n  .attendees-section {\n    margin-top: 8px;\n  }\n\n  .attendees-divider {\n    margin: 8px 0;\n  }\n\n  .attendees-title {\n    font-size: 12px;\n    display: block;\n    margin-bottom: 6px;\n  }\n\n  .attendees-list {\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n  }\n\n  .attendee-item {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .attendee-avatar {\n    background-color: #1890ff;\n  }\n\n  .attendee-avatar.confirmed {\n    background-color: #52c41a;\n  }\n\n  .attendee-avatar.declined {\n    background-color: #ff4d4f;\n  }\n\n  .attendee-name {\n    font-size: 13px;\n    flex-grow: 1;\n  }\n\n  .status-tag {\n    font-size: 11px;\n    padding: 0 6px;\n    margin-left: auto;\n  }\n\n  .empty-state {\n    padding: 16px 0;\n  }\n\n  /* Responsive Design */\n  @media (max-width: 768px) {\n    .events-grid, .holidays-grid {\n      grid-template-columns: 1fr;\n      gap: 12px;\n    }\n\n    .modal-content-container {\n      padding: 16px;\n    }\n\n    .section-divider {\n      font-size: 14px;\n    }\n\n    .event-title, .attendees-title {\n      font-size: 14px;\n    }\n\n    .event-description, .attendee-name, .status-tag {\n      font-size: 12px;\n    }\n\n    .attendee-item {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n  }\n\n  @media (max-width: 480px) {\n    .event-title {\n      font-size: 13px;\n    }\n\n    .event-description {\n      font-size: 12px;\n    }\n\n    .attendee-name {\n      font-size: 11px;\n    }\n  }\n"}),(0,y.jsxs)("div",{className:"w-full grid grid-cols-2 md:grid-cols-2 2xl:grid-cols-3 gap-4 py-2 pr-3",children:[(0,y.jsxs)("div",{className:"w-full  border-[1px] rounded-lg px-2 py-[2px]",children:[(0,y.jsxs)("div",{className:"flex justify-start gap-1 items-center",children:[(0,y.jsx)("span",{className:"lg:w-3 lg:h-3 w-[10px] h-[10px] rounded flex-none bg-green-500"}),(0,y.jsx)("span",{className:"lg:text-[12px] text-[10px] font-[400]",children:"Events"})]}),(0,y.jsx)("div",{className:"ml-auto text-sm font-bold",children:null!==(b=null!==(w=null===L||void 0===L||null===(A=L.calender)||void 0===A||null===(T=A.eventData)||void 0===T?void 0:T.length)&&void 0!==w?w:null===L||void 0===L||null===(D=L.eventData)||void 0===D?void 0:D.length)&&void 0!==b?b:0})]}),(0,y.jsxs)("div",{className:"w-full  border-[1px] rounded-lg px-2 py-[2px]",children:[(0,y.jsxs)("div",{className:"flex  justify-start gap-1 items-center",children:[(0,y.jsx)("span",{className:"lg:w-3 lg:h-3 w-[10px] h-[10px] rounded flex-none bg-yellow-500"}),(0,y.jsx)("span",{className:"lg:text-[12px] text-[10px] font-[400]",children:"Holidays"})]}),(0,y.jsx)("div",{className:"ml-auto text-sm font-bold",children:null!==(k=null!==(I=null===L||void 0===L||null===(C=L.calender)||void 0===C||null===(S=C.holidayData)||void 0===S?void 0:S.length)&&void 0!==I?I:null===L||void 0===L||null===(E=L.holidayData)||void 0===E?void 0:E.length)&&void 0!==k?k:0})]})]})]})}},21314:(e,l,t)=>{t.r(l),t.d(l,{default:()=>M});var n=t(89379),s=t(23789),a=t(29539),i=(t(16540),t(6720)),d=t(99472),o=t(60647),r=t(17781),c=t(32256),m=t(15187),x=t(83003),u=t(65043),v=t(57159),p=(t(39160),t(60184)),h=t(23156),f=t(47196),g=t(50423),j=t(60446),y=t.n(j),N=(t(79001),t(3825)),b=t(86178),w=t.n(b),A=t(45394),T=t(92021),D=t(73216),k=t(31174),I=t(27810),C=(t(58499),t(44014),t(33874),t(5084),t(99974)),S=t(30636),E=t(91601),Y=t(30565),_=t(70579);const M=function(){var e,l,t,j,b,M,O,L,P,z,q,F,H,B,R,U,Q,V,Z,K,G,J,W,$,X,ee,le,te;const{sidebarListData:ne}=(0,x.d4)(e=>e.dynamicSidebar),se=JSON.parse(localStorage.getItem("user_info_".concat(m.AU))),{hrDashboardData:ae}=(0,x.d4)(e=>null===e||void 0===e?void 0:e.dashboard),ie=(0,x.wA)(),[de,oe]=(0,u.useState)([]),[re,ce]=(0,u.useState)([]),[me,xe]=(0,u.useState)([]),ue=(0,D.Zp)();(0,u.useEffect)(()=>{De(),ie((0,C.kM)({companyId:"company"===(null===se||void 0===se?void 0:se.userType)?null===se||void 0===se?void 0:se._id:null===se||void 0===se?void 0:se.companyId,isPagination:!1}))},[]);const[ve,pe]=(0,u.useState)([]),[he,fe]=(0,u.useState)(new Date),[ge,je]=(0,u.useState)(w()().startOf("month")),[ye,Ne]=(0,u.useState)([]);(0,u.useEffect)(()=>(document.body.classList.add("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[]);const[be,we]=(0,u.useState)(w()().endOf("month")),[Ae,Te]=(0,u.useState)({leaveData:[],birthdaydata:[],inActiveUserToday:[],inActiveEmployeeToday:[],wfhRequestData:[]});(0,u.useEffect)(()=>{if(ae){const e=null===ae||void 0===ae?void 0:ae.todayOnLeave,l=null===ae||void 0===ae?void 0:ae.todayBirthday,t=null===ae||void 0===ae?void 0:ae.inActiveUserToday,n=null===ae||void 0===ae?void 0:ae.inActiveEmployeToday,s=null===ae||void 0===ae?void 0:ae.todayWFHEmployes;Te({leaveData:e,birthdaydata:l,inActiveUserToday:t,inActiveEmployeeToday:n,wfhRequestData:s})}},[ae]),(0,u.useEffect)(()=>{if(ae){const e=(e=>{const l={};return e.forEach(e=>{const t=w()(e.startDate).format("YYYY-MM-DD");l[t]||(l[t]=[]),l[t].push(e)}),l})(null===ae||void 0===ae?void 0:ae.eventData),l=(e=>{const l={};return e.forEach(e=>{const t=w()(e.date).format("YYYY-MM-DD");l[t]||(l[t]=[]),l[t].push(e)}),l})(null===ae||void 0===ae?void 0:ae.holidayData),t=[];Object.keys(e).forEach(n=>{const s=e[n],a=l[n];t.push({date:n,events:s||[],holidays:a||[]})}),Object.keys(l).forEach(n=>{if(!e[n]){const e=l[n];t.push({date:n,events:[],holidays:e||[]})}}),pe(t)}},[ae]),(0,u.useEffect)(()=>{if(ae){var e,l,t;let s=[],a=[],i=[];null===ae||void 0===ae||null===(e=ae.branchEmployeLeavePending)||void 0===e||e.forEach(e=>{var l;null===e||void 0===e||null===(l=e.LeavePendingReqData)||void 0===l||l.map(l=>{s.push((0,n.A)({employeename:null===e||void 0===e?void 0:e.fullName},l))})}),null===ae||void 0===ae||null===(l=ae.branchEmployeAttendance)||void 0===l||l.forEach(e=>{var l;null===e||void 0===e||null===(l=e.checkInEmployeList)||void 0===l||l.map(e=>{a.push((0,n.A)({},e))})}),null===ae||void 0===ae||null===(t=ae.branchRecruitment)||void 0===t||t.forEach(e=>{var l;null===e||void 0===e||null===(l=e.jobopeningsData)||void 0===l||l.forEach(e=>{var l;null===e||void 0===e||null===(l=e.jobPosts)||void 0===l||l.forEach(e=>{i.push(e)})})}),oe(s),ce(a),xe(i)}},[ae]);const De=()=>{ie((0,v.F3)({companyId:"company"===(null===se||void 0===se?void 0:se.userType)?null===se||void 0===se?void 0:se._id:null===se||void 0===se?void 0:se.companyId,branchId:"company"===(null===se||void 0===se?void 0:se.userType)||"companyDirector"===(null===se||void 0===se?void 0:se.userType)?"":"companyBranch"===(null===se||void 0===se?void 0:se.userType)?null===se||void 0===se?void 0:se._id:null===se||void 0===se?void 0:se.branchId,departmentId:"",designationId:"",employeId:"",attendanceLimit:"",employeLimit:""}))},ke=null!==ae&&void 0!==ae&&ae.pendingLeaveReq?null===ae||void 0===ae?void 0:ae.pendingLeaveReq.map(e=>({img:null===e||void 0===e?void 0:e.employeProfileImage,fullName:null===e||void 0===e?void 0:e.employename,checkInTime:null===e||void 0===e?void 0:e.startDate,checkOutTime:null===e||void 0===e?void 0:e.endDate,status:null===e||void 0===e?void 0:e.status,type:null===e||void 0===e?void 0:e.type,subType:null===e||void 0===e?void 0:e.subType,formatType:"leave",_id:e._id})):[],[Ie,Ce]=(0,u.useState)(),[Se,Ee]=(0,u.useState)(!1);console.log(Ie);const Ye=[{name:"Pay Roll",icons:h.MxO,path:"/admin/payroll-list/".concat((0,k.w)(null===ne||void 0===ne||null===(e=ne.find(e=>"payroll-list"==(null===e||void 0===e?void 0:e.slug)))||void 0===e?void 0:e._id))},{name:"Interviews",icons:i.OrL,path:"/admin/interview/".concat((0,k.w)(null===ne||void 0===ne||null===(l=ne.find(e=>"interview"==(null===e||void 0===e?void 0:e.slug)))||void 0===l?void 0:l._id))},{name:"Employees",icons:g.YN6,path:"/admin/employe/".concat((0,k.w)(null===ne||void 0===ne||null===(t=ne.find(e=>"employe"==(null===e||void 0===e?void 0:e.slug)))||void 0===t?void 0:t._id))},{name:"Events",icons:f.Zx1,path:"/admin/event-calander/".concat((0,k.w)(null===ne||void 0===ne||null===(j=ne.find(e=>"event-calander"==(null===e||void 0===e?void 0:e.slug)))||void 0===j?void 0:j._id))},{name:"Holiday",icons:h.pYj,path:"/admin/holiday-calander/".concat((0,k.w)(null===ne||void 0===ne||null===(b=ne.find(e=>"holiday-calander"==(null===e||void 0===e?void 0:e.slug)))||void 0===b?void 0:b._id))},{name:"Resignation",icons:N.VEV,path:"/admin/resignation/".concat((0,k.w)(null===ne||void 0===ne||null===(M=ne.find(e=>"resignationt"==(null===e||void 0===e?void 0:e.slug)))||void 0===M?void 0:M._id))}],_e=e=>{ue(e)};let Me=null===Ae||void 0===Ae||null===(O=Ae.leaveData)||void 0===O?void 0:O.map(e=>({imgUrl:null!==e&&void 0!==e&&e.employeProfileImage?"".concat("https://vigapi.vigorousit.com","/public/").concat(null===e||void 0===e?void 0:e.employeProfileImage):"/images/avatar.jpg",name:null!==e&&void 0!==e&&e.employename&&e.employename.includes(" ")?e.employename.split(" ")[0]:null===e||void 0===e?void 0:e.employename,tooltip:null===e||void 0===e?void 0:e.employename,data:e})),Oe=null===Ae||void 0===Ae||null===(L=Ae.wfhRequestData)||void 0===L?void 0:L.map(e=>({imgUrl:null!==e&&void 0!==e&&e.profileImage?"".concat("https://vigapi.vigorousit.com","/public/").concat(null===e||void 0===e?void 0:e.profileImage):"/images/avatar.jpg",name:null!==e&&void 0!==e&&e.fullName&&e.fullName.includes(" ")?e.fullName.split(" ")[0]:null===e||void 0===e?void 0:e.fullName,tooltip:null===e||void 0===e?void 0:e.fullName,hasAttendanceMarked:null===e||void 0===e?void 0:e.hasAttendanceMarked,data:e})),Le=null===Ae||void 0===Ae||null===(P=Ae.birthdaydata)||void 0===P?void 0:P.map(e=>({imgUrl:null!==e&&void 0!==e&&e.profileImage?"".concat("https://vigapi.vigorousit.com","/public/").concat(null===e||void 0===e?void 0:e.profileImage):"/images/avatar.jpg",name:null!==e&&void 0!==e&&e.fullName&&e.fullName.includes(" ")?e.fullName.split(" ")[0]:null===e||void 0===e?void 0:e.fullName,tooltip:null===e||void 0===e?void 0:e.fullName})),Pe=null===Ae||void 0===Ae||null===(z=Ae.inActiveUserToday)||void 0===z?void 0:z.map(e=>({imgUrl:null!==e&&void 0!==e&&e.profileImage?"".concat("https://vigapi.vigorousit.com","/public/").concat(null===e||void 0===e?void 0:e.profileImage):"/images/avatar.jpg",name:null!==e&&void 0!==e&&e.fullName&&e.fullName.includes(" ")?e.fullName.split(" ")[0]:null===e||void 0===e?void 0:e.fullName,tooltip:null===e||void 0===e?void 0:e.fullName})),ze=null===Ae||void 0===Ae||null===(q=Ae.inActiveEmployeeToday)||void 0===q?void 0:q.map(e=>({imgUrl:null!==e&&void 0!==e&&e.profileImage?"".concat("https://vigapi.vigorousit.com","/public/").concat(null===e||void 0===e?void 0:e.profileImage):"/images/avatar.jpg",name:null!==e&&void 0!==e&&e.fullName&&e.fullName.includes(" ")?e.fullName.split(" ")[0]:null===e||void 0===e?void 0:e.fullName,tooltip:null===e||void 0===e?void 0:e.fullName}));const qe=e=>{"attendance"===e.formatType&&ie((0,c.Q$)({_id:null===e||void 0===e?void 0:e._id})).then(e=>{(null===e||void 0===e||!e.error)&&De()}),"leave"===e.formatType&&ie((0,r.Y8)({_id:null===e||void 0===e?void 0:e._id,status:"Approved"})).then(e=>{(null===e||void 0===e||!e.error)&&De()}),"cashbook"===e.formatType&&ie((0,I.BG)({_id:null===e||void 0===e?void 0:e._id,status:"Approved"})).then(e=>{(null===e||void 0===e||!e.error)&&De()})},Fe=e=>{"leave"===e.formatType&&ie((0,r.Y8)({_id:e._id,status:"Rejected"})).then(e=>{De()}),"attendance"===e.formatType&&ie((0,c.ss)({_id:null===e||void 0===e?void 0:e._id})).then(e=>{(null===e||void 0===e||!e.error)&&De()}),"cashbook"===e.formatType&&ie((0,I.BG)({_id:null===e||void 0===e?void 0:e._id,status:"Reject"})).then(e=>{(null===e||void 0===e||!e.error)&&De()})};return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"block xl:flex xl:gap-5 space-y-3 xl:space-y-0 px-2 xl:h-[calc(100vh-100px)] h-[calc(95vh-90px)] ",children:[(0,_.jsxs)("div",{className:"xl::w-[70%] w-full xl:h-[calc(100vh-100px)] h-full  hide-scrollbar-y",children:[(0,_.jsx)("div",{className:"w-full xl:hidden block",children:(0,_.jsx)(a.A,{leaveList:Me,birthdaydata:Le,inActiveUserToday:Pe,inActiveEmployeeToday:ze,todayWfhRequstData:Oe})}),(0,_.jsxs)("div",{className:"grid  w-full lg:grid-cols-4 gap-2 grid-cols-2",children:[(0,_.jsx)("div",{className:"w-full p-3 md:h-32 rounded-xl bg-[#e3d8ff]",children:(0,_.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,_.jsxs)("div",{className:"flex  items-center justify-between",children:[(0,_.jsx)(g.Y8D,{size:24}),(0,_.jsx)("div",{onClick:()=>{var e;_e("/admin/leave-request-list/".concat((0,k.w)(null===ne||void 0===ne||null===(e=ne.find(e=>"employe"==(null===e||void 0===e?void 0:e.slug)))||void 0===e?void 0:e._id)))},className:"h-5 rounded-full bg-white w-5 flex justify-center items-center",children:(0,_.jsx)(i.TN8,{})})]}),(0,_.jsx)("div",{className:"font-semibold md:text-[15px] text-[12px]",children:"Active Employees"}),(0,_.jsx)("div",{className:"font-bold md:text-[30px] text-[15px] w-full flex justify-end",children:null!==(F=null===ae||void 0===ae||null===(H=ae.employeData)||void 0===H?void 0:H.activeEmploye)&&void 0!==F?F:0})]})}),(0,_.jsx)("div",{className:"w-full p-3 md:h-32 rounded-xl bg-[#c0f0d2]",children:(0,_.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,_.jsxs)("div",{className:"flex  items-center justify-between",children:[(0,_.jsx)(p.bfZ,{size:24}),(0,_.jsx)("div",{onClick:()=>{var e;_e("/admin/leave-request-list/".concat((0,k.w)(null===ne||void 0===ne||null===(e=ne.find(e=>"leave-request-list"==(null===e||void 0===e?void 0:e.slug)))||void 0===e?void 0:e._id)))},className:"h-5 rounded-full bg-white w-5 flex justify-center items-center",children:(0,_.jsx)(i.TN8,{})})]}),(0,_.jsx)("div",{className:"font-semibold md:text-[15px] text-[12px]",children:"On Leave"}),(0,_.jsx)("div",{className:"font-bold md:text-[30px] text-[15px] w-full flex justify-end",children:null!==(B=null===ae||void 0===ae?void 0:ae.employeesOnLeaveCount)&&void 0!==B?B:0})]})}),(0,_.jsx)("div",{className:"w-full p-3 md:h-32 rounded-xl bg-[#edbeae]",children:(0,_.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,_.jsxs)("div",{className:"flex  items-center justify-between",children:[(0,_.jsx)(i.$yx,{size:24}),(0,_.jsx)("div",{onClick:()=>{var e;_e("/admin/all-employee-attendance/".concat((0,k.w)(null===ne||void 0===ne||null===(e=ne.find(e=>"leave-request-list"==(null===e||void 0===e?void 0:e.slug)))||void 0===e?void 0:e._id)))},className:"h-5 rounded-full bg-white w-5 flex justify-center items-center",children:(0,_.jsx)(i.TN8,{})})]}),(0,_.jsx)("div",{className:"font-semibold md:text-[15px] text-[12px]",children:"Present"}),(0,_.jsx)("div",{className:"font-bold md:text-[30px] text-[15px] w-full flex justify-end",children:null!==(R=null===ae||void 0===ae||null===(U=ae.todayAttendanceSummary)||void 0===U||null===(Q=U.statusCounts)||void 0===Q?void 0:Q.present)&&void 0!==R?R:0})]})}),(0,_.jsx)("div",{className:"w-full p-3 md:h-32 rounded-xl bg-[#bed3fe]",children:(0,_.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,_.jsxs)("div",{className:"flex  items-center justify-between",children:[(0,_.jsx)(f.a3z,{size:24}),(0,_.jsx)("div",{onClick:()=>{var e;_e("/admin/all-employee-attendance/".concat((0,k.w)(null===ne||void 0===ne||null===(e=ne.find(e=>"leave-request-list"==(null===e||void 0===e?void 0:e.slug)))||void 0===e?void 0:e._id)))},className:"h-5 rounded-full bg-white w-5 flex justify-center items-center",children:(0,_.jsx)(i.TN8,{})})]}),(0,_.jsx)("div",{className:"font-semibold md:text-[15px] text-[12px]",children:"Absent"}),(0,_.jsx)("div",{className:"font-bold md:text-[30px] text-[15px] w-full flex justify-end",children:null!==(V=null===ae||void 0===ae||null===(Z=ae.todayAttendanceSummary)||void 0===Z||null===(K=Z.statusCounts)||void 0===K?void 0:K.absent)&&void 0!==V?V:0})]})})]}),(0,_.jsx)(Y.A,{}),(0,_.jsxs)("div",{className:"grid grid-cols-1  pt-3 md:grid-cols-[0.7fr_1.3fr] gap-6 w-full   ",children:[(0,_.jsxs)("div",{className:"md:min-w-[350px] min-w-full",children:[" ",(0,_.jsx)(S.A,{combinedData:ve,currentDate:he,prevMonth:()=>{const e=new Date(he.setMonth(he.getMonth()-1));fe(l=>e);const l=new Date(e.getFullYear(),e.getMonth(),1),t=new Date(e.getFullYear(),e.getMonth()+1,0);je(w()(l)),we(w()(t)),De()},nextMonth:()=>{const e=new Date(he.setMonth(he.getMonth()+1));fe(l=>e);const l=new Date(e.getFullYear(),e.getMonth(),1),t=new Date(e.getFullYear(),e.getMonth()+1,0);je(w()(l)),we(w()(t)),De()},companyDashboardData:ae})]}),(0,_.jsxs)("div",{className:"flex w-full overflow-y-auto  mt-2 bg-white p-2.5 rounded-xl flex-col gap-2",children:[(0,_.jsxs)("div",{className:"flex w-full justify-between",children:[(0,_.jsxs)("span",{className:"text-header font-semibold text-[20px]",children:["Leave Request"," "]}),(0,_.jsx)("div",{onClick:()=>{var e;_e("/admin/leave-request-list/".concat((0,k.w)(null===ne||void 0===ne||null===(e=ne.find(e=>"leave-request-list"==(null===e||void 0===e?void 0:e.slug)))||void 0===e?void 0:e._id)))},className:"h-5 rounded-full bg-[#bed3fe] w-5 flex justify-center items-center",children:(0,_.jsx)(i.TN8,{})})," "]}),(0,_.jsx)("div",{className:"w-full flex flex-col  gap-2   rounded-lg",children:(0,_.jsx)("div",{className:" overflow-x-auto",children:(0,_.jsxs)("table",{className:" w-full   divide-y divide-gray-200",children:[(0,_.jsx)("thead",{className:"bg-gray-50 w-full",children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,_.jsx)("tbody",{className:"bg-white divide-y w-full  divide-gray-200",children:(null===ke||void 0===ke?void 0:ke.length)>0?ke.map(e=>(0,_.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,_.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)("img",{src:e.img?"".concat("https://vigapi.vigorousit.com","/public/").concat(e.img):"/images/images/avatar.jpg",className:"w-8 h-8 rounded-full mr-2 ring-1 ring-amber-300",alt:e.fullName}),(0,_.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.fullName})]})}),(0,_.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,_.jsx)("span",{className:"text-xs ".concat("attendance"===(null===e||void 0===e?void 0:e.formatType)?"bg-blue-100 text-blue-800":"leave"===(null===e||void 0===e?void 0:e.formatType)?"bg-cyan-100 text-blue-800":"cashbook"===(null===e||void 0===e?void 0:e.formatType)?"bg-rose-100 text-blue-800":"bg-gray-100 text-blue-800"," px-2 py-1 rounded shadow-sm shadow-black"),children:e.formatType})}),(0,_.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,_.jsxs)("span",{className:"text-sm text-gray-500",children:["attendance"===e.formatType&&e.shift,"leave"===e.formatType&&"".concat(e.type," (").concat(e.subType,")"),"cashbook"===e.formatType&&"\u20b9 ".concat(e.amount)]})}),(0,_.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,_.jsxs)("div",{className:"flex flex-col",children:[(0,_.jsx)("span",{className:"text-xs ".concat("attendance"===e.formatType?"text-green-600":"text-red-500"),children:e.checkInTime?y()(e.checkInTime).format("YYYY-MM-DD HH:mm"):"-"}),"attendance"===e.formatType&&(0,_.jsx)("span",{className:"text-xs text-red-500",children:e.checkOutTime?y()(e.checkOutTime).format("YYYY-MM-DD HH:mm"):"-"})]})}),(0,_.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,_.jsxs)("div",{className:"flex space-x-2",children:[(0,_.jsx)(o.A,{title:"".concat("attendance"===(null===e||void 0===e?void 0:e.formatType)?"Attendance":"leave"===(null===e||void 0===e?void 0:e.formatType)?"Leave":"cashbook"===(null===e||void 0===e?void 0:e.formatType)?"Cashbook":""),description:"Are you sure to Approve this ".concat("attendance"===(null===e||void 0===e?void 0:e.formatType)?"Attendance":"leave"===(null===e||void 0===e?void 0:e.formatType)?"Leave":"cashbook"===(null===e||void 0===e?void 0:e.formatType)?"Cashbook":""),onConfirm:()=>qe(e),okText:"Yes",cancelText:"No",children:(0,_.jsx)("button",{className:"p-1 rounded-full bg-green-100 text-green-600 hover:bg-green-200",children:(0,_.jsx)(A.KDk,{size:16})})}),(0,_.jsx)(o.A,{title:"".concat("attendance"===(null===e||void 0===e?void 0:e.formatType)?"Attendance":"leave"===(null===e||void 0===e?void 0:e.formatType)?"Leave":"cashbook"===(null===e||void 0===e?void 0:e.formatType)?"Cashbook":""),description:"Are you sure to Delete this ".concat("attendance"===(null===e||void 0===e?void 0:e.formatType)?"Attendance":"leave"===(null===e||void 0===e?void 0:e.formatType)?"Leave":"cashbook"===(null===e||void 0===e?void 0:e.formatType)?"Cashbook":""),onConfirm:()=>Fe(e),okText:"Yes",cancelText:"No",children:(0,_.jsx)("button",{className:"p-1 rounded-full bg-red-100 text-red-600 hover:bg-red-200",children:(0,_.jsx)(T.j55,{size:16})})})]})})]},e._id)):(0,_.jsx)("tr",{children:(0,_.jsx)("td",{colSpan:5,children:(0,_.jsx)("div",{className:"flex  justify-center items-center h-full w-full",children:(0,_.jsx)(d.A,{})})})})})]})})})]})]}),(0,_.jsxs)("div",{className:"w-full xl:space-y-5 space-y-3  md:grid-cols-3 grid grid-cols-1 gap-5",children:[(0,_.jsxs)("div",{className:"flex w-full  h-[218px] mt-4 bg-white p-2.5 rounded-xl flex-col gap-2",children:[(0,_.jsxs)("div",{className:"flex w-full justify-between",children:[(0,_.jsxs)("span",{className:"text-[#F37199] font-semibold text-[20px]",children:["Hiring Application"," "]}),(0,_.jsx)("div",{onClick:()=>{var e;_e("/admin/application/".concat((0,k.w)(null===ne||void 0===ne||null===(e=ne.find(e=>"application"==(null===e||void 0===e?void 0:e.slug)))||void 0===e?void 0:e._id)))},className:"h-5 rounded-full bg-[#bed3fe] w-5 flex justify-center items-center",children:(0,_.jsx)(i.TN8,{})})," "]}),(0,_.jsx)("div",{className:"w-full flex flex-col gap-2 h-[90%] overflow-x-auto  rounded-lg",children:(null===ae||void 0===ae||null===(G=ae.appliedApplication)||void 0===G?void 0:G.length)>0?null===ae||void 0===ae||null===(J=ae.appliedApplication)||void 0===J?void 0:J.map(e=>{var l;return(0,_.jsxs)("div",{className:"grid grid-cols-[0.5fr_1.5fr_1fr] gap-2  justify-between border-b p-2 rounded-xl shadow-sm shadow-black items-center",children:[(0,_.jsx)("div",{className:"flex   justify-start items-center rounded-xl px-2 ",children:e.profileImage?(0,_.jsx)("img",{alt:"",className:"min-w-10 min-h-10  w-10 h-10 rounded-full",src:"".concat("https://vigapi.vigorousit.com","/public/").concat(e.profileImage)}):(0,_.jsx)("div",{className:"min-w-9 min-h-9  w-9 h-9 rounded-full bg-gray-500 flex items-center justify-center",children:(0,_.jsx)(h.x$1,{className:"w-4 h-4 text-white"})})}),(0,_.jsxs)("div",{className:"flex flex-col w-full  justify-start items-center",children:[(0,_.jsx)("span",{className:"truncate text-[12px] text-overflow:ellipsis   text-start w-full",children:null===e||void 0===e?void 0:e.fullName}),(0,_.jsx)("span",{className:"text-[10px] w-full  text-start",children:null===e||void 0===e||null===(l=e.address)||void 0===l?void 0:l.state})]}),(0,_.jsx)("div",{className:"w-full p-1 bg-[#FFF5FD] rounded-lg  text-[13px] text-center truncate text-overflow:ellipsis",children:null===e||void 0===e?void 0:e.designationName})]},null===e||void 0===e?void 0:e._id)}):(0,_.jsx)("div",{className:"flex justify-center items-center h-full w-full",children:(0,_.jsx)(d.A,{})})})]}),(0,_.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,_.jsx)("div",{className:"md:text-[22px] text-[16px]",children:"Hiring Updates"}),(0,_.jsxs)("div",{className:"w-full bg-white rounded-xl flex justify-between p-[15px]",children:[(0,_.jsxs)("span",{className:"text-[13px] font-semibold",children:[" ","Shortlisted Candidates"]}),(0,_.jsx)("div",{className:" flex min-h-6 min-w-6 text-[12px] rounded-full bg-[#d6f379] justify-center items-center",children:(null===ae||void 0===ae||null===(W=ae.applicationData)||void 0===W?void 0:W.shortlistedApplication)||0})]}),(0,_.jsxs)("div",{className:"w-full  bg-white rounded-xl flex justify-between p-[15px]",children:[(0,_.jsxs)("span",{className:"text-[13px] font-semibold",children:[" ","UpComming Interviews"]}),(0,_.jsx)("div",{className:" flex  min-h-6 min-w-6 text-[12px] rounded-full bg-[#edbeae]  justify-center items-center",children:(null===ae||void 0===ae?void 0:ae.upcommingInterview)||0})]}),(0,_.jsxs)("div",{className:"w-full bg-white rounded-xl flex justify-between p-[15px]",children:[(0,_.jsx)("span",{className:"text-[13px] font-semibold",children:"Rejected Applications"}),(0,_.jsx)("div",{className:" flex min-h-6 min-w-6 text-[12px] rounded-full bg-red-300 justify-center items-center",children:(null===ae||void 0===ae||null===($=ae.applicationData)||void 0===$?void 0:$.rejectedApplication)||0})]})]}),(0,_.jsxs)("div",{className:"w-full rounded-xl h-56 flex flex-col p-4 gap-2 bg-white",children:[(0,_.jsx)("div",{className:"text-[18px]",children:"Quick Actions"}),(0,_.jsx)("div",{className:"grid pt-2 overflow-auto 2xl:grid-cols-3 gap-2 grid-cols-2",children:null===Ye||void 0===Ye?void 0:Ye.map((e,l)=>{const t=e.icons;return(0,_.jsxs)("div",{className:"w-full bg-[#f6f4f0] rounded-lg justify-center items-center p-2 flex flex-col",onClick:()=>{_e(null===e||void 0===e?void 0:e.path)},children:[(0,_.jsx)("div",{children:(0,_.jsx)(t,{size:20})}),(0,_.jsx)("span",{className:"text-[11px]",children:null===e||void 0===e?void 0:e.name})]},l)})})]})]}),(0,_.jsxs)("div",{className:"flex w-full  mt-6 bg-white p-2.5 rounded-xl flex-col gap-2",children:[(0,_.jsxs)("div",{className:"flex w-full justify-between",children:[(0,_.jsxs)("span",{className:"text-header font-semibold text-[20px]",children:["Pending Attendance"," "]}),(0,_.jsx)("div",{onClick:()=>{var e;_e("/admin/all-employee-attendance/".concat((0,k.w)(null===ne||void 0===ne||null===(e=ne.find(e=>"all-employee-attendance"==(null===e||void 0===e?void 0:e.slug)))||void 0===e?void 0:e._id)))},className:"h-5 rounded-full bg-[#bed3fe] w-5 flex justify-center items-center",children:(0,_.jsx)(i.TN8,{})})," "]}),(0,_.jsx)("div",{className:"w-full flex flex-col  gap-2   rounded-lg",children:(0,_.jsx)("div",{className:" overflow-x-auto",children:(0,_.jsxs)("table",{className:" w-full   divide-y divide-gray-200",children:[(0,_.jsx)("thead",{className:"bg-gray-50 w-full",children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"check In Time"}),(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"check Out Time"}),(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,_.jsx)("tbody",{className:"bg-white divide-y w-full  divide-gray-200",children:(null===ae||void 0===ae||null===(X=ae.pendingAttendance)||void 0===X?void 0:X.length)>0?null===ae||void 0===ae||null===(ee=ae.pendingAttendance)||void 0===ee?void 0:ee.map(e=>(0,_.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,_.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)("img",{src:e.img?"".concat("https://vigapi.vigorousit.com","/public/").concat(e.employeProfileImage):"/images/images/avatar.jpg",className:"w-8 h-8 rounded-full mr-2 ring-1 ring-amber-300",alt:e.employename}),(0,_.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.employename})]})}),(0,_.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,_.jsx)("div",{className:"flex flex-col",children:(0,_.jsx)("span",{className:"text-xs text-green-500",children:e.checkInTime?y()(e.checkInTime).format("YYYY-MM-DD HH:mm"):"-"})})}),(0,_.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,_.jsx)("div",{className:"flex flex-col",children:(0,_.jsx)("span",{className:"text-xs text-red-500",children:e.checkOutTime?y()(e.checkOutTime).format("YYYY-MM-DD HH:mm"):"-"})})}),(0,_.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,_.jsxs)("div",{className:"flex space-x-2",children:[(0,_.jsx)(o.A,{title:"".concat("attendance"===(null===e||void 0===e?void 0:e.formatType)?"Attendance":"leave"===(null===e||void 0===e?void 0:e.formatType)?"Leave":"cashbook"===(null===e||void 0===e?void 0:e.formatType)?"Cashbook":""),description:"Are you sure to Approve this ".concat("attendance"===(null===e||void 0===e?void 0:e.formatType)?"Attendance":"leave"===(null===e||void 0===e?void 0:e.formatType)?"Leave":"cashbook"===(null===e||void 0===e?void 0:e.formatType)?"Cashbook":""),onConfirm:()=>qe(e),okText:"Yes",cancelText:"No",children:(0,_.jsx)("button",{className:"p-1 rounded-full bg-green-100 text-green-600 hover:bg-green-200",children:(0,_.jsx)(A.KDk,{size:16})})}),(0,_.jsx)(o.A,{title:"".concat("attendance"===(null===e||void 0===e?void 0:e.formatType)?"Attendance":"leave"===(null===e||void 0===e?void 0:e.formatType)?"Leave":"cashbook"===(null===e||void 0===e?void 0:e.formatType)?"Cashbook":""),description:"Are you sure to Delete this ".concat("attendance"===(null===e||void 0===e?void 0:e.formatType)?"Attendance":"leave"===(null===e||void 0===e?void 0:e.formatType)?"Leave":"cashbook"===(null===e||void 0===e?void 0:e.formatType)?"Cashbook":""),onConfirm:()=>Fe(e),okText:"Yes",cancelText:"No",children:(0,_.jsx)("button",{className:"p-1 rounded-full bg-red-100 text-gray-600 hover:bg-red-200",children:(0,_.jsx)(T.j55,{size:16})})}),(0,_.jsx)(o.A,{title:"edit",onConfirm:()=>(e=>{Ce(e),Ee(!0)})(e),okText:"Yes",cancelText:"No",children:(0,_.jsx)("button",{className:"p-1 rounded-full bg-red-100 text-red-600 hover:bg-red-200",children:(0,_.jsx)(p.uO9,{size:16})})})]})})]},e._id)):(0,_.jsx)("tr",{children:(0,_.jsx)("td",{colSpan:5,children:(0,_.jsx)("div",{className:"flex  justify-center items-center h-full w-full",children:(0,_.jsx)(d.A,{})})})})})]})})})]}),(0,_.jsxs)("div",{className:"flex w-full mt-7 overflow-x-auto bg-white p-2.5 rounded-xl flex-col gap-2",children:[(0,_.jsxs)("div",{className:"flex w-full overflow-x-auto justify-between",children:[(0,_.jsxs)("span",{className:"text-header font-semibold text-[20px]",children:["Visitor List"," "]}),(0,_.jsx)("div",{onClick:()=>{var e;_e("/admin/leave-request-list/".concat((0,k.w)(null===ne||void 0===ne||null===(e=ne.find(e=>"leave-request-list"==(null===e||void 0===e?void 0:e.slug)))||void 0===e?void 0:e._id)))},className:"h-5 rounded-full bg-[#bed3fe] w-5 flex justify-center items-center",children:(0,_.jsx)(i.TN8,{})})," "]}),(0,_.jsx)("div",{className:"w-full flex flex-col h-[295px] gap-2 overflow-y-auto  rounded-lg",children:(0,_.jsx)("div",{className:"  overflow-x-auto",children:(0,_.jsxs)("table",{className:" w-full  divide-y divide-gray-200",children:[(0,_.jsx)("thead",{className:"bg-gray-50 w-full",children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check In Time"}),(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check Out Time"}),(0,_.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"})]})}),(0,_.jsx)("tbody",{className:"bg-white divide-y w-full  divide-gray-200",children:(null===ae||void 0===ae||null===(le=ae.visitorlist)||void 0===le?void 0:le.length)>0?null===ae||void 0===ae||null===(te=ae.visitorlist)||void 0===te?void 0:te.map(e=>(0,_.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,_.jsx)("td",{className:"px-4 text-xs py-3 whitespace-nowrap",children:(0,_.jsx)("div",{className:"flex items-center",children:(null===e||void 0===e?void 0:e.name)||"-"})}),(0,_.jsx)("td",{className:"px-4 text-xs py-3 whitespace-nowrap",children:(0,_.jsx)("div",{className:"flex items-center",children:null!==e&&void 0!==e&&e.checkInTime?y()(null===e||void 0===e?void 0:e.checkInTime).format("DD-MM-YYYY hh:mm a"):"-"})}),(0,_.jsx)("td",{className:"px-4 text-xs py-3 whitespace-nowrap",children:(0,_.jsx)("div",{className:"flex items-center",children:null!==e&&void 0!==e&&e.checkOutTime?y()(null===e||void 0===e?void 0:e.checkOutTime).format("DD-MM-YYYY hh:mm a"):"-"})}),(0,_.jsx)("td",{className:"px-4 text-xs py-3 whitespace-nowrap",children:(0,_.jsx)("div",{className:"flex items-center",children:(null===e||void 0===e?void 0:e.reason)||"-"})})]},null===e||void 0===e?void 0:e._id)):(0,_.jsx)("tr",{children:(0,_.jsx)("td",{colSpan:"5",className:"px-4 py-6 text-center text-sm text-gray-500",children:"No Visitors found"})})})]})})})]}),(0,_.jsx)("div",{className:"xl:hidden mt-4 block w-full",children:(0,_.jsx)(s.A,{})})]}),(0,_.jsx)("div",{className:"xl:w-[30%] w-full xl:h-[calc(100vh-100px)] pb-5 hide-scrollbar-y ",children:(0,_.jsxs)("div",{className:"w-full hidden xl:block space-y-3",children:[(0,_.jsx)(a.A,{leaveList:Me,birthdaydata:Le,inActiveUserToday:Pe,inActiveEmployeeToday:ze,todayWfhRequstData:Oe}),(0,_.jsx)("div",{className:"xl:block hidden w-full",children:(0,_.jsx)(s.A,{})})]})}),Se&&(0,_.jsx)(E.A,{isOpen:Se,onClose:()=>Ee(!1),fetchattendanceListData:De,updateId:null===Ie||void 0===Ie?void 0:Ie._id})]})})}},23789:(e,l,t)=>{t.d(l,{A:()=>v});var n=t(65043),s=t(23156),a=t(47196),i=t(45394),d=t(83003),o=t(15187),r=t(74805),c=t(70579);const m=e=>{let{closeNoticeModal:l,isNoticeOpen:t,fetchNoticeboard:s}=e;const[a,m]=(0,n.useState)(""),x=(0,n.useRef)(null),u=(0,d.wA)(),v=JSON.parse(localStorage.getItem("user_info_".concat(o.AU))),p=e=>{x.current&&!x.current.contains(e.target)&&l()};return(0,n.useEffect)(()=>(document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}),[]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"fixed inset-0 z-[999999999999] bg-gray-900 bg-opacity-50 flex items-start top-0 mt-0 justify-center transition-opacity duration-300 ".concat(t?"animate-[smoothSlideDown_0.5s_ease-in-out]":""),children:(0,c.jsxs)("div",{ref:x,className:"animate-slideInFromTop bg-[#F2F2F2] modalShadow rounded-[12px] shadow-lg w-11/12 max-w-md relative top-[100px] transition-transform duration-700 linear",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between border-b py-4 px-6",children:[(0,c.jsx)("div",{className:"text-sm font-normal",children:"Add News"}),(0,c.jsx)("button",{onClick:l,className:"text-gray-400 hover:text-gray-700",children:(0,c.jsx)(i.$8F,{})})]}),(0,c.jsxs)("div",{className:"text-gray-700 p-6",children:[(0,c.jsx)("div",{className:"text-sm text-black",children:"Title"}),(0,c.jsx)("textarea",{className:"border w-full h-[58px] p-2",value:a,onChange:e=>m(e.target.value),placeholder:"Enter notification text"})]}),(0,c.jsxs)("div",{className:"flex justify-end items-center p-6 pt-0",children:[(0,c.jsx)("button",{onClick:()=>{a.trim()&&u((0,r.Du)({companyId:"company"===(null===v||void 0===v?void 0:v.userType)?null===v||void 0===v?void 0:v._id:null===v||void 0===v?void 0:v.companyId,directorId:"",branchId:"companyBranch"===(null===v||void 0===v?void 0:v.userType)?null===v||void 0===v?void 0:v._id:"hr"===(null===v||void 0===v?void 0:v.roleKey)?null===v||void 0===v?void 0:v.branchId:"",message:a})).then(e=>{null!==e&&void 0!==e&&e.error||(s(),l())})},className:"bg-header text-white px-[22px] py-[11px] rounded text-[14px] mr-2",children:"Create"}),(0,c.jsx)("button",{onClick:l,className:"bg-[#d41c1c] text-white px-[22px] py-[11px] rounded text-[14px] mr-2",children:"Close"})]})]})})})};var x=t(509),u=t(99472);const v=()=>{var e,l;const[t,i]=(0,n.useState)(!1),[v,p]=(0,n.useState)(!1),h=(0,d.wA)(),f=JSON.parse(localStorage.getItem("user_info_".concat(o.AU)));(0,n.useEffect)(()=>{g()},[]);const g=()=>{h((0,r.Zj)({companyId:"company"===(null===f||void 0===f?void 0:f.userType)?null===f||void 0===f?void 0:f._id:null===f||void 0===f?void 0:f.companyId,directorId:"",branchId:"company"===(null===f||void 0===f?void 0:f.userType)||"companyDirector"===(null===f||void 0===f?void 0:f.userType)?"":"companyBranch"===(null===f||void 0===f?void 0:f.userType)?null===f||void 0===f?void 0:f._id:null===f||void 0===f?void 0:f.branchId,isPagination:!1}))},{listNoticeBoardData:j}=(0,d.d4)(e=>e.noticeBoard),[y,N]=(0,n.useState)(""),[b,w]=(0,n.useState)(null),A=()=>p(!1);return(0,c.jsxs)(c.Fragment,{children:[t&&(0,c.jsx)(m,{closeNoticeModal:()=>i(!1),isNoticeOpen:t,fetchNoticeboard:g}),v&&(0,c.jsx)(x.default,{content:y,setContent:N,closeEditModal:A,updateNotification:()=>((e,l)=>{var t,n;h((0,r.KI)({_id:null===e||void 0===e?void 0:e._id,companyId:null!==(t=null===e||void 0===e?void 0:e.companyId)&&void 0!==t?t:"",directorId:"",branchId:null!==(n=null===e||void 0===e?void 0:e.branchId)&&void 0!==n?n:"",message:l})).then(e=>{null!==e&&void 0!==e&&e.error||(g(),A())})})(b,y)}),(0,c.jsxs)("div",{className:"w-full  h-auto !xl:h-full bg-[#ffff] overflow-x-hidden overflow-y-auto rounded-md py-[10px] px-3 space-y-3",children:[(0,c.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,c.jsx)("div",{className:"md:text-[18px] text-[16px] font-[500] text-header",children:"Notice Board"}),("employee"!==(null===f||void 0===f?void 0:f.userType)||"hr"==(null===f||void 0===f?void 0:f.roleKey))&&(0,c.jsxs)("div",{onClick:()=>i(!0),className:"bg-header py-1 text-[14px] px-2.5 rounded-md flex justify-between items-center space-x-2 text-white cursor-pointer",children:[(0,c.jsx)(s.OiG,{}),(0,c.jsx)("span",{children:"Add"})]})]}),(0,c.jsx)("div",{className:"group  ",children:(0,c.jsx)("div",{className:"space-y-2 w-full  h-full ",children:(null===j||void 0===j||null===(e=j.docs)||void 0===e?void 0:e.length)>0?null===j||void 0===j||null===(l=j.docs)||void 0===l?void 0:l.map(e=>(0,c.jsxs)("div",{className:"w-full bg-[#D4D4D4]/40 p-2 rounded-md",children:[(0,c.jsx)("span",{className:"3xl:text-xs xl:text-[13px] text-[12px]",children:null===e||void 0===e?void 0:e.message}),(0,c.jsxs)("div",{className:"flex justify-end items-center space-x-1.5",children:[(0,c.jsxs)("div",{className:"3xl:text-xs xl:text-[10px] text-[14px]",children:["created by - ",null===e||void 0===e?void 0:e.createdBy," "]}),("employee"!==(null===f||void 0===f?void 0:f.userType)||"hr"==(null===f||void 0===f?void 0:f.roleKey))&&(0,c.jsx)("button",{className:"p-1.5 text-xs rounded-md bg-white border border-muted",onClick:()=>{return l=e,t=null===e||void 0===e?void 0:e.message,w(l),N(t),void p(!0);var l,t},type:"button",children:(0,c.jsx)(s.Jcp,{size:14,className:"text-header"})}),("employee"!==(null===f||void 0===f?void 0:f.userType)||"hr"==(null===f||void 0===f?void 0:f.roleKey))&&(0,c.jsx)("button",{className:"p-1.5 rounded-md bg-white border  text-red-500 hover:text-red-600 hover:border-red-600",type:"button",children:(0,c.jsx)(a.tqC,{onClick:()=>{return l=null===e||void 0===e?void 0:e._id,void h((0,r.yP)({_id:l})).then(e=>{null!==e&&void 0!==e&&e.error||g()});var l},className:"text-red-500",size:14})})]})]},null===e||void 0===e?void 0:e._id)):(0,c.jsx)("div",{className:"flex justify-center items-center h-full w-full",children:(0,c.jsx)(u.A,{})})})})]})]})}},30565:(e,l,t)=>{t.d(l,{A:()=>w});var n=t(65043),s=t(83003),a=t(23156),i=t(47196),d=t(60184),o=t(30064),r=t.n(o),c=t(24858),m=t(96651),x=t(55971),u=t(37894),v=t(50682),p=t(89379),h=(t(39160),t(15187)),f=t(17995),g=t(53913),j=t(70579);const y=e=>{let{isOpen:l,parentData:t,handleClose:a,fetchList:i}=e;const{loading:d}=(0,s.d4)(e=>e.AssetType),{register:o,handleSubmit:r,control:m,formState:{errors:x},setValue:v,reset:y}=(0,c.mN)(),N=(0,s.wA)();(0,n.useEffect)(()=>{t&&(v("title",null===t||void 0===t?void 0:t.title),v("message",null===t||void 0===t?void 0:t.message))},[t]);return(0,j.jsx)(g.A,{visible:l,onCancel:()=>{a(),y()},footer:null,title:"Create To Do",width:600,height:400,className:"antmodalclassName",children:(0,j.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:r(e=>{const l={_id:null===t||void 0===t?void 0:t._id,title:null===e||void 0===e?void 0:e.title,message:null===e||void 0===e?void 0:e.message};N((0,u.Ku)(l)).then(e=>{e.error||(i(),y(),a())})}),children:[(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(h.Q0),children:["Title ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)("input",(0,p.A)((0,p.A)({type:"text"},o("title",{required:"Title  is required"})),{},{className:"".concat(h.Ol," ").concat(x.title?"border-[1px] ":"border-gray-300"),placeholder:"Enter Title "})),x.title&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:x.title.message})]}),(0,j.jsxs)("div",{className:"",children:[(0,j.jsxs)("label",{className:"".concat(h.Q0),children:["Message ",(0,j.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,j.jsx)("input",(0,p.A)((0,p.A)({type:"text"},o("message",{required:"Message is required"})),{},{className:"".concat(h.Ol," ").concat(x.message?"border-[1px] ":"border-gray-300"),placeholder:"Enter Message"})),x.message&&(0,j.jsx)("p",{className:"text-red-500 text-sm",children:x.message.message})]})]}),(0,j.jsx)("div",{className:"flex justify-end",children:(0,j.jsx)("button",{type:"submit",disabled:d,className:"".concat(d?"bg-gray-400":"bg-header"," text-white p-2 px-4 mt-3 rounded"),children:d?(0,j.jsx)(f.A,{}):"Submit"})})]})})},N=e=>{let{todo:l,onEdit:t,onDelete:n,onToggleComplete:s}=e;return(0,j.jsxs)("div",{className:"group rounded-xl p-1 mb-1 bg-white border transition-all duration-300 hover:shadow-lg ".concat("completed"===l.status?"border-green-100 bg-green-50/30":"border-gray-100 hover:border-blue-100"),children:[(0,j.jsxs)("div",{className:"flex relative items-start gap-3",children:[(0,j.jsx)("button",{onClick:()=>{const e="completed"===l.status?"pending":"completed";s(l._id,e)},className:"mt-0.5 flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-200 ".concat("completed"===l.status?"bg-green-500 border-green-500 text-white shadow-sm":"border-gray-300 hover:border-green-400 hover:bg-green-50 group-hover:border-green-400"),children:"completed"===l.status&&(0,j.jsx)(d.CMH,{size:10})}),(0,j.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,j.jsx)("h4",{className:"font-semibold text-gray-900 text-sm leading-tight ".concat("completed"===l.status?"line-through text-gray-500":""),children:l.title}),l.message&&(0,j.jsx)("p",{className:"text-gray-600 text-xs mt-2 leading-relaxed ".concat("completed"===l.status?"line-through text-gray-400":""),children:l.message})]}),(0,j.jsxs)("div",{className:"flex absolute top-2 right-2 items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[(0,j.jsx)(m.A,{title:"Edit",children:(0,j.jsx)("button",{onClick:()=>t(l),className:"text-gray-400 hover:text-blue-600 p-2 rounded-lg transition-all duration-200 hover:bg-blue-50",children:(0,j.jsx)(a.Jcp,{size:14})})}),(0,j.jsx)(m.A,{title:"Delete",children:(0,j.jsx)("button",{onClick:()=>n(null===l||void 0===l?void 0:l._id),className:"text-gray-400 hover:text-red-500 p-2 rounded-lg transition-all duration-200 hover:bg-red-50",children:(0,j.jsx)(i.tqC,{size:14})})})]})]}),(0,j.jsx)("div",{className:"flex justify-between items-center mt-3",children:(0,j.jsxs)("div",{className:"flex md:hidden items-center gap-1",children:[(0,j.jsx)("button",{onClick:()=>t(l),className:"text-gray-400 hover:text-blue-600 p-1 rounded transition",children:(0,j.jsx)(a.Jcp,{size:14})}),(0,j.jsx)("button",{onClick:()=>n(null===l||void 0===l?void 0:l._id),className:"text-gray-400 hover:text-red-500 p-1 rounded transition",children:(0,j.jsx)(i.tqC,{size:14})})]})})]})},b=e=>{let{title:l,status:t,todos:n,onEdit:s,onDelete:a,onToggleComplete:i}=e;const d=n.filter(e=>e.status===t);return(0,j.jsxs)("div",{className:"flex-1 min-w-[320px] bg-gray-50/50 rounded-xl border border-gray-100 p-2",children:[(0,j.jsx)("div",{className:"flex items-center justify-between mb-2 pb-1.5 border-b border-gray-200",children:(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("h3",{className:"font-semibold text-gray-800 text-sm",children:l}),(0,j.jsx)("span",{className:"bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium min-w-[20px] text-center",children:d.length})]})}),(0,j.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:d.length>0?d.map(e=>(0,j.jsx)(N,{todo:e,onEdit:s,onDelete:a,onToggleComplete:i},e._id)):(0,j.jsxs)("div",{className:"text-center text-gray-400 py-8 text-sm",children:[(0,j.jsx)("div",{className:"text-gray-300 mb-2",children:"\ud83d\udcdd"}),"No tasks found"]})})]})};const w=function(){const{register:e,control:l,formState:{errors:t},setValue:i}=(0,c.mN)(),d=(0,s.wA)(),{TodoListData:o,loading:m}=(0,s.d4)(e=>e.todoList),[p,h]=(0,n.useState)({data:null,isOpen:!1}),[f,g]=(0,n.useState)({data:null,isOpen:!1});(0,n.useEffect)(()=>{N()},[]);const N=()=>{d((0,u.rk)({currentPage:null,pageSize:null,reqData:{text:"",status:"",sort:!0,isPagination:!1}}))},w=e=>{let l={_id:e};r().fire({title:"Warning",text:"Are you sure you want to delete?",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&d((0,u.WT)(l)).then(e=>{null!==e&&void 0!==e&&e.error||N()})})},A=(e,l)=>{d((0,u.Bh)({_id:e,status:l})).then(()=>{N()})};return(0,j.jsxs)("div",{className:"p-2 bg-white rounded-xl",children:[(0,j.jsxs)("div",{className:"flex justify-between items-center mb-1.5 pb-1.5 border-b border-gray-200",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h2",{className:"text-sm font-bold text-gray-900",children:"Todo List"}),(0,j.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your tasks efficiently"})]}),(0,j.jsxs)("button",{onClick:()=>h({data:null,isOpen:!0}),className:"bg-blue-600 px-4 py-1.5 rounded-full flex items-center gap-2 text-white hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow-md text-sm font-medium",children:[(0,j.jsx)(a.OiG,{size:14}),(0,j.jsx)("span",{children:"Add Todo"})]})]}),m?(0,j.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,j.jsx)(x.A,{})}):(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2  gap-3",children:[(0,j.jsx)(b,{title:"Pending Tasks",status:"pending",todos:o||[],onEdit:e=>g({data:e,isOpen:!0}),onDelete:w,onToggleComplete:A}),(0,j.jsx)(b,{title:"Completed",status:"completed",todos:o||[],onEdit:e=>g({data:e,isOpen:!0}),onDelete:w,onToggleComplete:A})]}),(0,j.jsx)(v.default,{isOpen:null===p||void 0===p?void 0:p.isOpen,handleClose:()=>h({data:null,isOpen:!1}),fetchList:N}),(0,j.jsx)(y,{isOpen:null===f||void 0===f?void 0:f.isOpen,parentData:null===f||void 0===f?void 0:f.data,handleClose:()=>g({data:null,isOpen:!1}),fetchList:N})]})}},30636:(e,l,t)=>{t.d(l,{A:()=>k});var n=t(65043),s=t(23156),a=t(60446),i=t.n(a),d=t(45964),o=t(37490),r=t(13382),c=t(89073),m=t(8354),x=t(99472),u=t(53913),v=t(10898),p=t(76399),h=t(96651),f=t(29813),g=t(81210),j=t(53727),y=t(42156),N=t(38818),b=t(6426),w=t(53722),A=t(70579);const{Text:T,Title:D}=f.A,k=e=>{var l,t,a,f,k,I,C,S;let{combinedData:E,currentDate:Y,prevMonth:_,nextMonth:M,companyDashboardData:O,onAddEvent:L}=e;const[P,z]=(0,n.useState)(""),[q,F]=(0,n.useState)(null),[H,B]=(0,n.useState)(!1),R=(0,n.useRef)(null),U=(0,n.useRef)(null),Q=null===Y||void 0===Y?void 0:Y.getFullYear(),V=null===Y||void 0===Y?void 0:Y.getMonth(),Z=new Date(Q,V+1,0).getDate(),K=new Date(Q,V,1).getDay(),G=new Date(Q,V,0).getDate(),J=Array.from({length:K},(e,l)=>G-K+l+1),W=Array.from({length:Z},(e,l)=>l+1),$=Array.from({length:42-(J.length+W.length)},(e,l)=>l+1);(0,n.useEffect)(()=>{const e=e=>{R.current&&!R.current.contains(e.target)&&z("")};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,n.useEffect)(()=>(document.body.style.overflow=P?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[P]);const X=String(V+1).padStart(2,"0"),ee=String(Q),le=((null===O||void 0===O?void 0:O.eventData)||[]).filter(e=>{const l=i()(e.startDate);return l.format("YYYY")===ee&&l.format("MM")===X}).length,te=((null===O||void 0===O?void 0:O.holidayData)||[]).filter(e=>{const l=i()(e.date);return l.format("YYYY")===ee&&l.format("MM")===X}).length;return(0,A.jsxs)("div",{className:"w-full h-full relative bg-white rounded-xl p-4 shadow-sm",ref:U,children:[(0,A.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,A.jsx)(D,{level:4,className:"!text-header !mb-0",children:"Calendar"}),(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsxs)(T,{className:"text-base font-medium text-gray-800",children:[null===Y||void 0===Y?void 0:Y.toLocaleString("default",{month:"long"})," ",Q]}),(0,A.jsxs)("div",{className:"flex gap-1",children:[(0,A.jsx)(h.A,{placement:"topLeft",title:"Previous month",children:(0,A.jsx)(r.Ay,{shape:"circle",icon:(0,A.jsx)(s.ed2,{size:14}),onClick:_,size:"small",className:"flex items-center justify-center"})}),(0,A.jsx)(h.A,{placement:"topLeft",title:"Next month",children:(0,A.jsx)(r.Ay,{shape:"circle",icon:(0,A.jsx)(s.FDZ,{size:14}),onClick:M,size:"small",className:"flex items-center justify-center"})})]})]})]}),(0,A.jsxs)("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["S","M","T","W","T","F","S"].map(e=>(0,A.jsx)("div",{className:"text-center font-medium text-sm text-gray-500 py-1",children:e},e)),J.map(e=>(0,A.jsx)("div",{className:"h-10 w-10 flex items-center justify-center text-sm text-gray-300 cursor-default",children:e},"prev-".concat(e))),W.map(e=>{var l,t,n,s;const a=i()("".concat(Q,"-").concat(String(V+1).padStart(2,"0"),"-").concat(String(e).padStart(2,"0"))).format("YYYY-MM-DD"),d=a===i()().format("YYYY-MM-DD"),o=E.some(e=>e.date===a),r=(e=>0===new Date(Q,V,e).getDay())(e),c=(e=>(new Date(Q,V,e),!1))(e);return(0,A.jsx)(h.A,{placement:"topLeft",title:r?"Sunday":c?"Off Saturday":o?"".concat((null===(l=E.find(e=>e.date===a))||void 0===l||null===(t=l.events)||void 0===t?void 0:t.length)||0," events, ").concat((null===(n=E.find(e=>e.date===a))||void 0===n||null===(s=n.holidays)||void 0===s?void 0:s.length)||0," holidays"):null,children:(0,A.jsx)("div",{className:"relative h-8 w-8 mx-auto flex items-center justify-center text-sm rounded-full transition-all duration-200\n                  ".concat(d?"border-2 border-blue-500":"","\n                  ").concat(o?"bg-blue-50 text-blue-600 font-medium":"","\n                  ").concat(r?"bg-red-50 text-red-500":"","\n                  ").concat(c?"bg-orange-50 text-orange-500":"","\n                  ").concat(o||r||c?"":"text-gray-700","\n                  ").concat(q===a?"scale-110 shadow-md":"hover:bg-gray-100 cursor-pointer","\n                "),onClick:()=>function(e){if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1])return;const l=i()("".concat(Q,"-").concat(String(V+1).padStart(2,"0"),"-").concat(String(e).padStart(2,"0"))).format("YYYY-MM-DD");z(l)}(e),onMouseEnter:()=>F(a),onMouseLeave:()=>F(null),children:e})},e)}),$.map(e=>(0,A.jsx)("div",{className:"h-10 w-10 flex items-center justify-center text-sm text-gray-300 cursor-default",children:e},"next-".concat(e)))]}),(0,A.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[(0,A.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 flex items-center justify-between",children:[(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,A.jsx)(T,{className:"text-sm",children:"Events"})]}),(0,A.jsx)(T,{strong:!0,className:"text-sm",children:le})]}),(0,A.jsxs)("div",{className:"bg-yellow-50 rounded-sm p-3 flex items-center justify-between",children:[(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,A.jsx)(T,{className:"text-sm",children:"Holidays"})]}),(0,A.jsx)(T,{strong:!0,className:"text-sm",children:te})]})]}),(0,A.jsx)(u.A,{title:null,open:!!P,onCancel:()=>z(""),footer:null,width:800,closeIcon:(0,A.jsx)(j.A,{className:"text-gray-500"}),className:"calendar-modal",bodyStyle:{padding:0},children:(0,A.jsxs)("div",{ref:R,className:"p-6",children:[(0,A.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,A.jsx)(D,{level:4,className:"!mb-0",children:i()(P).format("MMMM D, YYYY")})}),null!==E&&void 0!==E&&E.find(e=>(null===e||void 0===e?void 0:e.date)===P)?(0,A.jsxs)("div",{className:"space-y-6",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)(m.A,{orientation:"left",className:"!text-base !font-medium !mb-4",children:(0,A.jsxs)(v.A,{children:[(0,A.jsx)(g.A,{style:{color:"#1890ff"}}),(0,A.jsx)(T,{children:"Events"}),(0,A.jsx)(o.A,{count:(null===(l=E.find(e=>e.date===P))||void 0===l||null===(t=l.events)||void 0===t?void 0:t.length)||0,color:"#1890ff",className:"ml-2"})]})}),(null===(a=E.find(e=>e.date===P))||void 0===a||null===(f=a.events)||void 0===f?void 0:f.length)>0?(0,A.jsx)("div",{className:"grid grid-cols-1 gap-3",children:E.find(e=>e.date===P).events.map(e=>{var l;return(0,A.jsx)(c.A,{className:"hover:shadow-md transition-shadow",size:"small",children:(0,A.jsxs)("div",{className:"space-y-2",children:[(0,A.jsxs)("div",{className:"flex justify-between items-start",children:[(0,A.jsx)(T,{strong:!0,className:"text-base",children:e.title}),e.time&&(0,A.jsx)(p.A,{color:"blue",children:e.time})]}),e.description&&(0,A.jsx)(T,{type:"secondary",className:"block",children:e.description}),e.location&&(0,A.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,A.jsx)(y.A,{className:"mr-1"}),(0,A.jsx)(T,{children:e.location})]}),(null===(l=e.attendees)||void 0===l?void 0:l.length)>0&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(m.A,{dashed:!0,className:"!my-2"}),(0,A.jsxs)("div",{className:"space-y-2",children:[(0,A.jsxs)(T,{type:"secondary",className:"flex items-center text-sm",children:[(0,A.jsx)(N.A,{className:"mr-1"}),"Attendees (",e.attendees.length,")"]}),(0,A.jsx)("div",{className:"flex flex-wrap gap-2",children:e.attendees.map(e=>(0,A.jsx)(h.A,{placement:"topLeft",title:"".concat(e.name," (").concat(e.status,")"),children:(0,A.jsx)(o.A,{dot:!0,color:"confirmed"===e.status?"green":"orange",offset:[-5,5],children:(0,A.jsx)(d.A,{size:"small",src:e.avatar,icon:(0,A.jsx)(w.A,{}),className:"cursor-pointer"})})},e.email))})]})]})]})},e.id)})}):(0,A.jsx)(x.A,{image:x.A.PRESENTED_IMAGE_SIMPLE,description:"No events scheduled",className:"py-8"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(m.A,{orientation:"left",className:"!text-base !font-medium !mb-4",children:(0,A.jsxs)(v.A,{children:[(0,A.jsx)(b.A,{style:{color:"#faad14"}}),(0,A.jsx)(T,{children:"Holidays"}),(0,A.jsx)(o.A,{count:(null===(k=E.find(e=>e.date===P))||void 0===k||null===(I=k.holidays)||void 0===I?void 0:I.length)||0,color:"#faad14",className:"ml-2"})]})}),(null===(C=E.find(e=>e.date===P))||void 0===C||null===(S=C.holidays)||void 0===S?void 0:S.length)>0?(0,A.jsx)("div",{className:"grid grid-cols-1 gap-3",children:E.find(e=>e.date===P).holidays.map(e=>(0,A.jsx)(c.A,{className:"border-l-4 border-yellow-400 hover:shadow-md transition-shadow",size:"small",children:(0,A.jsxs)("div",{className:"flex items-start gap-3",children:[(0,A.jsx)(d.A,{icon:(0,A.jsx)(b.A,{}),style:{backgroundColor:"#faad14"},className:"mt-1"}),(0,A.jsxs)("div",{children:[(0,A.jsx)(T,{strong:!0,className:"block",children:e.name}),e.description&&(0,A.jsx)(T,{type:"secondary",className:"text-sm",children:e.description})]})]})},e.id))}):(0,A.jsx)(x.A,{image:x.A.PRESENTED_IMAGE_SIMPLE,description:"No holidays",className:"py-8"})]})]}):(0,A.jsx)(x.A,{description:(0,A.jsx)("div",{className:"space-y-4 py-8",children:(0,A.jsx)(T,{className:"block",children:"No events or holidays on this day"})})})]})}),(0,A.jsx)("style",{jsx:!0,global:!0,children:"\n        .calendar-modal .ant-modal-content {\n          border-radius: 12px;\n          overflow: hidden;\n        }\n        \n        .calendar-modal .ant-modal-header {\n          border-bottom: none;\n          padding-bottom: 0;\n        }\n        \n        .calendar-modal .ant-modal-body {\n          padding: 0;\n        }\n        \n        .calendar-modal .ant-card {\n          border-radius: 8px;\n        }\n        \n        .calendar-modal .ant-card-small > .ant-card-body {\n          padding: 12px 16px;\n        }\n        \n        @media (max-width: 768px) {\n          .calendar-modal {\n            width: 95% !important;\n            max-width: 100%;\n          }\n        }\n      "})]})}},50682:(e,l,t)=>{t.r(l),t.d(l,{default:()=>x});var n=t(89379),s=t(24858),a=(t(39160),t(83003)),i=t(73216),d=t(15187),o=t(17995),r=t(37894),c=t(53913),m=t(70579);const x=e=>{let{isOpen:l,handleClose:t,fetchList:x}=e;const{loading:u}=(0,a.d4)(e=>e.AssetType),{register:v,handleSubmit:p,control:h,formState:{errors:f},setValue:g,reset:j}=(0,s.mN)(),y=(0,a.wA)();(0,i.Zp)();return(0,m.jsx)(c.A,{visible:l,onCancel:()=>{t(),j()},footer:null,title:"Create To Do",width:600,height:400,className:"antmodalclassName",children:(0,m.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:p(e=>{const l={title:null===e||void 0===e?void 0:e.title,message:null===e||void 0===e?void 0:e.message};y((0,r.$U)(l)).then(e=>{e.error||(x(),j(),t())})}),children:[(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,m.jsxs)("div",{className:"",children:[(0,m.jsxs)("label",{className:"".concat(d.Q0),children:["Title ",(0,m.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,m.jsx)("input",(0,n.A)((0,n.A)({type:"text"},v("title",{required:"Title  is required"})),{},{className:"".concat(d.Ol," ").concat(f.title?"border-[1px] ":"border-gray-300"),placeholder:"Enter Title "})),f.title&&(0,m.jsx)("p",{className:"text-red-500 text-sm",children:f.title.message})]}),(0,m.jsxs)("div",{className:"",children:[(0,m.jsxs)("label",{className:"".concat(d.Q0),children:["Message ",(0,m.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,m.jsx)("input",(0,n.A)((0,n.A)({type:"text"},v("message",{required:"Message is required"})),{},{className:"".concat(d.Ol," ").concat(f.message?"border-[1px] ":"border-gray-300"),placeholder:"Enter Message"})),f.message&&(0,m.jsx)("p",{className:"text-red-500 text-sm",children:f.message.message})]})]}),(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsx)("button",{type:"submit",disabled:u,className:"".concat(u?"bg-gray-400":"bg-header"," text-white p-2 px-4 mt-3 rounded"),children:u?(0,m.jsx)(o.A,{}):"Submit"})})]})})}},79001:(e,l,t)=>{t.d(l,{A:()=>m});var n=t(89379),s=t(24858),a=t(15187),i=t(83003),d=(t(36105),t(65043)),o=t(70337),r=t(56659),c=t(70579);const m=function(e){let{clientData:l,fetchData:t}=e;const{register:m,handleSubmit:x,setValue:u,control:v,formState:{errors:p}}=(0,s.mN)(),{countryListData:h}=(0,i.d4)(e=>e.country),f=(0,i.wA)();return(0,d.useEffect)(()=>{var e,t,n,s,a,i,d,o,r,c,m,x,v,p,h,f,g,j,y;null!==l&&void 0!==l&&null!==(e=l.data)&&void 0!==e&&null!==(t=e.clientProfile)&&void 0!==t&&t.contactInfo&&(u("name",null===l||void 0===l||null===(n=l.data)||void 0===n||null===(s=n.clientProfile)||void 0===s||null===(a=s.contactInfo)||void 0===a?void 0:a.name),u("email",null===l||void 0===l||null===(i=l.data)||void 0===i||null===(d=i.clientProfile)||void 0===d||null===(o=d.contactInfo)||void 0===o?void 0:o.email),u("code",null===l||void 0===l||null===(r=l.data)||void 0===r||null===(c=r.clientProfile)||void 0===c||null===(m=c.contactInfo)||void 0===m||null===(x=m.mobile)||void 0===x?void 0:x.code),u("number",null===l||void 0===l||null===(v=l.data)||void 0===v||null===(p=v.clientProfile)||void 0===p||null===(h=p.contactInfo)||void 0===h||null===(f=h.mobile)||void 0===f?void 0:f.number),u("designation",null===l||void 0===l||null===(g=l.data)||void 0===g||null===(j=g.clientProfile)||void 0===j||null===(y=j.contactInfo)||void 0===y?void 0:y.designation))},[l]),(0,c.jsxs)("form",{autoComplete:"off",className:"",onSubmit:x(e=>{var s;const a=(0,n.A)((0,n.A)({},null===l||void 0===l?void 0:l.data),{},{clientProfile:(0,n.A)((0,n.A)({},null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.clientProfile),{},{contactInfo:{name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,mobile:{code:null===e||void 0===e?void 0:e.code,number:null===e||void 0===e?void 0:e.number},designation:null===e||void 0===e?void 0:e.designation}})});f((0,o.Pl)(a)).then(e=>{null!==e&&void 0!==e&&e.error||t()})}),children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2",children:[(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("label",{className:"".concat(a.Q0),children:["Name ",(0,c.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,c.jsx)("input",(0,n.A)((0,n.A)({type:"text"},m("name",{required:"Name is required"})),{},{className:"placeholder: ".concat(a.Ol," ").concat(p.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Name"})),p.name&&(0,c.jsx)("p",{className:"text-red-500 text-sm",children:p.name.message})]}),(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("label",{className:"".concat(a.Q0),children:["Email ",(0,c.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,c.jsx)("input",(0,n.A)((0,n.A)({type:"text"},m("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(a.Ol," ").concat(p.email?"border-[1px] ":"border-gray-300"),placeholder:"Enter Email"})),p.email&&(0,c.jsx)("p",{className:"text-red-500 text-sm",children:p.email.message})]}),(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("label",{className:"".concat(a.Q0),children:["designation ",(0,c.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,c.jsx)("input",(0,n.A)((0,n.A)({type:"designation"},m("designation",{required:"designation is required"})),{},{className:" ".concat(a.Ol," ").concat(p.designation?"border-[1px] ":"border-gray-300"),placeholder:"Enter designation"})),p.designation&&(0,c.jsx)("p",{className:"text-red-500 text-sm",children:p.designation.message})]}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsxs)("div",{className:"w-[150px]",children:[(0,c.jsxs)("label",{className:"".concat(a.Q0),children:["code",(0,c.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,c.jsx)(s.xI,{control:v,name:"code",rules:{required:"code is required"},render:e=>{let{field:l}=e;return(0,c.jsx)(r.A,{field:l,errors:p})}}),p.code&&(0,c.jsx)("p",{className:"text-red-500 text-sm",children:p.code.message})]}),(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsxs)("label",{className:"".concat(a.Q0),children:["Mobile No",(0,c.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,c.jsx)("input",(0,n.A)((0,n.A)({type:"number"},m("number",{required:"Mobile No is required",minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(a.Ol," ").concat(p.number?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),p.number&&(0,c.jsx)("p",{className:"text-red-500 text-sm",children:p.number.message})]})]})]}),(0,c.jsx)("div",{className:"flex justify-end ",children:(0,c.jsx)("button",{type:"submit",className:"bg-header text-white p-2 px-4 rounded mt-4",children:"Submit"})})]})}},91601:(e,l,t)=>{t.d(l,{A:()=>k});var n=t(89379),s=t(65043),a=t(24858),i=t(86178),d=t.n(i),o=t(42837),r=t(83003),c=t(15187),m=t(78729),x=t(33007),u=t(31744),v=t(32256),p=t(73216),h=t(66015),f=t(30064),g=t.n(f),j=t(94084),y=t(60446),N=t.n(y),b=t(53913),w=t(65512),A=t(17995),T=t(89427),D=t(70579);const k=e=>{let{isOpen:l,onClose:t,fetchattendanceListData:i,updateId:f}=e;const{register:y,handleSubmit:k,watch:I,control:C,setValue:S,formState:{errors:E}}=(0,a.mN)({defaultValues:{employeeName:"",date:"",checkInTime:"",checkOutTime:null,reason:"",errors:{}}}),{loading:Y}=(0,r.d4)(e=>e.attendance),_=((0,p.Zp)(),(0,a.FH)({control:C,name:"PDBranchId",defaultValue:""})),M=(0,a.FH)({control:C,name:"PDCompanyId",defaultValue:""}),O=(0,a.FH)({control:C,name:"PDDepartmentId",defaultValue:""}),L=(0,a.FH)({control:C,name:"PDDesignationId",defaultValue:""}),P=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),z=(0,r.wA)(),{branchList:q,branchListLoading:F}=(0,r.d4)(e=>e.branch),{companyList:H,companyListLoading:B}=(0,r.d4)(e=>e.company),{employeList:R}=(0,r.d4)(e=>e.employe),{attendancegDetailsData:U}=(0,r.d4)(e=>e.attendance);(0,s.useEffect)(()=>{if(U){S("companyId",null===U||void 0===U?void 0:U.companyId),S("PDBranchId",null===U||void 0===U?void 0:U.branchId),S("directorId",null===U||void 0===U?void 0:U.directorId),S("date",N()(null===U||void 0===U?void 0:U.attendanceDate)),S("checkInTime",null!==U&&void 0!==U&&U.checkInTime?N()(null===U||void 0===U?void 0:U.checkInTime):null),S("checkOutTime",null!==U&&void 0!==U&&U.checkOutTime?N()(null===U||void 0===U?void 0:U.checkOutTime):null);const e=null===R||void 0===R?void 0:R.find(e=>e._id===(null===U||void 0===U?void 0:U.employeId));e&&S("employee",{value:e._id,label:e.fullName})}},[U]);(0,s.useEffect)(()=>{"admin"===(null===P||void 0===P?void 0:P.userType)&&z((0,m.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,s.useEffect)(()=>{("admin"!==(null===P||void 0===P?void 0:P.userType)||M)&&(S("PDDepartmentId",""),S("PDDesignationId",""),S("PDBranchId",""),z((0,x.UU)({companyId:"admin"===(null===P||void 0===P?void 0:P.userType)?M:"company"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.companyId,text:"",sort:!0,status:!0,isPagination:!1})),z((0,u.d0)({companyId:"admin"===(null===P||void 0===P?void 0:P.userType)?M:"company"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.companyId,text:"",sort:!0,status:!0,isPagination:!1})))},[M]),(0,s.useEffect)(()=>{!M&&"admin"===(null===P||void 0===P?void 0:P.userType)||!_&&"companBranch"===(null===P||void 0===P?void 0:P.userType)&&"employee"!==(null===P||void 0===P?void 0:P.userType)||Q()},[M,_,O,L]);const Q=()=>{const e={text:"",status:!0,sort:!0,isTL:"",isHR:"",isPagination:!1,departmentId:"",designationId:"",companyId:"admin"===(null===P||void 0===P?void 0:P.userType)?M:"company"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.companyId,branchId:"company"===(null===P||void 0===P?void 0:P.userType)||"admin"===(null===P||void 0===P?void 0:P.userType)||"companyDirector"===(null===P||void 0===P?void 0:P.userType)?_:"companyBranch"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.branchId};z((0,o.qV)(e)).then(e=>{!e.error&&z((0,v.xy)({_id:f}))})};return l?(0,D.jsx)(b.A,{visible:l,onCancel:()=>{t()},footer:null,className:"antmodalclassName",title:"Manual Attendence",width:600,height:400,children:(0,D.jsx)("div",{children:(0,D.jsxs)("form",{autoComplete:"off",onSubmit:k(e=>{const l={_id:f,employeId:null===U||void 0===U?void 0:U.employeId,companyId:null===U||void 0===U?void 0:U.companyId,branchId:null===U||void 0===U?void 0:U.branchId,directorId:null===U||void 0===U?void 0:U.directorId,attendanceDate:N()(e.checkInTime).format("YYYY-MM-DD"),checkInTime:null!==e&&void 0!==e&&e.checkInTime?null===e||void 0===e?void 0:e.checkInTime:null,checkOutTime:e.checkOutTime?null===e||void 0===e?void 0:e.checkOutTime:null,method:"hr_portal",reason:null===e||void 0===e?void 0:e.reason,employeeName:null===e||void 0===e?void 0:e.employeeName};z((0,v.Ab)(l)).then(e=>{e.error||(g().fire({icon:"success",title:"Success!",text:"Attendance record has been created successfully.",confirmButtonText:"OK",customClass:{confirmButton:"bg-header text-white hover:bg-[#063156]"}}),i(),t())})}),className:"",children:[(0,D.jsxs)("div",{className:"grid grid-col-1 md:grid-cols-2 gap-4",children:["admin"===(null===P||void 0===P?void 0:P.userType)&&(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(c.Q0),children:["Company ",(0,D.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,D.jsx)(a.xI,{name:"PDCompanyId",control:C,rules:{required:"Company is required"},render:e=>{let{field:l}=e;return(0,D.jsxs)(w.A,(0,n.A)((0,n.A)({},l),{},{className:" ".concat(c.Hy," ").concat(E.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Company",showSearch:!0,children:[(0,D.jsx)(w.A.Option,{value:"",children:"Select Company"}),B?(0,D.jsx)(w.A.Option,{disabled:!0,children:(0,D.jsx)(T.A,{})}):null===H||void 0===H?void 0:H.map(e=>(0,D.jsxs)(w.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),E.PDCompanyId&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:E.PDCompanyId.message})]}),("admin"===(null===P||void 0===P?void 0:P.userType)||"company"===(null===P||void 0===P?void 0:P.userType)||"companyDirector"===(null===P||void 0===P?void 0:P.userType))&&(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(c.Q0),children:["Branch ",(0,D.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,D.jsx)(a.xI,{name:"PDBranchId",control:C,rules:{required:"Branch is required"},render:e=>{let{field:l}=e;return(0,D.jsxs)(w.A,(0,n.A)((0,n.A)({},l),{},{className:" ".concat(c.Hy," ").concat(E.PDPlan?"border-[1px] ":"border-gray-300"," z-[99999]"),placeholder:"Select Branch",showSearch:!0,getPopupContainer:e=>e.parentNode,children:[(0,D.jsx)(w.A.Option,{value:"",children:"Select Branch"}),F?(0,D.jsx)(w.A.Option,{disabled:!0,children:(0,D.jsx)(T.A,{})}):null===q||void 0===q?void 0:q.map(e=>(0,D.jsxs)(w.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),E.PDBranchId&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:E.PDBranchId.message})]}),(0,D.jsxs)("div",{className:"w-full",children:[(0,D.jsxs)("label",{className:"".concat(c.Q0),children:["Employee ",(0,D.jsx)("span",{className:"text-red-600",children:"* "})]}),(0,D.jsx)(a.xI,{name:"employee",control:C,rules:{required:"Employee is required"},render:e=>{let{field:l}=e;return(0,D.jsx)(h.Ay,(0,n.A)((0,n.A)({},l),{},{options:null===R||void 0===R?void 0:R.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.fullName})),isDisabled:!0,classNamePrefix:"react-select",className:"".concat(c.Ph," ").concat(E.employee?"border-[1px] ":"border-gray-300"),placeholder:"Select Employee"}))}}),E.employee&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:E.employee.message})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(c.Q0),children:["Check-in Time ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(a.xI,{name:"checkInTime",control:C,rules:{required:!0},render:e=>{let{field:l}=e;return(0,D.jsx)(j.A,{field:l,showTime:!0,format:"DD/MM/YYYY HH:mm",errors:E,disabledDate:e=>{const l=d()(),t=l.date()<=3,n=l.clone().subtract(1,"month").startOf("month"),s=(l.clone().subtract(1,"month").endOf("month"),e.isSame(n,"month")),a=e.isSame(l,"month"),i=e.isAfter(l,"day");return t?i||!s&&!a:i||!a}})}}),E.checkInTime&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:"Check-in time is required"})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(c.Q0),children:["Check-out Time ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(a.xI,{name:"checkOutTime",control:C,rules:{required:!0},render:e=>{let{field:l}=e;return(0,D.jsx)(j.A,{field:l,showTime:!0,format:"DD/MM/YYYY HH:mm",errors:E,disabledDate:e=>{const l=I("checkInTime");if(!l)return!0;const t=N()(l).startOf("day"),n=t.add(1,"day");return!e.isSame(t,"day")&&!e.isSame(n,"day")}})}}),E.checkOutTime&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:"Check-out time is required"})]})]}),(0,D.jsx)("div",{className:"flex justify-end space-x-2 mt-4",children:(0,D.jsx)("button",{type:"submit",disabled:Y,className:"px-4 py-2 text-sm font-medium text-white ".concat(Y?"bg-gray-400":"bg-header hover:bg-[#063156]"," rounded-md "),children:Y?(0,D.jsx)(A.A,{}):"Submit"})})]})})}):null}}}]);
//# sourceMappingURL=1314.7faa0d56.chunk.js.map