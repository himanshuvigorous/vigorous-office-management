"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[2968],{12968:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var s=a(89379),n=a(73216),l=a(83003),r=a(65043),i=a(30064),d=a.n(i),c=a(24858),o=a(39160),m=a(31174),x=a(15187),u=(a(78227),a(76399)),h=a(53913),p=a(13382),g=a(60446),v=a.n(g),j=a(55971),N=a(97826),b=a(60184),f=a(65512),y=a(94084),A=a(86178),I=a.n(A),w=(a(17995),a(34203)),D=a(70579);const{Option:C}=f.A,S=e=>{let{visible:t,onCancel:a,parentdata:n,fetchprojectInvoice:i}=e;const{register:o,handleSubmit:m,control:u,setValue:p,reset:g,formState:{errors:v}}=(0,c.mN)({defaultValues:{}}),j=(0,l.wA)(),b=!1,A=(0,c.FH)({control:u,name:"paymentMethod",defaultValue:""}),S=(0,c.FH)({control:u,name:"accountant",defaultValue:""}),{accountantList:P,loading:T}=(0,l.d4)(e=>e.accountManagement);(0,r.useEffect)(()=>{t&&(p("paymentMethod","Cash"),j((0,w.v1)({directorId:"",companyId:null===n||void 0===n?void 0:n.companyId,branchId:null===n||void 0===n?void 0:n.branchId,text:"",sort:!0,status:!0,isPagination:!1})))},[t]);return(0,D.jsx)(h.A,{visible:t,onCancel:()=>{a(),g()},footer:null,title:"Record Payment",width:700,className:"antmodalclassName",children:(0,D.jsxs)("form",{autoComplete:"off",onSubmit:m(e=>{var t,s;const l={companyId:null===n||void 0===n?void 0:n.companyId,directorId:null===n||void 0===n?void 0:n.directorId,branchId:null===n||void 0===n?void 0:n.branchId,managerId:"",projectId:null===n||void 0===n?void 0:n._id,invoiceType:"credit",accountentId:null===e||void 0===e?void 0:e.accountant,userId:null===P||void 0===P||null===(t=P.find(e=>e._id===S))||void 0===t||null===(s=t.accountentData)||void 0===s?void 0:s._id,bankAccountId:null===e||void 0===e?void 0:e.bankAccountId,paymentMethod:null===e||void 0===e?void 0:e.paymentMethod,paymentReference:null===e||void 0===e?void 0:e.paymentReference,remark:null===e||void 0===e?void 0:e.remark,amountPaid:+(null===e||void 0===e?void 0:e.amountPaid),paymentDate:(0,x.Tk)(null===e||void 0===e?void 0:e.paymentDate)};d().fire({title:"Are you sure?",text:"Once submitted, this entry cannot be edited. Do you want to proceed?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit it!"}).then(e=>{e.isConfirmed&&j((0,N.zw)(l)).then(e=>{null!==e&&void 0!==e&&e.error||(i(),a(),g())})})}),children:[(0,D.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,D.jsxs)("div",{className:"w-full",children:[(0,D.jsxs)("label",{className:"".concat(x.Q0),children:["Accountant ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(c.xI,{name:"accountant",control:u,rules:{required:"Accountant is required"},render:e=>{let{field:t}=e;return(0,D.jsx)(f.A,(0,s.A)((0,s.A)({placeholder:"Select accountant",loading:T},t),{},{showSearch:!0,getPopupContainer:e=>e.parentNode,optionFilterProp:"children",className:"".concat(x.Hy," "),filterOption:(e,t)=>t.children.toLowerCase().indexOf(e.toLowerCase())>=0,children:null===P||void 0===P?void 0:P.map(e=>{var t;return(0,D.jsx)(C,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e||null===(t=e.accountentData)||void 0===t?void 0:t.fullName},null===e||void 0===e?void 0:e._id)})}))}}),v.accountant&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:v.accountant.message})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(x.Q0),children:["Payment Method ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(c.xI,{control:u,name:"paymentMethod",rules:{required:"Payment method is required"},render:e=>{var t;let{field:a}=e;return(0,D.jsx)(f.A,(0,s.A)((0,s.A)({},a),{},{className:"".concat(x.Hy," "),getPopupContainer:e=>e.parentNode,children:null===(t=["Cash","Cheque","Card","Bank","Online","Other"])||void 0===t?void 0:t.map(e=>(0,D.jsx)(f.A.Option,{value:e,children:e},e))}))}}),v.paymentMethod&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:v.paymentMethod.message})]}),"Cash"!==A&&(0,D.jsxs)("div",{children:[(0,D.jsx)("label",{className:"".concat(x.Q0),children:"Bank Account"}),(0,D.jsx)(c.xI,{control:u,name:"bankAccountId",render:e=>{var t,a;let{field:n}=e;return(0,D.jsxs)(f.A,(0,s.A)((0,s.A)({},n),{},{className:"".concat(x.Hy," "),getPopupContainer:e=>e.parentNode,children:[(0,D.jsx)(f.A.Option,{value:"",children:"Select Bank Account"}),null===P||void 0===P||null===(t=P.find(e=>e._id===S))||void 0===t||null===(a=t.bankAccountData)||void 0===a?void 0:a.map(e=>(0,D.jsx)(f.A.Option,{value:e._id,children:(0,x.ig)(e)},e._id))]}))}}),v.bankAccountId&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:v.bankAccountId.message})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(x.Q0),children:["Payment Date ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)(c.xI,{name:"paymentDate",control:u,rules:{required:"Payment date is required"},render:e=>{let{field:t}=e;return(0,D.jsx)(y.A,{field:t,errors:v,disabledDate:e=>e&&e.isAfter(I()(),"day")})}}),v.paymentDate&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:"Payment date is required"})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("label",{className:"".concat(x.Q0),children:["Amount Paid ",(0,D.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,D.jsx)("input",(0,s.A)((0,s.A)({type:"number",step:"0.01"},o("amountPaid",{required:"Amount is required",min:{value:.01,message:"Amount must be greater than 0"}})),{},{className:"w-full px-3 py-2 border ".concat(v.amountPaid?"border-red-500":"border-gray-300"," rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"),placeholder:"Enter amount"})),v.amountPaid&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:v.amountPaid.message})]}),(0,D.jsxs)("div",{className:"col-span-2",children:[(0,D.jsx)("label",{className:"".concat(x.Q0),children:"Payment Reference"}),(0,D.jsx)("input",(0,s.A)((0,s.A)({type:"text"},o("paymentReference",{})),{},{className:"w-full px-3 py-2 border ".concat(v.paymentReference?"border-red-500":"border-gray-300"," rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"),placeholder:"e.g. TRANS123456789"})),v.paymentReference&&(0,D.jsx)("p",{className:"text-red-500 text-sm",children:v.paymentReference.message})]}),(0,D.jsxs)("div",{className:"col-span-2",children:[(0,D.jsx)("label",{className:"".concat(x.Q0),children:"Remarks"}),(0,D.jsx)("textarea",(0,s.A)((0,s.A)({},o("remark")),{},{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Additional notes (optional)"}))]})]}),(0,D.jsx)("div",{className:"flex justify-end mt-4",children:(0,D.jsx)("button",{type:"submit",disabled:b,className:"".concat("bg-header"," text-white p-2 px-4 rounded"),children:"Submit Payment"})})]})})};a(37762),a(64857);const P=function(){var e,t;const{register:a,setValue:i,control:d,formState:{errors:x}}=(0,c.mN)(),{element:g}=(0,n.g)(),f=g?JSON.parse((0,m.Yc)(g)):{},A=(0,n.Zp)(),I=(0,l.wA)(),{projectInvoiceReportList:w,loading:C}=(0,l.d4)(e=>e.projectInvoice),[P,T]=(0,r.useState)(""),[B,M]=(0,r.useState)(1),[Y,k]=(0,r.useState)({isOpen:!1,data:null,refrensedata:null}),[L,O]=(0,r.useState)(!1),R=(0,c.FH)({control:d,name:"startDate",defaultValue:v()().subtract(1,"month")}),_=(0,c.FH)({control:d,name:"endDate",defaultValue:v()()}),V=(0,r.useRef)(null),E=(0,c.FH)({control:d,name:"status",defaultValue:""}),q=[E,P,R,_].join("-"),[H,F]=(0,r.useState)(!1);(0,r.useEffect)(()=>{i("startDate",v()().subtract(1,"month")),i("endDate",v()())},[]),(0,r.useEffect)(()=>{H?1===B?Q():M(1):F(e=>!0)},[q]),(0,r.useEffect)(()=>{Q()},[B]);const Q=async()=>{const e={page:B,limit:10,reqPayload:{directorId:"",companyId:null===f||void 0===f?void 0:f.companyId,branchId:null===f||void 0===f?void 0:f.branchId,projectId:null===f||void 0===f?void 0:f._id,startDate:R.format("YYYY-MM-DD"),endDate:_.format("YYYY-MM-DD"),text:P,sort:!0,status:"true"===E||"false"!==E&&"",isPagination:!1}};await I((0,N.RY)(e))},z=()=>{var e;return(null===w||void 0===w||null===(e=w.currentTransactions)||void 0===e?void 0:e.summary)||{totalDebit:0,totalCredit:0,closingBalance:0,openingBalance:0}},{openingBalance:G,transactions:J,closingBalance:W}=(()=>{const e=(()=>{var e;return(null===w||void 0===w||null===(e=w.currentTransactions)||void 0===e?void 0:e.allTransactions)||[]})(),t=z().openingBalance;let a=t;return{openingBalance:t,transactions:e.map(e=>("credit"===e.invoiceType?a+=Number(e.amountPaid||0):a-=Number(e.finalWithGSTAmount||0),(0,s.A)((0,s.A)({},e),{},{balance:a}))),closingBalance:a}})(),Z=(()=>{var e;return(null===w||void 0===w||null===(e=w.previousTransactions)||void 0===e?void 0:e.summary)||{totalDebit:0,totalCredit:0,closingBalance:0,openingBalance:0}})(),K=z();return(0,D.jsxs)(o.A,{onChange:e=>{T(e)},children:[(0,D.jsxs)("div",{className:"mb-4",children:[(0,D.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,D.jsx)("div",{}),(0,D.jsxs)("div",{className:"flex gap-3",children:[(0,D.jsx)("button",{onClick:()=>A("/admin/project-invoice/create?element=".concat((0,m.w)(JSON.stringify(f)))),className:"bg-rose-700 hover:bg-rose-800 transition-colors py-2 px-4 rounded-md flex items-center text-sm font-medium text-white",children:"Create Invoice"}),(0,D.jsxs)("button",{onClick:()=>k({isOpen:!0,data:f,refrensedata:null}),className:"bg-green-600 hover:bg-green-700 transition-colors py-2 px-4 rounded-md flex items-center text-sm font-medium text-white",children:[(0,D.jsx)(b.MxO,{className:"mr-2"}),"Receive Payment"]})]})]}),(0,D.jsx)("div",{className:"py-3 bg-white rounded-lg shadow px-3 mb-2",children:(0,D.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,D.jsxs)("div",{className:"border rounded-lg p-4 relative",children:[(0,D.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,D.jsx)("h3",{className:"text-md font-medium",children:"Previous Period Summary"}),(0,D.jsx)("button",{onClick:()=>O(!0),className:"text-blue-600 hover:text-blue-800",title:"View Previous Transactions",children:(0,D.jsx)(b.__w,{size:18})})]}),(0,D.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,D.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,D.jsx)("p",{className:"text-sm text-gray-600",children:"Total Invoices"}),(0,D.jsx)("p",{className:"text-lg font-semibold text-red-600",children:Z.totalDebit.toLocaleString("en-IN")})]}),(0,D.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,D.jsx)("p",{className:"text-sm text-gray-600",children:"Total Received"}),(0,D.jsx)("p",{className:"text-lg font-semibold text-green-600",children:Z.totalCredit.toLocaleString("en-IN")})]}),(0,D.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,D.jsx)("p",{className:"text-sm text-gray-600",children:"Closing Balance"}),(0,D.jsx)("p",{className:"text-lg font-semibold ".concat(Z.closingBalance<=0?"text-red-600":"text-green-600"),children:Z.closingBalance.toLocaleString("en-IN")})]})]})]}),(0,D.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,D.jsx)("h3",{className:"text-md font-medium mb-2",children:"Current Period Summary"}),(0,D.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,D.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,D.jsx)("p",{className:"text-sm text-blue-600",children:"Opening Balance"}),(0,D.jsx)("p",{className:"text-lg font-semibold ".concat(K.openingBalance<=0?"text-red-600":"text-green-600"),children:K.openingBalance.toLocaleString("en-IN")})]}),(0,D.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,D.jsx)("p",{className:"text-sm text-blue-600",children:"Total Invoices"}),(0,D.jsx)("p",{className:"text-lg font-semibold text-red-600",children:K.totalDebit.toLocaleString("en-IN")})]}),(0,D.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,D.jsx)("p",{className:"text-sm text-blue-600",children:"Total Received"}),(0,D.jsx)("p",{className:"text-lg font-semibold text-green-600",children:K.totalCredit.toLocaleString("en-IN")})]}),(0,D.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,D.jsx)("p",{className:"text-sm text-blue-600",children:"Closing Balance"}),(0,D.jsx)("p",{className:"text-lg font-semibold ".concat(K.closingBalance<=0?"text-red-600":"text-green-600"),children:Math.abs(K.closingBalance).toLocaleString("en-IN")})]})]})]})]})}),(0,D.jsxs)("div",{className:"sm:flex justify-between items-center py-3 bg-gray-100 rounded-lg shadow px-4 mb-4",children:[(0,D.jsxs)("div",{className:"grid sm:grid-cols-2 grid-cols-1 lg:grid-cols-2 sm:gap-3 gap-1.5",children:[(0,D.jsx)("div",{children:(0,D.jsx)(c.xI,{name:"startDate",control:d,render:e=>{let{field:t}=e;return(0,D.jsx)(y.A,{report:!0,defaultValue:v()().subtract(1,"month"),size:"middle",field:t,errors:x,allowClear:!1,placeholder:"Select Start Date"})}})}),(0,D.jsx)("div",{children:(0,D.jsx)(c.xI,{name:"endDate",control:d,render:e=>{let{field:t}=e;return(0,D.jsx)(y.A,{report:!0,defaultValue:v()(),size:"middle",field:t,errors:x,allowClear:!1,placeholder:"Select End Date"})}})})]}),(0,D.jsx)("div",{className:"flex justify-end items-center gap-2 mt-2 sm:mt-0",children:(0,D.jsx)("button",{onClick:()=>{i("startDate",v()().subtract(1,"month")),i("endDate",v()()),T("")},className:"bg-gray-600 hover:bg-gray-700 py-2 px-4 rounded-md flex items-center text-sm text-white",children:"Reset Filters"})})]}),(0,D.jsx)("div",{className:"bg-white rounded-xl shadow overflow-hidden",ref:V,children:(0,D.jsx)("div",{className:"overflow-x-auto",children:(0,D.jsxs)("table",{className:"w-full",children:[(0,D.jsx)("thead",{className:"bg-gray-800 text-white",children:(0,D.jsxs)("tr",{className:"text-left text-sm font-medium",children:[(0,D.jsx)("th",{className:"p-3 w-[5%]",children:"#"}),(0,D.jsx)("th",{className:"p-3 w-[15%]",children:"Date"}),(0,D.jsx)("th",{className:"p-3 w-[20%]",children:"Reference"}),(0,D.jsx)("th",{className:"p-3 w-[15%]",children:"Description"}),(0,D.jsx)("th",{className:"p-3 w-[15%] text-right",children:"Amount"}),(0,D.jsx)("th",{className:"p-3 w-[15%] text-right",children:"Balance"}),(0,D.jsx)("th",{className:"p-3 w-[15%] text-center",children:"Actions"})]})}),C?(0,D.jsx)("tbody",{children:(0,D.jsx)("tr",{children:(0,D.jsx)("td",{colSpan:7,className:"p-6 text-center",children:(0,D.jsx)(j.A,{})})})}):(0,D.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[(0,D.jsxs)("tr",{className:"bg-blue-50",children:[(0,D.jsx)("td",{className:"p-3 text-sm font-medium text-gray-700",children:"-"}),(0,D.jsx)("td",{className:"p-3 text-sm font-medium text-gray-700",children:"-"}),(0,D.jsx)("td",{className:"p-3",children:(0,D.jsx)(u.A,{color:"blue",children:"OPENING BALANCE"})}),(0,D.jsx)("td",{className:"p-3 text-sm font-medium text-gray-700",children:"Balance brought forward"}),(0,D.jsx)("td",{className:"p-3 text-sm text-right font-medium",children:"-"}),(0,D.jsx)("td",{className:"p-3 text-sm text-right font-medium",children:(0,D.jsxs)("span",{className:G<=0?"text-red-600":"text-green-600",children:[Math.abs(G).toLocaleString("en-IN"),(0,D.jsx)("span",{className:"text-xs ml-1",children:G<=0?"(Due)":"(Adv)"})]})}),(0,D.jsx)("td",{className:"p-3 text-center",children:"-"})]}),J.length>0?J.map((e,t)=>{var a;return(0,D.jsxs)("tr",{className:"hover:bg-gray-50 ".concat(t%2===0?"bg-gray-50":"bg-white"),children:[(0,D.jsx)("td",{className:"p-3 text-sm text-gray-700",children:t+1}),(0,D.jsx)("td",{className:"p-3 text-sm text-gray-700",children:"credit"===(null===e||void 0===e?void 0:e.invoiceType)?v()(e.paymentDate).format("DD-MM-YYYY"):null!==e&&void 0!==e&&e.invoiceDate?v()(e.invoiceDate).format("DD-MM-YYYY"):"-"}),(0,D.jsx)("td",{className:"p-3",children:(0,D.jsxs)("div",{className:"flex items-center",children:["credit"===(null===e||void 0===e?void 0:e.invoiceType)?(0,D.jsx)(u.A,{color:"green",className:"mr-2",children:"CREDIT"}):(0,D.jsx)(u.A,{color:"red",className:"mr-2",children:"INVOICE"}),(0,D.jsx)("span",{className:"text-sm font-medium text-gray-700",children:null!==(a=null===e||void 0===e?void 0:e.invoiceNumber)&&void 0!==a?a:"-"})]})}),(0,D.jsx)("td",{className:"p-3 text-sm text-gray-700",children:"credit"===(null===e||void 0===e?void 0:e.invoiceType)?(null===e||void 0===e?void 0:e.remark)||"Payment Received":"Project Invoice"}),(0,D.jsx)("td",{className:"p-3 text-sm text-right font-medium",children:(0,D.jsx)("span",{className:"credit"===(null===e||void 0===e?void 0:e.invoiceType)?"text-green-600":"text-red-600",children:"credit"===(null===e||void 0===e?void 0:e.invoiceType)?"+ ".concat(Number((null===e||void 0===e?void 0:e.amountPaid)||0).toLocaleString("en-IN")):"- ".concat(Number((null===e||void 0===e?void 0:e.finalWithGSTAmount)||0).toLocaleString("en-IN"))})}),(0,D.jsx)("td",{className:"p-3 text-sm text-right font-medium",children:(0,D.jsxs)("span",{className:e.balance<=0?"text-red-600":"text-green-600",children:[Math.abs(e.balance).toLocaleString("en-IN"),(0,D.jsx)("span",{className:"text-xs ml-1",children:e.balance<=0?"(Due)":"(Adv)"})]})}),(0,D.jsx)("td",{className:"p-3 text-center",children:(0,D.jsx)("div",{className:"flex justify-center items-center gap-2",children:(0,D.jsx)("button",{onClick:()=>A("/admin/project-invoice/view/".concat((0,m.w)(JSON.stringify(e)))),className:"p-2 text-gray-600 hover:text-blue-600 transition-colors rounded-md bg-gray-100 hover:bg-gray-200",title:"View Details",children:(0,D.jsx)(b.Ny1,{size:16})})})})]},e._id)}):(0,D.jsx)("tr",{children:(0,D.jsx)("td",{colSpan:7,className:"p-6 text-center text-sm text-gray-500",children:"No transactions found for the current period"})}),J.length>0&&(0,D.jsxs)("tr",{className:"bg-blue-50",children:[(0,D.jsx)("td",{className:"p-3 text-sm font-medium text-gray-700",children:"-"}),(0,D.jsx)("td",{className:"p-3 text-sm font-medium text-gray-700",children:_.format("DD-MM-YYYY")}),(0,D.jsx)("td",{className:"p-3",children:(0,D.jsx)(u.A,{color:"blue",children:"CLOSING BALANCE"})}),(0,D.jsx)("td",{className:"p-3 text-sm font-medium text-gray-700",children:"Balance carried forward"}),(0,D.jsx)("td",{className:"p-3 text-sm text-right font-medium",children:"-"}),(0,D.jsx)("td",{className:"p-3 text-sm text-right font-medium",children:(0,D.jsxs)("span",{className:W<=0?"text-red-600":"text-green-600",children:[Math.abs(W).toLocaleString("en-IN"),(0,D.jsx)("span",{className:"text-xs ml-1",children:W<=0?"(Due)":"(Adv)"})]})}),(0,D.jsx)("td",{className:"p-3 text-center",children:"-"})]})]})]})})})]}),Y.isOpen&&(0,D.jsx)(S,{visible:Y.isOpen,onCancel:()=>k({isOpen:!1,data:null,refrensedata:null}),parentdata:f,refrensedata:Y.refrensedata,fetchprojectInvoice:Q}),(0,D.jsxs)(h.A,{title:"Previous Period Transactions",width:1e3,visible:L,onCancel:()=>O(!1),footer:[(0,D.jsx)(p.Ay,{onClick:()=>O(!1),children:"Close"},"close")],children:[(0,D.jsxs)("div",{className:"mb-6",children:[(0,D.jsx)("h3",{className:"text-md font-semibold mb-2",children:"Summary"}),(0,D.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,D.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[(0,D.jsx)("p",{className:"text-sm text-gray-600",children:"Total Invoices"}),(0,D.jsx)("p",{className:"text-lg font-semibold text-red-600",children:Z.totalDebit.toLocaleString("en-IN")})]}),(0,D.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[(0,D.jsx)("p",{className:"text-sm text-gray-600",children:"Total Received"}),(0,D.jsx)("p",{className:"text-lg font-semibold text-green-600",children:Z.totalCredit.toLocaleString("en-IN")})]}),(0,D.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[(0,D.jsx)("p",{className:"text-sm text-gray-600",children:"Closing Balance"}),(0,D.jsx)("p",{className:"text-lg font-semibold ".concat(Z.closingBalance<=0?"text-red-600":"text-green-600"),children:Math.abs(Z.closingBalance).toLocaleString("en-IN")})]})]})]}),(0,D.jsx)("div",{className:"overflow-x-auto",children:(0,D.jsxs)("table",{className:"w-full",children:[(0,D.jsx)("thead",{className:"bg-gray-100",children:(0,D.jsxs)("tr",{className:"text-left text-sm font-medium",children:[(0,D.jsx)("th",{className:"p-3",children:"Date"}),(0,D.jsx)("th",{className:"p-3",children:"Type"}),(0,D.jsx)("th",{className:"p-3",children:"Reference"}),(0,D.jsx)("th",{className:"p-3 text-right",children:"Amount"})]})}),(0,D.jsx)("tbody",{className:"divide-y divide-gray-200",children:(null===w||void 0===w||null===(e=w.previousTransactions)||void 0===e||null===(t=e.allTransactions)||void 0===t?void 0:t.length)>0?w.previousTransactions.allTransactions.map(e=>(0,D.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,D.jsx)("td",{className:"p-3 text-sm",children:e.filterDate?v()(e.filterDate).format("DD-MM-YYYY"):"-"}),(0,D.jsx)("td",{className:"p-3",children:"credit"===e.invoiceType?(0,D.jsx)(u.A,{color:"green",children:"CREDIT"}):(0,D.jsx)(u.A,{color:"red",children:"INVOICE"})}),(0,D.jsx)("td",{className:"p-3 text-sm",children:e.invoiceNumber||"-"}),(0,D.jsx)("td",{className:"p-3 text-sm text-right",children:(0,D.jsx)("span",{className:"credit"===e.invoiceType?"text-green-600":"text-red-600",children:"credit"===e.invoiceType?"+ ".concat(Number(e.amountPaid||0).toLocaleString("en-IN")):"- ".concat(Number(e.finalWithGSTAmount||0).toLocaleString("en-IN"))})})]},e._id)):(0,D.jsx)("tr",{children:(0,D.jsx)("td",{colSpan:4,className:"p-4 text-center text-sm text-gray-500",children:"No transactions found in the previous period"})})})]})})]})]})}}}]);
//# sourceMappingURL=2968.2fa05ded.chunk.js.map