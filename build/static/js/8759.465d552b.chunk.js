"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[8759],{8759:(e,d,o)=>{o.r(d),o.d(d,{default:()=>x});var i=o(89379),l=o(24858),a=o(83003),n=o(73216),r=o(15187),s=o(65043),c=o(31744),t=o(78729),u=o(39160),m=o(65512),v=o(17995),p=o(89427),y=o(16370),h=o(70579);const x=function(){const{loading:e}=(0,a.d4)(e=>e.projectCategory),{register:d,handleSubmit:o,control:x,formState:{errors:j}}=(0,l.mN)(),g=(0,a.wA)(),N=(0,n.Zp)(),b=JSON.parse(localStorage.getItem("user_info_".concat(r.AU))),{companyList:C,companyListLoading:f}=(0,a.d4)(e=>e.company),{branchList:A,branchListloading:I}=(0,a.d4)(e=>e.branch),T=(0,l.FH)({control:x,name:"PDCompanyId",defaultValue:""});return(0,s.useEffect)(()=>{(T||"company"===(null===b||void 0===b?void 0:b.userType)||"companyDirector"===(null===b||void 0===b?void 0:b.userType))&&g((0,c.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===b||void 0===b?void 0:b.userType)?T:"company"===(null===b||void 0===b?void 0:b.userType)?null===b||void 0===b?void 0:b._id:null===b||void 0===b?void 0:b.companyId}))},[T]),(0,s.useEffect)(()=>{"admin"===(null===b||void 0===b?void 0:b.userType)&&g((0,t.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,h.jsx)(u.A,{children:(0,h.jsx)("div",{className:"gap-4",children:(0,h.jsxs)("form",{autoComplete:"off",className:"mt-5 md:px-1",onSubmit:o(e=>{const d={companyId:"admin"===(null===b||void 0===b?void 0:b.userType)?null===e||void 0===e?void 0:e.PDCompanyId:"company"===(null===b||void 0===b?void 0:b.userType)?null===b||void 0===b?void 0:b._id:null===b||void 0===b?void 0:b.companyId,directorId:"companyDirector"===(null===b||void 0===b?void 0:b.userType)?null===b||void 0===b?void 0:b._id:null===b||void 0===b?void 0:b.directorId,branchId:"admin"===(null===b||void 0===b?void 0:b.userType)||"companyDirector"===(null===b||void 0===b?void 0:b.userType)||"company"===(null===b||void 0===b?void 0:b.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===b||void 0===b?void 0:b.userType)?null===b||void 0===b?void 0:b._id:null===b||void 0===b?void 0:b.branchId,name:e.projectCategoryName};g((0,y.Ge)(d)).then(e=>{e.error||N(-1)})}),children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===b||void 0===b?void 0:b.userType)&&(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(r.Q0),children:["Company ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)(l.xI,{control:x,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:d}=e;return(0,h.jsxs)(m.A,(0,i.A)((0,i.A)({},d),{},{defaultValue:"",className:"".concat(r.Hy," "),filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,h.jsx)(m.A.Option,{value:"",children:"Select Company"}),f?(0,h.jsx)(m.A.Option,{disabled:!0,children:(0,h.jsx)(p.A,{})}):null===C||void 0===C?void 0:C.map(e=>(0,h.jsx)(m.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),j.PDCompanyId&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:j.PDCompanyId.message})]}),("admin"===(null===b||void 0===b?void 0:b.userType)||"company"===(null===b||void 0===b?void 0:b.userType)||"companyDirector"===(null===b||void 0===b?void 0:b.userType))&&(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(r.Q0),children:["Branch ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)(l.xI,{name:"PDBranchId",control:x,rules:{required:"Branch is required"},render:e=>{let{field:d}=e;return(0,h.jsxs)(m.A,(0,i.A)((0,i.A)({},d),{},{className:"".concat(r.Hy," ").concat(j.PDBranchId?"border-[1px] ":"border-gray-300"),placeholder:"Select Branch",showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,h.jsx)(m.A.Option,{value:"",children:"Select Branch"}),I?(0,h.jsx)(m.A.Option,{disabled:!0,children:(0,h.jsx)(p.A,{})}):null===A||void 0===A?void 0:A.map(e=>(0,h.jsx)(m.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),j.PDBranchId&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:j.PDBranchId.message})]}),(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(r.Q0),children:["Projects Category  ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)("input",(0,i.A)((0,i.A)({type:"text"},d("projectCategoryName",{required:"Projects Category is required"})),{},{className:"".concat(r.Ol," ").concat(j.projectCategoryName?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Projects Category"})),j.projectCategoryName&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:j.projectCategoryName.message})]})]}),(0,h.jsx)("div",{className:"flex justify-end ",children:(0,h.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,h.jsx)(v.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=8759.465d552b.chunk.js.map