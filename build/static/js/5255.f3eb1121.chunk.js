"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[5255],{85255:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});var l=a(89379),n=a(24858),i=a(83003),d=a(73216),t=a(65043),c=a(15187),r=a(735),o=a(39160),m=a(78729),u=a(16210),p=a(31744),h=a(14118),x=a(57916),N=a(66015),y=a(89427),j=a(65512),f=a(70579);const v=()=>{const{register:e,handleSubmit:s,control:a,setValue:v,getValues:g,formState:{errors:b}}=(0,n.mN)(),S=(0,i.wA)(),A=(0,d.Zp)(),[w,I]=(0,t.useState)([]),[O,k]=(0,t.useState)(""),{userCompanyId:M,userDirectorId:C,userBranchId:q,userEmployeId:T,userDepartmentId:H,userDesignationId:L,userType:E}=(0,r.A)(),{companyList:Q}=(0,i.d4)(e=>e.company),{designationList:V}=(0,i.d4)(e=>e.designation),{departmentListData:F}=(0,i.d4)(e=>e.department),{branchList:R,branchListloading:D}=(0,i.d4)(e=>e.branch),{directorLists:_}=(0,i.d4)(e=>e.director),[B,P]=(0,t.useState)([]),[Y,W]=(0,t.useState)([]),[X,Z]=(0,t.useState)([]),[z,G]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{const e=(await(async()=>[{dayName:"Monday"},{dayName:"Tuesday"},{dayName:"Wednesday"},{dayName:"Thursday"},{dayName:"Friday"},{dayName:"Saturday"},{dayName:"Sunday"}])()).map(e=>({value:e.dayName,label:e.dayName}));P(e)})()},[]);(0,t.useEffect)(()=>{(async()=>{const e=(await(async()=>[{weekCount:1},{weekCount:2},{weekCount:3},{weekCount:4},{weekCount:5}])()).map(e=>({value:e.weekCount,label:"Week ".concat(e.weekCount)}));Z(e)})()},[]);const J=(0,n.FH)({control:a,name:"companyId",defaultValue:M}),K=(0,n.FH)({control:a,name:"directorId",defaultValue:C}),U=(0,n.FH)({control:a,name:"branchId",defaultValue:q}),$=(0,n.FH)({control:a,name:"departmentId",defaultValue:H});(0,n.FH)({control:a,name:"designationId",defaultValue:L}),(0,n.FH)({control:a,name:"employeId",defaultValue:T});(0,t.useEffect)(()=>{"admin"===E&&S((0,m.Ar)({userType:"company",text:"",status:!0}))},[]),(0,t.useEffect)(()=>{(J&&"company"===E||J&&"admin"===E)&&S((0,p.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:J}))},[J]),(0,t.useEffect)(()=>{(J&&"company"===E||"admin"===E)&&S((0,h.HX)({text:"",sort:!0,status:!0,isPagination:!1,companyId:J}))},[J]),(0,t.useEffect)(()=>{$&&S((0,u.EF)({departmentId:$,text:"",sort:!0,status:!0,isPagination:!1}))},[$]);return(0,f.jsx)(o.A,{children:(0,f.jsx)("div",{className:"gap-4",children:(0,f.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:s(e=>{const s=Y.map(e=>e.value),a=z.map(e=>e.value),l="Yes"==(null===e||void 0===e?void 0:e.sundaysOff),n={companyId:J,directorId:K,branchId:U,shiftName:null===e||void 0===e?void 0:e.shiftName,skipHRS:+(null===e||void 0===e?void 0:e.skipHRS),lunchMin:+(null===e||void 0===e?void 0:e.lunchMin),lateMIN:+(null===e||void 0===e?void 0:e.lateMin),workingDays:s,weekOffRules:{sundaysOff:l,saturdaysOff:a},openingTime:String(null===e||void 0===e?void 0:e.openingTime),closingTime:String(null===e||void 0===e?void 0:e.closingTime),isApplySandwich:"true"==(null===e||void 0===e?void 0:e.isApplySandwich)};S((0,x.Bf)(n)).then(e=>{e.error||A(-1)})}),children:[(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-2 md:my-2",children:[(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 ",children:["admin"===E&&(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Company",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsxs)("select",(0,l.A)((0,l.A)({},e("companyId",{required:"Company is required"})),{},{className:" ".concat(c.Ol," ").concat(b.companyId?"border-[1px] ":"border-gray-300"),children:[(0,f.jsx)("option",{className:"",value:"",children:"Select Company"}),null===Q||void 0===Q?void 0:Q.map(e=>(0,f.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName,"(",null===e||void 0===e?void 0:e.userName,")"]}))]})),b.companyId&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:b.companyId.message})]}),("admin"===E||"company"===E)&&(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Branch",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)(n.xI,{control:a,name:"branchId",rules:{required:"Branch is required"},render:e=>{var s;let{field:a}=e;return(0,f.jsxs)(j.A,(0,l.A)((0,l.A)({},a),{},{defaultValue:"",className:"".concat(c.Hy," "),children:[(0,f.jsx)(j.A.Option,{value:"",children:"Select Branch"}),D?(0,f.jsx)(j.A.Option,{disabled:!0,children:(0,f.jsx)(y.A,{})}):null===(s=(0,c._o)(R,"fullName"))||void 0===s?void 0:s.map(e=>(0,f.jsx)(j.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),b.branchId&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:b.branchId.message})]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-2",children:[(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Shift Name ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"text"},e("shiftName",{required:"Shift Name is required"})),{},{className:"placeholder: ".concat(c.Ol," ").concat(b.shiftName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Shift Name"})),b.shiftName&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:b.shiftName.message})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Late Minutes ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"number"},e("lateMin",{required:"Late Minutes is required"})),{},{className:"placeholder: ".concat(c.Ol," ").concat(b.lateMin?"border-[1px] ":"border-gray-300"),placeholder:"Enter Late Minutes"})),b.lateMin&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:b.lateMin.message})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Lunch Minutes ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"number"},e("lunchMin",{required:"Lunch Minutes is required"})),{},{className:"placeholder: ".concat(c.Ol," ").concat(b.lunchMin?"border-[1px] ":"border-gray-300"),placeholder:"Enter Lunch Minutes"})),b.lunchMin&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:b.lunchMin.message})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Skip Minutes ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"number"},e("skipHRS",{required:"Skip Minutes is required"})),{},{className:"placeholder: ".concat(c.Ol," ").concat(b.skipHRS?"border-[1px] ":"border-gray-300"),placeholder:"Enter Skip Minutes"})),b.skipHRS&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:b.skipHRS.message})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Opening Time ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"time",typeof:"time"},e("openingTime",{required:"Opening Time is required"})),{},{className:"mt-1 block w-full border ".concat(b.openingTime?"border-[1px] ":"border-gray-300"," p-2 rounded")})),b.openingTime&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:b.openingTime.message})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Closing Time ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"time",typeof:"time"},e("closingTime",{required:"Closing Time is required"})),{},{className:"mt-1 block w-full border ".concat(b.closingTime?"border-[1px] ":"border-gray-300"," p-2 rounded")})),b.closingTime&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:b.closingTime.message})]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-2",children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Working Days ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)(N.Ay,{isMulti:!0,options:B,value:Y,onChange:e=>{W(e||[])},className:"basic-multi-select",classNamePrefix:"select"})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Saturday Off ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)(N.Ay,{isMulti:!0,options:X,value:z,onChange:e=>{G(e||[])},className:"basic-multi-select",classNamePrefix:"select"})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Sundays Off ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)(n.xI,{control:a,name:"sundaysOff",rules:{required:"sundaysOff is required"},render:e=>{let{field:s}=e;return(0,f.jsxs)(j.A,(0,l.A)((0,l.A)({},s),{},{defaultValue:"",showSearch:!0,filterOption:(e,s)=>String(null===s||void 0===s?void 0:s.children).toLowerCase().includes(e.toLowerCase()),className:"".concat(c.Hy," "),placeholder:"Select Sundays",children:[(0,f.jsx)(j.A.Option,{value:"",children:"Select Sundays Off"}),(0,f.jsx)(j.A.Option,{value:"Yes",children:"Yes"}),(0,f.jsx)(j.A.Option,{value:"No",children:"No"})]}))}}),b.sundaysOff&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:b.sundaysOff.message})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(c.Q0),children:["Select Sandwich ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)(n.xI,{control:a,name:"isApplySandwich",rules:{required:"Select Sandwich is required"},render:e=>{let{field:s}=e;return(0,f.jsxs)(j.A,(0,l.A)((0,l.A)({},s),{},{defaultValue:"",className:"".concat(c.Hy," "),placeholder:"Select Sandwich",showSearch:!0,filterOption:(e,s)=>String(null===s||void 0===s?void 0:s.children).toLowerCase().includes(e.toLowerCase()),children:[(0,f.jsx)(j.A.Option,{value:"",children:"Select Sandwich"}),(0,f.jsx)(j.A.Option,{value:"true",children:"Yes"}),(0,f.jsx)(j.A.Option,{value:"false",children:"No"})]}))}}),b.isApplySandwich&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:b.isApplySandwich.message})]})]})]}),(0,f.jsx)("div",{className:"flex justify-end",children:(0,f.jsx)("button",{type:"submit",className:"bg-header text-white p-2 px-4 rounded mt-4",children:"Submit"})})]})})})}}}]);
//# sourceMappingURL=5255.f3eb1121.chunk.js.map