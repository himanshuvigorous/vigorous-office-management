"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[3545],{13545:(e,i,r)=>{r.r(i),r.d(i,{default:()=>y});var a=r(89379),l=r(65043),d=r(24858),n=r(39160),s=r(15187),o=r(83003),c=r(735),t=r(78729),m=r(36506),u=r(31744),x=r(65512),p=r(4938),v=r(89427),P=r(70579);const y=function(){const{register:e,handleSubmit:i,formState:{errors:r},control:y,setValue:g}=(0,d.mN)(),h=(0,o.wA)(),{companyList:f,companyListLoading:b}=(0,o.d4)(e=>e.company),{branchList:N,branchListloading:j}=(0,o.d4)(e=>e.branch),{hrmsSettingsData:A}=(0,o.d4)(e=>e.hrmsSetting),[E,I]=(0,l.useState)(!1),{userType:S}=(0,c.A)(),U=(0,d.FH)({control:y,name:"companyId",defaultValue:""}),k=(0,d.FH)({control:y,name:"PDBranchId",defaultValue:""}),T=JSON.parse(localStorage.getItem("user_info_".concat(s.AU)));(0,l.useEffect)(()=>{"admin"===S&&h((0,t.Ar)({isPagination:!1,text:"",sort:!0,status:!0}))},[]),(0,l.useEffect)(()=>{(U||"company"===S||"companyDirector"===S)&&(g("PDBranchId",""),h((0,u.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===S?U:"company"===S?null===T||void 0===T?void 0:T._id:null===T||void 0===T?void 0:T.companyId})))},[U]),(0,l.useEffect)(()=>{("admin"===(null===T||void 0===T?void 0:T.userType)?U:"company"===(null===T||void 0===T?void 0:T.userType)?null===T||void 0===T?void 0:T._id:null===T||void 0===T?void 0:T.companyId)&&("company"===(null===T||void 0===T?void 0:T.userType)||"admin"===(null===T||void 0===T?void 0:T.userType)||"companyDirector"===(null===T||void 0===T?void 0:T.userType)?k:"companyBranch"===(null===T||void 0===T?void 0:T.userType)?null===T||void 0===T?void 0:T._id:null===T||void 0===T?void 0:T.branchId)&&!E&&D()},[U,k,E]);const D=()=>{h((0,m.US)({companyId:"admin"===(null===T||void 0===T?void 0:T.userType)?U:"company"===(null===T||void 0===T?void 0:T.userType)?null===T||void 0===T?void 0:T._id:null===T||void 0===T?void 0:T.companyId,branchId:"company"===(null===T||void 0===T?void 0:T.userType)||"admin"===(null===T||void 0===T?void 0:T.userType)||"companyDirector"===(null===T||void 0===T?void 0:T.userType)?k:"companyBranch"===(null===T||void 0===T?void 0:T.userType)?null===T||void 0===T?void 0:T._id:null===T||void 0===T?void 0:T.branchId}))};(0,l.useEffect)(()=>{g("basicSalaryAmountForPf",null!==A&&void 0!==A&&A.basicSalaryAmountForPf?null===A||void 0===A?void 0:A.basicSalaryAmountForPf:""),g("basicSalaryPercentage",null!==A&&void 0!==A&&A.basicSalaryPercentage?null===A||void 0===A?void 0:A.basicSalaryPercentage:""),g("pfPercentage",null!==A&&void 0!==A&&A.pfPercentage?null===A||void 0===A?void 0:A.pfPercentage:""),g("fixedPf",null!==A&&void 0!==A&&A.fixedPf?null===A||void 0===A?void 0:A.fixedPf:""),g("esicEmployeePercentage",null!==A&&void 0!==A&&A.esicEmployeePercentage?null===A||void 0===A?void 0:A.esicEmployeePercentage:""),g("esicEmployerPercentage",null!==A&&void 0!==A&&A.esicEmployerPercentage?null===A||void 0===A?void 0:A.esicEmployerPercentage:""),g("esicAmount",null!==A&&void 0!==A&&A.esicAmount?null===A||void 0===A?void 0:A.esicAmount:""),g("minWorkingHrs",null!==A&&void 0!==A&&A.minWorkingMin?null===A||void 0===A?void 0:A.minWorkingMin:""),g("overtimeSkipHrs",null!==A&&void 0!==A&&A.overtimeSkipMin?null===A||void 0===A?void 0:A.overtimeSkipMin:""),g("lateTimeInMin",null!==A&&void 0!==A&&A.lateTimeInMin?null===A||void 0===A?void 0:A.lateTimeInMin:""),g("noticePeriod",null!==A&&void 0!==A&&A.noticePeriod?null===A||void 0===A?void 0:A.noticePeriod:""),g("empUserPrefix",null!==A&&void 0!==A&&A.employeUserNamePrefix?null===A||void 0===A?void 0:A.employeUserNamePrefix:""),g("clientUserPrefix",null!==A&&void 0!==A&&A.clientUserNamePrefix?null===A||void 0===A?void 0:A.clientUserNamePrefix:""),g("vendorUserNamePrefix",null!==A&&void 0!==A&&A.vendorUserNamePrefix?null===A||void 0===A?void 0:A.vendorUserNamePrefix:""),g("groupNamePrefix",null!==A&&void 0!==A&&A.groupNamePrefix?null===A||void 0===A?void 0:A.groupNamePrefix:""),g("taskNamePrefix",null!==A&&void 0!==A&&A.taskNamePrefix?null===A||void 0===A?void 0:A.taskNamePrefix:""),g("attendanceDisInMeter",null!==A&&void 0!==A&&A.attendanceDisInMeter?null===A||void 0===A?void 0:A.attendanceDisInMeter:""),g("recruitmentEmail",null!==A&&void 0!==A&&A.recruitmentEmail?null===A||void 0===A?void 0:A.recruitmentEmail:"")},[A]);const{canCreate:M,canRead:F,canUpdate:O,canDelete:C}=(0,p.A)();return(0,P.jsx)(n.A,{children:F&&(0,P.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:i(e=>{const i={employeUserNamePrefix:null===e||void 0===e?void 0:e.empUserPrefix,clientUserNamePrefix:null===e||void 0===e?void 0:e.clientUserPrefix,vendorUserNamePrefix:null===e||void 0===e?void 0:e.vendorUserNamePrefix,groupNamePrefix:null===e||void 0===e?void 0:e.groupNamePrefix,taskNamePrefix:null===e||void 0===e?void 0:e.taskNamePrefix,companyId:"admin"===(null===T||void 0===T?void 0:T.userType)?U:"company"===(null===T||void 0===T?void 0:T.userType)?null===T||void 0===T?void 0:T._id:null===T||void 0===T?void 0:T.companyId,branchId:"company"===(null===T||void 0===T?void 0:T.userType)||"admin"===(null===T||void 0===T?void 0:T.userType)||"companyDirector"===(null===T||void 0===T?void 0:T.userType)?k:"companyBranch"===(null===T||void 0===T?void 0:T.userType)?null===T||void 0===T?void 0:T._id:null===T||void 0===T?void 0:T.branchId,basicSalaryAmountForPf:+(null===e||void 0===e?void 0:e.basicSalaryAmountForPf),basicSalaryPercentage:+(null===e||void 0===e?void 0:e.basicSalaryPercentage),pfPercentage:+(null===e||void 0===e?void 0:e.pfPercentage),fixedPf:+(null===e||void 0===e?void 0:e.fixedPf),esicEmployeePercentage:+(null===e||void 0===e?void 0:e.esicEmployeePercentage),esicEmployerPercentage:+(null===e||void 0===e?void 0:e.esicEmployerPercentage),esicAmount:+(null===e||void 0===e?void 0:e.esicAmount),minWorkingMin:+(null===e||void 0===e?void 0:e.minWorkingHrs),overtimeSkipMin:+(null===e||void 0===e?void 0:e.overtimeSkipHrs),lateTimeInMin:+(null===e||void 0===e?void 0:e.lateTimeInMin),noticePeriod:+(null===e||void 0===e?void 0:e.noticePeriod),attendanceDisInMeter:+(null===e||void 0===e?void 0:e.attendanceDisInMeter),recruitmentEmail:null===e||void 0===e?void 0:e.recruitmentEmail};h((0,m.Xc)(i)).then(e=>{!e.error&&D()})}),children:[(0,P.jsxs)("div",{className:"flex justify-between items-center",children:[O&&(0,P.jsx)("button",{onClick:()=>I(!E),type:"button",className:"".concat(s.Wb),children:E?"Cancel":"Edit"}),O&&(0,P.jsx)("button",{disabled:!E,type:"submit",className:"".concat(E?s.Wb:s.Ey),children:"Submit"})]}),(0,P.jsxs)("div",{className:"border border-header mt-2 rounded-lg ",children:[(0,P.jsx)("div",{className:"bg-header text-white py-2 px-4 rounded-t-lg",children:"Basic Settings"}),(0,P.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-2",children:["admin"===S&&(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Company"}),(0,P.jsxs)("select",(0,a.A)((0,a.A)({},e("companyId",{required:"Company is required"})),{},{className:" ".concat(s.Ol," ").concat(r.companyId?"border-[1px] ":"border-gray-300"),children:[(0,P.jsx)("option",{className:"",value:"",children:"Select Company"}),b?(0,P.jsx)(x.A.Option,{disabled:!0,children:(0,P.jsx)(v.A,{})}):null===f||void 0===f?void 0:f.map(e=>(0,P.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName,"(",null===e||void 0===e?void 0:e.userName,")"]}))]})),r.companyId&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.companyId.message})]}),("admin"===S||"company"===S||"companyDirector"===S)&&(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Branch"}),(0,P.jsx)(d.xI,{name:"PDBranchId",control:y,rules:{required:"Branch is required"},render:e=>{let{field:i}=e;return(0,P.jsxs)(x.A,(0,a.A)((0,a.A)({},i),{},{className:"".concat(s.Hy," ").concat(r.PDBranchId?"border-[1px] ":"border-gray-300"),placeholder:"Select Branch",children:[(0,P.jsx)(x.A.Option,{value:"",children:"Select Branch"}),j?(0,P.jsx)(x.A.Option,{disabled:!0,children:(0,P.jsx)(v.A,{})}):null===N||void 0===N?void 0:N.map(e=>(0,P.jsx)(x.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),r.PDBranchId&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.PDBranchId.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Notice Period (days)"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"number",disabled:!E,step:"0.0001"},e("noticePeriod")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.noticePeriod?"border-[1px] ":"border-gray-300"),placeholder:"Enter Notice Period "})),r.noticePeriod&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.noticePeriod.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Recruitment Email"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"email",disabled:!E},e("recruitmentEmail",{pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.recruitmentEmail?"border-[1px] ":"border-gray-300"),placeholder:"Enter Email "})),r.recruitmentEmail&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.recruitmentEmail.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Allowed Attendance Meters"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"number",disabled:!E},e("attendanceDisInMeter")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.attendanceDisInMeter?"border-[1px] ":"border-gray-300"),placeholder:"Enter  Allowed Attendance Meters "})),r.attendanceDisInMeter&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.attendanceDisInMeter.message})]})]})]}),(0,P.jsxs)("div",{className:"border border-header mt-2 rounded-lg ",children:[(0,P.jsx)("div",{className:"bg-header text-white py-2 px-4 rounded-t-lg",children:"PF Settings"}),(0,P.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-2",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Basic Salary Amount for PF"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"number",disabled:!E},e("basicSalaryAmountForPf")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.basicSalaryAmountForPf?"border-[1px] ":"border-gray-300"),placeholder:"Enter Basic Salary Amount for PF"})),r.basicSalaryAmountForPf&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.basicSalaryAmountForPf.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"PF Percentage"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"number",disabled:!E,step:"0.01"},e("pfPercentage")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.pfPercentage?"border-[1px] ":"border-gray-300"),placeholder:"Enter PF Percentage"})),r.pfPercentage&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.pfPercentage.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Fixed PF"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"number",disabled:!E},e("fixedPf")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.fixedPf?"border-[1px] ":"border-gray-300"),placeholder:"Enter Fixed PF"})),r.fixedPf&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.fixedPf.message})]})]})]}),(0,P.jsxs)("div",{className:"border border-header mt-2 rounded-lg ",children:[(0,P.jsx)("div",{className:"bg-header text-white py-2 px-4 rounded-t-lg",children:"Pre Fix Settings"}),(0,P.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-2",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Employee UserName Prefix"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"text",disabled:!E},e("empUserPrefix")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.empUserPrefix?"border-[1px] ":"border-gray-300"),placeholder:"Employee UserName Prefix"})),r.empUserPrefix&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.empUserPrefix.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Client UserName Prefix"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"text",disabled:!E},e("clientUserPrefix")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.clientUserPrefix?"border-[1px] ":"border-gray-300"),placeholder:"Client UserName Prefix"})),r.clientUserPrefix&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.clientUserPrefix.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Vendor UserName Prefix"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"text",disabled:!E},e("vendorUserNamePrefix")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.vendorUserNamePrefix?"border-[1px] ":"border-gray-300"),placeholder:"vendorUserNamePrefix Prefix"})),r.vendorUserNamePrefix&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.vendorUserNamePrefix.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Group UserName Prefix"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"text",disabled:!E},e("groupNamePrefix")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.groupNamePrefix?"border-[1px] ":"border-gray-300"),placeholder:"groupNamePrefix Prefix"})),r.groupNamePrefix&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.groupNamePrefix.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"Task UserName Prefix"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"text",disabled:!E},e("taskNamePrefix")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.taskNamePrefix?"border-[1px] ":"border-gray-300"),placeholder:"taskNamePrefix Prefix"})),r.taskNamePrefix&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.taskNamePrefix.message})]})]})]}),(0,P.jsxs)("div",{className:"border border-header mt-2 rounded-lg ",children:[(0,P.jsx)("div",{className:"bg-header text-white py-2 px-4 rounded-t-lg",children:"ESIC Settings"}),(0,P.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-2",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"ESIC Employee Percentage"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"number",disabled:!E,step:"0.0001"},e("esicEmployeePercentage")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.esicEmployeePercentage?"border-[1px] ":"border-gray-300"),placeholder:"Enter ESIC Employee Percentage"})),r.esicEmployeePercentage&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.esicEmployeePercentage.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"ESIC Employer Percentage"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"number",disabled:!E,step:"0.0001"},e("esicEmployerPercentage")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.esicEmployerPercentage?"border-[1px] ":"border-gray-300"),placeholder:"Enter ESIC Employer Percentage"})),r.esicEmployerPercentage&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.esicEmployerPercentage.message})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"".concat(s.Q0),children:"ESIC Amount"}),(0,P.jsx)("input",(0,a.A)((0,a.A)({type:"number",disabled:!E},e("esicAmount")),{},{className:"".concat(E?s.Ol:s.id," ").concat(r.esicAmount?"border-[1px] ":"border-gray-300"),placeholder:"Enter ESIC Amount"})),r.esicAmount&&(0,P.jsx)("p",{className:"text-red-500 text-sm",children:r.esicAmount.message})]})]})]})]})})}}}]);
//# sourceMappingURL=3545.b4049590.chunk.js.map