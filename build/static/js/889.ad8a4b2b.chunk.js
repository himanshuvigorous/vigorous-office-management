"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[889],{23270:(e,l,a)=>{a.r(l),a.d(l,{default:()=>y});var d=a(89379),n=a(65043),r=a(39160),s=a(83003),i=a(73216),o=a(24858),t=a(31174),c=(a(735),a(15187)),u=a(36105),m=a(30575),v=a(84480),x=a(78729),p=(a(31744),a(14118),a(61413)),h=a(51957),b=a(56659),N=a(17995),g=(a(89427),a(70579));const y=function(){const{loading:e}=(0,s.d4)(e=>e.vendor),{register:l,handleSubmit:a,setValue:y,control:j,formState:{errors:P}}=(0,o.mN)(),f=(0,s.wA)(),A=(0,i.Zp)(),{vendorIdEnc:D}=(0,i.g)(),S=(0,t.Yc)(D),C=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),{vendorDetails:E}=(0,s.d4)(e=>e.vendor),{countryListData:I}=(0,s.d4)(e=>e.country),{stateListData:T}=(0,s.d4)(e=>e.states),{cityListData:G}=(0,s.d4)(e=>e.city),Z=(0,o.FH)({control:j,name:"PDCountry",defaultValue:""}),w=(0,o.FH)({control:j,name:"PDState",defaultValue:""}),O=(0,o.FH)({control:j,name:"PDPin",defaultValue:""});return(0,n.useEffect)(()=>{O&&O.length>=4&&O.length<=6&&(0,c.jh)(O).then(e=>{e&&(y("PDCity",e.city),y("PDState",e.state),y("PDCountry",e.country))}).catch(e=>{console.error("Error fetching data:",e)})},[O]),(0,n.useEffect)(()=>{"admin"===(null===C||void 0===C?void 0:C.userType)&&f((0,x.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,n.useEffect)(()=>{let e={_id:S};f((0,p.Z_)(e))},[]),(0,n.useEffect)(()=>{var e,l,a,d,n,r,s,i,o,t,c,u,m,v,x,p,h,b,N,g,j,P,f,A;E&&(y("name",null===E||void 0===E?void 0:E.fullName),y("email",null===E||void 0===E?void 0:E.email),y("Secemail",null===E||void 0===E||null===(e=E.vendorProfile)||void 0===e?void 0:e.secondaryEmail),y("GSTNumber",null===E||void 0===E||null===(l=E.vendorProfile)||void 0===l?void 0:l.GSTNumber),y("adharNumber",null===E||void 0===E||null===(a=E.vendorProfile)||void 0===a?void 0:a.adharNumber),y("penNumber",null===E||void 0===E||null===(d=E.vendorProfile)||void 0===d?void 0:d.penNumber),y("code",null===E||void 0===E||null===(n=E.mobile)||void 0===n?void 0:n.code),y("number",null===E||void 0===E||null===(r=E.mobile)||void 0===r?void 0:r.number),y("Seccode",null===E||void 0===E||null===(s=E.vendorProfile)||void 0===s||null===(i=s.secondaryMobile)||void 0===i?void 0:i.code),y("Secnumber",null===E||void 0===E||null===(o=E.vendorProfile)||void 0===o||null===(t=o.secondaryMobile)||void 0===t?void 0:t.number),y("lancode",null===E||void 0===E||null===(c=E.vendorProfile)||void 0===c||null===(u=c.landline)||void 0===u?void 0:u.code),y("lannumber",null===E||void 0===E||null===(m=E.vendorProfile)||void 0===m||null===(v=m.landline)||void 0===v?void 0:v.number),y("PDAddress",null===E||void 0===E||null===(x=E.addresses)||void 0===x||null===(p=x.primary)||void 0===p?void 0:p.street),y("PDcountry",null===E||void 0===E||null===(h=E.addresses)||void 0===h||null===(b=h.primary)||void 0===b?void 0:b.country),y("PDState",null===E||void 0===E||null===(N=E.addresses)||void 0===N||null===(g=N.primary)||void 0===g?void 0:g.state),y("PDCity",null===E||void 0===E||null===(j=E.addresses)||void 0===j||null===(P=j.primary)||void 0===P?void 0:P.city),y("PDPin",null===E||void 0===E||null===(f=E.addresses)||void 0===f||null===(A=f.primary)||void 0===A?void 0:A.pinCode),y("openingBalance",Number(null===E||void 0===E?void 0:E.openingBalance)))},[E]),(0,g.jsx)(r.A,{children:(0,g.jsx)("div",{className:"gap-4",children:(0,g.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:a(e=>{var l,a,d,n;const r={_id:S,companyId:null===E||void 0===E?void 0:E.companyId,directorId:"",branchId:null===E||void 0===E?void 0:E.branchId,fullName:null===e||void 0===e?void 0:e.name,profileImage:"",email:null===e||void 0===e?void 0:e.email,mobile:{code:null===e||void 0===e?void 0:e.code,number:null===e||void 0===e?void 0:e.number},status:!0,isDeleted:!1,addresses:{primary:{street:null!==(l=null===e||void 0===e?void 0:e.PDAddress)&&void 0!==l?l:"",city:null!==(a=null===e||void 0===e?void 0:e.PDCity)&&void 0!==a?a:"",state:null!==(d=null===e||void 0===e?void 0:e.PDState)&&void 0!==d?d:"",country:null!==(n=null===e||void 0===e?void 0:e.PDCountry)&&void 0!==n?n:"",pinCode:null===e||void 0===e?void 0:e.PDPin}},vendorProfile:{penNumber:null===e||void 0===e?void 0:e.penNumber,adharNumber:null===e||void 0===e?void 0:e.adharNumber,GSTNumber:null===e||void 0===e?void 0:e.GSTNumber,secondaryEmail:null===e||void 0===e?void 0:e.Secemail,secondaryMobile:{code:null===e||void 0===e?void 0:e.Seccode,number:null===e||void 0===e?void 0:e.Secnumber},landline:{code:null===e||void 0===e?void 0:e.lancode,number:null===e||void 0===e?void 0:e.lannumber}}};f((0,p.qI)(r)).then(e=>{e.error||A(-1)})}),children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2",children:[(0,g.jsxs)("div",{className:"",children:[(0,g.jsxs)("label",{className:"".concat(c.Q0),children:["Name ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)("input",(0,d.A)((0,d.A)({type:"text"},l("name",{required:"Name is required"})),{},{className:"placeholder: ".concat(c.Ol," ").concat(P.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Name"})),P.name&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:P.name.message})]}),(0,g.jsxs)("div",{className:"",children:[(0,g.jsxs)("label",{className:"".concat(c.Q0),children:["Email ",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)("input",(0,d.A)((0,d.A)({type:"text"},l("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(c.Ol," ").concat(P.email?"border-[1px] ":"border-gray-300"),placeholder:"Enter Email"})),P.email&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:P.email.message})]}),(0,g.jsxs)("div",{className:"",children:[(0,g.jsx)("label",{className:"".concat(c.Q0),children:"GST Number"}),(0,g.jsx)("input",(0,d.A)((0,d.A)({type:"text"},l("GSTNumber",{pattern:{value:/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}[Z]{1}[0-9A-Z]{1}$/,message:"Invalid GST Number format (29AAACH7409R1ZX)"}})),{},{className:" ".concat(c.Ol," ").concat(P.GSTNumber?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter GST number",maxLength:15})),P.GSTNumber&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:P.GSTNumber.message})]}),(0,g.jsxs)("div",{className:"flex gap-3",children:[(0,g.jsxs)("div",{className:"w-[150px]",children:[(0,g.jsxs)("label",{className:"".concat(c.Q0),children:["code",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)(o.xI,{control:j,name:"code",rules:{required:"code is required"},render:e=>{let{field:l}=e;return(0,g.jsx)(b.A,{field:l,errors:P})}}),P.code&&(0,g.jsx)("p",{className:"text-red-500 text-sm mt-3",children:P.code.message})]}),(0,g.jsxs)("div",{className:"w-full",children:[(0,g.jsxs)("label",{className:"".concat(c.Q0),children:["Mobile No",(0,g.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,g.jsx)("input",(0,d.A)((0,d.A)({type:"number"},l("number",{required:"Mobile No is required",minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(c.Ol," ").concat(P.number?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),P.number&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:P.number.message})]})]})]}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-2",children:(0,g.jsxs)("div",{className:"col-span-2",children:[(0,g.jsx)("label",{className:"".concat(c.Q0),children:"Address"}),(0,g.jsx)("input",(0,d.A)((0,d.A)({type:"text"},l("PDAddress")),{},{className:"".concat(c.Ol," ").concat(P.PDAddress?"border-[1px] ":"border-gray-300"),placeholder:"Enter Address "})),P.PDAddress&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:P.PDAddress.message})]})}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 md:gap-8 gap-3 md:my-2",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"".concat(c.Q0),children:"Country"}),(0,g.jsx)(o.xI,{control:j,name:"PDCountry",render:e=>{var l;let{field:a}=e;return(0,g.jsx)(h.A,(0,d.A)((0,d.A)({className:"w-full"},a),{},{onChange:e=>{a.onChange(e)},options:null===I||void 0===I||null===(l=I.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,g.jsx)("input",{placeholder:"Enter Country",onFocus:()=>{f((0,u.dw)({isPagination:!1,text:"",sort:!0,status:!0}))},className:"".concat(c.Ol," ").concat(P.PDCountry?"border-[1px] ":"border-gray-300")})}))}}),P.PDCountry&&(0,g.jsx)("p",{className:"".concat(c.ci),children:P.PDCountry.message})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"".concat(c.Q0),children:"State"}),(0,g.jsx)(o.xI,{control:j,name:"PDState",render:e=>{var l;let{field:a}=e;return(0,g.jsx)(h.A,(0,d.A)((0,d.A)({className:"w-full"},a),{},{onChange:e=>a.onChange(e),options:null===T||void 0===T||null===(l=T.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,g.jsx)("input",{placeholder:"Enter State",onFocus:()=>{f((0,m.mz)({isPagination:!1,text:"",countryName:Z,sort:!0,status:!0}))},className:"".concat(c.Ol," ").concat(P.PDState?"border-[1px] ":"border-gray-300")})}))}}),P.PDState&&(0,g.jsx)("p",{className:"".concat(c.ci),children:P.PDState.message})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"".concat(c.Q0),children:"City"}),(0,g.jsx)(o.xI,{control:j,name:"PDCity",render:e=>{var l;let{field:a}=e;return(0,g.jsx)(h.A,(0,d.A)((0,d.A)({className:"w-full"},a),{},{onChange:e=>a.onChange(e),options:null===G||void 0===G||null===(l=G.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,g.jsx)("input",{onFocus:()=>{f((0,v.cY)({isPagination:!1,text:"",sort:!0,status:!0,stateName:w}))},placeholder:"Enter City",className:"".concat(c.Ol," ").concat(P.PDCity?"border-[1px] ":"border-gray-300")})}))}}),P.PDCity&&(0,g.jsx)("p",{className:"".concat(c.ci),children:P.PDCity.message})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"".concat(c.Q0),children:"Pin Code"}),(0,g.jsx)(o.xI,{control:j,name:"PDPin",render:e=>{let{field:l}=e;return(0,g.jsx)("input",(0,d.A)((0,d.A)({},l),{},{type:"number",placeholder:"Enter Pin Code",maxLength:6,onInput:e=>{e.target.value.length>6&&(e.target.value=e.target.value.slice(0,6))},className:"".concat(c.Ol," ").concat(P.PDPin?"border-[1px] ":"border-gray-300")}))}}),P.PDPin&&(0,g.jsx)("p",{className:"text-red-500 text-sm",children:P.PDPin.message})]})]}),(0,g.jsx)("div",{className:"flex justify-end ",children:(0,g.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded"),children:e?(0,g.jsx)(N.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=889.ad8a4b2b.chunk.js.map