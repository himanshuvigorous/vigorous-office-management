"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[9183],{99183:(e,d,l)=>{l.r(d),l.d(d,{default:()=>g});var s=l(89379),a=l(65043),i=l(39160),n=l(83003),t=l(73216),r=l(24858),o=l(31174),c=l(735),u=l(15187),v=l(78729),m=l(31744),p=(l(14118),l(12362)),x=l(86178),h=l.n(x),y=l(94084),j=l(60446),f=l.n(j),N=l(65512),A=l(17995),I=l(70579);const g=function(){const{loading:e}=(0,n.d4)(e=>e.event),{register:d,handleSubmit:l,setValue:x,control:j,formState:{errors:g}}=(0,r.mN)(),{userCompanyId:b,userDirectorId:T,userBranchId:D,userType:C}=(0,c.A)(),S=(0,n.wA)(),_=(0,t.Zp)(),{eventIdEnc:O}=(0,t.g)(),P=(0,o.Yc)(O),B=JSON.parse(localStorage.getItem("user_info_".concat(u.AU))),{companyList:w,companyListLoading:L}=(0,n.d4)(e=>e.company),{branchList:q,branchListloading:E}=(0,n.d4)(e=>e.branch),{eventDetails:V}=(0,n.d4)(e=>e.event),H=(0,r.FH)({control:j,name:"PDCompanyId",defaultValue:b}),Q=((0,r.FH)({control:j,name:"directorId",defaultValue:T}),(0,r.FH)({control:j,name:"PDBranchId",defaultValue:D}));return(0,a.useEffect)(()=>{(H||"company"===(null===B||void 0===B?void 0:B.userType)||"companyDirector"===(null===B||void 0===B?void 0:B.userType))&&S((0,m.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===B||void 0===B?void 0:B.userType)?H:"company"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.companyId}))},[H]),(0,a.useEffect)(()=>{"admin"===(null===B||void 0===B?void 0:B.userType)&&S((0,v.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,a.useEffect)(()=>{let e={_id:P};S((0,p.L3)(e))},[]),(0,a.useEffect)(()=>{V&&(x("PDCompanyId",null===V||void 0===V?void 0:V.companyId),x("PDBranchId",null===V||void 0===V?void 0:V.branchId),x("title",null===V||void 0===V?void 0:V.title),x("date",f()(null===V||void 0===V?void 0:V.date)),x("status",null!==V&&void 0!==V&&V.status?"true":"false"))},[V]),(0,I.jsx)(i.A,{children:(0,I.jsx)("div",{className:"gap-4",children:(0,I.jsxs)("form",{autoComplete:"off",className:"mt-3",onSubmit:l(e=>{const d={_id:P,companyId:"admin"===(null===B||void 0===B?void 0:B.userType)?H:"company"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.companyId,branchId:"company"===(null===B||void 0===B?void 0:B.userType)||"admin"===(null===B||void 0===B?void 0:B.userType)||"companyDirector"===(null===B||void 0===B?void 0:B.userType)?Q:"companyBranch"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.branchId,directorId:"",title:null===e||void 0===e?void 0:e.title,status:"true"===(null===e||void 0===e?void 0:e.status)||"false"!==(null===e||void 0===e?void 0:e.status)&&"",date:null===e||void 0===e?void 0:e.date};S((0,p.E4)(d)).then(e=>{e.error||_(-1)})}),children:[(0,I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===B||void 0===B?void 0:B.userType)&&(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(u.Q0),children:["Company ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(r.xI,{control:j,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{var d;let{field:l}=e;return(0,I.jsxs)(N.A,(0,s.A)((0,s.A)({},l),{},{defaultValue:"",className:"".concat(u.Hy," "),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,I.jsx)(N.A.Option,{value:"",children:"Select Company"}),L?(0,I.jsx)(N.A.Option,{disabled:!0,children:(0,I.jsx)(A.A,{})}):null===(d=(0,u._o)(w,"fullName"))||void 0===d?void 0:d.map(e=>(0,I.jsx)(N.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),g.PDCompanyId&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:g.PDCompanyId.message})]}),("admin"===(null===B||void 0===B?void 0:B.userType)||"company"===(null===B||void 0===B?void 0:B.userType)||"companyDirector"===(null===B||void 0===B?void 0:B.userType))&&(0,I.jsxs)("div",{children:[(0,I.jsxs)("label",{className:"".concat(u.Q0),children:["Branch ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(r.xI,{control:j,name:"PDBranchId",rules:{required:"Branch is required"},render:e=>{var d;let{field:l}=e;return(0,I.jsxs)(N.A,(0,s.A)((0,s.A)({},l),{},{defaultValue:"",className:"".concat(u.Hy," "),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,I.jsx)(N.A.Option,{value:"",children:"Select Branch"}),E?(0,I.jsx)(N.A.Option,{disabled:!0,children:(0,I.jsx)(A.A,{})}):null===(d=(0,u._o)(q,"fullName"))||void 0===d?void 0:d.map(e=>(0,I.jsx)(N.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),g.PDBranchId&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:g.PDBranchId.message})]})]}),(0,I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 md:my-2",children:[(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(u.Q0),children:["Title ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("input",(0,s.A)((0,s.A)({type:"text"},d("title",{required:"Title is required"})),{},{className:"placeholder: ".concat(u.Ol," ").concat(g.title?"border-[1px] ":"border-gray-300"),placeholder:"Enter Title"})),g.title&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:g.title.message})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(u.Q0),children:["Date ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(r.xI,{name:"date",control:j,render:e=>{let{field:d}=e;return(0,I.jsx)(y.A,{field:d,errors:g,disabledDate:e=>e&&e.isBefore(h()().endOf("day"),"day")})}}),g.date&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:g.date.message})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(u.Q0),children:["Status ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(r.xI,{control:j,name:"status",rules:{required:"Status is required"},render:e=>{let{field:d}=e;return(0,I.jsxs)(N.A,(0,s.A)((0,s.A)({},d),{},{defaultValue:"",className:"".concat(u.Hy," "),children:[(0,I.jsx)(N.A.Option,{value:"",children:"Select status"}),(0,I.jsx)(N.A.Option,{value:"true",children:"Active"}),(0,I.jsx)(N.A.Option,{value:"false",children:"Inactive"})]}))}}),g.status&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:g.status.message})]})]}),(0,I.jsx)("div",{className:"flex justify-end ",children:(0,I.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 mt-3 px-4 rounded"),children:e?(0,I.jsx)(A.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=9183.2833a860.chunk.js.map