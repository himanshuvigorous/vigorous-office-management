"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[8706],{78706:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var r=s(89379),t=s(65043),c=s(24858),n=s(83003),d=s(73216),i=s(15187),l=s(735),o=s(78729),m=s(53219),u=s(39160),p=s(31744),h=s(70579);const x=function(){const{register:e,handleSubmit:a,setValue:s,getValues:x,unregister:N,watch:v,control:y,formState:{errors:g}}=(0,c.mN)(),{userCompanyId:b,userDirectorId:j,userBranchId:I,userEmployeId:f,userDepartmentId:C,userDesignationId:A,userType:S}=(0,l.A)(),{companyList:q}=(0,n.d4)(e=>e.company),{departmentListData:V}=(0,n.d4)(e=>e.department),{gstTypeList:w}=(0,n.d4)(e=>e.gstType),D=(0,d.Zp)(),_=(0,n.wA)(),{branchList:k}=(JSON.parse(localStorage.getItem("user_info_".concat(i.AU))),(0,n.d4)(e=>e.branch)),B=(0,c.FH)({control:y,name:"companyId",defaultValue:b}),E=(0,c.FH)({control:y,name:"branchId",defaultValue:I});return(0,t.useEffect)(()=>{"admin"===S&&_((0,o.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,t.useEffect)(()=>{(B||"company"===S||"companyDirector"===S)&&_((0,p.d0)({text:"",sort:!0,status:!0,companyId:B,isPagination:!1}))},[B]),(0,h.jsx)(u.A,{children:(0,h.jsx)("div",{className:"gap-4",children:(0,h.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:a(e=>{const a={companyId:B,directorId:"",branchId:E,name:null===e||void 0===e?void 0:e.visitorCatName};_((0,m.bq)(a)).then(e=>{e.error||D("/admin/visitor-category")})}),children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===S&&(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(i.Q0),children:["Company",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsxs)("select",(0,r.A)((0,r.A)({},e("companyId",{required:"Company is required"})),{},{className:" ".concat(i.Ol," ").concat(g.companyId?"border-[1px] ":"border-gray-300"),children:[(0,h.jsx)("option",{className:"",value:"",children:"Select Company"}),null===q||void 0===q?void 0:q.map(e=>(0,h.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName,"(",null===e||void 0===e?void 0:e.userName,")"]}))]})),g.companyId&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:g.companyId.message})]}),("admin"===S||"company"===S||"companyDirector"===S)&&(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("label",{className:"".concat(i.Q0),children:["Branch",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsxs)("select",(0,r.A)((0,r.A)({},e("branchId",{required:"Branch is required"})),{},{className:" ".concat(i.Ol," ").concat(g.branchId?"border-[1px] ":"border-gray-300"),children:[(0,h.jsx)("option",{className:"",value:"",children:"Select Branch"}),null===k||void 0===k?void 0:k.map(e=>(0,h.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName}))]})),g.branchId&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:g.branchId.message})]}),(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsxs)("label",{className:"".concat(i.Q0),children:["Visitor Category Name ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)("input",(0,r.A)((0,r.A)({type:"text"},e("visitorCatName",{required:"Visitor Category Name is required"})),{},{className:"placeholder: ".concat(i.Ol," ").concat(g.visitorCatName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Visitor Category Name"})),g.designationName&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:g.visitorCatName.message})]})]}),(0,h.jsx)("div",{className:"flex justify-end ",children:(0,h.jsx)("button",{type:"submit",className:"bg-header text-white p-2 px-4 rounded mt-4",children:"Submit"})})]})})})}}}]);
//# sourceMappingURL=8706.0c37f6b4.chunk.js.map