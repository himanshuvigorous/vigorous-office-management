"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[9850],{54555:(e,t,a)=>{a.d(t,{A:()=>x});var l=a(89379),s=a(65043),n=a(92823),i=a.n(n),o=(a(25884),a(60184)),r=a(83003),d=a(88967),c=a(86178),p=a.n(c),m=a(15187),u=a(53913),h=a(70579);const x=e=>{let{isOpen:t,onClose:a,onSubmit:n,proposalData:c,setProposalId:x}=e;const[v,f]=(0,s.useState)({to:"",cc:[],subject:"Regarding Proposal",employeeName:"",jobTitle:"",companyName:"",joiningDate:"",joiningTime:"",officeAddress:"",salary:"",salaryDuration:"year",confirmationDeadline:"",hrContact:"",senderName:"",senderTitle:"",portalURL:"",portalUsername:"",portalPassword:"",attachments:[]}),[g,y]=(0,s.useState)(!1),[b,j]=(0,s.useState)(""),N=(0,r.wA)();(0,s.useEffect)(()=>{if(f({to:"",cc:[],subject:"Regarding Proposal",employeeName:"",jobTitle:"",companyName:"",joiningDate:"",joiningTime:"",officeAddress:"",salary:"",salaryDuration:"year",confirmationDeadline:"",hrContact:"",senderName:"",senderTitle:"",portalURL:"",portalUsername:"",portalPassword:"",attachments:[]}),c){var e,t,a,s;f(e=>(0,l.A)((0,l.A)({},e),{},{to:null===c||void 0===c?void 0:c.email}));const n='<div class="space-y-4 '.concat("text-gray-600",'">\n         <div style="width: 80%; margin: 0 auto; padding: 20px; background-color: #ffffff; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">\n        <h1 style="font-size: 24px; color: #0073e6;">Welcome to ',null===(e=c.companyData)||void 0===e?void 0:e.fullName,'!</h1>\n        <p style="font-size: 16px; line-height: 1.5;">We are excited to have you join our team and begin this new chapter together.</p>\n\n        <p style="font-size: 16px; line-height: 1.5;">As part of your onboarding process, we would like to ensure that you have access to all the necessary tools and resources. Below are the details to get started:</p>\n\n        <h3 style="font-size: 18px; color: #0073e6;">Your First Day Information:</h3>\n        <ul style="font-size: 16px; line-height: 1.5;">\n            <li><span style="font-weight: bold;">Date:</span> ').concat(p()(null===c||void 0===c?void 0:c.dateOfJoining).format("YYYY-MM-DD"),'</li>\n            <li><span style="font-weight: bold;">Reporting Time:</span> ').concat(p()(null===c||void 0===c?void 0:c.dateOfJoining).format("HH:MM"),'</li>\n            <li><span style="font-weight: bold;">Location:</span> [Office Address / Virtual Meeting Link]</li>\n            <li><span style="font-weight: bold;">Reporting To:</span> [Name and Designation of Reporting Manager/HR Contact]</li>\n        </ul>\n\n        <h3 style="font-size: 18px; color: #0073e6;">Login Credentials:</h3>\n        <p style="font-size: 16px; line-height: 1.5;">To facilitate a smooth onboarding process, we have set up your account in our HRMS (Human Resource Management System). Please use the credentials below to log in:</p>\n        <ul style="font-size: 16px; line-height: 1.5;">\n            <li><span style="font-weight: bold;">HRMS Portal Link:</span> [Insert HRMS URL]</li>\n            <li><span style="font-weight: bold;">Username:</span> [Candidate\'s Email ID or Assigned Username]</li>\n            <li><span style="font-weight: bold;">Temporary Password:</span> [Insert Temporary Password]</li>\n        </ul>\n        <p style="font-size: 16px; line-height: 1.5;"><span style="font-weight: bold;">Note:</span> For security purposes, please log in at your earliest convenience and update your password upon first login.</p>\n\n        <h3 style="font-size: 18px; color: #0073e6;">Next Steps:</h3>\n        <ul style="font-size: 16px; line-height: 1.5;">\n            <li><span style="font-weight: bold;">Complete Your Profile:</span> Update your details (e.g., contact information, bank details, and personal information) in the HRMS portal.</li>\n            <li><span style="font-weight: bold;">Access Onboarding Materials:</span> You will find important documents, policies, and onboarding checklists available in the system.</li>\n            <li><span style="font-weight: bold;">Attend Orientation:</span> [Provide timing/details if applicable].</li>\n        </ul>\n\n        <p style="font-size: 16px; line-height: 1.5;">If you face any issues accessing the portal or require assistance, please do not hesitate to reach out to me.</p>\n\n        <p style="font-size: 16px; line-height: 1.5;">We are thrilled to have you on board and are confident you will have a wonderful journey with [Company Name]. Wishing you a fantastic start!</p>\n\n        <p style="font-size: 16px; line-height: 1.5;">Once again, welcome aboard!</p>\n\n        <p style="font-size: 16px; line-height: 1.5;">Best Regards,</p>\n        <p style="font-size: 16px; line-height: 1.5;">').concat(null===(t=JSON.parse(localStorage.getItem("user_info_".concat(m.AU))))||void 0===t?void 0:t.fullName,'</p>\n        <p style="font-size: 16px; line-height: 1.5;">[Your Designation]</p>\n        <p style="font-size: 16px; line-height: 1.5;">').concat(null===(a=c.companyData)||void 0===a?void 0:a.fullName,'</p>\n        <p style="font-size: 16px; line-height: 1.5;">[Contact Number]</p>\n        <p style="font-size: 16px; line-height: 1.5;">').concat(null===(s=JSON.parse(localStorage.getItem("user_info_".concat(m.AU))))||void 0===s?void 0:s.email,'</p>\n        <p style="font-size: 16px; line-height: 1.5;">[Company Website]</p>');j(n)}},[c]);const w=e=>{const{name:t,value:a}=e.target;f(e=>(0,l.A)((0,l.A)({},e),{},{[t]:a}))},A=()=>{f({to:"",cc:[],subject:"",employeeName:"",jobTitle:"",companyName:"",joiningDate:"",joiningTime:"",officeAddress:"",salary:"",salaryDuration:"year",confirmationDeadline:"",hrContact:"",senderName:"",senderTitle:"",portalURL:"",portalUsername:"",portalPassword:"",attachments:[]}),y(!1),j(""),x([]),a()};return t?(0,h.jsxs)(u.A,{open:!0,onCancel:A,footer:null,closable:!0,width:800,bodyStyle:{maxHeight:"70vh"},centered:!0,zIndex:1501,children:[(0,h.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,h.jsx)("h2",{className:"text-sm font-semibold text-gray-800",children:g?"Email Preview":"Proposal Email Template"})}),(0,h.jsxs)("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault(),n({content:b,to:null===v||void 0===v?void 0:v.to,cc:"string"===typeof(null===v||void 0===v?void 0:v.cc)?v.cc.split(",").map(e=>e.trim()):[],subject:null===v||void 0===v?void 0:v.subject,attachments:null===v||void 0===v?void 0:v.attachments})},className:"space-y-4 ",children:[(0,h.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 h-[50vh] overflow-y-auto",children:[(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{className:"font-semibold text-sm",children:["To:",(0,h.jsx)("input",{name:"to",value:v.to,onChange:w,placeholder:"Recipient Email",className:"border p-2 w-full"})]}),(0,h.jsxs)("div",{className:"font-semibold text-sm",children:["CC:",(0,h.jsx)("input",{name:"cc",value:v.cc,onChange:w,placeholder:"CC Emails",className:"border p-2 w-full"})]}),(0,h.jsxs)("div",{className:"font-semibold text-sm",children:["Subject:",(0,h.jsx)("input",{name:"subject",value:v.subject,onChange:w,placeholder:"Email Subject",className:"border p-2 w-full"})]})]}),(0,h.jsx)("div",{className:"mt-4",children:(0,h.jsx)(i(),{value:b,onChange:e=>{j(e)},placeholder:"Write the email body here",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike"],[{align:[]}],["link","image","video"],["blockquote","code-block"],["clean"]]},formats:["header","font","list","bold","italic","underline","link","align","clean"]})}),(0,h.jsxs)("div",{className:"border-t pt-4 mt-6",children:[(0,h.jsx)("div",{className:"font-medium mb-2",children:"Attachments:"}),g?(0,h.jsx)("div",{className:"space-y-2"}):(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsx)("input",{type:"file",onChange:e=>{const t={filePath:e.target.files[0],isVideo:!1,isMultiple:!1};N((0,d.Sg)(t)).then(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.payload)&&void 0!==t&&t.data&&f(t=>{var a;return(0,l.A)((0,l.A)({},t),{},{attachments:[...t.attachments,null===(a=e.payload)||void 0===a?void 0:a.data]})})})},className:"hidden",id:"file-upload"}),(0,h.jsxs)("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white cursor-pointer",children:[(0,h.jsx)(o.chT,{className:"mr-2"})," Add Attachments"]}),(0,h.jsx)("div",{className:"space-y-2",children:v.attachments.map((e,t)=>(0,h.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[(0,h.jsxs)("a",{href:"".concat("https://vigapi.vigorousit.com","/public/").concat(e),className:"flex items-center space-x-2",target:"_blank",rel:"noopener noreferrer",children:[(0,h.jsx)(o.chT,{className:"text-gray-500"}),(0,h.jsx)("span",{className:"text-sm text-gray-600",children:e})]}),(0,h.jsx)("button",{type:"button",onClick:()=>(e=>{f(t=>{const a=t.attachments.filter((t,a)=>a!==e);return(0,l.A)((0,l.A)({},t),{},{attachments:a})})})(t),className:"text-red-500 hover:text-red-700",children:(0,h.jsx)(o.QCr,{})})]},t))})]})]})]}),(0,h.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,h.jsx)("button",{type:"button",onClick:A,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,h.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Generate Email"})]})]})]}):null}},59850:(e,t,a)=>{a.r(t),a.d(t,{default:()=>H});var l=a(89379),s=a(73216),n=a(39160),i=a(83003),o=a(65043),r=a(30064),d=a.n(r),c=a(31174),p=a(23156),m=a(47196),u=a(24858),h=a(15187),x=a(12745),v=a(78227),f=a(31744),g=a(78729),y=(a(65337),a(6720)),b=a(54555),j=a(49804),N=a(30326),w=a(53913),A=a(65512),C=a(91686),D=a(96651),k=a(4938),S=a(88967),z=a(60184),P=a(40164),T=a(86178),I=a.n(T),O=a(55971),R=a(83002),E=a(89427),_=a(70579);const H=function(){const{register:e,setValue:t,control:a,formState:{errors:r}}=(0,u.mN)(),{canCreate:T,canRead:H,canUpdate:L,canDelete:q}=(0,k.A)(),[B,M]=(0,o.useState)(""),F=(0,s.Zp)(),U=(0,i.wA)(),{companyList:V}=(0,i.d4)(e=>e.company),{branchList:Y,branchListloading:W}=(0,i.d4)(e=>e.branch),{proposalList:J,totalProposalCount:G,loading:Q}=(0,i.d4)(e=>e.proposal),Z=JSON.parse(localStorage.getItem("user_info_".concat(h.AU))),[K,X]=(0,o.useState)(1),[$,ee]=(0,o.useState)(!1),te=(0,u.FH)({control:a,name:"PDCompanyId",defaultValue:""}),ae=(0,u.FH)({control:a,name:"PDBranchId",defaultValue:""}),le=(0,u.FH)({control:a,name:"status",defaultValue:""}),[se,ne]=(0,o.useState)(1),ie=[ae,te,le,B].join("-"),[oe,re]=(0,o.useState)(!1);(0,o.useEffect)(()=>{oe?1===se?de():ne(1):re(e=>!0)},[ie]),(0,o.useEffect)(()=>{de()},[se]);const de=()=>{const e={page:se,limit:10,reqPayload:{companyId:"admin"===(null===Z||void 0===Z?void 0:Z.userType)?te:"company"===(null===Z||void 0===Z?void 0:Z.userType)?null===Z||void 0===Z?void 0:Z._id:null===Z||void 0===Z?void 0:Z.companyId,branchId:"company"===(null===Z||void 0===Z?void 0:Z.userType)||"admin"===(null===Z||void 0===Z?void 0:Z.userType)||"companyDirector"===(null===Z||void 0===Z?void 0:Z.userType)?ae:"companyBranch"===(null===Z||void 0===Z?void 0:Z.userType)?null===Z||void 0===Z?void 0:Z._id:null===Z||void 0===Z?void 0:Z.branchId,employeId:"employee"===(null===Z||void 0===Z?void 0:Z.userType)?null===Z||void 0===Z?void 0:Z._id:"",directorId:"",text:B,sort:!0,status:le,isPagination:!0}};U((0,x.Zk)(e))};(0,o.useEffect)(()=>{(te||"company"===(null===Z||void 0===Z?void 0:Z.userType)||"companyDirector"===(null===Z||void 0===Z?void 0:Z.userType))&&U((0,f.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===Z||void 0===Z?void 0:Z.userType)?te:"company"===(null===Z||void 0===Z?void 0:Z.userType)?null===Z||void 0===Z?void 0:Z._id:null===Z||void 0===Z?void 0:Z.companyId}))},[te]),(0,o.useEffect)(()=>{"admin"===(null===Z||void 0===Z?void 0:Z.userType)&&U((0,g.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]);const[ce,pe]=(0,o.useState)({isOpen:!1,data:null,status:""}),me=()=>{pe({isOpen:!1,data:null,status:""})},[ue,he]=(0,o.useState)(""),[xe,ve]=(0,o.useState)(""),[fe,ge]=(0,o.useState)([]),[ye,be]=(0,o.useState)(!1),[je,Ne]=(0,o.useState)(""),[we,Ae]=(0,o.useState)(""),Ce=e=>{const t=[];return"Approved"!==(null===e||void 0===e?void 0:e.status)&&"Cancelled"!==(null===e||void 0===e?void 0:e.status)&&(L&&t.push({key:"approve",label:(0,_.jsxs)("div",{className:"flex items-center gap-2",onClick:()=>((e,t)=>{pe({isOpen:!0,data:e,status:t})})(e,"Approved"),children:[(0,_.jsx)(j.qGT,{size:16,className:"text-[#3c8dbc]"}),(0,_.jsx)("span",{children:"Approve"})]})}),L&&t.push({key:"edit",label:(0,_.jsxs)("div",{className:"flex items-center gap-2",onClick:()=>F("/admin/proposal/edit/".concat((0,c.w)(null===e||void 0===e?void 0:e._id))),children:[(0,_.jsx)(p.Jcp,{size:16,className:"text-[#3c8dbc]"}),(0,_.jsx)("span",{children:"Edit Proposal"})]})}),q&&t.push({key:"delete",label:(0,_.jsxs)("div",{className:"flex items-center gap-2",onClick:()=>(e=>{let t={_id:e};d().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&U((0,x.MN)(t)).then(e=>{se>1&&1==(null===J||void 0===J?void 0:J.length)?ne(Number(se-1)):de()})})})(null===e||void 0===e?void 0:e._id),children:[(0,_.jsx)(m.tqC,{size:16,className:"text-red-600"}),(0,_.jsx)("span",{children:"Delete"})]})}),T&&t.push({key:"email",label:(0,_.jsxs)("div",{className:"flex items-center gap-2",onClick:()=>{X(e),ee(!0)},children:[(0,_.jsx)(y.mm2,{size:16,className:"text-green-600"}),(0,_.jsx)("span",{children:"Send Email"})]})}),"Pending"===(null===e||void 0===e?void 0:e.status)&&L&&t.push({key:"cancel",label:(0,_.jsxs)("div",{className:"flex items-center gap-2",onClick:()=>{d().fire({text:"Do you want to Reject this proposal?",input:"textarea",inputPlaceholder:"Enter remarks...",showCancelButton:!0,confirmButtonText:"Submit",cancelButtonText:"Cancel",preConfirm:e=>(e||d().showValidationMessage("Please enter a remark."),e)}).then(t=>{t.isConfirmed&&U((0,x.KW)({_id:null===e||void 0===e?void 0:e._id,status:"Cancelled",remark:t.value})).then(e=>{null!==e&&void 0!==e&&e.error?d().fire({title:"Error!",text:"Failed to Reject proposal. Please try again.",icon:"error"}):(d().fire({title:"Success!",text:"Proposal has been Rejected.",icon:"success"}),de())}).catch(()=>{d().fire({title:"Error!",text:"Unexpected error. Try again later.",icon:"error"})})})},children:[(0,_.jsx)(y.qSu,{size:16,className:"text-rose-600"}),(0,_.jsx)("span",{children:"Cancel Proposal"})]})})),"Approved"===(null===e||void 0===e?void 0:e.status)&&(t.push({key:"approved",label:(0,_.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 cursor-not-allowed",children:[(0,_.jsx)(j.qGT,{size:16}),(0,_.jsx)("span",{children:"Approved"})]})}),t.push({key:"view",label:(0,_.jsxs)("div",{className:"flex items-center gap-2",onClick:()=>{var t;d().fire({title:"Approval Details",html:"\n              <div>\n                <p><strong>Client Name:</strong> ".concat(null===e||void 0===e?void 0:e.name,"</p>\n                <p><strong>Remarks:</strong> ").concat(null===e||void 0===e?void 0:e.remark,"</p>\n                <p><strong>Final Amount:</strong> ").concat(null===e||void 0===e?void 0:e.finalizedAmount,"</p>\n                <div>\n                  <strong>Attachments:</strong>\n                  <ul>\n                    ").concat((null===e||void 0===e||null===(t=e.attachments)||void 0===t?void 0:t.length)>0?e.attachments.map(e=>'<li><a href="'.concat("https://vigapi.vigorousit.com","/public/").concat(e,'" target="_blank">').concat(e,"</a></li>")).join(""):"No Attachment Found","\n                  </ul>\n                </div>\n              </div>\n            "),confirmButtonText:"Close",confirmButtonColor:"#3085d6"})},children:[(0,_.jsx)(z.Ny1,{size:16,className:"text-[#3c8dbc]"}),(0,_.jsx)("span",{children:"View Approval"})]})}),t.push(...["delete","email"].map(e=>({key:e,label:(0,_.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 cursor-not-allowed",children:["delete"===e?(0,_.jsx)(m.tqC,{size:16}):(0,_.jsx)(y.mm2,{size:16}),(0,_.jsx)("span",{children:"delete"===e?"Delete":"Send Email"})]})}))),t.push({key:"client",label:(0,_.jsxs)("div",{className:"flex items-center gap-2",onClick:()=>{var t;return F("/admin/client/edit/".concat((0,c.w)(null===e||void 0===e||null===(t=e.clientData)||void 0===t?void 0:t._id)))},children:[(0,_.jsx)(j.Z31,{size:16,className:"text-cyan-600"}),(0,_.jsx)("span",{children:"View Client"})]})})),"Cancelled"===(null===e||void 0===e?void 0:e.status)&&(["approve","edit","delete","email"].forEach(e=>{t.push({key:e,label:(0,_.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 cursor-not-allowed",children:[{approve:(0,_.jsx)(j.qGT,{size:16}),edit:(0,_.jsx)(p.Jcp,{size:16}),delete:(0,_.jsx)(m.tqC,{size:16}),email:(0,_.jsx)(y.mm2,{size:16})}[e],(0,_.jsx)("span",{children:{approve:"Approved",edit:"Edit Proposal",delete:"Delete",email:"Send Email"}[e]})]})})}),t.push({key:"client",label:(0,_.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,_.jsx)(j.Z31,{size:16}),(0,_.jsx)("span",{children:"View Client"})]})})),t};return"employee"!==(null===Z||void 0===Z?void 0:Z.userType)?(0,_.jsx)(n.A,{children:(0,_.jsx)("div",{className:"bg-red-100 text-red-800 p-4 rounded-md mt-2",children:(0,_.jsx)("p",{className:"text-center font-semibold",children:"You are not an employee. This page is viewable for employees only."})})}):(0,_.jsxs)(n.A,{onChange:e=>{M(e)},children:[(null===ce||void 0===ce?void 0:ce.isOpen)&&(0,_.jsxs)(w.A,{className:"antmodalclassName",open:null===ce||void 0===ce?void 0:ce.isOpen,footer:null,onCancel:()=>me(),children:[(0,_.jsxs)("div",{children:[(0,_.jsxs)("label",{className:"".concat(h.Q0),children:["Remark ",(0,_.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,_.jsx)("textarea",{id:"remark",value:ue,onChange:e=>{he(e.target.value),e.target.value?Ne(""):Ne("Remark is required.")},className:"mt-1 block w-full px-2 py-[12px] min-h-[150px] shadow-sm rounded-xl text-sm bg-gray-50 outline-1 outline-black !border !border-gray-900",placeholder:"Enter your remark here",required:!0}),je&&(0,_.jsx)("p",{className:"text-red-500 text-sm mt-1",children:je})," "]}),(0,_.jsxs)("div",{className:"mt-4",children:[(0,_.jsxs)("label",{className:"".concat(h.Q0),children:["Finalize Amount: ",(0,_.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,_.jsx)("input",{type:"number",id:"finalizeAmount",value:xe,onChange:e=>{ve(e.target.value),e.target.value?Ae(""):Ae("Finalize Amount is required.")},className:"mt-1 block w-full px-2 py-[12px] shadow-sm rounded-xl text-sm bg-gray-50 outline-1 outline-black !border !border-gray-900",placeholder:"Enter amount",required:!0}),we&&(0,_.jsx)("p",{className:"text-red-500 text-sm mt-1",children:we})," "]}),(0,_.jsxs)("div",{className:"pt-4 mt-6",children:[(0,_.jsx)("div",{className:"font-medium mb-2",children:"Attachments:"}),ye?(0,_.jsx)("div",{className:"space-y-2"}):(0,_.jsxs)("div",{className:"space-y-4",children:[(0,_.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(t){e.target.value=null;const a={filePath:t,isVideo:!1,isMultiple:!1};U((0,S.Sg)(a)).then(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.payload)&&void 0!==t&&t.data&&ge(t=>{var a;return[...t,null===(a=e.payload)||void 0===a?void 0:a.data]})})}},className:"hidden",id:"file-upload"}),(0,_.jsxs)("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white cursor-pointer",children:[(0,_.jsx)(z.chT,{className:"mr-2"})," Add Attachments"]}),(0,_.jsx)("div",{className:"space-y-2",children:null===fe||void 0===fe?void 0:fe.map((e,t)=>(0,_.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[(0,_.jsxs)("a",{href:"".concat("https://vigapi.vigorousit.com","/public/").concat(e),className:"flex items-center space-x-2",target:"_blank",rel:"noopener noreferrer",children:[(0,_.jsx)(z.chT,{className:"text-gray-500"}),(0,_.jsx)("span",{className:"text-sm text-gray-600",children:e})]}),(0,_.jsx)("button",{type:"button",onClick:()=>(e=>{ge(t=>t.filter((t,a)=>a!==e))})(t),className:"text-red-500 hover:text-red-700",children:(0,_.jsx)(z.QCr,{})})]},t))})]})]}),(0,_.jsx)("div",{className:"flex justify-end",children:(0,_.jsx)("button",{onClick:()=>{var e;let t=!0;if(ue||(Ne("Remark is required."),t=!1),xe||(Ae("Finalize Amount is required."),t=!1),!t)return;const a={_id:null===ce||void 0===ce||null===(e=ce.data)||void 0===e?void 0:e._id,status:null===ce||void 0===ce?void 0:ce.status,remark:ue,finalizedAmount:xe,attachments:fe};U((0,x.KW)(a)).then(e=>{null!==e&&void 0!==e&&e.error||(de(),me())})},className:"bg-header text-white p-2 px-4 rounded mt-4",children:Q?(0,_.jsx)(C.A,{indicator:(0,_.jsx)(P.A,{spin:!0}),size:"small",style:{color:"white"}}):"Submit"})})]}),(0,_.jsx)(b.A,{isOpen:$,onClose:()=>ee(!1),onSubmit:e=>{U((0,x.TI)(e)).then(e=>{e.error||(ee(!1),X([]),d().fire({icon:"success",title:"Proposal Email",html:"\n                <p>Proposal Email has been send successfully!</p>\n              ",confirmButtonColor:"#3085d6"}))})},proposalData:K,setProposalId:X}),(0,_.jsxs)("section",{children:[(0,_.jsxs)("div",{className:"xl:flex justify-between items-center xl:space-y-0 space-y-2 py-1",children:[(0,_.jsxs)("div",{className:"grid md:flex sm:grid-cols-3 grid-cols-1 flex-wrap md:gap-3 gap-1.5",children:["admin"===(null===Z||void 0===Z?void 0:Z.userType)&&(0,_.jsxs)("div",{className:"",children:[(0,_.jsx)(u.xI,{control:a,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:t}=e;return(0,_.jsxs)(A.A,(0,l.A)((0,l.A)({},t),{},{defaultValue:"",className:"".concat(h.Lp," "),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,_.jsx)(A.A.Option,{value:"",children:"Select Company"}),null===V||void 0===V?void 0:V.map(e=>(0,_.jsx)(A.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),r.PDCompanyId&&(0,_.jsx)("p",{className:"text-red-500 text-sm",children:r.PDCompanyId.message})]}),("admin"===(null===Z||void 0===Z?void 0:Z.userType)||"company"===(null===Z||void 0===Z?void 0:Z.userType)||"companyDirector"===(null===Z||void 0===Z?void 0:Z.userType))&&(0,_.jsxs)("div",{className:"",children:[(0,_.jsx)(u.xI,{control:a,name:"PDBranchId",rules:{required:"Branch is required"},render:e=>{let{field:t}=e;return(0,_.jsxs)(A.A,(0,l.A)((0,l.A)({},t),{},{defaultValue:"",disabled:Q,className:"".concat(h.Lp," "),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,_.jsx)(A.A.Option,{value:"",children:"Select Branch"}),W?(0,_.jsx)(A.A.Option,{disabled:!0,children:(0,_.jsx)(E.A,{})}):null===Y||void 0===Y?void 0:Y.map(e=>(0,_.jsx)(A.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),r.PDBranchId&&(0,_.jsx)("p",{className:"text-red-500 text-sm",children:r.PDBranchId.message})]}),(0,_.jsx)("div",{className:"",children:(0,_.jsx)(u.xI,{control:a,name:"status",rules:{required:"Status is required"},render:e=>{let{field:t}=e;return(0,_.jsxs)(A.A,(0,l.A)((0,l.A)({},t),{},{defaultValue:"",disabled:Q,className:"".concat(h.Lp," "),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,_.jsx)(A.A.Option,{value:"",children:"Select Status"}),(0,_.jsx)(A.A.Option,{value:"Pending",children:"Pending"}),(0,_.jsx)(A.A.Option,{value:"Approved",children:"Approved"}),(0,_.jsx)(A.A.Option,{value:"Cancelled",children:"Cancel"})]}))}})})]}),(0,_.jsxs)("div",{className:"flex justify-end items-end gap-2",children:[(0,_.jsx)("button",{onClick:()=>{t("PDBranchId",""),t("PDCompanyId",""),t("status","")},className:"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,_.jsx)("span",{className:"text-[12px]",children:"Reset"})}),T&&(0,_.jsx)(D.A,{placement:"topLeft",title:"Add Proposal",children:(0,_.jsxs)("button",{onClick:()=>{F("/admin/proposal/create")},className:"bg-header px-2 py-1.5 rounded-md flex justify-center items-center space-x-2 text-white",children:[(0,_.jsx)(p.OiG,{}),(0,_.jsx)("span",{className:"text-[12px]",children:"Add Proposal"})]})})]})]}),(0,_.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:H&&(0,_.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,_.jsx)("thead",{className:"",children:(0,_.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize bg-header text-white font-[500] h-[40px]",children:[(0,_.jsx)("th",{className:"tableHead w-[10%]",children:"S.No."}),(0,_.jsx)("th",{className:"tableHead w-[15%]",children:"Name"}),(0,_.jsx)("th",{className:"tableHead",children:"Email"}),(0,_.jsx)("th",{className:"tableHead",children:"Mobile Number"}),(0,_.jsx)("th",{className:"tableHead",children:"Proposal Amount"}),(0,_.jsx)("th",{className:"tableHead",children:"Remarks"}),(0,_.jsx)("th",{className:"tableHead",children:"Finalize Remark"}),(0,_.jsx)("th",{className:"tableHead",children:"Finalize Amount"}),(0,_.jsx)("th",{className:"tableHead",children:"Updated By"}),(0,_.jsx)("th",{className:"tableHead",children:"Updated At"}),(0,_.jsx)("th",{className:"tableHead",children:"Status"}),(T||q||L)&&(0,_.jsx)("th",{className:"tableHead w-[10%]",children:"Action"})]})}),Q?(0,_.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,_.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,_.jsx)(O.A,{})})}):(0,_.jsx)("tbody",{children:J&&(null===J||void 0===J?void 0:J.length)>0?null===J||void 0===J?void 0:J.map((e,t)=>{var a,l,s,n,i,o,r,d,c,p;return(0,_.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] ".concat(t%2===0?"bg-[#e9ecef]/80":"bg-white"," text-[#374151]"),children:[(0,_.jsx)("td",{className:"tableData ",children:t+1+10*(se-1)}),(0,_.jsx)("td",{className:"tableData ",children:null!==(a=null===e||void 0===e?void 0:e.name)&&void 0!==a?a:"-"}),(0,_.jsx)("td",{className:"tableData ",children:null!==(l=null===e||void 0===e?void 0:e.email)&&void 0!==l?l:"-"}),(0,_.jsx)("td",{className:"tableData ",children:(null===e||void 0===e||null===(s=e.mobile)||void 0===s?void 0:s.code)+(null===e||void 0===e||null===(n=e.mobile)||void 0===n?void 0:n.number)}),(0,_.jsx)("td",{className:"tableData ",children:null!==(i=null===e||void 0===e?void 0:e.fee)&&void 0!==i?i:"-"}),(0,_.jsx)("td",{className:"tableData ",children:null!==(o=null===e||void 0===e?void 0:e.description)&&void 0!==o?o:"-"}),(0,_.jsx)("td",{className:"tableData ",children:null!==(r=null===e||void 0===e?void 0:e.remark)&&void 0!==r?r:"-"}),(0,_.jsx)("td",{className:"tableData ",children:null!==(d=null===e||void 0===e?void 0:e.finalizedAmount)&&void 0!==d?d:"-"}),(0,_.jsx)("td",{className:"tableData ",children:null!==(c=null===e||void 0===e?void 0:e.updatedBy)&&void 0!==c?c:"-"}),(0,_.jsx)("td",{className:"tableData ",children:null!==(p=I()(null===e||void 0===e?void 0:e.updatedAt).format("DD-MM-YYYY hh:mm a"))&&void 0!==p?p:"-"}),(0,_.jsx)("td",{className:"tableData ",children:(0,_.jsx)("span",{className:"".concat("Approved"===(null===e||void 0===e?void 0:e.status)?"bg-[#E0FFBE] border-green-500":"Pending"===(null===e||void 0===e?void 0:e.status)?"bg-gray-500 border-gray-500 text-white":"bg-red-200 border-red-500"," border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]"),children:null===e||void 0===e?void 0:e.status})}),(T||q||L)&&(0,_.jsx)("td",{className:"tableData",children:(0,_.jsx)(N.A,{trigger:["click"],menu:{items:Ce(e)},placement:"bottomLeft",children:(0,_.jsx)(D.A,{placement:"topLeft",title:"More Actions",children:(0,_.jsx)("button",{className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,_.jsx)(R.xWf,{className:"hover:text-[#337ab7] text-[#3c8dbc]",size:16})})})})})]})}):(0,_.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,_.jsx)("td",{colSpan:5,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(null===J||void 0===J?void 0:J.length)>0&&(0,_.jsx)(v.A,{totalCount:G,pageSize:10,currentPage:se,onChange:e=>{ne(e)}})]})]})}},65337:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(91686),s=a(70579);const n=function(){return(0,s.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,s.jsx)(l.A,{size:"large"})})}}}]);
//# sourceMappingURL=9850.056457cb.chunk.js.map