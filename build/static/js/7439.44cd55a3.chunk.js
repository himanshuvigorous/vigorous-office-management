"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[7439],{7439:(e,d,a)=>{a.r(d),a.d(d,{default:()=>g});var l=a(89379),i=a(65043),n=a(83003),s=a(73216),o=a(24858),r=a(39160),c=a(735),t=a(15187),u=a(31174),m=a(31744),v=a(78729),p=(a(16520),a(65512)),h=(a(6359),a(55640)),x=a(17995),y=a(70579);const g=function(){const{loading:e}=(0,n.d4)(e=>e.digitalSignatureType),{register:d,handleSubmit:a,setValue:g,control:j,formState:{errors:N}}=(0,o.mN)(),{userCompanyId:f,userDirectorId:I,userBranchId:b,userType:S}=(0,c.A)(),A=(0,n.wA)(),D=(0,s.Zp)(),{digitalSignIdEnc:T}=(0,s.g)(),C=(0,u.Yc)(T),{DigitalSignatureTypeDetails:w,loading:P}=(0,n.d4)(e=>e.digitalSignatureType),B=JSON.parse(localStorage.getItem("user_info_".concat(t.AU))),{clientServiceDetails:_}=(0,n.d4)(e=>e.clientService),{companyList:O}=(0,n.d4)(e=>e.company),{countryListData:L}=(0,n.d4)(e=>e.country),{branchList:q}=(0,n.d4)(e=>e.branch),E=(0,o.FH)({control:j,name:"PDCompanyId",defaultValue:f}),H=((0,o.FH)({control:j,name:"directorId",defaultValue:I}),(0,o.FH)({control:j,name:"PDBranchId",defaultValue:b}));return(0,i.useEffect)(()=>{(E||"company"===(null===B||void 0===B?void 0:B.userType)||"companyDirector"===(null===B||void 0===B?void 0:B.userType))&&A((0,m.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===B||void 0===B?void 0:B.userType)?E:"company"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.companyId}))},[E]),(0,i.useEffect)(()=>{"admin"===(null===B||void 0===B?void 0:B.userType)&&A((0,v.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,i.useEffect)(()=>{let e={_id:C};A((0,h.Fm)(e))},[]),(0,i.useEffect)(()=>{w&&(g("PDCompanyId",null===w||void 0===w?void 0:w.companyId),g("PDBranchId",null===w||void 0===w?void 0:w.branchId),g("name",null===w||void 0===w?void 0:w.name),g("status",null===w||void 0===w?void 0:w.status))},[w]),(0,y.jsx)(r.A,{children:(0,y.jsx)("div",{className:"gap-4",children:(0,y.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:a(e=>{const d={_id:C,companyId:"admin"===(null===B||void 0===B?void 0:B.userType)?E:"company"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.companyId,directorId:"",branchId:"company"===(null===B||void 0===B?void 0:B.userType)||"admin"===(null===B||void 0===B?void 0:B.userType)||"companyDirector"===(null===B||void 0===B?void 0:B.userType)?H:"companyBranch"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.branchId,name:null===e||void 0===e?void 0:e.name,status:null===e||void 0===e?void 0:e.status};A((0,h.al)(d)).then(e=>{e.error||D(-1)})}),children:[(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===B||void 0===B?void 0:B.userType)&&(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("label",{className:"".concat(t.Q0),children:["Company ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsxs)("select",(0,l.A)((0,l.A)({},d("PDCompanyId",{required:"company is required"})),{},{className:" ".concat(t.Ol," ").concat(N.PDCompanyId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,y.jsx)("option",{className:"",value:"",children:"Select Company"}),null===O||void 0===O?void 0:O.map(e=>(0,y.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName}))]})),N.PDCompanyId&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:N.PDCompanyId.message})]}),("admin"===(null===B||void 0===B?void 0:B.userType)||"company"===(null===B||void 0===B?void 0:B.userType)||"companyDirector"===(null===B||void 0===B?void 0:B.userType))&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"".concat(t.Q0),children:["Branch ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(o.xI,{disabled:!0,name:"PDBranchId",control:j,rules:{required:"Branch is required"},render:e=>{let{field:d}=e;return(0,y.jsxs)(p.A,(0,l.A)((0,l.A)({},d),{},{className:"".concat(t.Hy," ").concat(N.PDBranchId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Branch",children:[(0,y.jsx)(p.A.Option,{value:"",children:"Select Branch"}),null===q||void 0===q?void 0:q.map(e=>(0,y.jsx)(p.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),N.PDBranchId&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:N.PDBranchId.message})]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,y.jsxs)("div",{className:"",children:[(0,y.jsxs)("label",{className:"".concat(t.Q0),children:["Name ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)("input",(0,l.A)((0,l.A)({type:"text"},d("name",{required:"Name is required"})),{},{className:"placeholder: ".concat(t.Ol," ").concat(N.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Name"})),N.name&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:N.name.message})]}),(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsxs)("label",{className:"".concat(t.Q0),children:["Status ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)(o.xI,{name:"status",control:j,render:e=>{let{field:d}=e;return(0,y.jsxs)(p.A,(0,l.A)((0,l.A)({},d),{},{className:"".concat(t.Hy," ").concat(N.status?"border-[1px] ":"border-gray-300"),placeholder:"Select Status",showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,y.jsx)(p.A.Option,{value:!0,children:"Active"}),(0,y.jsx)(p.A.Option,{value:!1,children:"In Active"})]}))}}),N.status&&(0,y.jsx)("p",{className:"text-red-500 text-sm",children:N.status.message})]})]}),(0,y.jsx)("div",{className:"flex justify-end ",children:(0,y.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded"),children:e?(0,y.jsx)(x.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=7439.44cd55a3.chunk.js.map