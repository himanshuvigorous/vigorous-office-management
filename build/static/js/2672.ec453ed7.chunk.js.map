{"version":3,"file":"static/js/2672.ec453ed7.chunk.js","mappings":"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","sources":["pages/organizationType/OrganizationTypeList.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport GlobalLayout from \"../../global_layouts/GlobalLayout/GlobalLayout\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport Swal from \"sweetalert2\";\nimport { encrypt } from \"../../config/Encryption\";\nimport { FaPlus, FaPenToSquare, FaPencil, FaAngleDown } from \"react-icons/fa6\";\nimport {\n  deleteOrgType,\n  getOrgTypeList,\n  orgTypeSearch,\n} from \"./organizationTypeFeatures/_org_type_reducers\";\nimport { RiDeleteBin5Line } from \"react-icons/ri\";\nimport { useForm } from \"react-hook-form\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { AiOutlineMessage } from \"react-icons/ai\";\nimport { IoMdNotificationsOutline } from \"react-icons/io\";\nimport { HiOutlineFilter } from \"react-icons/hi\";\nimport { LoginDetails } from \"../../component/LoginDetails/LoginDetails\";\nimport CustomPagination from \"../../component/CustomPagination/CustomPagination\";\nimport { Select, Tooltip } from \"antd\";\nimport { domainName, inputAntdSelectClassNameFilter } from \"../../constents/global\";\nimport usePermissions from \"../../config/usePermissions\";\nimport Loader2 from \"../../global_layouts/Loader/Loader2\";\nimport dayjs from \"dayjs\";\n\nfunction OrganizationTypeList() {\n  const {\n    register,\n    setValue,\n    formState: { errors },\n  } = useForm();\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { orgTypeList, totalOrgTypeCount, loading } = useSelector(\n    (state) => state.orgType\n  );\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchText, setSearchText] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\nconst userInfoglobal = JSON.parse(\n    localStorage.getItem(`user_info_${domainName}`)\n  );\n  const onPaginationChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  const limit = 10;\n\n  \n\n  const filters = [status, searchText].join(\"-\");\n  const [isFirstRender ,setisFirstRender] = useState(false)\n  \n  useEffect(() => {\n    if (!isFirstRender) {\n      setisFirstRender(state=>true);\n      return;\n    }\n    if (currentPage === 1) {\n      fetchOrgTypeList();\n    } else {\n      setCurrentPage(1);\n    }\n  }, [filters])\n\n  useEffect(() => {\n    fetchOrgTypeList();\n  }, [currentPage]);\n\n  const fetchOrgTypeList = () => {\n    const reqData = {\n      page: currentPage,\n      companyId:\n          userInfoglobal?.userType === \"admin\"\n            ? ''\n            : userInfoglobal?.userType === \"company\"\n              ? userInfoglobal?._id\n              : userInfoglobal?.companyId,\n      limit: limit,\n      text: searchText,\n      sort: false,\n      status: status,\n      isPagination: true,\n    };\n    dispatch(getOrgTypeList(reqData));\n  };\n\n  const handleDelete = (id) => {\n    let reqData = {\n      _id: id,\n    };\n    const listData = {\n      limit: 20,\n      page: 1,\n      text: \"\",\n      sort: false,\n      status: \"\",\n    };\n    Swal.fire({\n      title: \"Warning\",\n      text: \"Are you sure you want to delete!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      cancelButtonText: \"No\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        dispatch(deleteOrgType(reqData)).then((data) => {\n\n          // if (!data.error) dispatch(getOrgTypeList(listData));\n           if (currentPage > 1 && orgTypeList?.length==1) {\n            setCurrentPage(Number(currentPage-1));  \n             \n          }else {\n        if (!data.error) dispatch(getOrgTypeList(listData));  \n          } \n        });\n      }\n    });\n  };\n\n  const handleOnChange = async (event) => {\n    const searchValue = event.target.value;\n    setValue(\"search\", searchValue);\n\n    if (searchValue.trim().length > 0) {\n      let reqData = {\n        searchValue: searchValue,\n        size: 3,\n        pageNo: 1,\n      };\n \n      dispatch(orgTypeSearch(reqData));\n    }\n  };\n\n  const onChange = (e) => {\n\n    setSearchText(e);\n    if(currentPage!=1){\n      setCurrentPage(1)\n    }\n  };\n\n  const { canCreate, canRead, canUpdate, canDelete } = usePermissions();\n\n  return (\n    <GlobalLayout onChange={onChange}>\n      <div className=\"\">\n        <div class=\"sm:flex justify-between items-center py-1 lg:space-y-0 space-y-2 overflow-y-auto\">\n          <div className=\"grid sm:grid-cols-2 grid-cols-1 lg:grid-cols-2 sm:gap-3 gap-1\">\n            <Select\n              className={` ${inputAntdSelectClassNameFilter} `}\n              value={status}\n              onChange={(e) => {\n                setStatus(e);\n              }}\n              placeholder=\"Select Status\"\n              showSearch\n              filterOption={(input, option) =>\n                String(option?.children)\n                  .toLowerCase()\n                  .includes(input.toLowerCase())\n              }\n            >\n              <Select.Option value=\"\">Select Status</Select.Option>\n              <Select.Option value={true}>{\"Active\"}</Select.Option>\n              <Select.Option value={false}>{\"InActive\"}</Select.Option>\n            </Select>\n          </div>\n\n          <div className=\"flex justify-end items-center gap-2\">\n            <button\n              onClick={() => {\n                setStatus(\"\");\n              }}\n              className=\"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white\"\n            >\n              <span className=\"text-[12px]\">Reset</span>\n            </button>\n\n            \n            {canCreate && (\n              <button\n                onClick={() => {\n                  navigate(\"/admin/organization-type/create\");\n                }}\n                className=\"bg-header px-2 py-1.5 rounded-md flex justify-center items-center space-x-2 text-white\"\n              >\n                <FaPlus />\n                <span className=\"text-[12px]\">Add Organization type</span>\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl\">\n        {canRead && (\n          <table className=\"w-full max-w-full rounded-xl overflow-x-auto \">\n            <thead className=\"\">\n              <tr className=\"border-b-[1px] border-[#DDDDDD] bg-header capitalize text-[12px] text-[#fff]  \">\n                <th className=\"p-2 whitespace-nowrap  w-[10%]\">\n                  S.No.\n                </th>\n                <th className=\"p-2 whitespace-nowrap  w-[10%]\">\n                  Name\n                </th>\n                <th className=\"p-2 whitespace-nowrap  w-[10%]\">\n                  createdAt\n                </th>\n                <th className=\"p-2 whitespace-nowrap  w-[10%]\">\n                  createdBy\n                </th>\n                <th className=\"p-2 whitespace-nowrap  w-[10%]\">\n                  Status\n                </th>\n                {(canUpdate || canDelete) && (\n                  <th className=\"p-2 whitespace-nowrap  w-[10%]\">\n                    Action\n                  </th>\n                )}\n              </tr>\n            </thead>\n            {loading ? (\n              <tr className=\"bg-white bg-opacity-5 \">\n                <td\n                  colSpan={10}\n                  className=\"px-6 py-2 whitespace-nowrap  font-[600] text-sm text-gray-500\"\n                >\n                  <Loader2 />\n                </td>\n              </tr>\n            ) : (\n              <tbody>\n                {orgTypeList && orgTypeList?.length > 0 ? (\n                  orgTypeList?.map((element, index) => (\n                    <tr\n                      className={`border-b-[1px] border-[#DDDDDD] text-black text-[14px] ${\n                        index % 2 === 0 ? \"bg-[#e9ecef]/80\" : \"bg-white\"\n                      }`}\n                    >\n                      <td className=\"whitespace-nowrap  border-none p-2 \">\n                        {index + 1 + (currentPage - 1) * limit}\n                      </td>\n                      <td className=\"whitespace-nowrap  border-none p-2 \">\n                        {element?.name ?? \"-\"}\n                      </td>\n                      <td className=\"whitespace-nowrap  border-none p-2 \">\n                        {dayjs(element?.createdAt).format(\n                          \"DD-MM-YYYY hh:mm a\"\n                        ) ?? \"-\"}\n                      </td>\n                      <td className=\"whitespace-nowrap  border-none p-2 \">\n                        {element?.createdBy ?? \"-\"}\n                      </td>\n                      <td className=\"whitespace-nowrap  border-none p-2 \">\n                        <span\n                          className={`${\n                            element?.status\n                              ? \"bg-[#E0FFBE] border-green-500\"\n                              : \"bg-red-200 border-red-500\"\n                          } border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]`}\n                        >\n                          {element?.status ? \"Active\" : \"Inactive\" ?? \"-\"}\n                        </span>\n                      </td>\n                      {(canUpdate || canDelete) && (\n                        <td className=\"whitespace-nowrap  p-2\">\n                          <span className=\"py-1.5 flex justify-start items-center space-x-2.5\">\n                            {canUpdate && (\n                              <Tooltip placement=\"topLeft\"  title=\"Edit\">\n                                <button\n                                  onClick={() => {\n                                    navigate(\n                                      `/admin/organization-type/edit/${encrypt(\n                                        element?._id\n                                      )}`\n                                    );\n                                  }}\n                                  className=\"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted\"\n                                  type=\"button\"\n                                >\n                                  <FaPenToSquare\n                                    className=\" hover:text-[#337ab7] text-[#3c8dbc]\"\n                                    size={16}\n                                  />\n                                </button>\n                              </Tooltip>\n                            )}\n                            {canDelete && (\n                              <Tooltip placement=\"topLeft\"  title=\"Delete\">\n                                <button\n                                  onClick={() => handleDelete(element?._id)}\n                                  className=\"px-2 py-1.5 rounded-md bg-transparent border border-muted\"\n                                  type=\"button\"\n                                >\n                                  <RiDeleteBin5Line\n                                    className=\"text-red-600 hover:text-red-500\"\n                                    size={16}\n                                  />\n                                </button>\n                              </Tooltip>\n                            )}\n                          </span>\n                        </td>\n                      )}\n                    </tr>\n                  ))\n                ) : (\n                  <tr className=\"bg-white bg-opacity-5\">\n                    <td\n                      colSpan={6}\n                      className=\"px-6 py-2 whitespace-nowrap font-[600] text-center text-sm text-gray-500\"\n                    >\n                      Record Not Found\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            )}\n          </table>\n        )}\n      </div>\n      {totalOrgTypeCount > limit && (\n        <CustomPagination\n          totalCount={totalOrgTypeCount}\n          pageSize={limit}\n          currentPage={currentPage}\n          onChange={onPaginationChange}\n        />\n      )}\n    </GlobalLayout>\n  );\n}\nexport default OrganizationTypeList;\n"],"names":["register","setValue","formState","errors","useForm","navigate","useNavigate","dispatch","useDispatch","orgTypeList","totalOrgTypeCount","loading","useSelector","state","orgType","currentPage","setCurrentPage","useState","searchText","setSearchText","status","setStatus","userInfoglobal","JSON","parse","localStorage","getItem","concat","domainName","filters","join","isFirstRender","setisFirstRender","useEffect","fetchOrgTypeList","reqData","page","companyId","userType","_id","limit","text","sort","isPagination","getOrgTypeList","canCreate","canRead","canUpdate","canDelete","usePermissions","_jsxs","GlobalLayout","onChange","e","children","_jsx","className","class","Select","inputAntdSelectClassNameFilter","value","placeholder","showSearch","filterOption","input","option","String","toLowerCase","includes","Option","onClick","FaPlus","colSpan","Loader2","length","map","element","index","_element$name","_dayjs$format","_element$createdBy","_Inactive","name","dayjs","createdAt","format","createdBy","Tooltip","placement","title","encrypt","type","FaPenToSquare","size","id","listData","Swal","icon","showCancelButton","cancelButtonText","then","result","isConfirmed","deleteOrgType","data","Number","error","handleDelete","RiDeleteBin5Line","CustomPagination","totalCount","pageSize"],"sourceRoot":""}