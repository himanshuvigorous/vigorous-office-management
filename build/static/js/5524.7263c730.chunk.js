"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[5524],{65337:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(91686),l=a(70579);const i=function(){return(0,l.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,l.jsx)(n.A,{size:"large"})})}},95524:(e,t,a)=>{a.r(t),a.d(t,{default:()=>de});var n=a(89379),l=a(65043),i=a(39160),s=a(73216),r=a(83003),d=a(23156),o=a(47196),c=a(30064),m=a.n(c),u=a(31174),p=(a(65337),a(78227)),x=a(15187),h=a(24858),v=a(31744),g=a(78729),b=a(65512),y=a(96651),j=a(4938),f=a(55971),N=a(60446),A=a.n(N),w=a(30295),I=a(53913),O=a(42837),S=a(89427),C=a(94084),D=a(86178),k=a.n(D),q=a(70579);const z=e=>{let{assignInventryModal:t,onClose:a,getAssetInventryListListRequest:i}=e;const{register:s,control:d,handleSubmit:o,reset:c,setValue:m,watch:u,formState:{errors:p}}=(0,h.mN)(),v=(0,r.wA)(),{employeList:g,employeeListLoading:y}=(0,r.d4)(e=>e.employe);(0,l.useEffect)(()=>{null!==t&&void 0!==t&&t.data&&null!==t&&void 0!==t&&t.isOpen&&j()},[t]);const j=()=>{var e,a;const n={text:"",status:!0,sort:!0,isTL:"",isHR:"",isPagination:!1,departmentId:"",designationId:"",companyId:null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.companyId,directorId:"",branchId:null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.branchId};v((0,O.qV)(n))},{loading:f}=(0,r.d4)(e=>e.AssetType),N=e=>{var n,l,s,r;const d={companyId:null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.companyId,directorId:"",branchId:null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.branchId,assetNameId:null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.assetNameId,_id:null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r._id,status:"assigned",employeId:null===e||void 0===e?void 0:e.employee,assignDate:A()(null===e||void 0===e?void 0:e.Assigndate).format("YYYY-MM-DD"),remarks:null===e||void 0===e?void 0:e.remarks,conditionOnAssign:null===e||void 0===e?void 0:e.conditionOnAssign,returnDate:"",conditionOnReturn:""};v((0,w.lO)(d)).then(e=>{null!==e&&void 0!==e&&e.error||(a(),c(),i())})};return(0,q.jsx)(I.A,{open:null===t||void 0===t?void 0:t.isOpen,onCancel:()=>{a(),c()},title:!1,width:1200,bodyStyle:{maxHeight:"60vh",overflowY:"auto",padding:"16px"},centered:!0,className:"antmodalclassName",footer:(0,q.jsx)("div",{className:"flex justify-end px-3 pb-2",children:(0,q.jsx)("button",{type:"button",disabled:f,onClick:()=>o(N)(),className:"".concat(f?"bg-gray-400":"bg-header"," text-sm text-white py-2 px-3 rounded mt-4"),children:f?(0,q.jsx)(S.A,{}):"Submit Details"})}),children:(0,q.jsx)("form",{autoComplete:"off",onSubmit:o(N),children:(0,q.jsx)("div",{children:(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 gap-2 px-3 md:my-4",children:[(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["Employee ",(0,q.jsx)("span",{className:"text-red-600",children:" *"})]}),(0,q.jsx)(h.xI,{name:"employee",control:d,rules:{required:"Employee is required"},render:e=>{let{field:t}=e;return(0,q.jsxs)(b.A,(0,n.A)((0,n.A)({},t),{},{className:"".concat(x.Hy," ").concat(p.employee?"border-[1px]":"border-gray-300"),getPopupContainer:()=>document.parentElement,dropdownStyle:{zIndex:3e3},placeholder:"Select Employee",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,q.jsx)(b.A.Option,{value:"",children:"Select Employee"}),y?(0,q.jsx)(b.A.Option,{disabled:!0,children:(0,q.jsx)(S.A,{})}):null===g||void 0===g?void 0:g.map(e=>(0,q.jsx)(b.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),p.employee&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:p.employee.message})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["Assign Date ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)(h.xI,{name:"Assigndate",control:d,rules:{required:"Date is required"},render:e=>{let{field:t}=e;return(0,q.jsx)(C.A,{field:t,errors:p,disabledDate:e=>e&&e.isAfter(k()().endOf("day"),"day")})}}),p.Assigndate&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:"Date is required"})]}),(0,q.jsx)("div",{className:"flex gap-3",children:(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["remarks ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)("input",(0,n.A)((0,n.A)({type:"text"},s("remarks",{required:"remarks is required"})),{},{className:"".concat(x.Ol," ").concat(p.remarks?"border-[1px] ":"border-gray-300"),placeholder:"Enter remarks"})),p.remarks&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:p.remarks.message})]})}),(0,q.jsx)("div",{className:"flex gap-3",children:(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["Condition On Assign ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)("input",(0,n.A)((0,n.A)({type:"text"},s("conditionOnAssign",{required:"Condition On Assign is required"})),{},{className:"".concat(x.Ol," ").concat(p.conditionOnAssign?"border-[1px] ":"border-gray-300"),placeholder:"Enter Condition On Assign"})),p.conditionOnAssign&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:p.conditionOnAssign.message})]})})]})})})})};var E=a(49804);const P=e=>{let{updateInventryModal:t,onClose:a,getAssetInventryListListRequest:i}=e;const{register:s,control:d,handleSubmit:o,reset:c,setValue:m,watch:u,formState:{errors:p}}=(0,h.mN)(),v=(0,r.wA)();(0,l.useEffect)(()=>{var e,a,n,l;null!==t&&void 0!==t&&t.data&&(m("name",null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.name),m("brand",null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.brand),m("model",null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.model),m("serialNumber",null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.serialNumber))},[null===t||void 0===t?void 0:t.data]);const g=e=>{var n,l,s,r;const d={companyId:null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.companyId,directorId:"",branchId:null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.branchId,assetNameId:null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.assetNameId,items:[{name:null===e||void 0===e?void 0:e.name,brand:null===e||void 0===e?void 0:e.brand,model:null===e||void 0===e?void 0:e.model,serialNumber:null===e||void 0===e?void 0:e.serialNumber,_id:null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r._id}]};v((0,w.cq)(d)).then(e=>{null!==e&&void 0!==e&&e.error||(a(),c(),i())})};return(0,q.jsx)(I.A,{open:null===t||void 0===t?void 0:t.isOpen,onCancel:()=>{a(),c()},title:!1,width:1200,bodyStyle:{maxHeight:"60vh",overflowY:"auto",padding:"16px"},centered:!0,className:"antmodalclassName",footer:(0,q.jsx)("div",{className:"flex justify-end px-3 pb-2",children:(0,q.jsx)("button",{type:"button",onClick:()=>o(g)(),className:"".concat(x.Wb),children:"Submit Details"})}),children:(0,q.jsx)("form",{autoComplete:"off",onSubmit:o(g),children:(0,q.jsx)("div",{children:(0,q.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 md:gap-8 gap-2 px-3 md:my-4",children:[(0,q.jsx)("div",{className:"flex gap-3",children:(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["Name ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)("input",(0,n.A)((0,n.A)({type:"text"},s("name",{required:"Name is required"})),{},{className:"".concat(x.Ol," ").concat(p.name?"border-[1px] ":"border-gray-300"),placeholder:"Enter Name"})),p.name&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:p.name.message})]})}),(0,q.jsx)("div",{className:"flex gap-3",children:(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["brand ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)("input",(0,n.A)((0,n.A)({type:"text"},s("brand",{required:"brand is required"})),{},{className:"".concat(x.Ol," ").concat(p.brand?"border-[1px] ":"border-gray-300"),placeholder:"Enter brand"})),p.brand&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:p.brand.message})]})}),(0,q.jsx)("div",{className:"flex gap-3",children:(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["model ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)("input",(0,n.A)((0,n.A)({type:"text"},s("model",{required:"model is required"})),{},{className:"".concat(x.Ol," ").concat(p.model?"border-[1px] ":"border-gray-300"),placeholder:"Enter model"})),p.model&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:p.model.message})]})}),(0,q.jsx)("div",{className:"flex gap-3",children:(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["serialNumber ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)("input",(0,n.A)((0,n.A)({type:"text"},s("serialNumber",{required:"serialNumber is required"})),{},{className:"".concat(x.Ol," ").concat(p.serialNumber?"border-[1px] ":"border-gray-300"),placeholder:"Enter serialNumber"})),p.serialNumber&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:p.serialNumber.message})]})})]})})})})};var B=a(60184);const L=e=>{let{returnInventryModal:t,onClose:a,getAssetInventryListListRequest:l}=e;const{register:i,control:s,handleSubmit:d,reset:o,setValue:c,watch:m,formState:{errors:u}}=(0,h.mN)(),p=(0,r.wA)(),{loading:v}=(0,r.d4)(e=>e.AssetType),g=e=>{var n,i,s,r,d,c,m;const u={companyId:null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.companyId,directorId:"",branchId:null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.branchId,assetNameId:null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.assetNameId,_id:null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r._id,employeId:null===t||void 0===t||null===(d=t.data)||void 0===d?void 0:d.employeId,assignDate:null===t||void 0===t||null===(c=t.data)||void 0===c?void 0:c.assignDate,conditionOnAssign:null===t||void 0===t||null===(m=t.data)||void 0===m?void 0:m.conditionOnAssign,remarks:null===e||void 0===e?void 0:e.remarks,status:null===e||void 0===e?void 0:e.status,returnDate:A()(null===e||void 0===e?void 0:e.returnDate).format("YYYY-MM-DD"),conditionOnReturn:null===e||void 0===e?void 0:e.conditionOnReturn};p((0,w.lO)(u)).then(e=>{null!==e&&void 0!==e&&e.error||(a(),o(),l())})};return(0,q.jsx)(I.A,{open:null===t||void 0===t?void 0:t.isOpen,onCancel:()=>{a(),o()},title:!1,width:1200,bodyStyle:{maxHeight:"60vh",overflowY:"auto",padding:"16px"},centered:!0,className:"antmodalclassName",footer:(0,q.jsx)("div",{className:"flex justify-end px-3 pb-2",children:(0,q.jsx)("button",{disabled:v,type:"button",onClick:()=>d(g)(),className:"".concat(v?"bg-gray-400":"bg-header"," text-sm text-white py-2 px-3 rounded mt-4"),children:v?(0,q.jsx)(S.A,{}):"Submit Details"})}),children:(0,q.jsx)("form",{autoComplete:"off",onSubmit:d(g),children:(0,q.jsx)("div",{children:(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 gap-2 px-3 md:my-4",children:[(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["Condition ",(0,q.jsx)("span",{className:"text-red-600",children:" *"})]}),(0,q.jsx)(h.xI,{name:"status",control:s,rules:{required:"status is required"},render:e=>{var t;let{field:a}=e;return(0,q.jsx)(b.A,(0,n.A)((0,n.A)({},a),{},{className:"".concat(x.Hy," ").concat(u.status?"border-[1px]":"border-gray-300"),getPopupContainer:()=>document.parentElement,dropdownStyle:{zIndex:3e3},placeholder:"Select status",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:null===(t=["lost","maintenance","retired","damaged","returned"])||void 0===t?void 0:t.map(e=>(0,q.jsx)(b.A.Option,{value:e,children:e},e))}))}}),u.status&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:u.status.message})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["Return Date ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)(h.xI,{name:"returnDate",control:s,rules:{required:"Date is required"},render:e=>{let{field:t}=e;return(0,q.jsx)(C.A,{field:t,errors:u,disabledDate:e=>e&&e.isAfter(k()().endOf("day"),"day")})}}),u.returnDate&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:"Date is required"})]}),(0,q.jsx)("div",{className:"flex gap-3",children:(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["remarks ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)("input",(0,n.A)((0,n.A)({type:"text"},i("remarks",{required:"remarks is required"})),{},{className:"".concat(x.Ol," ").concat(u.remarks?"border-[1px] ":"border-gray-300"),placeholder:"Enter remarks"})),u.remarks&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:u.remarks.message})]})}),(0,q.jsx)("div",{className:"flex gap-3",children:(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsxs)("label",{className:"".concat(x.Q0),children:["Condition On Return ",(0,q.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,q.jsx)("input",(0,n.A)((0,n.A)({type:"text"},i("conditionOnReturn",{required:"Condition On Return is required"})),{},{className:"".concat(x.Ol," ").concat(u.conditionOnReturn?"border-[1px] ":"border-gray-300"),placeholder:"Enter Condition On Return"})),u.conditionOnReturn&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:u.conditionOnReturn.message})]})})]})})})})};var H=a(98139),R=a.n(H),M=a(35296),Y=a(78887),_=a(43944),T=a(94414),W=a(78855),Q=a(78446);const V=(0,W.OF)("Timeline",e=>(e=>{const{componentCls:t,calc:a}=e;return{[t]:Object.assign(Object.assign({},(0,T.dF)(e)),{margin:0,padding:0,listStyle:"none",["".concat(t,"-item")]:{position:"relative",margin:0,paddingBottom:e.itemPaddingBottom,fontSize:e.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:e.itemHeadSize,insetInlineStart:a(a(e.itemHeadSize).sub(e.tailWidth)).div(2).equal(),height:"calc(100% - ".concat((0,_.zA)(e.itemHeadSize),")"),borderInlineStart:"".concat((0,_.zA)(e.tailWidth)," ").concat(e.lineType," ").concat(e.tailColor)},"&-pending":{["".concat(t,"-item-head")]:{fontSize:e.fontSizeSM,backgroundColor:"transparent"},["".concat(t,"-item-tail")]:{display:"none"}},"&-head":{position:"absolute",width:e.itemHeadSize,height:e.itemHeadSize,backgroundColor:e.dotBg,border:"".concat((0,_.zA)(e.dotBorderWidth)," ").concat(e.lineType," transparent"),borderRadius:"50%","&-blue":{color:e.colorPrimary,borderColor:e.colorPrimary},"&-red":{color:e.colorError,borderColor:e.colorError},"&-green":{color:e.colorSuccess,borderColor:e.colorSuccess},"&-gray":{color:e.colorTextDisabled,borderColor:e.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:a(e.itemHeadSize).div(2).equal(),insetInlineStart:a(e.itemHeadSize).div(2).equal(),width:"auto",height:"auto",marginBlockStart:0,paddingBlock:e.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:a(a(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.lineWidth).equal(),marginInlineStart:a(e.margin).add(e.itemHeadSize).equal(),marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{["> ".concat(t,"-item-tail")]:{display:"none"},["> ".concat(t,"-item-content")]:{minHeight:a(e.controlHeightLG).mul(1.2).equal()}}},["&".concat(t,"-alternate,\n        &").concat(t,"-right,\n        &").concat(t,"-label")]:{["".concat(t,"-item")]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:a(e.marginXXS).mul(-1).equal(),"&-custom":{marginInlineStart:a(e.tailWidth).div(2).equal()}},"&-left":{["".concat(t,"-item-content")]:{insetInlineStart:"calc(50% - ".concat((0,_.zA)(e.marginXXS),")"),width:"calc(50% - ".concat((0,_.zA)(e.marginSM),")"),textAlign:"start"}},"&-right":{["".concat(t,"-item-content")]:{width:"calc(50% - ".concat((0,_.zA)(e.marginSM),")"),margin:0,textAlign:"end"}}}},["&".concat(t,"-right")]:{["".concat(t,"-item-right")]:{["".concat(t,"-item-tail,\n            ").concat(t,"-item-head,\n            ").concat(t,"-item-head-custom")]:{insetInlineStart:"calc(100% - ".concat((0,_.zA)(a(a(e.itemHeadSize).add(e.tailWidth)).div(2).equal()),")")},["".concat(t,"-item-content")]:{width:"calc(100% - ".concat((0,_.zA)(a(e.itemHeadSize).add(e.marginXS).equal()),")")}}},["&".concat(t,"-pending\n        ").concat(t,"-item-last\n        ").concat(t,"-item-tail")]:{display:"block",height:"calc(100% - ".concat((0,_.zA)(e.margin),")"),borderInlineStart:"".concat((0,_.zA)(e.tailWidth)," dotted ").concat(e.tailColor)},["&".concat(t,"-reverse\n        ").concat(t,"-item-last\n        ").concat(t,"-item-tail")]:{display:"none"},["&".concat(t,"-reverse ").concat(t,"-item-pending")]:{["".concat(t,"-item-tail")]:{insetBlockStart:e.margin,display:"block",height:"calc(100% - ".concat((0,_.zA)(e.margin),")"),borderInlineStart:"".concat((0,_.zA)(e.tailWidth)," dotted ").concat(e.tailColor)},["".concat(t,"-item-content")]:{minHeight:a(e.controlHeightLG).mul(1.2).equal()}},["&".concat(t,"-label")]:{["".concat(t,"-item-label")]:{position:"absolute",insetBlockStart:a(a(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.tailWidth).equal(),width:"calc(50% - ".concat((0,_.zA)(e.marginSM),")"),textAlign:"end"},["".concat(t,"-item-right")]:{["".concat(t,"-item-label")]:{insetInlineStart:"calc(50% + ".concat((0,_.zA)(e.marginSM),")"),width:"calc(50% - ".concat((0,_.zA)(e.marginSM),")"),textAlign:"start"}}},"&-rtl":{direction:"rtl",["".concat(t,"-item-head-custom")]:{transform:"translate(50%, -50%)"}}})}})((0,Q.oX)(e,{itemHeadSize:10,customHeadPaddingVertical:e.paddingXXS,paddingInlineEnd:2})),e=>({tailColor:e.colorSplit,tailWidth:e.lineWidthBold,dotBorderWidth:e.wireframe?e.lineWidthBold:3*e.lineWidth,dotBg:e.colorBgContainer,itemPaddingBottom:1.25*e.padding}));var X=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const F=e=>{var{prefixCls:t,className:a,color:n="blue",dot:i,pending:s=!1,position:r,label:d,children:o}=e,c=X(e,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:m}=l.useContext(M.QO),u=m("timeline",t),p=R()("".concat(u,"-item"),{["".concat(u,"-item-pending")]:s},a),x=/blue|red|green|gray/.test(n||"")?void 0:n,h=R()("".concat(u,"-item-head"),{["".concat(u,"-item-head-custom")]:!!i,["".concat(u,"-item-head-").concat(n)]:!x});return l.createElement("li",Object.assign({},c,{className:p}),d&&l.createElement("div",{className:"".concat(u,"-item-label")},d),l.createElement("div",{className:"".concat(u,"-item-tail")}),l.createElement("div",{className:h,style:{borderColor:x,color:x}},i),l.createElement("div",{className:"".concat(u,"-item-content")},o))};var J=a(60436),U=a(40164),G=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const Z=e=>{var{prefixCls:t,className:a,pending:n=!1,children:i,items:s,rootClassName:r,reverse:d=!1,direction:o,hashId:c,pendingDot:m,mode:u=""}=e,p=G(e,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const x=(e,a)=>"alternate"===u?"".concat(t,"right"===e?"-item-right":"left"===e||a%2===0?"-item-left":"-item-right"):"left"===u?"".concat(t,"-item-left"):"right"===u||"right"===e?"".concat(t,"-item-right"):"",h=(0,J.A)(s||[]),v="boolean"===typeof n?null:n;n&&h.push({pending:!!n,dot:m||l.createElement(U.A,null),children:v}),d&&h.reverse();const g=h.length,b="".concat(t,"-item-last"),y=h.filter(e=>!!e).map((e,t)=>{var a;const i=t===g-2?b:"",s=t===g-1?b:"",{className:r}=e,o=G(e,["className"]);return l.createElement(F,Object.assign({},o,{className:R()([r,!d&&n?i:s,x(null!==(a=null===e||void 0===e?void 0:e.position)&&void 0!==a?a:"",t)]),key:(null===e||void 0===e?void 0:e.key)||t}))}),j=h.some(e=>!!(null===e||void 0===e?void 0:e.label)),f=R()(t,{["".concat(t,"-pending")]:!!n,["".concat(t,"-reverse")]:!!d,["".concat(t,"-").concat(u)]:!!u&&!j,["".concat(t,"-label")]:j,["".concat(t,"-rtl")]:"rtl"===o},a,r,c);return l.createElement("ol",Object.assign({},p,{className:f}),y)};var K=a(62149);const $=function(e,t){return e&&Array.isArray(e)?e:(0,K.A)(t).map(e=>{var t,a;return Object.assign({children:null!==(a=null===(t=null===e||void 0===e?void 0:e.props)||void 0===t?void 0:t.children)&&void 0!==a?a:""},e.props)})};var ee=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const te=e=>{const{getPrefixCls:t,direction:a,timeline:n}=l.useContext(M.QO),{prefixCls:i,children:s,items:r,className:d,style:o}=e,c=ee(e,["prefixCls","children","items","className","style"]),m=t("timeline",i);const u=(0,Y.A)(m),[p,x,h]=V(m,u),v=$(r,s);return p(l.createElement(Z,Object.assign({},c,{className:R()(null===n||void 0===n?void 0:n.className,d,h,u),style:Object.assign(Object.assign({},null===n||void 0===n?void 0:n.style),o),prefixCls:m,direction:a,items:v,hashId:x})))};te.Item=F;const ae=te;var ne=a(76399),le=a(20691),ie=a(17995);const se={assigned:"blue",returned:"green",retired:"orange",lost:"red",maintenance:"purple",damaged:"red",available:"green"},re=e=>{let{detailsInventryModal:t,onClose:a}=e;const n=(0,r.wA)(),{assetsInventryDetailsData:i,loading:s}=(0,r.d4)(e=>e.AssetType);(0,l.useEffect)(()=>{var e;null!==t&&void 0!==t&&t.data&&n((0,w.m_)({_id:null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e._id}))},[t]);const d=e=>A()(e).format("DD MMM YYYY, hh:mm A"),o=null!==i&&void 0!==i&&i.assetHistory?[...null===i||void 0===i?void 0:i.assetHistory].sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)):[];return(0,q.jsx)(I.A,{open:null===t||void 0===t?void 0:t.isOpen,onCancel:()=>{a()},title:"Asset Trailing History",width:1200,bodyStyle:{maxHeight:"60vh",overflowY:"auto",padding:"16px"},centered:!0,className:"antmodalclassName",footer:null,children:s?(0,q.jsx)(ie.A,{}):(0,q.jsx)("div",{children:o.length>0?(0,q.jsx)(ae,{mode:"left",children:o.map(e=>{return(0,q.jsx)(ae.Item,{label:d(e.createdAt),color:se[e.status],children:(0,q.jsxs)("div",{style:{marginBottom:16},children:[(0,q.jsx)(ne.A,{color:se[e.status],children:(t=e.status,t.charAt(0).toUpperCase()+t.slice(1))}),(0,q.jsxs)("span",{style:{marginLeft:8},children:["Updated by: ",e.updatedBy]}),(0,q.jsxs)(le.A,{bordered:!0,size:"small",column:1,style:{marginTop:8},children:[e.assignDate&&(0,q.jsx)(le.A.Item,{label:"Assign Date",children:A()(e.assignDate).format("DD MMM YYYY , hh:mm A")}),e.returnDate&&(0,q.jsx)(le.A.Item,{label:"Return Date",children:d(e.returnDate)}),e.employeName&&(0,q.jsx)(le.A.Item,{label:"Employee",children:e.employeName}),e.conditionOnAssign&&(0,q.jsx)(le.A.Item,{label:"Condition on Assign",children:e.conditionOnAssign}),e.conditionOnReturn&&(0,q.jsx)(le.A.Item,{label:"Condition on Return",children:e.conditionOnReturn}),e.remarks&&(0,q.jsx)(le.A.Item,{label:"Remarks",children:e.remarks})]})]})},e._id);var t})}):(0,q.jsx)("div",{children:"No trailing history found for this asset"})})})};const de=function(){const{register:e,control:t,formState:{errors:a},setValue:c}=(0,h.mN)(),N=((0,s.Zp)(),(0,r.wA)()),{AssetInventryListData:I,totalAssetInventryListCount:O,loading:S}=(0,r.d4)(e=>e.AssetType),{assetNameIdEnc:C,companyIdEnc:D,branchIdEnc:k}=(0,s.g)(),H=(0,u.Yc)(C),R=(0,u.Yc)(D),M=(0,u.Yc)(k),Y=JSON.parse(localStorage.getItem("user_info_".concat(x.AU))),[_,T]=(0,l.useState)(1),[W,Q]=(0,l.useState)(""),[V,X]=(0,l.useState)({data:null,isOpen:!1}),[F,J]=(0,l.useState)({data:null,isOpen:!1}),[U,G]=(0,l.useState)({data:null,isOpen:!1}),[Z,K]=(0,l.useState)({data:null,isOpen:!1}),{companyList:$}=(0,r.d4)(e=>e.company),{branchList:ee}=(0,r.d4)(e=>e.branch),te=(0,h.FH)({control:t,name:"PDCompanyId",defaultValue:""}),ae=(0,h.FH)({control:t,name:"PDBranchId",defaultValue:""}),ne=(0,h.FH)({control:t,name:"status",defaultValue:""});(0,l.useEffect)(()=>{te&&c("PDBranchId","")},[te]),(0,l.useEffect)(()=>{le()},[_,ae,te,ne,W]);const le=()=>{const e={currentPage:_,pageSize:10,reqData:{directorId:"",companyId:R,branchId:M,assetNameId:H,text:W,sort:!0,status:"true"===ne||"false"!==ne&&"",isPagination:!0}};N((0,w.GK)(e))};(0,l.useEffect)(()=>{(te||"company"===(null===Y||void 0===Y?void 0:Y.userType)||"companyDirector"===(null===Y||void 0===Y?void 0:Y.userType))&&N((0,v.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===Y||void 0===Y?void 0:Y.userType)?te:"company"===(null===Y||void 0===Y?void 0:Y.userType)?null===Y||void 0===Y?void 0:Y._id:null===Y||void 0===Y?void 0:Y.companyId}))},[te]),(0,l.useEffect)(()=>{"admin"===(null===Y||void 0===Y?void 0:Y.userType)&&N((0,g.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]);const{canCreate:ie,canRead:se,canUpdate:de,canDelete:oe}=(0,j.A)();return(0,q.jsx)(i.A,{onChange:e=>{Q(e)},children:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("div",{className:"",children:(0,q.jsxs)("div",{class:"sm:flex justify-between items-center py-1 lg:space-y-0 space-y-2 overflow-y-auto",children:[(0,q.jsxs)("div",{className:"grid sm:grid-cols-2 grid-cols-1 lg:grid-cols-2 sm:gap-3 gap-1",children:["admin"===(null===Y||void 0===Y?void 0:Y.userType)&&(0,q.jsxs)("div",{className:"",children:[(0,q.jsx)(h.xI,{name:"PDCompanyId",control:t,rules:{required:"Company is required"},render:e=>{let{field:t}=e;return(0,q.jsxs)(b.A,(0,n.A)((0,n.A)({},t),{},{className:"w-full ".concat(x.OJ," ").concat(a.PDCompanyId?"border-[1px] ":"border-gray-300"),placeholder:"Select Company",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,q.jsx)(b.A.Option,{value:"",children:"Select Company"}),null===$||void 0===$?void 0:$.map(e=>(0,q.jsx)(b.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),a.PDCompanyId&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:a.PDCompanyId.message})]}),("admin"===(null===Y||void 0===Y?void 0:Y.userType)||"company"===(null===Y||void 0===Y?void 0:Y.userType)||"companyDirector"===(null===Y||void 0===Y?void 0:Y.userType))&&(0,q.jsxs)("div",{className:"",children:[(0,q.jsx)(h.xI,{name:"PDBranchId",control:t,rules:{required:"Branch is required"},render:e=>{let{field:t}=e;return(0,q.jsxs)(b.A,(0,n.A)((0,n.A)({},t),{},{className:"".concat(x.OJ," ").concat(a.PDBranchId?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Branch",children:[(0,q.jsx)(b.A.Option,{value:"",children:"Select Branch"}),null===ee||void 0===ee?void 0:ee.map(e=>(0,q.jsx)(b.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),a.PDBranchId&&(0,q.jsx)("p",{className:"text-red-500 text-sm",children:a.PDBranchId.message})]})]}),(0,q.jsx)("div",{className:"flex justify-end items-center gap-2 ",children:(0,q.jsx)("button",{onClick:()=>{c("status",""),c("PDBranchId",""),c("PdDepartmentId",""),c("PdCompanyId","")},className:"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,q.jsx)("span",{className:"text-[12px]",children:"Reset"})})})]})}),(0,q.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:se&&(0,q.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,q.jsx)("thead",{className:"",children:(0,q.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] bg-header capitalize text-[12px] text-[#ffff] font-[500] h-[40px]",children:[(0,q.jsx)("th",{className:"p-2 whitespace-nowrap w-[10%]",children:"S.No."}),(0,q.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Name"}),(0,q.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Model"}),(0,q.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Brand"}),(0,q.jsx)("th",{className:"p-2 whitespace-nowrap",children:"Serial Number"}),(0,q.jsx)("th",{className:"p-2 whitespace-nowrap",children:"created At"}),(0,q.jsx)("th",{className:"p-2 whitespace-nowrap",children:"created By"}),(de||oe)&&(0,q.jsx)("th",{className:"p-2 whitespace-nowrap w-[10%]",children:"Action"})]})}),S?(0,q.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,q.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,q.jsx)(f.A,{})})}):(0,q.jsx)("tbody",{children:I&&(null===I||void 0===I?void 0:I.length)>0?null===I||void 0===I?void 0:I.map((e,t)=>(0,q.jsxs)("tr",{className:"text-black ".concat(t%2===0?"bg-[#e9ecef]/80":"bg-white"," text-[14px] border-b-[1px] border-[#DDDDDD]"),children:[(0,q.jsx)("td",{className:"whitespace-nowrap p-2",children:t+1+10*(_-1)}),(0,q.jsx)("td",{className:"whitespace-nowrap p-2",children:null===e||void 0===e?void 0:e.name}),(0,q.jsx)("td",{className:"whitespace-nowrap p-2",children:null===e||void 0===e?void 0:e.model}),(0,q.jsx)("td",{className:"whitespace-nowrap p-2",children:null===e||void 0===e?void 0:e.brand}),(0,q.jsx)("td",{onClick:()=>K({data:e,isOpen:!0}),className:"whitespace-nowrap p-2 text-header cursor-pointer font-semibold",children:null===e||void 0===e?void 0:e.serialNumber}),(0,q.jsx)("td",{className:"whitespace-nowrap p-2",children:A()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")}),(0,q.jsx)("td",{className:"whitespace-nowrap p-2",children:(null===e||void 0===e?void 0:e.createdBy)||"-"}),(de||oe)&&(0,q.jsx)("td",{className:"whitespace-nowrap p-2",children:(0,q.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2.5",children:[de&&(0,q.jsx)(y.A,{placement:"topLeft",title:"Edit",children:(0,q.jsx)("button",{onClick:()=>{G({data:e,isOpen:!0})},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,q.jsx)(d.Jcp,{className:" hover:text-[#337ab7] text-[#3c8dbc]",size:16})})}),de&&(0,q.jsx)(y.A,{placement:"topLeft",title:"Assign Item",children:(0,q.jsx)("button",{onClick:()=>{X({data:e,isOpen:!0})},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",disabled:"available"!==(null===e||void 0===e?void 0:e.status)||(null===e||void 0===e?void 0:e.employeId),children:(0,q.jsx)(E.IkI,{className:"available"!==(null===e||void 0===e?void 0:e.status)||null!==e&&void 0!==e&&e.employeId?"text-gray-400":" hover:text-[#337ab7] text-[#3c8dbc]",size:16})})}),de&&(0,q.jsx)(y.A,{placement:"topLeft",title:"Return Item",children:(0,q.jsx)("button",{onClick:()=>{J({data:e,isOpen:!0})},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",disabled:"assigned"!==(null===e||void 0===e?void 0:e.status),children:(0,q.jsx)(B.r7n,{className:"assigned"===(null===e||void 0===e?void 0:e.status)?" hover:text-[#337ab7] text-[#3c8dbc]":"text-gray-400",size:16})})}),de&&(0,q.jsx)(y.A,{placement:"topLeft",title:"Make Available",children:(0,q.jsx)("button",{onClick:()=>{N((0,w.lO)((0,n.A)((0,n.A)({},e),{},{status:"available"}))).then(e=>{null!==e&&void 0!==e&&e.error||le()})},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",disabled:"assigned"===(null===e||void 0===e?void 0:e.status)||"available"===(null===e||void 0===e?void 0:e.status),children:(0,q.jsx)(E.DNZ,{className:"assigned"!==(null===e||void 0===e?void 0:e.status)&&"available"!==(null===e||void 0===e?void 0:e.status)?" hover:text-[#337ab7] text-[#3c8dbc]":"text-gray-400",size:16})})}),oe&&(0,q.jsx)(y.A,{placement:"topLeft",title:"Delete",children:(0,q.jsx)("button",{onClick:()=>(e=>{let t={_id:e};m().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&N((0,w.xB)(t)).then(e=>{null!==e&&void 0!==e&&e.error||le()})})})(null===e||void 0===e?void 0:e._id),className:"px-2 py-1.5 rounded-md bg-transparent border border-muted",type:"button",children:(0,q.jsx)(o.tqC,{className:"text-red-600 hover:text-red-500",size:16})})})]})})]})):(0,q.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,q.jsx)("td",{colSpan:5,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(null===I||void 0===I?void 0:I.length)>0&&(0,q.jsx)(p.A,{totalCount:O,pageSize:10,currentPage:_,onChange:e=>{T(e)}}),(null===V||void 0===V?void 0:V.isOpen)&&(0,q.jsx)(z,{assignInventryModal:V,onClose:()=>{X({data:null,isOpen:!1})},getAssetInventryListListRequest:le}),(null===F||void 0===F?void 0:F.isOpen)&&(0,q.jsx)(L,{returnInventryModal:F,onClose:()=>{J({data:null,isOpen:!1})},getAssetInventryListListRequest:le}),(null===U||void 0===U?void 0:U.isOpen)&&(0,q.jsx)(P,{updateInventryModal:U,onClose:()=>{G({data:null,isOpen:!1})},getAssetInventryListListRequest:le}),(null===Z||void 0===Z?void 0:Z.isOpen)&&(0,q.jsx)(re,{detailsInventryModal:Z,onClose:()=>{K({data:null,isOpen:!1})},getAssetInventryListListRequest:le})]})})}}}]);
//# sourceMappingURL=5524.7263c730.chunk.js.map