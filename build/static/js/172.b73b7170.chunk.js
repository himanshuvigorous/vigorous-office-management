"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[172],{60172:(e,d,i)=>{i.r(d),i.d(d,{default:()=>y});var o=i(89379),l=i(24858),n=i(83003),r=i(73216),s=i(15187),a=i(65043),c=i(31744),t=i(78729),u=i(39160),v=i(65512),m=i(17995),p=i(89427),h=i(31421),x=i(70579);const y=function(){const{loading:e}=(0,n.d4)(e=>e.projectservice),{register:d,handleSubmit:i,control:y,formState:{errors:j}}=(0,l.mN)(),N=(0,n.wA)(),b=(0,r.Zp)(),f=JSON.parse(localStorage.getItem("user_info_".concat(s.AU))),{companyList:g,companyListLoading:A}=(0,n.d4)(e=>e.company),{branchList:I,branchListloading:T}=(0,n.d4)(e=>e.branch),C=(0,l.FH)({control:y,name:"PDCompanyId",defaultValue:""});return(0,a.useEffect)(()=>{(C||"company"===(null===f||void 0===f?void 0:f.userType)||"companyDirector"===(null===f||void 0===f?void 0:f.userType))&&N((0,c.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===f||void 0===f?void 0:f.userType)?C:"company"===(null===f||void 0===f?void 0:f.userType)?null===f||void 0===f?void 0:f._id:null===f||void 0===f?void 0:f.companyId}))},[C]),(0,a.useEffect)(()=>{"admin"===(null===f||void 0===f?void 0:f.userType)&&N((0,t.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,x.jsx)(u.A,{children:(0,x.jsx)("div",{className:"gap-4",children:(0,x.jsxs)("form",{autoComplete:"off",className:"mt-5 md:px-1",onSubmit:i(e=>{const d={companyId:"admin"===(null===f||void 0===f?void 0:f.userType)?null===e||void 0===e?void 0:e.PDCompanyId:"company"===(null===f||void 0===f?void 0:f.userType)?null===f||void 0===f?void 0:f._id:null===f||void 0===f?void 0:f.companyId,directorId:"companyDirector"===(null===f||void 0===f?void 0:f.userType)?null===f||void 0===f?void 0:f._id:null===f||void 0===f?void 0:f.directorId,branchId:"admin"===(null===f||void 0===f?void 0:f.userType)||"companyDirector"===(null===f||void 0===f?void 0:f.userType)||"company"===(null===f||void 0===f?void 0:f.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===f||void 0===f?void 0:f.userType)?null===f||void 0===f?void 0:f._id:null===f||void 0===f?void 0:f.branchId,name:e.projectserviceName};N((0,h.N5)(d)).then(e=>{b(-1)})}),children:[(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===f||void 0===f?void 0:f.userType)&&(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(s.Q0),children:["Company ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)(l.xI,{control:y,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:d}=e;return(0,x.jsxs)(v.A,(0,o.A)((0,o.A)({},d),{},{defaultValue:"",className:"".concat(s.Hy," "),filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,x.jsx)(v.A.Option,{value:"",children:"Select Company"}),A?(0,x.jsx)(v.A.Option,{disabled:!0,children:(0,x.jsx)(p.A,{})}):null===g||void 0===g?void 0:g.map(e=>(0,x.jsx)(v.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),j.PDCompanyId&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:j.PDCompanyId.message})]}),("admin"===(null===f||void 0===f?void 0:f.userType)||"company"===(null===f||void 0===f?void 0:f.userType)||"companyDirector"===(null===f||void 0===f?void 0:f.userType))&&(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(s.Q0),children:["Branch ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)(l.xI,{name:"PDBranchId",control:y,rules:{required:"Branch is required"},render:e=>{let{field:d}=e;return(0,x.jsxs)(v.A,(0,o.A)((0,o.A)({},d),{},{className:"".concat(s.Hy," ").concat(j.PDBranchId?"border-[1px] ":"border-gray-300"),placeholder:"Select Branch",showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,x.jsx)(v.A.Option,{value:"",children:"Select Branch"}),T?(0,x.jsx)(v.A.Option,{disabled:!0,children:(0,x.jsx)(p.A,{})}):null===I||void 0===I?void 0:I.map(e=>(0,x.jsx)(v.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),j.PDBranchId&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:j.PDBranchId.message})]}),(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("label",{className:"".concat(s.Q0),children:["Projects Services  ",(0,x.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,x.jsx)("input",(0,o.A)((0,o.A)({type:"text"},d("projectserviceName",{required:"Projects Services is required"})),{},{className:"".concat(s.Ol," ").concat(j.projectserviceName?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Projects Services"})),j.projectserviceName&&(0,x.jsx)("p",{className:"text-red-500 text-sm",children:j.projectserviceName.message})]})]}),(0,x.jsx)("div",{className:"flex justify-end ",children:(0,x.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,x.jsx)(m.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=172.b73b7170.chunk.js.map