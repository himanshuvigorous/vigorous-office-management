"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[311],{30311:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(89379),o=s(24858),l=s(39160),r=s(83003),d=s(73216),c=s(31174),n=s(65043),i=s(36105),u=s(15187),m=s(65512),x=s(17995),b=s(70579);const y=function(){const{loading:e}=(0,r.d4)(e=>e.country),{register:t,handleSubmit:s,setValue:y,control:h,watch:N,formState:{errors:v}}=(0,o.mN)(),p=(0,r.wA)(),C=(0,d.Zp)(),{countryIdEnc:j}=(0,d.g)(),f=(0,c.Yc)(j),{countryByIdData:g}=(0,r.d4)(e=>e.country),A=N("countryMobileNumberCode");return(0,n.useEffect)(()=>{A&&(A.startsWith("+")||y("countryMobileNumberCode","+".concat(A.replace(/\+/g,""))))},[A,y]),(0,n.useEffect)(()=>{let e={_id:f};p((0,i.fZ)(e))},[]),(0,n.useEffect)(()=>{if(g&&null!==g&&void 0!==g&&g.data){var e,t,s,a;y("name",null===g||void 0===g||null===(e=g.data)||void 0===e?void 0:e.name),y("countryCode",null===g||void 0===g||null===(t=g.data)||void 0===t?void 0:t.countryCode);const o=null===g||void 0===g||null===(s=g.data)||void 0===s?void 0:s.countryMobileNumberCode;y("countryMobileNumberCode",null!==o&&void 0!==o&&o.startsWith("+")?o:"+".concat(o)),y("status",null===g||void 0===g||null===(a=g.data)||void 0===a?void 0:a.status)}},[g]),(0,b.jsx)(l.A,{children:(0,b.jsx)("div",{className:"gap-4",children:(0,b.jsxs)("form",{autoComplete:"off",className:"mt-0 md:px-1",onSubmit:s(e=>{var t;const s={_id:f,name:e.name,countryCode:null===e||void 0===e?void 0:e.countryCode,countryMobileNumberCode:null!==e&&void 0!==e&&null!==(t=e.countryMobileNumberCode)&&void 0!==t&&t.startsWith("+")?null===e||void 0===e?void 0:e.countryMobileNumberCode:"+".concat(null===e||void 0===e?void 0:e.countryMobileNumberCode),status:null===e||void 0===e?void 0:e.status};p((0,i.Aj)(s)).then(e=>{e.error||C(-1)})}),children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-2 md:my-2 capitalize",children:[(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("label",{className:"".concat(u.Q0),children:["Country Name ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,a.A)((0,a.A)({type:"text"},t("name",{required:"Country Name is required"})),{},{className:"".concat(u.Ol," ").concat(v.name?"border-[1px] ":"border-gray-300"," "),placeholder:"Select Country Name"})),v.name&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:v.name.message})]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("label",{className:"".concat(u.Q0),children:["Country Code ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,a.A)((0,a.A)({type:"text"},t("countryCode",{required:"Country Code is required"})),{},{className:"".concat(u.Ol," ").concat(v.countryCode?"border-[1px] ":"border-gray-300"," "),placeholder:"Select Country Code"})),v.countryCode&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:v.countryCode.message})]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("label",{className:"".concat(u.Q0),children:["Country Mobile Code ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,a.A)((0,a.A)({type:"text"},t("countryMobileNumberCode",{required:"Country Mobile Code is required",validate:e=>!!/^\+[0-9]+$/.test(e)||"Mobile code must start with + followed by numbers"})),{},{className:"".concat(u.Ol," ").concat(v.countryMobileNumberCode?"border-[1px] ":"border-gray-300"," "),placeholder:"+123"})),v.countryMobileNumberCode&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:v.countryMobileNumberCode.message})]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("label",{className:"".concat(u.Q0),children:["Status ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(o.xI,{name:"status",control:h,render:e=>{let{field:t}=e;return(0,b.jsxs)(m.A,(0,a.A)((0,a.A)({},t),{},{className:"".concat(u.Hy," ").concat(v.status?"border-[1px] ":"border-gray-300"),placeholder:"Select Status",children:[(0,b.jsx)(m.A.Option,{value:!0,children:"Active"}),(0,b.jsx)(m.A.Option,{value:!1,children:"In Active"})]}))}}),v.status&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:v.status.message})]})]}),(0,b.jsx)("div",{className:"flex justify-end ",children:(0,b.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,b.jsx)(x.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=311.15737b55.chunk.js.map