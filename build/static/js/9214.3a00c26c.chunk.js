"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[9214],{59214:(e,d,a)=>{a.r(d),a.d(d,{default:()=>A});var l=a(89379),n=a(24858),i=a(39160),o=a(83003),s=a(73216),c=a(65043),t=a(15187),r=a(31744),u=(a(78729),a(66015)),v=a(42837),m=a(31536),h=(a(88967),a(97893)),p=a(70337),x=a(12208),y=(a(8928),a(47989)),N=(a(33007),a(6720)),j=a(31174),b=a(86178),g=a.n(b),I=a(94084),f=a(70579);const A=()=>{var e,d;const{register:a,handleSubmit:b,control:A,watch:T,formState:{errors:q},setValue:Q}=(0,n.mN)({defaultValues:{}}),{clientExpenceDetails:_}=(0,o.d4)(e=>e.clientExpence),{clientExpenceIdEnc:k}=(0,s.g)(),D=(0,j.Yc)(k),O=(0,o.wA)(),H=(0,s.Zp)(),{companyList:C}=(0,o.d4)(e=>e.company),{branchList:S}=(0,o.d4)(e=>e.branch),E=JSON.parse(localStorage.getItem("user_info_".concat(t.AU))),{clientList:F}=(0,o.d4)(e=>e.client),w=(0,n.FH)({control:A,name:"PDCompanyId",defaultValue:""}),Y=(0,n.FH)({control:A,name:"PDBranchId",defaultValue:""}),{officeAddressListData:P}=(0,o.d4)(e=>e.officeAddress),{branchDetailsData:M}=(0,o.d4)(e=>e.branch),{employeList:V}=(0,o.d4)(e=>e.employe),{clientGroupList:L}=(0,o.d4)(e=>e.clientGroup),{invoiceListData:J}=(0,o.d4)(e=>e.invoice),{expenseTypeList:B}=(0,o.d4)(e=>e.expenceHead),{fields:G,append:z,remove:Z}=(0,n.jz)({control:A,name:"heads"});(0,c.useEffect)(()=>{(async()=>{if(D){Q("heads",[]);try{var e;const t=await O((0,h.cc)({_id:D}));if(!t.error&&null!==t&&void 0!==t&&null!==(e=t.payload)&&void 0!==e&&e.data){var d;const e=null===t||void 0===t||null===(d=t.payload)||void 0===d?void 0:d.data;Q("naration",e.naration),Q("date",g()(e.date)),Q("chequeNo",e.chequeNo),Q("transactionNo",e.transactionNo),Q("type",e.paymentMode);const u=await O((0,x.J_)({companyId:e.companyId,branchId:e.branchId,isPagination:!1,text:"",sort:!0,status:!0,groupId:""}));null!==u&&void 0!==u&&u.error||Q("groupName",e.clientGroupId);const h=await O((0,p.Aq)({companyId:e.companyId,branchId:e.branchId,groupId:e.groupId,isPagination:!1,sort:!0,status:!0}));if(null!==h&&void 0!==h&&h.error||Q("client",e.clientId),"cash"!==e.paymentmode){const d=await O((0,r.ZN)({_id:e.branchId}));null!==d&&void 0!==d&&d.error||Q("bankId",e.bankAccId)}if("cash"===e.paymentMode){var a,l,n;const d=await O((0,v.qV)({text:"",status:!0,sort:!0,isPagination:!1,companyId:e.companyId,branchId:e.branchId})),i=null===d||void 0===d||null===(a=d.payload)||void 0===a||null===(l=a.data)||void 0===l||null===(n=l.docs)||void 0===n?void 0:n.find(d=>(null===d||void 0===d?void 0:d._id)===e.employeId);null!==d&&void 0!==d&&d.error||Q("employeeId",{value:null===i||void 0===i?void 0:i._id,label:null===i||void 0===i?void 0:i.fullName})}const y=await O((0,m.dV)({text:"",sort:!0,status:!0,isPagination:!1,companyId:e.companyId,branchId:e.branchId}));if(null===y||void 0===y||!y.error){var i,o,s,c;const d=null===e||void 0===e||null===(i=e.heads)||void 0===i||null===(o=i.filter(e=>"head"===(null===e||void 0===e?void 0:e.headType)))||void 0===o?void 0:o.map(e=>({headType:"head",subHeadId:null===e||void 0===e?void 0:e.headId,amount:+(null===e||void 0===e?void 0:e.amount),financialYear:null===e||void 0===e?void 0:e.financialYear,type:null===e||void 0===e?void 0:e.type,monthName:null===e||void 0===e?void 0:e.monthName,monthQuaters:null===e||void 0===e?void 0:e.monthQuaters,description:null===e||void 0===e?void 0:e.description})),a=null===e||void 0===e||null===(s=e.heads)||void 0===s||null===(c=s.filter(e=>"other"===(null===e||void 0===e?void 0:e.headType)))||void 0===c?void 0:c.map(e=>({headType:"other",subHeadId:"",amount:+(null===e||void 0===e?void 0:e.amount),financialYear:"",type:"",monthName:"",monthQuaters:"",description:null===e||void 0===e?void 0:e.description}));d&&z(d),a&&z(a)}}}catch(t){console.error("Error fetching data",t)}}})()},[D]);const R=(()=>{const e=[];for(let d=2005;d<=2034;d++)e.push("".concat(d,"-").concat(d+1));return e})(),U=["January","February","March","April","May","June","July","August","September","October","November","December"],W=["Jan-Mar","Apr-Jun","Jul-Sept","Oct-Dec"],K=(0,n.FH)({control:A,name:"heads"});return(0,c.useEffect)(()=>{const e=null===K||void 0===K?void 0:K.reduce((e,d)=>e+Number(d.amount||0),0);Q("grandTotal",e)},[K,Q]),(0,f.jsx)(i.A,{children:(0,f.jsx)("div",{className:"gap-4",children:(0,f.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:b(e=>{var d,a,l,n,i;const o=null===e||void 0===e||null===(d=e.heads)||void 0===d||null===(a=d.filter(e=>"other"===(null===e||void 0===e?void 0:e.headType)))||void 0===a?void 0:a.map(e=>({headType:null===e||void 0===e?void 0:e.headType,description:null===e||void 0===e?void 0:e.description,amount:+(null===e||void 0===e?void 0:e.amount)})),s=null===e||void 0===e||null===(l=e.heads)||void 0===l||null===(n=l.filter(e=>"head"===(null===e||void 0===e?void 0:e.headType)))||void 0===n?void 0:n.map(e=>({headType:null===e||void 0===e?void 0:e.headType,headId:null===e||void 0===e?void 0:e.subHeadId,description:null===e||void 0===e?void 0:e.description,amount:+(null===e||void 0===e?void 0:e.amount),financialYear:null===e||void 0===e?void 0:e.financialYear,type:null===e||void 0===e?void 0:e.type,monthName:null===e||void 0===e?void 0:e.monthName,monthQuaters:null===e||void 0===e?void 0:e.monthQuaters})),c={_id:D,companyId:null===_||void 0===_?void 0:_.companyId,directorId:null===_||void 0===_?void 0:_.directorId,branchId:null===_||void 0===_?void 0:_.branchId,expenseType:"client_expense",clientGroupId:null===e||void 0===e?void 0:e.groupName,clientId:null===e||void 0===e?void 0:e.client,employeId:"cash"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e||null===(i=e.employeeId)||void 0===i?void 0:i.value:null,bankAccId:"cash"!==(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.bankId:null,paymentMode:null===e||void 0===e?void 0:e.type,totalAmount:null===e||void 0===e?void 0:e.grandTotal,chequeNo:"cheque"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.chequeNo:null,date:null===e||void 0===e?void 0:e.date,naration:null===e||void 0===e?void 0:e.naration,heads:[...o,...s],transactionNo:"bank"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.transactionNo:null};O((0,h.LD)(c)).then(e=>{e.error||H("/admin/clientExpence")})}),children:[(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3 md:mt-4",children:[(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:["Group Type ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsxs)("select",(0,l.A)((0,l.A)({},a("groupName",{required:"Organization type is required"})),{},{className:" ".concat(t.Ol," ").concat(q.groupName?"border-[1px] ":"border-gray-300"),onFocus:()=>{O((0,x.J_)({companyId:null===_||void 0===_?void 0:_.companyId,branchId:null===_||void 0===_?void 0:_.branchId,isPagination:!1,text:"",sort:!0,status:!0,groupId:""}))},onChange:e=>{var d;Q("maxAdvance",null===L||void 0===L||null===(d=L.find(d=>(null===d||void 0===d?void 0:d._id)===e.target.value))||void 0===d?void 0:d.advancedBalance)},children:[(0,f.jsx)("option",{className:"text-xs",value:"",children:"Select Group Type"}),null===L||void 0===L?void 0:L.map((e,d)=>(0,f.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName,"(",null===e||void 0===e?void 0:e.groupName,")"]}))]})),q.groupName&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:q.groupName.message})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:["Client ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsxs)("select",(0,l.A)((0,l.A)({},a("client",{required:"Client is required"})),{},{onFocus:()=>{O((0,p.Aq)({companyId:null===_||void 0===_?void 0:_.companyId,branchId:null===_||void 0===_?void 0:_.branchId,directorId:"",organizationId:"",industryId:"",groupId:T("groupName"),text:"",sort:!0,status:!0,isPagination:!1}))},className:" ".concat(t.Ol," ").concat(q.client?"border-[1px] ":"border-gray-300"),children:[(0,f.jsx)("option",{className:"text-xs",value:"",children:"Select Client"}),null===F||void 0===F?void 0:F.map((e,d)=>(0,f.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName}))]})),q.client&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:q.client.message})]})]}),(0,f.jsx)("div",{children:G.map((e,d)=>{var n,i,o,s,c,r,u,v,h,p,x,j,b,g,I,A,_,k,D,H,C,S,F,P,M,V,L,z,K,X,$,ee,de,ae,le,ne,ie,oe,se,ce,te,re,ue,ve,me,he,pe,xe,ye,Ne,je,be,ge,Ie,fe,Ae,Te,qe,Qe;return(0,f.jsxs)("div",{className:"border border-gray-300 rounded-md my-2",children:[(0,f.jsx)("div",{className:"flex justify-end bg-header rounded-t-md p-2",children:(0,f.jsx)("button",{className:"text-white",size:20,type:"button",onClick:()=>Z(d),children:(0,f.jsx)(N.b6i,{})})}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3 md:mt-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"".concat(t.Q0),children:"Head Type"}),(0,f.jsxs)("select",(0,l.A)((0,l.A)({},a("heads[".concat(d,"].headType"),{required:"Head type is required"})),{},{defaultValue:"head",className:" ".concat(t.Ol," ").concat(null!==q&&void 0!==q&&null!==(n=q.heads)&&void 0!==n&&null!==(i=n[d])&&void 0!==i&&i.headType?"border-[1px] ":"border-gray-300"),onChange:e=>{Q("heads[".concat(d,"].headType"),e.target.value),Q("heads[".concat(d,"].amount"),0),Q("heads[".concat(d,"].subHeadId"),""),Q("heads[".concat(d,"].invoiceId"),"")},children:[(0,f.jsx)("option",{value:"head",children:"Head"}),(0,f.jsx)("option",{value:"other",children:"Other"})]})),(null===q||void 0===q||null===(o=q.heads)||void 0===o||null===(s=o[d])||void 0===s?void 0:s.headType)&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:null===q||void 0===q||null===(c=q.heads)||void 0===c||null===(r=c[d])||void 0===r||null===(u=r.headType)||void 0===u?void 0:u.message})]}),"head"===T("heads[".concat(d,"].headType"))&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"".concat(t.Q0),children:"Expence Head"}),(0,f.jsxs)("select",(0,l.A)((0,l.A)({onFocus:()=>{O((0,m.dV)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===E||void 0===E?void 0:E.userType)?w:"company"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.companyId,branchId:"company"===(null===E||void 0===E?void 0:E.userType)||"admin"===(null===E||void 0===E?void 0:E.userType)||"companyDirector"===(null===E||void 0===E?void 0:E.userType)?T("PDBranchId"):"companyBranch"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.branchId}))}},a("heads[".concat(d,"].subHeadId"),{required:"Expence Head is required"})),{},{defaultValue:e.subHeadId,className:" ".concat(t.Ol," ").concat(null!==q&&void 0!==q&&null!==(v=q.heads)&&void 0!==v&&null!==(h=v[d])&&void 0!==h&&h.subHeadId?"border-[1px] ":"border-gray-300"),children:[(0,f.jsx)("option",{className:"text-xs",value:"",children:"Select Expence Head"}),null===B||void 0===B?void 0:B.map((e,d)=>(0,f.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name}))]})),(null===q||void 0===q||null===(p=q.heads)||void 0===p||null===(x=p[d])||void 0===x?void 0:x.subHeadId)&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:null===q||void 0===q||null===(j=q.heads)||void 0===j||null===(b=j[d])||void 0===b||null===(g=b.subHeadId)||void 0===g?void 0:g.message})]}),(0,f.jsx)("div",{className:"col-span-2 my-2",children:(0,f.jsxs)("div",{className:"grid ".concat("Yearly"===T("heads[".concat(d,"].type"))?"grid-cols-1 md:grid-cols-2":T("heads[".concat(d,"].type"))?"grid-cols-1 md:grid-cols-3":"grid-cols-1 md:grid-cols-2"," space-x-4"),children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:["Financial Year ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsxs)("select",(0,l.A)((0,l.A)({defaultValue:(0,t.Yz)()},a("heads[".concat(d,"].financialYear"),{required:"Financial year is required"})),{},{className:"".concat(t.Ol," ").concat(null!==q&&void 0!==q&&null!==(I=q.heads)&&void 0!==I&&null!==(A=I[d])&&void 0!==A&&A.financialYear?"border-[1px] ":"border-gray-300"),children:[(0,f.jsx)("option",{value:"",children:"Select Financial Year"}),R.map((e,d)=>(0,f.jsx)("option",{value:e,children:e},d))]})),(null===q||void 0===q||null===(_=q.heads)||void 0===_||null===(k=_[d])||void 0===k?void 0:k.financialYear)&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:null===q||void 0===q||null===(D=q.heads)||void 0===D||null===(H=D[d])||void 0===H?void 0:H.financialYear.message})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:["Type ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsxs)("select",(0,l.A)((0,l.A)({},a("heads[".concat(d,"].type"),{required:"Type is required"})),{},{className:"".concat(t.Ol," ").concat(null!==q&&void 0!==q&&null!==(C=q.heads)&&void 0!==C&&null!==(S=C[d])&&void 0!==S&&S.type?"border-[1px] ":"border-gray-300"),children:[(0,f.jsx)("option",{value:"",children:"Select Type"}),(0,f.jsx)("option",{value:"Quaterly",children:"Quaterly"}),(0,f.jsx)("option",{value:"Monthly",children:"Monthly"}),(0,f.jsx)("option",{value:"Yearly",children:"Yearly"})]})),(null===q||void 0===q||null===(F=q.heads)||void 0===F||null===(P=F[d])||void 0===P?void 0:P.type)&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:null===q||void 0===q||null===(M=q.heads)||void 0===M||null===(V=M[d])||void 0===V?void 0:V.type.message})]}),"Quaterly"===T("heads[".concat(d,"].type"))&&(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:["Quarter ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsxs)("select",(0,l.A)((0,l.A)({},a("heads[".concat(d,"].monthQuaters"),{required:"Reset Month is required"})),{},{className:"".concat(t.Ol," ").concat(null!==q&&void 0!==q&&null!==(L=q.heads)&&void 0!==L&&null!==(z=L[d])&&void 0!==z&&z.monthQuaters?"border-[1px] ":"border-gray-300"),children:[(0,f.jsx)("option",{value:"",children:"Select Quarter"}),W.map(e=>(0,f.jsx)("option",{value:e,children:e},e))]})),(null===q||void 0===q||null===(K=q.heads)||void 0===K||null===(X=K[d])||void 0===X?void 0:X.monthQuaters)&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:null===q||void 0===q||null===($=q.heads)||void 0===$||null===(ee=$[d])||void 0===ee?void 0:ee.monthQuaters.message})]}),"Monthly"===T("heads[".concat(d,"].type"))&&(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:["Month ",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsxs)("select",(0,l.A)((0,l.A)({},a("heads[".concat(d,"].monthName"),{required:"Month is required"})),{},{className:"".concat(t.Ol," ").concat(null!==q&&void 0!==q&&null!==(de=q.heads)&&void 0!==de&&null!==(ae=de[d])&&void 0!==ae&&ae.monthName?"border-[1px] ":"border-gray-300"),children:[(0,f.jsx)("option",{value:"",children:"Select Month"}),U.map(e=>(0,f.jsx)("option",{value:e,children:e},e))]})),(null===q||void 0===q||null===(le=q.heads)||void 0===le||null===(ne=le[d])||void 0===ne?void 0:ne.monthName)&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:null===q||void 0===q||null===(ie=q.heads)||void 0===ie||null===(oe=ie[d])||void 0===oe?void 0:oe.monthName.message})]})]})})]}),"invoice"===T("heads[".concat(d,"].headType"))&&(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"".concat(t.Q0),children:"Invoice ID"}),(0,f.jsxs)("select",(0,l.A)((0,l.A)({},a("heads[".concat(d,"].invoiceId"),{required:"Invoice ID is required"})),{},{onFocus:()=>{(()=>{const e={directorId:"",companyId:"admin"===(null===E||void 0===E?void 0:E.userType)?w:"company"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.companyId,branchId:"company"===(null===E||void 0===E?void 0:E.userType)||"admin"===(null===E||void 0===E?void 0:E.userType)||"companyDirector"===(null===E||void 0===E?void 0:E.userType)?Y:"companyBranch"===(null===E||void 0===E?void 0:E.userType)?null===E||void 0===E?void 0:E._id:null===E||void 0===E?void 0:E.branchId,clientId:T("client"),text:"",sort:!0,status:"Paid",isPagination:!0};O((0,y.W2)(e))})()},onChange:e=>{if("invoice"===T("heads[".concat(d,"].headType"))){var a;Q("heads[".concat(d,"].amount"),null===J||void 0===J||null===(a=J.find(d=>(null===d||void 0===d?void 0:d._id)===e.target.value))||void 0===a?void 0:a.grandTotal);const l=G.reduce((e,d,a)=>e+(parseFloat(T("heads[".concat(a,"].amount")))||0),0);Q("totalAmount",l)}},className:" ".concat(t.Ol," ").concat(null!==q&&void 0!==q&&null!==(se=q.heads)&&void 0!==se&&null!==(ce=se[d])&&void 0!==ce&&ce.invoiceId?"border-[1px] ":"border-gray-300"),children:[(0,f.jsx)("option",{className:"text-xs",value:"",children:"Select Client"}),null===J||void 0===J?void 0:J.map((e,d)=>(0,f.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.clientName,"(",null===e||void 0===e?void 0:e.invoiceNumber,")"]}))]})),(null===q||void 0===q||null===(te=q.heads)||void 0===te||null===(re=te[d])||void 0===re?void 0:re.invoiceId)&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:null===q||void 0===q||null===(ue=q.heads)||void 0===ue||null===(ve=ue[d])||void 0===ve||null===(me=ve.invoiceId)||void 0===me?void 0:me.message})]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3 md:mt-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"".concat(t.Q0),children:"Description"}),(0,f.jsx)("input",(0,l.A)((0,l.A)({},a("heads[".concat(d,"].description"),{required:"Description is required"})),{},{defaultValue:e.description,className:" ".concat(t.Ol," ").concat(null!==q&&void 0!==q&&null!==(he=q.heads)&&void 0!==he&&null!==(pe=he[d])&&void 0!==pe&&pe.description?"border-[1px] ":"border-gray-300")})),(null===q||void 0===q||null===(xe=q.heads)||void 0===xe||null===(ye=xe[d])||void 0===ye?void 0:ye.description)&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:null===q||void 0===q||null===(Ne=q.heads)||void 0===Ne||null===(je=Ne[d])||void 0===je||null===(be=je.description)||void 0===be?void 0:be.message})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"".concat(t.Q0),children:"Amount"}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"number",step:"0.01",disabled:"invoice"===T("heads[".concat(d,"].headType"))},a("heads[".concat(d,"].amount"),{required:"Amount is required"})),{},{onChange:e=>{const a=parseFloat(e.target.value)||0;Q("heads[".concat(d,"].amount"),a);const l=G.reduce((e,d,a)=>e+(parseFloat(T("heads[".concat(a,"].amount")))||0),0);Q("totalAmount",l)},className:" ".concat("invoice"===T("heads[".concat(d,"].headType"))?t.id:t.Ol," ").concat(null!==q&&void 0!==q&&null!==(ge=q.heads)&&void 0!==ge&&null!==(Ie=ge[d])&&void 0!==Ie&&Ie.amount?"border-[1px] ":"border-gray-300")})),(null===q||void 0===q||null===(fe=q.heads)||void 0===fe||null===(Ae=fe[d])||void 0===Ae?void 0:Ae.amount)&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:null===q||void 0===q||null===(Te=q.heads)||void 0===Te||null===(qe=Te[d])||void 0===qe||null===(Qe=qe.amount)||void 0===Qe?void 0:Qe.message})]})]})]},e.id)})}),(0,f.jsx)("button",{type:"button",onClick:()=>z({headType:"invoice"}),className:"bg-header text-white p-2 px-4 rounded mt-4",children:"Add more"}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-1 md:gap-8 md:my-1 px-3 md:mt-4",children:[T("grandTotal")>0&&(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("div",{className:" flex items-center gap-4",children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:[(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"radio",value:"cash"},a("type",{required:"Type is required"})),{},{className:"mr-2"})),"Cash"]}),(0,f.jsxs)("label",{className:"".concat(t.Q0),children:[(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"radio",value:"cheque"},a("type",{required:"Type is required"})),{},{className:"mr-2"})),"Cheque"]}),(0,f.jsxs)("label",{className:"".concat(t.Q0),children:[(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"radio",value:"bank"},a("type",{required:"Type is required"})),{},{className:"mr-2"})),"Bank"]})]}),q.type&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:q.type.message})]}),T("grandTotal")>0&&"cash"!==T("type")&&(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:["Sender Bank",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsxs)("select",(0,l.A)((0,l.A)({},a("bankId")),{},{className:"".concat(t.Ol,"  ").concat(q.bankId?"border-[1px] ":"border-gray-300"," "),onFocus:()=>{O((0,r.ZN)({_id:null===_||void 0===_?void 0:_.branchId}))},children:[(0,f.jsx)("option",{value:"",children:"select bank"}),(null===M||void 0===M||null===(e=M.data)||void 0===e?void 0:e.bankData)&&(null===M||void 0===M||null===(d=M.data)||void 0===d?void 0:d.bankData.length)>0&&M.data.bankData.map(e=>(0,f.jsx)("option",{value:e._id,children:"".concat(e.bankName," (").concat(e.branchName,")")},e._id))]})),q.bankId&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:q.bankId.message})]}),T("grandTotal")>0&&"cash"===T("type")&&(0,f.jsxs)("div",{className:"w-full",children:[(0,f.jsx)("label",{className:"".concat(t.Q0),children:"Employee"}),(0,f.jsx)(n.xI,{name:"employeeId",control:A,rules:{required:"Employee is required"},render:e=>{let{field:d}=e;return(0,f.jsx)(u.Ay,(0,l.A)((0,l.A)({},d),{},{onFocus:()=>O((0,v.qV)({text:"",status:!0,sort:!0,isTL:"",isHR:"",isPagination:!1,departmentId:"",designationId:"",companyId:null===_||void 0===_?void 0:_.companyId,branchId:null===_||void 0===_?void 0:_.branchId})),options:null===V||void 0===V?void 0:V.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.fullName})),classNamePrefix:"react-select",className:"".concat(t.Ph," ").concat(q.employeeId?"border-[1px] ":"border-gray-300"),placeholder:"Select Employee"}))}}),q.employeeId&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:q.employeeId.message})]}),T("grandTotal")>0&&"cheque"===T("type")&&(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:["Cheque No",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"text"},a("chequeNo",{required:"chequeNo is required"})),{},{className:" ".concat(t.Ol," ").concat(q.chequeNo?"border-[1px] ":"border-gray-300"),placeholder:"Enter Cheque no"})),q.chequeNo&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:q.chequeNo.message})]}),T("grandTotal")>0&&"bank"===T("type")&&(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:["Transaction No",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"text"},a("transactionNo",{required:"transaction No is required"})),{},{className:" ".concat(t.Ol," ").concat(q.transactionNo?"border-[1px] ":"border-gray-300"),placeholder:"Enter Cheque no"})),q.transactionNo&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:q.transactionNo.message})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:["Naration",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)("textarea",(0,l.A)((0,l.A)({},a("naration",{required:"Naration is required"})),{},{className:" ".concat(t.Ol," ").concat(q.naration?"border-[1px] ":"border-gray-300"),placeholder:"Enter Naration"})),q.naration&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:q.naration.message})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("label",{className:"".concat(t.Q0),children:["Date",(0,f.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,f.jsx)(n.xI,{name:"date",control:A,render:e=>{let{field:d}=e;return(0,f.jsx)(I.A,{field:d,errors:q})}}),q.date&&(0,f.jsx)("p",{className:"text-red-500 text-sm",children:q.date.message})]})]}),(0,f.jsx)("div",{className:"w-full flex flex-row items-end justify-end",children:(0,f.jsx)("div",{className:"",children:(0,f.jsxs)("div",{className:"",children:[(0,f.jsx)("label",{className:"".concat(t.Q0),children:"Grand Total"}),(0,f.jsx)("input",(0,l.A)((0,l.A)({type:"text"},a("grandTotal",{})),{},{className:"".concat(t.Ol),placeholder:"grandTotal",disabled:!0}))]})})}),(0,f.jsx)("div",{className:"flex justify-end",children:(0,f.jsx)("button",{type:"submit",className:"bg-header text-white p-2 px-4 rounded mt-4",children:"Submit"})})]})})})}}}]);
//# sourceMappingURL=9214.3a00c26c.chunk.js.map