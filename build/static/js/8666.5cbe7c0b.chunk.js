"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[8666],{96285:(e,a,s)=>{s.r(a),s.d(a,{default:()=>p});var l=s(89379),t=s(24858),c=s(83003),n=s(73216),r=s(65043),d=s(15187),o=(s(31744),s(78729),s(39160)),i=s(16998),u=s(31174),m=s(65512),x=s(17995),h=s(70579);const p=()=>{const{loading:e}=(0,c.d4)(e=>e.allowance),{register:a,handleSubmit:s,control:p,formState:{errors:v},setValue:N}=(0,t.mN)(),j=(0,c.wA)(),f=(0,n.Zp)(),{allowanceIdEnc:g}=(0,n.g)(),w=(0,u.Yc)(g),{allowanceDetailsData:b}=(0,c.d4)(e=>e.allowance);JSON.parse(localStorage.getItem("user_info_".concat(d.AU))),(0,t.FH)({control:p,name:"isPercentage",defaultValue:""});(0,r.useEffect)(()=>{w&&j((0,i.$V)({_id:w}))},[w]);return(0,r.useEffect)(()=>{b&&(N("allowanceName",null===b||void 0===b?void 0:b.name),N("status",!0===(null===b||void 0===b?void 0:b.status)?"true":!1===(null===b||void 0===b?void 0:b.status)?"false":""))},[b]),(0,h.jsx)(o.A,{children:(0,h.jsx)("div",{className:"gap-4",children:(0,h.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:s(e=>{const a={_id:w,companyId:null===b||void 0===b?void 0:b.companyId,directorId:null===b||void 0===b?void 0:b.directorId,branchId:null===b||void 0===b?void 0:b.branchId,name:null===e||void 0===e?void 0:e.allowanceName,description:"",isPercentage:!1,amount:0,status:"true"===e.status||"false"!==e.status&&""};j((0,i.K0)(a)).then(e=>{e.error||f(-1)})}),children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,h.jsxs)("div",{className:"",children:[(0,h.jsx)("label",{className:"".concat(d.Q0),children:"Name"}),(0,h.jsx)("input",(0,l.A)((0,l.A)({type:"text"},a("allowanceName",{required:"Allowance  is required"})),{},{className:"".concat(d.Ol," ").concat(v.allowanceName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Allowance  Name"})),v.allowanceName&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:v.allowanceName.message})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("label",{className:"".concat(d.Q0),children:["Status ",(0,h.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,h.jsx)(t.xI,{name:"status",control:p,rules:{required:"status is required"},render:e=>{let{field:a}=e;return(0,h.jsxs)(m.A,(0,l.A)((0,l.A)({},a),{},{className:" w-32 ".concat(d.Hy," ").concat(v.PDPlan?"border-[1px] ":"border-gray-300"),placeholder:"Select Status",showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,h.jsx)(m.A.Option,{value:"",children:"Select Status"}),(0,h.jsx)(m.A.Option,{value:"true",children:" Active "}),(0,h.jsx)(m.A.Option,{value:"false",children:" InActive "})]}))}}),v.status&&(0,h.jsx)("p",{className:"text-red-500 text-sm",children:v.status.message})]})]}),(0,h.jsx)("div",{className:"flex justify-end",children:(0,h.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,h.jsx)(x.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=8666.5cbe7c0b.chunk.js.map