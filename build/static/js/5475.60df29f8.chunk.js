"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[5475],{11645:(e,t,a)=>{a.d(t,{A:()=>n});const n=a(30227).A},26612:(e,t,a)=>{a.d(t,{A:()=>D});var n=a(65043),l=a(87483),o=a(45818),s=a(12701),i=a(98139),r=a.n(i),d=a(48060),c=a(35296),u=a(7650);const m=e=>{const{value:t,formatter:a,precision:l,decimalSeparator:o,groupSeparator:s="",prefixCls:i}=e;let r;if("function"===typeof a)r=a(t);else{const e=String(t),a=e.match(/^(-?)(\d*)(\.(\d+))?$/);if(a&&"-"!==e){const e=a[1];let t=a[2]||"0",d=a[4]||"";t=t.replace(/\B(?=(\d{3})+(?!\d))/g,s),"number"===typeof l&&(d=d.padEnd(l,"0").slice(0,l>0?l:0)),d&&(d="".concat(o).concat(d)),r=[n.createElement("span",{key:"int",className:"".concat(i,"-content-value-int")},e,t),d&&n.createElement("span",{key:"decimal",className:"".concat(i,"-content-value-decimal")},d)]}else r=e}return n.createElement("span",{className:"".concat(i,"-content-value")},r)};var p=a(94414),v=a(78855),x=a(78446);const h=(0,v.OF)("Statistic",e=>(e=>{const{componentCls:t,marginXXS:a,padding:n,colorTextDescription:l,titleFontSize:o,colorTextHeading:s,contentFontSize:i,fontFamily:r}=e;return{[t]:Object.assign(Object.assign({},(0,p.dF)(e)),{["".concat(t,"-title")]:{marginBottom:a,color:l,fontSize:o},["".concat(t,"-skeleton")]:{paddingTop:n},["".concat(t,"-content")]:{color:s,fontSize:i,fontFamily:r,["".concat(t,"-content-value")]:{display:"inline-block",direction:"ltr"},["".concat(t,"-content-prefix, ").concat(t,"-content-suffix")]:{display:"inline-block"},["".concat(t,"-content-prefix")]:{marginInlineEnd:a},["".concat(t,"-content-suffix")]:{marginInlineStart:a}}})}})((0,x.oX)(e,{})),e=>{const{fontSizeHeading3:t,fontSize:a}=e;return{titleFontSize:a,contentFontSize:t}});var f=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const y=n.forwardRef((e,t)=>{const{prefixCls:a,className:l,rootClassName:o,style:s,valueStyle:i,value:p=0,title:v,valueRender:x,prefix:y,suffix:g,loading:j=!1,formatter:b,precision:N,decimalSeparator:w=".",groupSeparator:A=",",onMouseEnter:S,onMouseLeave:D}=e,C=f(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:I,direction:L,className:T,style:E}=(0,c.TP)("statistic"),O=I("statistic",a),[P,M,F]=h(O),z=n.createElement(m,{decimalSeparator:w,groupSeparator:A,prefixCls:O,formatter:b,precision:N,value:p}),R=r()(O,{["".concat(O,"-rtl")]:"rtl"===L},T,l,o,M,F),k=n.useRef(null);n.useImperativeHandle(t,()=>({nativeElement:k.current}));const Y=(0,d.A)(C,{aria:!0,data:!0});return P(n.createElement("div",Object.assign({},Y,{ref:k,className:R,style:Object.assign(Object.assign({},E),s),onMouseEnter:S,onMouseLeave:D}),v&&n.createElement("div",{className:"".concat(O,"-title")},v),n.createElement(u.A,{paragraph:!1,loading:j,className:"".concat(O,"-skeleton")},n.createElement("div",{style:i,className:"".concat(O,"-content")},y&&n.createElement("span",{className:"".concat(O,"-content-prefix")},y),x?x(z):z,g&&n.createElement("span",{className:"".concat(O,"-content-suffix")},g)))))});const g=y,j=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function b(e,t,a){const{format:n=""}=t,l=new Date(e).getTime(),o=Date.now();return function(e,t){let a=e;const n=/\[[^\]]*]/g,l=(t.match(n)||[]).map(e=>e.slice(1,-1)),o=t.replace(n,"[]"),s=j.reduce((e,t)=>{let[n,l]=t;if(e.includes(n)){const t=Math.floor(a/l);return a-=t*l,e.replace(new RegExp("".concat(n,"+"),"g"),e=>{const a=e.length;return t.toString().padStart(a,"0")})}return e},o);let i=0;return s.replace(n,()=>{const e=l[i];return i+=1,e})}(a?Math.max(l-o,0):Math.max(o-l,0),n)}var N=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const w=e=>{const{value:t,format:a="HH:mm:ss",onChange:i,onFinish:r,type:d}=e,c=N(e,["value","format","onChange","onFinish","type"]),u="countdown"===d,[m,p]=n.useState(null),v=(0,l._q)(()=>{const e=Date.now(),a=function(e){return new Date(e).getTime()}(t);p({});return null===i||void 0===i||i(u?a-e:e-a),!(u&&a<e)||(null===r||void 0===r||r(),!1)});n.useEffect(()=>{let e;const t=()=>{e=(0,o.A)(()=>{v()&&t()})};return t(),()=>o.A.cancel(e)},[t,u]),n.useEffect(()=>{p({})},[]);return n.createElement(g,Object.assign({},c,{value:t,valueRender:e=>(0,s.Ob)(e,{title:void 0}),formatter:(e,t)=>m?b(e,Object.assign(Object.assign({},t),{format:a}),u):"-"}))},A=e=>n.createElement(w,Object.assign({},e,{type:"countdown"})),S=n.memo(A);g.Timer=w,g.Countdown=S;const D=g},36091:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(58168),l=a(65043);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};var s=a(22172),i=function(e,t){return l.createElement(s.A,(0,n.A)({},e,{ref:t,icon:o}))};const r=l.forwardRef(i)},46237:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(58168),l=a(65043);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var s=a(22172),i=function(e,t){return l.createElement(s.A,(0,n.A)({},e,{ref:t,icon:o}))};const r=l.forwardRef(i)},47419:(e,t,a)=>{a.d(t,{A:()=>n});const n=a(74647).A},75475:(e,t,a)=>{a.r(t),a.d(t,{default:()=>H});var n=a(89379),l=a(24858),o=a(83003),s=a(15187),i=a(65043),r=a(31744),d=a(39160),c=a(65512),u=a(97326),m=(a(86178),a(60446)),p=a.n(m),v=a(78227),x=a(12106),h=a(42837),f=(a(94084),a(69223)),y=a(55971),g=a(50822),j=a(6720),b=a(37762),N=a(64857),w=a(33007),A=(a(42044),a(89427)),S=a(60184),D=a(53913),C=a(13382),I=a(47419),L=a(11645),T=a(89073),E=a(26612),O=a(99472),P=a(76399),M=a(57692),F=a(81210),z=a(53727),R=a(36091),k=a(46237),Y=a(30119),_=a(70579);const B=e=>{let{isModalOpen:t,handleClose:a,assignleaveList:n}=e;const l=n.reduce((e,t)=>e+t.usedLeaves,0),o=n.reduce((e,t)=>e+t.availableLeaves,0),s=l+o,i=s>0?(l/s*100).toFixed(2):0;return(0,_.jsxs)(D.A,{title:(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)(F.A,{className:"text-blue-500 mr-2"}),(0,_.jsx)("span",{children:"Leave Balance Details"})]}),open:t,onCancel:a,footer:[(0,_.jsx)(C.Ay,{type:"primary",onClick:a,children:"Close"},"close")],width:800,className:"leave-balance-modal",closeIcon:(0,_.jsx)(z.A,{className:"text-gray-500"}),children:[(0,_.jsx)("div",{className:"mb-6",children:(0,_.jsxs)(I.A,{gutter:16,children:[(0,_.jsx)(L.A,{span:6,children:(0,_.jsx)(T.A,{size:"small",className:"text-center border-blue-200",children:(0,_.jsx)(E.A,{title:"Total Leaves",value:s,valueStyle:{color:"#1890ff"},prefix:(0,_.jsx)(R.A,{})})})}),(0,_.jsx)(L.A,{span:6,children:(0,_.jsx)(T.A,{size:"small",className:"text-center border-green-200",children:(0,_.jsx)(E.A,{title:"Available Leaves",value:o,valueStyle:{color:"#52c41a"},prefix:(0,_.jsx)(k.A,{})})})}),(0,_.jsx)(L.A,{span:6,children:(0,_.jsx)(T.A,{size:"small",className:"text-center border-amber-200",children:(0,_.jsx)(E.A,{title:"Used Leaves",value:l,valueStyle:{color:"#faad14"},prefix:(0,_.jsx)(Y.A,{})})})}),(0,_.jsx)(L.A,{span:6,children:(0,_.jsx)(T.A,{size:"small",className:"text-center border-purple-200",children:(0,_.jsx)(E.A,{title:"Utilization Rate",value:i,suffix:"%",valueStyle:{color:"#722ed1"}})})})]})}),(0,_.jsxs)("div",{className:"mb-4",children:[(0,_.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[(0,_.jsx)(R.A,{className:"text-gray-500 mr-2"}),"Leave Types Breakdown"]}),0===n.length?(0,_.jsx)(O.A,{image:O.A.PRESENTED_IMAGE_SIMPLE,description:"No leave data available"}):(0,_.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:n.map(e=>{const t=e.usedLeaves||0,a=e.availableLeaves||0,n=t+a,l=n>0?t/n*100:0;return(0,_.jsxs)(T.A,{size:"small",className:"shadow-sm hover:shadow-md transition-all",title:(0,_.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_.jsx)("span",{className:"font-medium",children:e.leaveTypeData.name}),e.leaveTypeData.isPaid&&(0,_.jsx)(P.A,{color:"green",className:"m-0",children:"Paid"})]}),extra:(0,_.jsxs)(P.A,{color:"blue",children:["Max: ",e.leaveTypeData.maxDays," days"]}),children:[(0,_.jsxs)("div",{className:"mb-4",children:[(0,_.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,_.jsx)("span",{children:"Usage Progress"}),(0,_.jsxs)("span",{children:[l.toFixed(0),"%"]})]}),(0,_.jsx)(M.A,{percent:l,showInfo:!1,strokeColor:{"0%":"#1890ff","100%":"#722ed1"}})]}),(0,_.jsxs)(I.A,{gutter:16,children:[(0,_.jsx)(L.A,{span:8,children:(0,_.jsxs)("div",{className:"text-center p-2 bg-blue-50 rounded border",children:[(0,_.jsx)("div",{className:"text-blue-700 font-bold text-lg",children:a}),(0,_.jsx)("div",{className:"text-blue-600 text-xs",children:"Available"})]})}),(0,_.jsx)(L.A,{span:8,children:(0,_.jsxs)("div",{className:"text-center p-2 bg-amber-50 rounded border",children:[(0,_.jsx)("div",{className:"text-amber-700 font-bold text-lg",children:t}),(0,_.jsx)("div",{className:"text-amber-600 text-xs",children:"Used"})]})}),(0,_.jsx)(L.A,{span:8,children:(0,_.jsxs)("div",{className:"text-center p-2 bg-gray-50 rounded border",children:[(0,_.jsx)("div",{className:"text-gray-700 font-bold text-lg",children:n}),(0,_.jsx)("div",{className:"text-gray-600 text-xs",children:"Total"})]})})]})]},e._id)})})]})]})};const H=function(){var e;const{control:t,formState:{errors:a},setValue:m}=(0,l.mN)(),D=(0,o.wA)(),{employeeleaveCountReportList:C,employeeleaveCountReportFunc_loading:I,employeeleaveCountReportCount:L}=(0,o.d4)(e=>e.reports),{employeList:T}=(0,o.d4)(e=>e.employe),[E,O]=(0,i.useState)(""),P=JSON.parse(localStorage.getItem("user_info_".concat(s.AU))),{leaveListData:M}=(0,o.d4)(e=>e.leaveType),[F,z]=(0,i.useState)(1),[R,k]=(0,i.useState)(""),{branchList:Y}=(0,o.d4)(e=>e.branch),H=(0,l.FH)({control:t,name:"PDCompanyId",defaultValue:""}),U=(0,l.FH)({control:t,name:"PDBranchId",defaultValue:""}),V=(0,l.FH)({control:t,name:"status",defaultValue:""}),K=(0,l.FH)({control:t,name:"employeeId"}),q=(0,l.FH)({control:t,name:"departmentId"}),[W,X]=(0,i.useState)(10),{departmentListData:J,loading:G}=(0,o.d4)(e=>e.department),[Q,$]=(0,i.useState)({data:null,isOpen:!1});(0,i.useEffect)(()=>{"company"!==(null===P||void 0===P?void 0:P.userType)&&"companyDirector"!==(null===P||void 0===P?void 0:P.userType)||D((0,r.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===P||void 0===P?void 0:P.userType)?H:"company"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.companyId})),D((0,w.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.companyId})),m("startDate",p()().subtract(1,"month")),m("endDate",p()())},[]),(0,i.useEffect)(()=>{te()},[F,R,W]),(0,i.useEffect)(()=>{const e=setTimeout(()=>{k(E)},500);return()=>{clearTimeout(e)}},[E]);const Z=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{currentPage:F,pageSize:W,reqPayload:{text:R,status:V?[...V]:[],sort:!0,isPagination:e,companyId:"admin"===(null===P||void 0===P?void 0:P.userType)?H:"company"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.companyId,directorId:"",branchId:"company"===(null===P||void 0===P?void 0:P.userType)||"admin"===(null===P||void 0===P?void 0:P.userType)||"companyDirector"===(null===P||void 0===P?void 0:P.userType)?U:"companyBranch"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.branchId,employeIds:K||[],departmentIds:q?[q]:[],designationIds:[]}}},ee=()=>{D((0,h.qV)({companyId:"admin"===(null===P||void 0===P?void 0:P.userType)?H:"company"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.companyId,branchId:["admin","company","companyDirector"].includes(null===P||void 0===P?void 0:P.userType)?U:"companyBranch"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.branchId,departmentId:q||"",directorId:"",text:"",sort:!0,status:!0,isPagination:!1,isBranch:!0,isDirector:!1}))},te=()=>{D((0,x.JQ)(Z(!0)))},ae=async()=>{te()},ne=[{key:"1",label:(0,_.jsx)("span",{className:"text-white",children:"Advance Filters"}),children:(0,_.jsxs)("div",{className:"bg-[#ececec] space-y-1",children:[(0,_.jsxs)("div",{className:"sm:flex  grid grid-cols-1  gap-2 sm:flex-wrap text-[14px]",children:[("admin"===(null===P||void 0===P?void 0:P.userType)||"company"===(null===P||void 0===P?void 0:P.userType)||"companyDirector"===(null===P||void 0===P?void 0:P.userType))&&(0,_.jsxs)("div",{className:"",children:[(0,_.jsx)(l.xI,{name:"PDBranchId",control:t,render:e=>{let{field:t}=e;return(0,_.jsxs)(c.A,(0,n.A)((0,n.A)({},t),{},{className:"inputAntdSelectClassNameFilterReport ",placeholder:"Select Branch",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,_.jsx)(c.A.Option,{value:"",children:"Select Branch"}),null===Y||void 0===Y?void 0:Y.map(e=>(0,_.jsxs)(c.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[" ",null===e||void 0===e?void 0:e.fullName," "]}))]}))}}),a.PDBranchId&&(0,_.jsx)("p",{className:"text-red-500 text-sm",children:a.PDBranchId.message})]}),(0,_.jsx)("div",{children:(0,_.jsx)(l.xI,{name:"departmentId",control:t,render:e=>{var t;let{field:a}=e;return(0,_.jsxs)(c.A,(0,n.A)((0,n.A)({},a),{},{className:"inputAntdSelectClassNameFilterReport",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),onFocus:()=>{D((0,w.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===P||void 0===P?void 0:P.userType)?H:"company"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.companyId,branchId:["admin","company","companyDirector"].includes(null===P||void 0===P?void 0:P.userType)?U:"companyBranch"===(null===P||void 0===P?void 0:P.userType)?null===P||void 0===P?void 0:P._id:null===P||void 0===P?void 0:P.branchId}))},onChange:e=>{a.onChange(e)},placeholder:"Select Department",children:[(0,_.jsx)(c.A.Option,{value:"",children:"Select Department"}),G?(0,_.jsx)(c.A.Option,{disabled:!0,children:(0,_.jsx)(A.A,{})}):null===(t=(0,s._o)(J))||void 0===t?void 0:t.map(e=>(0,_.jsx)(c.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]}))}})}),(0,_.jsx)("div",{className:"",children:(0,_.jsx)(l.xI,{name:"employeeId",control:t,render:e=>{let{field:t}=e;return(0,_.jsx)(c.A,{mode:"multiple",allowClear:!0,showSearch:!0,filterOption:(e,t)=>{var a;return null===t||void 0===t||null===(a=t.label)||void 0===a?void 0:a.toLowerCase().includes(e.toLowerCase())},className:"inputAntdMultiSelectClassNameFilterReport ",placeholder:"Select Employee",onFocus:ee,options:null===T||void 0===T?void 0:T.map(e=>({label:e.fullName,value:e._id})),value:t.value||[],onChange:e=>t.onChange(e)})}})}),(0,_.jsx)("div",{children:(0,_.jsx)(l.xI,{name:"status",control:t,render:e=>{let{field:t}=e;return(0,_.jsx)(c.A,(0,n.A)((0,n.A)({},t),{},{mode:"multiple",allowClear:!0,className:"inputAntdMultiSelectClassNameFilterReport",placeholder:"Select status",options:[{value:"Pending",label:"Pending"},{value:"Approved",label:"Approved"},{value:"Rejected",label:"Rejected"},{value:"Cancelled",label:"Cancelled"}],value:t.value||[],onChange:e=>t.onChange(e)}))}})})]}),(0,_.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,_.jsx)("button",{onClick:()=>{m("PDBranchId",""),m("PdCompanyId",""),m("departmentId",""),m("employeeId",""),m("status",""),m("dayType",""),m("leaveType",""),m("isPaid",""),m("startDate",p()().subtract(1,"month")),m("endDate",p()()),ae()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,_.jsx)("span",{className:"text-[12px]",children:"Reset"})}),(0,_.jsx)("button",{onClick:()=>{ae()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,_.jsx)("span",{className:"text-[12px]",children:"Submit"})})]})]})}];return(0,_.jsx)(d.A,{onChange:e=>{O(e)},children:(0,_.jsxs)("div",{className:"bg-grey-100 w-full p-1",children:[(0,_.jsxs)("div",{className:"",children:[(0,_.jsx)(u.A,{className:"custom-collapse",items:ne,defaultActiveKey:[1],expandIcon:e=>{let{isActive:t}=e;return(0,_.jsx)(j.WnU,{size:20,style:{color:"white",transform:t?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})}}),(0,_.jsxs)("div",{className:"space-y-1.5 sm:flex grid grid-cols-1 justify-between items-center",children:[(0,_.jsxs)("div",{className:"flex py-1 items-center gap-2",children:[(0,_.jsx)("span",{htmlFor:"pageSize",className:"text-sm font-light text-gray-500",children:"Rows per page:"}),(0,_.jsx)(c.A,{id:"pageSize",value:W,onChange:e=>{X(Number(e)),z(Number(1))},className:"text-sm font-light text-gray-700 bg-white border border-gray-200 rounded-md px-3 py-1.5 shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-300 transition",children:s.qc.map(e=>(0,_.jsx)(c.A.Option,{value:e,children:e},e))})]}),(0,_.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,_.jsx)("button",{onClick:()=>{(async()=>{var e,t;const a=new b.uE({orientation:"landscape",unit:"pt"});a.setFontSize(16);const n=await(null===g.K||void 0===g.K?void 0:g.K.LeaveRequestSummaryReportFunc(Z(!1)));if(!C&&!n)return;const l=null===n||void 0===n||null===(e=n.data)||void 0===e||null===(t=e.docs)||void 0===t?void 0:t.map((e,t)=>{var a;return[t+1,p()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a"),(null===e||void 0===e||null===(a=e.employeData)||void 0===a?void 0:a.fullName)||"-",null===e||void 0===e?void 0:e.leaveType,p()(null===e||void 0===e?void 0:e.startDate).format("DD-MM-YYYY"),p()(null===e||void 0===e?void 0:e.endDate).format("DD-MM-YYYY"),null!==e&&void 0!==e&&e.isPaid?"Yes":"No",null===e||void 0===e?void 0:e.status]});(0,N.Ay)(a,{startY:40,head:[["S.No.","Date Of Application","Employee Name","Leave Type","Start Date","End Date","Paid","Status"]],body:l,margin:{horizontal:10},styles:{cellPadding:8,fontSize:10,valign:"middle",halign:"left"},headStyles:{fillColor:[211,211,211],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]}}),a.save("Leave_Report.pdf")})()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,_.jsx)("span",{className:"text-[12px]",children:"Export PDF"})}),(0,_.jsx)("button",{onClick:()=>{(async()=>{var e,t;const a=new f.Workbook,n=a.addWorksheet("Employee Attendance");n.columns=[{header:"S.No",key:"sno",width:10},{header:"Date of Application",key:"createdAt",width:10},{header:"Employee Name",key:"name",width:30},{header:"Leave Type",key:"leaveType",width:20},{header:"Start Date",key:"startDate",width:20},{header:"End Date",key:"enddate",width:20},{header:"Paid",key:"isPaid",width:20},{header:"Status",key:"status",width:15}],n.getRow(1).eachCell(e=>{e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFB6D7A8"}},e.font={bold:!0},e.alignment={vertical:"middle",horizontal:"center"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});const l=await(null===g.K||void 0===g.K?void 0:g.K.LeaveRequestSummaryReportFunc(Z(!1)));if(!C&&!l)return;const o=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(t=e.docs)||void 0===t?void 0:t.map((e,t)=>{var a;return{sno:t+1,createdAt:p()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a"),name:(null===e||void 0===e||null===(a=e.employeData)||void 0===a?void 0:a.fullName)||"-",leaveType:null===e||void 0===e?void 0:e.leaveType,startDate:p()(null===e||void 0===e?void 0:e.startDate).format("DD-MM-YYYY"),enddate:p()(null===e||void 0===e?void 0:e.endDate).format("DD-MM-YYYY"),isPaid:null!==e&&void 0!==e&&e.isPaid?"Yes":"No",status:null===e||void 0===e?void 0:e.status}});null===o||void 0===o||o.forEach(e=>{n.addRow(e).eachCell(e=>{e.alignment={vertical:"middle",horizontal:"left"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),n.autoFilter={from:"A1",to:"I1"},a.xlsx.writeBuffer().then(e=>{const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a");a.href=URL.createObjectURL(t),a.download="Employee_Leave_Report.xlsx",a.click()})})()},className:"bg-header  py-2 my-0.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,_.jsx)("span",{className:"text-[12px]",children:"Export Excel"})})]})]})]}),(0,_.jsx)("div",{className:"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl",children:(0,_.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,_.jsx)("thead",{children:(0,_.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] capitalize text-[12px] bg-header text-white font-[500] h-[40px]",children:[(0,_.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center w-[5%]",children:"S.No."}),(0,_.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Employee Name"}),(0,_.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Total Leave"}),(0,_.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Used Leave"}),(0,_.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Available Leave"}),(0,_.jsx)("th",{className:"border-none p-2 whitespace-nowrap text-center",children:"Action"})]})}),I?(0,_.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,_.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap text-center font-[600] text-sm text-gray-500",children:(0,_.jsx)(y.A,{})})}):(0,_.jsx)("tbody",{children:C&&(null===C||void 0===C?void 0:C.length)>0?null===C||void 0===C?void 0:C.map((e,t)=>{var a,n,l,o;return(0,_.jsxs)("tr",{className:"border-b-[1px] ".concat(t%2===0?"bg-[#e9ecef]/80":"bg-white"," border-[#DDDDDD] text-[#374151] text-[14px]"),children:[(0,_.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:t+1+(F-1)*W}),(0,_.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e?void 0:e.fullName)||"N/A"}),(0,_.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:((null===e||void 0===e||null===(a=e.assignLeaveData)||void 0===a?void 0:a.reduce((e,t)=>e+(null===t||void 0===t?void 0:t.usedLeaves),0))||0)+((null===e||void 0===e||null===(n=e.assignLeaveData)||void 0===n?void 0:n.reduce((e,t)=>e+(null===t||void 0===t?void 0:t.availableLeaves),0))||0)}),(0,_.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e||null===(l=e.assignLeaveData)||void 0===l?void 0:l.reduce((e,t)=>e+(null===t||void 0===t?void 0:t.usedLeaves),0))||0}),(0,_.jsx)("td",{className:"whitespace-nowrap text-center border-none p-2",children:(null===e||void 0===e||null===(o=e.assignLeaveData)||void 0===o?void 0:o.reduce((e,t)=>e+(null===t||void 0===t?void 0:t.availableLeaves),0))||0}),(0,_.jsx)("td",{children:(0,_.jsx)(S.Ny1,{className:"text-header",onClick:()=>{$({data:e,isOpen:!0})}})})]})}):(0,_.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,_.jsx)("td",{colSpan:15,className:"px-6 py-2 whitespace-nowrap text-center font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(0,_.jsx)(v.A,{totalCount:L,pageSize:W,currentPage:F,onChange:e=>{z(e)}}),(0,_.jsx)(B,{isModalOpen:Q.isOpen,handleClose:()=>{$({data:null,isOpen:!1})},assignleaveList:(null===(e=Q.data)||void 0===e?void 0:e.assignLeaveData)||[]})]})})}}}]);
//# sourceMappingURL=5475.60df29f8.chunk.js.map