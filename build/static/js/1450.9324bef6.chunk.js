"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[1450],{81450:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var a=t(89379),i=t(24858),n=t(83003),l=t(73216),d=t(31174),r=t(65043),c=t(15187),o=t(65512),u=t(17995),m=t(84448),x=t(39160),h=t(78729),p=t(42837),v=t(70579);const f=()=>{const{loading:e}=(0,n.d4)(e=>e.visitReason),{register:s,handleSubmit:t,control:f,setValue:j,formState:{errors:b}}=(0,i.mN)(),g=(0,n.wA)(),N=(0,l.Zp)(),{visitReasonIdEnc:A}=(0,l.g)(),y=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),S=(0,d.Yc)(A),{VisitReasonDetails:I}=(0,n.d4)(e=>e.visitReason),{companyList:w}=(0,n.d4)(e=>e.company),{branchList:R}=(0,n.d4)(e=>e.branch);(0,r.useEffect)(()=>{g((0,p.qV)())},[]),(0,r.useEffect)(()=>{let e={_id:S};g((0,m.Ip)(e))},[]);(0,i.FH)({control:f,name:"PDCompanyId",defaultValue:""});(0,r.useEffect)(()=>{I&&(j("reason",null===I||void 0===I?void 0:I.title),j("status",null===I||void 0===I?void 0:I.status))},[I]);return(0,r.useEffect)(()=>{"admin"===(null===y||void 0===y?void 0:y.userType)&&g((0,h.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,v.jsx)(x.A,{children:(0,v.jsx)("div",{className:"gap-4",children:(0,v.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:t(e=>{const s={_id:S,companyId:null===I||void 0===I?void 0:I.companyId,directorId:null===I||void 0===I?void 0:I.directorId,branchId:null===I||void 0===I?void 0:I.branchId,title:null===e||void 0===e?void 0:e.reason,isDeleted:!1,status:null===e||void 0===e?void 0:e.status};g((0,m.XG)(s)).then(e=>{e.error||N(-1)})}),children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:[(0,v.jsxs)("div",{className:"",children:[(0,v.jsxs)("label",{className:"".concat(c.Q0),children:["Visit Reason ",(0,v.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,v.jsx)("input",(0,a.A)((0,a.A)({type:"text"},s("reason",{required:"Visit Reason is required"})),{},{className:"".concat(c.Ol," ").concat(b.reason?"border-[1px] ":"border-gray-300"),placeholder:"Enter Visit Reason"})),b.reason&&(0,v.jsx)("p",{className:"text-red-500 text-sm",children:b.reason.message})]}),(0,v.jsxs)("div",{className:"w-full",children:[(0,v.jsxs)("label",{className:"".concat(c.Q0),children:["Status ",(0,v.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,v.jsx)(i.xI,{name:"status",control:f,render:e=>{let{field:s}=e;return(0,v.jsxs)(o.A,(0,a.A)((0,a.A)({},s),{},{className:"".concat(c.Hy," ").concat(b.status?"border-[1px] ":"border-gray-300"),showSearch:!0,filterOption:(e,s)=>String(null===s||void 0===s?void 0:s.children).toLowerCase().includes(e.toLowerCase()),placeholder:"Select Status",children:[(0,v.jsx)(o.A.Option,{value:"",children:"Select Status"}),(0,v.jsx)(o.A.Option,{value:!0,children:"Active"}),(0,v.jsx)(o.A.Option,{value:!1,children:"In Active"})]}))}}),b.status&&(0,v.jsx)("p",{className:"text-red-500 text-sm",children:b.status.message})]})]}),(0,v.jsx)("div",{className:"flex justify-end",children:(0,v.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 mt-3 rounded"),children:e?(0,v.jsx)(u.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=1450.9324bef6.chunk.js.map