"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[437],{50437:(e,d,l)=>{l.r(d),l.d(d,{default:()=>j});var s=l(89379),a=l(65043),i=l(24858),n=l(83003),o=l(73216),r=l(15187),c=l(78729),t=l(33007),u=l(40088),m=l(39160),p=l(31744),v=l(71985),x=l(65512),h=l(17995),y=l(89427),N=l(70579);const j=function(){const{loading:e}=(0,n.d4)(e=>e.taskType),{register:d,handleSubmit:l,setValue:j,getValues:g,unregister:I,watch:b,control:T,formState:{errors:f}}=(0,i.mN)(),{companyList:A}=(0,n.d4)(e=>e.company),{departmentListData:S,loading:C}=(0,n.d4)(e=>e.department),{gstTypeList:_,loading:O}=(0,n.d4)(e=>e.gstType),w=(0,o.Zp)(),q=(0,n.wA)(),B=JSON.parse(localStorage.getItem("user_info_".concat(r.AU))),{branchList:D,branchListloading:k}=(0,n.d4)(e=>e.branch),H=(0,i.FH)({control:T,name:"companyId",defaultValue:(null===B||void 0===B?void 0:B.companyId)||""});return(0,a.useEffect)(()=>{"admin"===(null===B||void 0===B?void 0:B.userType)&&q((0,c.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,a.useEffect)(()=>{(H||"admin"!==(null===B||void 0===B?void 0:B.userType))&&q((0,t.UU)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===B||void 0===B?void 0:B.userType)?H:"company"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.companyId}))},[H]),(0,a.useEffect)(()=>{(H||"company"===(null===B||void 0===B?void 0:B.userType)||"companyDirector"===(null===B||void 0===B?void 0:B.userType))&&q((0,p.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===B||void 0===B?void 0:B.userType)?H:"company"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.companyId}))},[H]),(0,N.jsx)(m.A,{children:(0,N.jsx)("div",{className:"gap-4",children:(0,N.jsxs)("form",{autoComplete:"off",className:"mt-5",onSubmit:l(e=>{const d={companyId:"admin"===(null===B||void 0===B?void 0:B.userType)?null===e||void 0===e?void 0:e.companyId:"company"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.companyId,directorId:"",branchId:"admin"===(null===B||void 0===B?void 0:B.userType)||"companyDirector"===(null===B||void 0===B?void 0:B.userType)||"company"===(null===B||void 0===B?void 0:B.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.branchId,departmentId:null===e||void 0===e?void 0:e.departmentId,name:null===e||void 0===e?void 0:e.taskName,fees:null===e||void 0===e?void 0:e.fees,gstTypeId:null===e||void 0===e?void 0:e.gstTypeId,HSNCode:null===e||void 0===e?void 0:e.HSNCode};q((0,u._y)(d)).then(e=>{e.error||w(-1)})}),children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:my-2",children:["admin"===(null===B||void 0===B?void 0:B.userType)&&(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(r.Q0),children:["Company",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsxs)("select",(0,s.A)((0,s.A)({},d("companyId",{required:"Company is required"})),{},{className:" ".concat(r.Ol," ").concat(f.companyId?"border-[1px] ":"border-gray-300"),children:[(0,N.jsx)("option",{className:"",value:"",children:"Select Company"}),null===A||void 0===A?void 0:A.map(e=>(0,N.jsxs)("option",{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.fullName,"(",null===e||void 0===e?void 0:e.userName,")"]}))]})),f.companyId&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:f.companyId.message})]}),("admin"===(null===B||void 0===B?void 0:B.userType)||"company"===(null===B||void 0===B?void 0:B.userType)||"companyDirector"===(null===B||void 0===B?void 0:B.userType))&&(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(r.Q0),children:["Branch ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)(i.xI,{name:"PDBranchId",control:T,rules:{required:"Branch is required"},render:e=>{let{field:d}=e;return(0,N.jsxs)(x.A,(0,s.A)((0,s.A)({},d),{},{className:"".concat(r.Hy," ").concat(f.PDBranchId?"border-[1px] ":"border-gray-300"),placeholder:"Select Branch",showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)(x.A.Option,{value:"",children:"Select Branch"}),k?(0,N.jsx)(x.A.Option,{disabled:!0,children:(0,N.jsx)(y.A,{})}):null===D||void 0===D?void 0:D.map(e=>(0,N.jsx)(x.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),f.PDBranchId&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:f.PDBranchId.message})]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(r.Q0),children:["Department ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)(i.xI,{name:"departmentId",control:T,rules:{required:"Branch is required"},render:e=>{let{field:d}=e;return(0,N.jsxs)(x.A,(0,s.A)((0,s.A)({},d),{},{className:"".concat(r.Hy," ").concat(f.departmentId?"border-[1px] ":"border-gray-300"),placeholder:"Select Department",showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)(x.A.Option,{value:"",children:"Select Department"}),C?(0,N.jsx)(x.A.Option,{disabled:!0,children:(0,N.jsx)(y.A,{})}):null===S||void 0===S?void 0:S.map(e=>(0,N.jsx)(x.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))]}))}}),f.departmentId&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:f.departmentId.message})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsxs)("label",{className:"".concat(r.Q0),children:["Task Name ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"text"},d("taskName",{required:"Task Name is required"})),{},{className:"placeholder: ".concat(r.Ol," ").concat(f.taskName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Task Name"})),f.taskName&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:f.taskName.message})]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(r.Q0),children:["Gst Type ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)(i.xI,{name:"gstTypeId",control:T,rules:{required:"GST Type is required"},render:e=>{let{field:d}=e;return(0,N.jsxs)(x.A,(0,s.A)((0,s.A)({},d),{},{placeholder:"Select GST Type",className:"".concat(r.Hy," ").concat(f.gstTypeId?"border-[1px] ":"border-gray-300"),onFocus:()=>{const e={directorId:"",companyId:"admin"===(null===B||void 0===B?void 0:B.userType)?b("companyId"):"company"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.companyId,branchId:["company","admin","companyDirector"].includes(null===B||void 0===B?void 0:B.userType)?b("PDBranchId"):"companyBranch"===(null===B||void 0===B?void 0:B.userType)?null===B||void 0===B?void 0:B._id:null===B||void 0===B?void 0:B.branchId,text:"",sort:!0,status:"",isPagination:!1};q((0,v.Bw)(e))},children:[(0,N.jsx)(x.A.Option,{value:"",children:"Select GST Type"}),O?(0,N.jsx)(x.A.Option,{disabled:!0,children:(0,N.jsx)(y.A,{})}):null===_||void 0===_?void 0:_.map(e=>(0,N.jsxs)(x.A.Option,{value:null===e||void 0===e?void 0:e._id,children:[null===e||void 0===e?void 0:e.percentage," %"]},null===e||void 0===e?void 0:e._id))]}))}}),f.gstTypeId&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:f.gstTypeId.message})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsxs)("label",{className:"".concat(r.Q0),children:["HSNCode ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"number"},d("HSNCode",{required:"HSNCode is required"})),{},{className:"placeholder: ".concat(r.Ol," ").concat(f.HSNCode?"border-[1px] ":"border-gray-300"),placeholder:"Enter HSNCode"})),f.HSNCode&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:f.HSNCode.message})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsxs)("label",{className:"".concat(r.Q0),children:["Fees ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"number"},d("fees",{required:"Fees is required"})),{},{className:"placeholder: ".concat(r.Ol," ").concat(f.fees?"border-[1px] ":"border-gray-300"),placeholder:"Enter Fees"})),f.fees&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:f.fees.message})]})]}),(0,N.jsx)("div",{className:"flex justify-end ",children:(0,N.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,N.jsx)(h.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=437.e1f16e4b.chunk.js.map