"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[2672],{92672:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(73216),n=a(39160),r=a(83003),l=a(65043),c=a(30064),i=a.n(c),o=a(31174),d=a(23156),p=a(27744),x=a(47196),h=a(24858),u=(a(24397),a(78227)),m=a(65512),w=a(96651),j=a(15187),v=a(4938),g=a(55971),b=a(60446),f=a.n(b),N=a(70579);const y=function(){const{register:e,setValue:t,formState:{errors:a}}=(0,h.mN)(),c=(0,s.Zp)(),b=(0,r.wA)(),{orgTypeList:y,totalOrgTypeCount:A,loading:S}=(0,r.d4)(e=>e.orgType),[C,D]=(0,l.useState)(1),[k,L]=(0,l.useState)(""),[O,_]=(0,l.useState)(""),z=JSON.parse(localStorage.getItem("user_info_".concat(j.AU))),E=[O,k].join("-"),[T,Y]=(0,l.useState)(!1);(0,l.useEffect)(()=>{T?1===C?B():D(1):Y(e=>!0)},[E]),(0,l.useEffect)(()=>{B()},[C]);const B=()=>{const e={page:C,companyId:"admin"===(null===z||void 0===z?void 0:z.userType)?"":"company"===(null===z||void 0===z?void 0:z.userType)?null===z||void 0===z?void 0:z._id:null===z||void 0===z?void 0:z.companyId,limit:10,text:k,sort:!1,status:O,isPagination:!0};b((0,p.LY)(e))},{canCreate:I,canRead:F,canUpdate:R,canDelete:J}=(0,v.A)();return(0,N.jsxs)(n.A,{onChange:e=>{L(e),1!=C&&D(1)},children:[(0,N.jsx)("div",{className:"",children:(0,N.jsxs)("div",{class:"sm:flex justify-between items-center py-1 lg:space-y-0 space-y-2 overflow-y-auto",children:[(0,N.jsx)("div",{className:"grid sm:grid-cols-2 grid-cols-1 lg:grid-cols-2 sm:gap-3 gap-1",children:(0,N.jsxs)(m.A,{className:" ".concat(j.Lp," "),value:O,onChange:e=>{_(e)},placeholder:"Select Status",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)(m.A.Option,{value:"",children:"Select Status"}),(0,N.jsx)(m.A.Option,{value:!0,children:"Active"}),(0,N.jsx)(m.A.Option,{value:!1,children:"InActive"})]})}),(0,N.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,N.jsx)("button",{onClick:()=>{_("")},className:"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,N.jsx)("span",{className:"text-[12px]",children:"Reset"})}),I&&(0,N.jsxs)("button",{onClick:()=>{c("/admin/organization-type/create")},className:"bg-header px-2 py-1.5 rounded-md flex justify-center items-center space-x-2 text-white",children:[(0,N.jsx)(d.OiG,{}),(0,N.jsx)("span",{className:"text-[12px]",children:"Add Organization type"})]})]})]})}),(0,N.jsx)("div",{className:"bg-[#ffffff]  w-full overflow-x-auto mt-1 rounded-xl",children:F&&(0,N.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,N.jsx)("thead",{className:"",children:(0,N.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] bg-header capitalize text-[12px] text-[#fff]  ",children:[(0,N.jsx)("th",{className:"p-2 whitespace-nowrap  w-[10%]",children:"S.No."}),(0,N.jsx)("th",{className:"p-2 whitespace-nowrap  w-[10%]",children:"Name"}),(0,N.jsx)("th",{className:"p-2 whitespace-nowrap  w-[10%]",children:"createdAt"}),(0,N.jsx)("th",{className:"p-2 whitespace-nowrap  w-[10%]",children:"createdBy"}),(0,N.jsx)("th",{className:"p-2 whitespace-nowrap  w-[10%]",children:"Status"}),(R||J)&&(0,N.jsx)("th",{className:"p-2 whitespace-nowrap  w-[10%]",children:"Action"})]})}),S?(0,N.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,N.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap  font-[600] text-sm text-gray-500",children:(0,N.jsx)(g.A,{})})}):(0,N.jsx)("tbody",{children:y&&(null===y||void 0===y?void 0:y.length)>0?null===y||void 0===y?void 0:y.map((e,t)=>{var a,s,n,r;return(0,N.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] text-black text-[14px] ".concat(t%2===0?"bg-[#e9ecef]/80":"bg-white"),children:[(0,N.jsx)("td",{className:"whitespace-nowrap  border-none p-2 ",children:t+1+10*(C-1)}),(0,N.jsx)("td",{className:"whitespace-nowrap  border-none p-2 ",children:null!==(a=null===e||void 0===e?void 0:e.name)&&void 0!==a?a:"-"}),(0,N.jsx)("td",{className:"whitespace-nowrap  border-none p-2 ",children:null!==(s=f()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a"))&&void 0!==s?s:"-"}),(0,N.jsx)("td",{className:"whitespace-nowrap  border-none p-2 ",children:null!==(n=null===e||void 0===e?void 0:e.createdBy)&&void 0!==n?n:"-"}),(0,N.jsx)("td",{className:"whitespace-nowrap  border-none p-2 ",children:(0,N.jsx)("span",{className:"".concat(null!==e&&void 0!==e&&e.status?"bg-[#E0FFBE] border-green-500":"bg-red-200 border-red-500"," border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]"),children:null!==e&&void 0!==e&&e.status?"Active":null!==(r="Inactive")?r:"-"})}),(R||J)&&(0,N.jsx)("td",{className:"whitespace-nowrap  p-2",children:(0,N.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2.5",children:[R&&(0,N.jsx)(w.A,{placement:"topLeft",title:"Edit",children:(0,N.jsx)("button",{onClick:()=>{c("/admin/organization-type/edit/".concat((0,o.w)(null===e||void 0===e?void 0:e._id)))},className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,N.jsx)(d.Jcp,{className:" hover:text-[#337ab7] text-[#3c8dbc]",size:16})})}),J&&(0,N.jsx)(w.A,{placement:"topLeft",title:"Delete",children:(0,N.jsx)("button",{onClick:()=>(e=>{let t={_id:e};const a={limit:20,page:1,text:"",sort:!1,status:""};i().fire({title:"Warning",text:"Are you sure you want to delete!",icon:"warning",showCancelButton:!0,cancelButtonText:"No"}).then(e=>{e.isConfirmed&&b((0,p.Eh)(t)).then(e=>{C>1&&1==(null===y||void 0===y?void 0:y.length)?D(Number(C-1)):e.error||b((0,p.LY)(a))})})})(null===e||void 0===e?void 0:e._id),className:"px-2 py-1.5 rounded-md bg-transparent border border-muted",type:"button",children:(0,N.jsx)(x.tqC,{className:"text-red-600 hover:text-red-500",size:16})})})]})})]})}):(0,N.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,N.jsx)("td",{colSpan:6,className:"px-6 py-2 whitespace-nowrap font-[600] text-center text-sm text-gray-500",children:"Record Not Found"})})})]})}),A>10&&(0,N.jsx)(u.A,{totalCount:A,pageSize:10,currentPage:C,onChange:e=>{D(e)}})]})}}}]);
//# sourceMappingURL=2672.ec453ed7.chunk.js.map