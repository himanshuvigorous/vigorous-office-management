"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[701],{50701:(e,l,i)=>{i.r(l),i.d(l,{default:()=>M});var d=i(89379),o=i(65043),n=i(24858),a=i(39160),t=i(83003),s=i(15187),r=i(735),c=i(60184),u=i(3825),v=i(60397),m=(i(8873),i(73216)),x=i(31174),p=i(36105),h=i(30575),y=i(84480),f=i(27971),g=i(65337),b=i(14118),P=i(88967),N=(i(78729),i(51957)),D=i(65512),j=i(91686),C=i(56659),w=i(30064),S=i.n(w),A=i(73749),E=i(29542),I=i(88877),k=i(70579);const M=()=>{const{directorIdEnc:e}=(0,m.g)(),l=(0,x.Yc)(e),i=(0,o.useRef)([]),[w,M]=(0,o.useState)(!0),[F,T]=((0,m.Zp)(),(0,o.useState)(1)),[H,V]=(0,o.useState)(null),[q,_]=(0,o.useState)(!0),[O,L]=(0,o.useState)(!1),[Q,z]=(0,o.useState)([1]),[B,U]=(0,o.useState)([{id:1,documentType:"",documentNo:"",file:[],isEditable:!1}]),[R,W]=(0,o.useState)([{id:1,name:"",year:"",file:[]}]),[Z,Y]=(0,o.useState)([]),[G,K]=(0,o.useState)(null),[$,J]=(0,o.useState)(),[X,ee]=(0,o.useState)(!1),[le,ie]=(0,o.useState)({}),[de,oe]=(0,o.useState)({}),[ne,ae]=(0,o.useState)(""),[te,se]=(0,o.useState)(),{countryListData:re}=(0,t.d4)(e=>e.country),{stateListData:ce}=(0,t.d4)(e=>e.states),{cityListData:ue}=(0,t.d4)(e=>e.city),{employeeDocumentList:ve}=(0,t.d4)(e=>e.employeeDocument),{companyList:me}=(0,t.d4)(e=>e.company),{directorDetailsData:xe}=(0,t.d4)(e=>e.director),{loading:pe}=(0,t.d4)(e=>e.director),{loadingUpdateFile:he}=(0,t.d4)(e=>e.fileUpload),{userCompanyId:ye,userDirectorId:fe,userBranchId:ge,userEmployeId:be,userDepartmentId:Pe,userDesignationId:Ne,userType:De}=(0,r.A)(),{register:je,handleSubmit:Ce,setValue:we,getValues:Se,unregister:Ae,setError:Ee,control:Ie,clearErrors:ke,formState:{errors:Me}}=(0,n.mN)(),Fe=(0,t.wA)(),Te=(0,n.FH)({control:Ie,name:"PDAddress",defaultValue:""}),He=(0,n.FH)({control:Ie,name:"PDCity",defaultValue:""}),Ve=(0,n.FH)({control:Ie,name:"PDState",defaultValue:""}),qe=(0,n.FH)({control:Ie,name:"PDCountry",defaultValue:""}),_e=((0,n.FH)({control:Ie,name:"PDSecondaryState",defaultValue:""}),(0,n.FH)({control:Ie,name:"PDSecondaryCountry",defaultValue:""}),(0,n.FH)({control:Ie,name:"PDPinCode",defaultValue:""})),Oe=(0,n.FH)({control:Ie,name:"PDEmail",defaultValue:""}),Le=(0,n.FH)({control:Ie,name:"PDMobileNo",defaultValue:""}),Qe=(0,n.FH)({control:Ie,name:"PDMobileCode",defaultValue:""}),ze=(0,n.FH)({control:Ie,name:"PDDirectorName",defaultValue:""}),Be=((0,n.FH)({control:Ie,name:"PDTagLine",defaultValue:""}),(0,n.FH)({control:Ie,name:"SMWebsite",defaultValue:""}),(0,n.FH)({control:Ie,name:"SMFacebook",defaultValue:""}),(0,n.FH)({control:Ie,name:"SMTwitter",defaultValue:""}),(0,n.FH)({control:Ie,name:"SMInstagram",defaultValue:""}),(0,n.FH)({control:Ie,name:"PDPassword",defaultValue:""}),(0,n.FH)({control:Ie,name:"PDCompanyId",defaultValue:ye}));(0,n.FH)({control:Ie,name:"PDBranchId",defaultValue:ge}),(0,n.FH)({control:Ie,name:"PDDepartmentId",defaultValue:Pe}),(0,n.FH)({control:Ie,name:"PDDesignationId",defaultValue:Ne});(0,o.useEffect)(()=>{_e&&_e.length>=4&&_e.length<=6&&(0,s.jh)(_e).then(e=>{e&&(we("PDCity",e.city),we("PDState",e.state),we("PDCountry",e.country))}).catch(e=>{console.error("Error fetching data:",e)})},[_e]),(0,o.useEffect)(()=>{(async()=>{try{await Fe((0,p.dw)({text:"",sort:!0,status:!0,isPagination:!1}));const e={_id:l};await Fe((0,b.Hu)(e)).then(e=>{_(!1)})}catch(e){console.error("Error fetching data:",e)}})()},[]),(0,o.useEffect)(()=>{if(null!==xe&&void 0!==xe&&xe.data){var e,l,i,d,o,n,a,t,s,r,c,u,v,m,x,p,h,y,f,g,b,P,N,D,j,C,w,S,A,E,I,k,M,F,T,H,V,q,_,O,L,Q,z,B,R,Z,Y,G,$,X,ee,le,ie,de,oe,ne,ae,te,se,re;const ge=null!==xe&&void 0!==xe&&null!==(e=xe.data)&&void 0!==e&&null!==(l=e.documentData)&&void 0!==l&&l.length?null===xe||void 0===xe||null===(i=xe.data)||void 0===i||null===(d=i.documentData)||void 0===d?void 0:d.map(e=>({_id:null===e||void 0===e?void 0:e._id,documentType:null===e||void 0===e?void 0:e.name,documentNo:null===e||void 0===e?void 0:e.number,file:null===e||void 0===e?void 0:e.filePath,isEditable:!1})):[{_id:"",documentType:"",documentNo:"",file:[],isEditable:!0}];U([...ge]);const be=null===xe||void 0===xe||null===(o=xe.data)||void 0===o||null===(n=o.financialInfo)||void 0===n?void 0:n.map(e=>({_id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.name,year:null===e||void 0===e?void 0:e.year,file:null===e||void 0===e?void 0:e.filePath}));var ce,ue,ve,me,pe,he,ye,fe;if((null===xe||void 0===xe||null===(a=xe.data)||void 0===a?void 0:a.financialInfo.length)>0&&W([...be]),K("".concat("https://vigapi.vigorousit.com","/public/").concat(null===xe||void 0===xe||null===(t=xe.data)||void 0===t?void 0:t.profileImage)),J(null===xe||void 0===xe||null===(s=xe.data)||void 0===s?void 0:s.profileImage),we("PDCompanyId",null===xe||void 0===xe||null===(r=xe.data)||void 0===r?void 0:r.companyId),we("PDDirectorName",null===xe||void 0===xe||null===(c=xe.data)||void 0===c?void 0:c.fullName),we("PDTagLine",null===xe||void 0===xe||null===(u=xe.data)||void 0===u||null===(v=u.directorProfile)||void 0===v?void 0:v.tagline),we("PDPassword","******"),we("PDConfirmPassword","******"),we("PDPlan",null===xe||void 0===xe||null===(m=xe.data)||void 0===m?void 0:m.planId),we("PDorganizationtype",null===xe||void 0===xe||null===(x=xe.data)||void 0===x||null===(p=x.directorProfile)||void 0===p?void 0:p.companyType),we("PDindustrytype",null===xe||void 0===xe||null===(h=xe.data)||void 0===h||null===(y=h.directorProfile)||void 0===y?void 0:y.industryType),we("PDAddress",null===xe||void 0===xe||null===(f=xe.data)||void 0===f||null===(g=f.addresses)||void 0===g||null===(b=g.primary)||void 0===b?void 0:b.street),we("PDCountry",null===xe||void 0===xe||null===(P=xe.data)||void 0===P||null===(N=P.addresses)||void 0===N||null===(D=N.primary)||void 0===D?void 0:D.country),we("PDState",null===xe||void 0===xe||null===(j=xe.data)||void 0===j||null===(C=j.addresses)||void 0===C||null===(w=C.primary)||void 0===w?void 0:w.state),we("PDCity",null===xe||void 0===xe||null===(S=xe.data)||void 0===S||null===(A=S.addresses)||void 0===A||null===(E=A.primary)||void 0===E?void 0:E.city),we("PDPinCode",null===xe||void 0===xe||null===(I=xe.data)||void 0===I||null===(k=I.addresses)||void 0===k||null===(M=k.primary)||void 0===M?void 0:M.pinCode),we("PDSecondaryAddress",null===xe||void 0===xe||null===(F=xe.data)||void 0===F||null===(T=F.addresses)||void 0===T||null===(H=T.secondary)||void 0===H?void 0:H.street),we("PDSecondaryCountry",null===xe||void 0===xe||null===(V=xe.data)||void 0===V||null===(q=V.addresses)||void 0===q||null===(_=q.secondary)||void 0===_?void 0:_.country),we("PDSecondaryState",null===xe||void 0===xe||null===(O=xe.data)||void 0===O||null===(L=O.addresses)||void 0===L||null===(Q=L.secondary)||void 0===Q?void 0:Q.state),we("PDSecondaryCity",null===xe||void 0===xe||null===(z=xe.data)||void 0===z||null===(B=z.addresses)||void 0===B||null===(R=B.secondary)||void 0===R?void 0:R.city),we("PDSecondaryPinCode",null===xe||void 0===xe||null===(Z=xe.data)||void 0===Z||null===(Y=Z.addresses)||void 0===Y||null===(G=Y.secondary)||void 0===G?void 0:G.pinCode),we("PDEmail",null===xe||void 0===xe||null===($=xe.data)||void 0===$?void 0:$.email),we("PDMobileCode",null===xe||void 0===xe||null===(X=xe.data)||void 0===X||null===(ee=X.mobile)||void 0===ee?void 0:ee.code),we("PDMobileNo",null===xe||void 0===xe||null===(le=xe.data)||void 0===le||null===(ie=le.mobile)||void 0===ie?void 0:ie.number),we("PDaadharNumber",null===xe||void 0===xe||null===(de=xe.data)||void 0===de?void 0:de.aadharNumber),we("PDgstnumber",null===xe||void 0===xe||null===(oe=xe.data)||void 0===oe?void 0:oe.gstNumber),we("PDpannumber",null===xe||void 0===xe||null===(ne=xe.data)||void 0===ne?void 0:ne.panNumber),we("PDfrn",null===xe||void 0===xe||null===(ae=xe.data)||void 0===ae?void 0:ae.frn),we("PDtannumber",null===xe||void 0===xe||null===(te=xe.data)||void 0===te?void 0:te.tanNumber),(null===xe||void 0===xe||null===(se=xe.data)||void 0===se||null===(re=se.socialLinks)||void 0===re?void 0:re.length)>0)we("SMInstagram",null===xe||void 0===xe||null===(ce=xe.data)||void 0===ce||null===(ue=ce.socialLinks[0])||void 0===ue?void 0:ue.link),we("SMTwitter",null===xe||void 0===xe||null===(ve=xe.data)||void 0===ve||null===(me=ve.socialLinks[1])||void 0===me?void 0:me.link),we("SMFacebook",null===xe||void 0===xe||null===(pe=xe.data)||void 0===pe||null===(he=pe.socialLinks[2])||void 0===he?void 0:he.link),we("SMWebsite",null===xe||void 0===xe||null===(ye=xe.data)||void 0===ye||null===(fe=ye.socialLinks[3])||void 0===fe?void 0:fe.link)}},[xe]);const Ue=async e=>{T(l=>e)};(0,o.useEffect)(()=>{var e;2!==F&&3!==F||Fe((0,f.no)({isPagination:!1,companyId:null===(e=(0,r.A)())||void 0===e?void 0:e.userCompanyId}))},[Fe,F]);const Re=(e,l,i)=>{var d;const o=[...B];o[e][l]=i,U(o);const n=[...Z];null!==(d=n[e])&&void 0!==d&&d[l]&&delete n[e][l],Y(n)},We=(e,l)=>{if(!l)return;let d=l;const o=new FileReader;let n="";o.onload=l=>{n=l.target.result,S().fire({title:"Preview your file",html:'\n          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">\n            <p style="margin-bottom: 20px;">Do you want to upload this file?</p>\n            <img id="filePreview" src="'.concat(n,'" alt="File Preview" style="max-width: 100%; max-height: 300px; width: auto; height: auto;">\n            <br>\n            <button id="changeImageBtn" style="  margin-top: 15px;\n  padding: 10px 18px;\n  cursor: pointer;\n  background-color:#074173;\n  color: white;\n  font-size: 16px;\n  font-weight: 600;\n  border: none;\n  border-radius: 8px;\n  transition: background-color 0.3s, transform 0.2s;\n  box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2);">Change Image</button>\n            <input type="file" id="fileInput" style="display: none;" accept="image/*">\n          </div>\n        '),showCancelButton:!0,confirmButtonText:"Confirm!",cancelButtonText:"Cancel",didOpen:()=>{const e=document.getElementById("changeImageBtn"),l=document.getElementById("fileInput"),i=document.getElementById("filePreview");e.addEventListener("click",()=>{l.click()}),l.addEventListener("change",e=>{const l=e.target.files[0];if(l){d=l;const e=new FileReader;e.onload=e=>{i.src=e.target.result},e.readAsDataURL(l)}})}}).then(l=>{l.isConfirmed&&Fe((0,P.Sg)({filePath:d,isVideo:!1,isMultiple:!1})).then(l=>{if(!l.error){var i,d;const o=[...B];o[e].file=[null===l||void 0===l||null===(i=l.payload)||void 0===i?void 0:i.data],U(o);const n=[...Z];null!==(d=n[e])&&void 0!==d&&d.file&&delete n[e].file,Y(n)}}).then(()=>{i.current[e]&&(i.current[e].value="")})})},o.readAsDataURL(l)},Ze=()=>{let e=[];return B.forEach((l,i)=>{let d={};l.documentType||(d.documentType="Document Type is required."),l.documentNo||(d.documentNo="Document No is required."),l.file&&0!==l.file.length||(d.file="Document file is required."),Object.keys(d).length>0&&(e[i]=d)}),Y(e),e.every(e=>0===Object.keys(e).length)},Ye=()=>{let e=[];return R.forEach((l,i)=>{let d={};l.name||(d.name="Name is required."),l.year||(d.year="Year is required."),l.file&&0!==l.file.length||(d.file="Document file is required."),Object.keys(d).length>0&&(e[i]=d)}),Y(e),e.every(e=>0===Object.keys(e).length)};return(0,k.jsx)(a.A,{children:q?(0,k.jsx)(g.A,{}):(0,k.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[(0,k.jsx)("div",{className:" md:col-span-3 col-span-12 w-full h-auto rounded-lg  ",children:(0,k.jsxs)("div",{className:"shadow bg-white rounded-xl py-2",children:[(0,k.jsxs)("div",{className:"relative w-[50px] h-[50px] mx-auto rounded-full border-2 border-slate-600 mt-3 flex items-center justify-center",children:[(0,k.jsx)("div",{className:"w-full h-full rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",style:{backgroundImage:"url(".concat(G||"",")"),backgroundSize:"cover",backgroundPosition:"center"},children:!G&&(0,k.jsx)(c.K9B,{className:"text-slate-500 w-[30px] h-[25px] cursor-pointer"})}),(0,k.jsx)("div",{className:"absolute bottom-0 right-0 bg-white p-[2px] rounded-full",children:(0,k.jsx)(c.p5B,{className:"text-header w-[16px] h-[16px] "})}),(0,k.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const i=e.target.files[0];if(!i)return;try{const e=await Fe((0,P.Sg)({filePath:i,isVideo:!1,isMultiple:!1}));if(!e.error){var d;const i=await Fe((0,A.YM)({_id:l,imagePath:null===e||void 0===e||null===(d=e.payload)||void 0===d?void 0:d.data}));var o;if(null===i||void 0===i||!i.error)J(null===e||void 0===e||null===(o=e.payload)||void 0===o?void 0:o.data)}}catch(a){console.error("Error during file upload or profile image update:",a)}const n=new FileReader;n.onloadend=()=>{K(n.result)},n.readAsDataURL(i)},className:"absolute inset-0 opacity-0 cursor-pointer"})]}),(0,k.jsx)("div",{className:"text-base font-medium overflow-auto mx-2 text-center mt-2 text-header capitalize",children:ze||"Director Name"}),(0,k.jsxs)("div",{className:"border mx-2 px-2 my-2 py-3 rounded-lg ",children:[(0,k.jsxs)("div",{className:"",children:[(0,k.jsx)("label",{className:"".concat(s.Q0),children:"Address"}),(0,k.jsxs)("div",{className:"mt-1 block w-full overflow-auto px-2 py-[9px] shadow-sm rounded-lg text-xs  bg-[#f4f6f9] focus:outline-none cursor-default min-h-8",children:[Te&&(0,k.jsxs)(k.Fragment,{children:[Te,", "," "]}),He&&(0,k.jsxs)(k.Fragment,{children:[He," ,"," "]}),Ve&&(0,k.jsxs)(k.Fragment,{children:[Ve," ,"," "]}),qe&&(0,k.jsxs)(k.Fragment,{children:[qe," ,"," "]}),_e&&(0,k.jsx)(k.Fragment,{children:_e})]})]}),(0,k.jsxs)("div",{className:"",children:[(0,k.jsx)("label",{className:"".concat(s.Q0),children:"Mail"}),(0,k.jsx)("div",{className:"mt-1 block w-full overflow-auto px-2 py-[9px] shadow-sm rounded-lg text-xs  bg-[#f4f6f9] focus:outline-none cursor-default min-h-8",children:Oe})]}),(0,k.jsxs)("div",{className:"",children:[(0,k.jsx)("label",{className:"".concat(s.Q0),children:"Phone number"}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)("div",{className:"mt-1 block overflow-auto   py-[9px] shadow-sm rounded-lg text-xs  bg-[#f4f6f9] focus:outline-none cursor-default min-h-8 min-w-6",children:Qe}),(0,k.jsx)("div",{className:"mt-1 block overflow-auto w-full px-2 py-[9px] shadow-sm rounded-lg text-xs  bg-[#f4f6f9] focus:outline-none cursor-default min-h-8",children:Le})]})]})]})]})}),(0,k.jsxs)("form",{onSubmit:Ce(e=>{if(1===F){var i,d,o,n,a,t,s,r,c,u,v,m,x,p,h,y,f,g,N,D,j,C,w;const P={_id:l,companyId:Be,firstName:"",lastName:"",profileImage:null!==$&&void 0!==$?$:"",fullName:null!==(i=null===e||void 0===e?void 0:e.PDDirectorName)&&void 0!==i?i:"",email:null!==(d=null===e||void 0===e?void 0:e.PDEmail)&&void 0!==d?d:"",userType:"companyDirector",planId:null!==(o=null===e||void 0===e?void 0:e.PDPlan)&&void 0!==o?o:null,status:null===(n=null===xe||void 0===xe||null===(a=xe.data)||void 0===a?void 0:a.status)||void 0===n||n,mobile:{number:null!==(t=null===e||void 0===e?void 0:e.PDMobileNo)&&void 0!==t?t:"",code:null!==(s=null===e||void 0===e?void 0:e.PDMobileCode)&&void 0!==s?s:""},directorProfile:{tagline:null!==(r=null===e||void 0===e?void 0:e.PDTagline)&&void 0!==r?r:"",companyType:null!==(c=null===e||void 0===e?void 0:e.PDOrganizationType)&&void 0!==c?c:"",industryType:null!==(u=null===e||void 0===e?void 0:e.PDIndustryType)&&void 0!==u?u:"",secondaryEmail:null!==(v=null===e||void 0===e?void 0:e.PDEmail)&&void 0!==v?v:"",secondaryMobile:{number:null!==(m=null===e||void 0===e?void 0:e.PDMobileNo)&&void 0!==m?m:"",code:null!==(x=null===e||void 0===e?void 0:e.PDMobileCode)&&void 0!==x?x:""}},addresses:{primary:{street:null!==(p=null===e||void 0===e?void 0:e.PDAddress)&&void 0!==p?p:"",city:null!==(h=null===e||void 0===e?void 0:e.PDCity)&&void 0!==h?h:"",state:null!==(y=null===e||void 0===e?void 0:e.PDState)&&void 0!==y?y:"",country:null!==(f=null===e||void 0===e?void 0:e.PDCountry)&&void 0!==f?f:"",pinCode:null!==(g=null===e||void 0===e?void 0:e.PDPinCode)&&void 0!==g?g:""},secondary:{street:null!==(N=null===e||void 0===e?void 0:e.PDSecondaryAddress)&&void 0!==N?N:"",city:null!==(D=null===e||void 0===e?void 0:e.PDSecondaryCity)&&void 0!==D?D:"",state:null!==(j=null===e||void 0===e?void 0:e.PDSecondaryState)&&void 0!==j?j:"",country:null!==(C=null===e||void 0===e?void 0:e.PDSecondaryCountry)&&void 0!==C?C:"",pinCode:null!==(w=null===e||void 0===e?void 0:e.PDSecondaryPinCode)&&void 0!==w?w:""}}};Fe((0,b.O6)(P)).then(e=>{e.error||Fe((0,b.Hu)({_id:l}))})}if(2===F&&Ze()){const e={documents:B.map((e,i)=>null!==e&&void 0!==e&&e._id?{userId:l,_id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.documentType,number:null===e||void 0===e?void 0:e.documentNo,filePath:null===e||void 0===e?void 0:e.file}:{userId:l,name:null===e||void 0===e?void 0:e.documentType,number:null===e||void 0===e?void 0:e.documentNo,filePath:null===e||void 0===e?void 0:e.file}),type:"documents"};Fe((0,P.lU)(e)).then(e=>{e.error||Fe((0,b.Hu)({_id:l}))})}if(3===F&&Ye()){const e={financialInfo:R.map((e,i)=>null!==e&&void 0!==e&&e._id?{userId:l,_id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.name,year:null===e||void 0===e?void 0:e.year,filePath:null===e||void 0===e?void 0:e.file}:{userId:l,name:null===e||void 0===e?void 0:e.name,year:null===e||void 0===e?void 0:e.year,filePath:null===e||void 0===e?void 0:e.file}),type:"financial"};Fe((0,P.lU)(e)).then(e=>{e.error||(Fe((0,b.Hu)({_id:l})),H&&T(H),V(null))})}if(4===F){var S,A,E,I,k,M,q,_,O,L,Q,z,U,W,Z,Y,G,K,J,X,ee,le,ie,de,oe,ne;const i={_id:l,firstName:"",lastName:"",profileImage:null!==$&&void 0!==$?$:"",fullName:null!==(S=null===e||void 0===e?void 0:e.PDDirectorName)&&void 0!==S?S:"",email:null!==(A=null===e||void 0===e?void 0:e.PDEmail)&&void 0!==A?A:"",userType:"companyDirector",planId:null!==(E=null===e||void 0===e?void 0:e.PDPlan)&&void 0!==E?E:null,status:null===xe||void 0===xe||null===(I=xe.data)||void 0===I?void 0:I.status,mobile:{number:null!==(k=null===e||void 0===e?void 0:e.PDMobileNo)&&void 0!==k?k:"",code:null!==(M=null===e||void 0===e?void 0:e.PDMobileCode)&&void 0!==M?M:""},directorProfile:{tagline:null!==(q=null===e||void 0===e?void 0:e.PDTagline)&&void 0!==q?q:"",companyType:null!==(_=null===e||void 0===e?void 0:e.PDOrganizationType)&&void 0!==_?_:"",industryType:null!==(O=null===e||void 0===e?void 0:e.PDIndustryType)&&void 0!==O?O:"",secondaryEmail:null!==(L=null===e||void 0===e?void 0:e.PDEmail)&&void 0!==L?L:"",secondaryMobile:{number:null!==(Q=null===e||void 0===e?void 0:e.PDMobileNo)&&void 0!==Q?Q:"",code:null!==(z=null===e||void 0===e?void 0:e.PDMobileCode)&&void 0!==z?z:""}},addresses:{primary:{street:null!==(U=null===e||void 0===e?void 0:e.PDAddress)&&void 0!==U?U:"",city:null!==(W=null===e||void 0===e?void 0:e.PDCity)&&void 0!==W?W:"",state:null!==(Z=null===e||void 0===e?void 0:e.PDState)&&void 0!==Z?Z:"",country:null!==(Y=null===e||void 0===e?void 0:e.PDCountry)&&void 0!==Y?Y:"",pinCode:null!==(G=null===e||void 0===e?void 0:e.PDPinCode)&&void 0!==G?G:""},secondary:{street:null!==(K=null===e||void 0===e?void 0:e.PDSecondaryAddress)&&void 0!==K?K:"",city:null!==(J=null===e||void 0===e?void 0:e.PDSecondaryCity)&&void 0!==J?J:"",state:null!==(X=null===e||void 0===e?void 0:e.PDSecondaryState)&&void 0!==X?X:"",country:null!==(ee=null===e||void 0===e?void 0:e.PDSecondaryCountry)&&void 0!==ee?ee:"",pinCode:null!==(le=null===e||void 0===e?void 0:e.PDSecondaryPinCode)&&void 0!==le?le:""}},socialLinks:[{name:"Instagram",link:null!==(ie=null===e||void 0===e?void 0:e.SMInstagram)&&void 0!==ie?ie:""},{name:"Twitter",link:null!==(de=null===e||void 0===e?void 0:e.SMTwitter)&&void 0!==de?de:""},{name:"Facebook",link:null!==(oe=null===e||void 0===e?void 0:e.SMFacebook)&&void 0!==oe?oe:""},{name:"Website",link:null!==(ne=null===e||void 0===e?void 0:e.SMWebsite)&&void 0!==ne?ne:""}]};Fe((0,b.O6)(i)).then(e=>{})}}),className:"space-y-2 md:col-span-9 col-span-12",children:[(0,k.jsxs)("div",{className:"flex bg-header justify-start items-center rounded-lg gap-5 px-3 pt-2 overflow-x-auto overflow-y-hidden text-nowrap",children:[(0,k.jsxs)("button",{type:"button",onClick:()=>Ue(1),className:"flex relative flex-col items-center  pb-2 ".concat(1===F?"text-white ]":"text-gray-400"," cursor-pointer"),children:[1===F&&(0,k.jsx)("div",{className:"w-full h-3 bg-[#f4f6f9] absolute bottom-0 translate-y-1/2 rounded-2xl"}),(0,k.jsx)("span",{className:"text-sm font-semibold text-nowrap",children:"Primary Details"})]}),(0,k.jsxs)("button",{type:"button",onClick:()=>Ue(2),className:"flex flex-col items-center relative pb-2 ".concat(2===F?"text-white ]":"text-gray-400"," cursor-pointer"),children:[2===F&&(0,k.jsx)("div",{className:"w-full h-3 bg-[#f4f6f9] absolute bottom-0 translate-y-1/2 rounded-2xl"}),(0,k.jsx)("span",{className:"text-sm font-semibold",children:"Documents"})]})]}),1===F&&(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:" ",children:[(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3",children:(0,k.jsxs)("div",{className:"",children:[(0,k.jsxs)("label",{className:"".concat(s.Q0),children:["Owner Name ",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsx)("input",(0,d.A)((0,d.A)({type:"text"},je("PDDirectorName",{required:"Owner Name is required"})),{},{className:"placeholder: ".concat(s.Ol," ").concat(Me.PDDirectorName?"border-[1px] ":"border-gray-300"),placeholder:"Enter Owner Name"})),Me.PDDirectorName&&(0,k.jsx)("p",{className:"text-red-500 text-sm",children:Me.PDDirectorName.message})]})}),(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3 md:mt-4",children:(0,k.jsxs)("div",{className:"col-span-2",children:[(0,k.jsxs)("label",{className:"".concat(s.Q0),children:["Primary Address",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsx)("input",(0,d.A)((0,d.A)({type:"text"},je("PDAddress",{required:"Address  is required"})),{},{className:"".concat(s.Ol," ").concat(Me.PDAddress?"border-[1px] ":"border-gray-300"),placeholder:"Enter Address "})),Me.PDAddress&&(0,k.jsx)("p",{className:"text-red-500 text-sm",children:Me.PDAddress.message})]})}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 md:gap-8 gap-3 md:my-1 px-3",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"".concat(s.Q0),children:["Country ",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsx)(n.xI,{control:Ie,name:"PDCountry",rules:{required:"Country is required"},render:e=>{var l;let{field:i}=e;return(0,k.jsx)(N.A,(0,d.A)((0,d.A)({className:"w-full"},i),{},{onChange:e=>{i.onChange(e)},options:null===re||void 0===re||null===(l=re.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,k.jsx)("input",{placeholder:"Enter Country",onFocus:()=>{Fe((0,p.dw)({isPagination:!1,text:"",sort:!0,status:!0}))},className:"".concat(s.Ol," ").concat(Me.PDCountry?"border-[1px] ":"border-gray-300")})}))}}),Me.PDCountry&&(0,k.jsx)("p",{className:"".concat(s.ci),children:Me.PDCountry.message})]}),(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"".concat(s.Q0),children:["State ",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsx)(n.xI,{control:Ie,name:"PDState",rules:{required:"State is required"},render:e=>{var l;let{field:i}=e;return(0,k.jsx)(N.A,(0,d.A)((0,d.A)({className:"w-full"},i),{},{onChange:e=>i.onChange(e),options:null===ce||void 0===ce||null===(l=ce.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,k.jsx)("input",{placeholder:"Enter State",onFocus:()=>{Fe((0,h.mz)({isPagination:!1,text:"",countryName:qe,sort:!0,status:!0}))},className:"".concat(s.Ol," ").concat(Me.PDState?"border-[1px] ":"border-gray-300")})}))}}),Me.PDState&&(0,k.jsx)("p",{className:"".concat(s.ci),children:Me.PDState.message})]}),(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"".concat(s.Q0),children:["City ",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsx)(n.xI,{control:Ie,name:"PDCity",rules:{required:"City is required"},render:e=>{var l;let{field:i}=e;return(0,k.jsx)(N.A,(0,d.A)((0,d.A)({className:"w-full"},i),{},{onChange:e=>i.onChange(e),options:null===ue||void 0===ue||null===(l=ue.docs)||void 0===l?void 0:l.map(e=>({value:null===e||void 0===e?void 0:e.name})),children:(0,k.jsx)("input",{onFocus:()=>{Fe((0,y.cY)({isPagination:!1,text:"",sort:!0,status:!0,stateName:Ve}))},placeholder:"Enter City",className:"".concat(s.Ol," ").concat(Me.PDCity?"border-[1px] ":"border-gray-300")})}))}}),Me.PDCity&&(0,k.jsx)("p",{className:"".concat(s.ci),children:Me.PDCity.message})]}),(0,k.jsxs)("div",{children:[(0,k.jsxs)("label",{className:"".concat(s.Q0),children:["Pin Code ",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsx)(n.xI,{control:Ie,name:"PDPinCode",rules:{required:"Pin Code is required"},render:e=>{let{field:l}=e;return(0,k.jsx)("input",(0,d.A)((0,d.A)({},l),{},{type:"number",placeholder:"Enter Pin Code",maxLength:6,onInput:e=>{e.target.value.length>6&&(e.target.value=e.target.value.slice(0,6))},className:"".concat(s.Ol," ").concat(Me.PDPinCode?"border-[1px] ":"border-gray-300")}))}}),Me.PDPinCode&&(0,k.jsx)("p",{className:"text-red-500 text-sm",children:Me.PDPinCode.message})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-8 md:my-1 px-3 md:mt-4",children:[(0,k.jsxs)("div",{className:"",children:[(0,k.jsxs)("label",{className:"".concat(s.Q0),children:["Email",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsx)("input",(0,d.A)((0,d.A)({type:"email"},je("PDEmail",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(s.Ol," ").concat(Me.PDEmail?"border-[1px] ":"border-gray-300"),placeholder:"Enter Email"})),Me.PDEmail&&(0,k.jsx)("p",{className:"text-red-500 text-sm",children:Me.PDEmail.message})]}),(0,k.jsxs)("div",{className:"flex gap-3",children:[(0,k.jsxs)("div",{className:"w-[150px]",children:[(0,k.jsxs)("label",{className:"".concat(s.Q0),children:["code",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsx)(n.xI,{control:Ie,name:"PDMobileCode",rules:{required:"code is required"},render:e=>{let{field:l}=e;return(0,k.jsx)(C.A,{field:l,errors:Me})}}),Me.PDMobileCode&&(0,k.jsx)("p",{className:"".concat(s.ci),children:Me.PDMobileCode.message})]}),(0,k.jsxs)("div",{className:"w-full",children:[(0,k.jsxs)("label",{className:"".concat(s.Q0),children:["Mobile No",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsx)("input",(0,d.A)((0,d.A)({type:"number"},je("PDMobileNo",{required:"Mobile No is required",minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(s.Ol," ").concat(Me.PDMobileNo?"border-[1px] ":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),Me.PDMobileNo&&(0,k.jsx)("p",{className:"text-red-500 text-sm",children:Me.PDMobileNo.message})]})]})]})]}),(0,k.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,k.jsx)("button",{type:"Submit",className:"".concat(s.Wb),children:"Submit Details"})})]}),2===F&&(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"rounded-md",children:[B.map((e,l)=>{var o,n,a,t,r;return(0,k.jsxs)("div",{className:"border border-gray-300 rounded-md my-2",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-4 bg-header rounded-t-md",children:[(0,k.jsxs)("div",{className:"px-3 py-2 text-white font-semibold",children:["  Document ",l+1]}),(0,k.jsxs)("div",{className:"flex  justify-end items-end",children:[(0,k.jsx)("button",{type:"button",onClick:()=>((e,l)=>{null!==e&&void 0!==e&&e._id?Fe((0,P.Nn)({_id:null===e||void 0===e?void 0:e._id})).then(e=>{e.error||U(e=>e.filter((e,i)=>i!==l))}):U(e=>e.filter((e,i)=>i!==l))})(e,l),className:"text-red-600 hover:text-red-800",children:(0,k.jsx)(u.F23,{size:20,className:"m-2"})}),(0,k.jsx)("button",{type:"button",onClick:()=>(e=>{U(l=>l.map((l,i)=>i===e?(0,d.A)((0,d.A)({},l),{},{isEditable:!l.isEditable}):l))})(l),className:"text-white",children:null!==e&&void 0!==e&&e.isEditable?(0,k.jsx)(v.cZR,{size:20,className:"m-2"}):(0,k.jsx)(I.Ivr,{size:20,className:"m-2"})})]})]}),(0,k.jsxs)("div",{className:"px-3 grid sm:grid-cols-2 grid-cols-1 gap-4 mb-3",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("label",{className:"".concat(s.Q0),children:["Document Type ",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsxs)(D.A,{value:e.documentType,disabled:!(null!==e&&void 0!==e&&e.isEditable),className:" ".concat(s.Hy," ").concat(Me.PDPlan?"border-[1px] ":"border-gray-300"),onChange:e=>Re(l,"documentType",e),placeholder:"Select Document Type",showSearch:!0,children:[(0,k.jsx)(D.A.Option,{value:"",children:"Select Document"}),null===ve||void 0===ve?void 0:ve.filter(e=>"General"===(null===e||void 0===e?void 0:e.type)).map(e=>(0,k.jsx)(D.A.Option,{value:e.name,children:e.name},e.name))]}),(null===(o=Z[l])||void 0===o?void 0:o.documentType)&&(0,k.jsx)("p",{className:"text-red-600 text-sm",children:Z[l].documentType})]}),(0,k.jsxs)("div",{children:[(0,k.jsxs)("label",{className:"".concat(s.Q0),children:["Document No ",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsx)("input",{type:"text",disabled:!(null!==e&&void 0!==e&&e.isEditable),value:e.documentNo,onChange:e=>Re(l,"documentNo",e.target.value),className:"".concat(null!==e&&void 0!==e&&e.isEditable?s.Ol:s.id," ").concat(null!==(n=Z[l])&&void 0!==n&&n.documentNo?"border-[1px] ":""),placeholder:"Enter Document No"}),(null===(a=Z[l])||void 0===a?void 0:a.documentNo)&&(0,k.jsx)("p",{className:"text-red-600 text-sm",children:Z[l].documentNo})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("label",{className:"".concat(s.Q0),children:["Upload Document",(0,k.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,k.jsx)("input",{type:"file",disabled:!(null!==e&&void 0!==e&&e.isEditable),ref:e=>i.current[l]=e,id:"documentUpload".concat(l),className:"hidden",onChange:e=>We(l,e.target.files[0])}),(0,k.jsx)("br",{}),(0,k.jsx)("label",{htmlFor:"documentUpload".concat(l),className:"".concat(null!==e&&void 0!==e&&e.isEditable?"bg-header":"bg-gray-400"," text-white mt-2 py-1.5 px-3 text-nowrap text-sm rounded cursor-pointer"),children:"Upload"})]}),(null===e||void 0===e||null===(t=e.file)||void 0===t?void 0:t.length)>0?e.file.map((i,d)=>(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)(E.A,{src:"".concat("https://vigapi.vigorousit.com","/public/").concat(i),alt:"Uploaded ".concat(d+1)}),(0,k.jsx)("button",{disabled:!(null!==e&&void 0!==e&&e.isEditable),className:"absolute -top-1 -right-2 ".concat(null!==e&&void 0!==e&&e.isEditable?"bg-red-600":"bg-gray-400"," text-white rounded-full w-5 h-5 flex items-center justify-center text-xs"),onClick:()=>(e=>{const l=[...B];l[e].file=[],U(l)})(l),children:"\u2715"})]},d)):null,(null===(r=Z[l])||void 0===r?void 0:r.file)&&(0,k.jsx)("p",{className:"text-red-600 text-sm",children:Z[l].file})]})]},l)]},l)}),(0,k.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,k.jsx)("button",{type:"button",onClick:()=>{U([...B,{id:Date.now(),isEditable:!0}])},className:"bg-header text-white py-1.5 px-3 text-nowrap text-sm rounded ",children:"Add More"})})]}),(0,k.jsx)("div",{className:"flex justify-between px-3 pb-2",children:(0,k.jsx)("button",{disabled:he||pe,type:"Submit",className:"".concat(s.Wb),children:he||pe?(0,k.jsx)("div",{className:"text-center flex justify-center items-center",children:(0,k.jsx)(j.A,{})}):"Submit Details"})})]})]})]})})}},65337:(e,l,i)=>{i.d(l,{A:()=>n});var d=i(91686),o=i(70579);const n=function(){return(0,o.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,o.jsx)(d.A,{size:"large"})})}}}]);
//# sourceMappingURL=701.bd1be69b.chunk.js.map