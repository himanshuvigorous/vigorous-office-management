"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[9578],{39578:(e,d,a)=>{a.r(d),a.d(d,{default:()=>f});var l=a(89379),i=a(24858),n=a(39160),o=a(83003),r=a(73216),s=a(65043),t=a(15187),c=a(31744),v=a(78729),u=a(66015),m=a(42837),p=(a(31536),a(88967),a(46937)),h=(a(70337),a(65512)),x=a(94084),y=a(17995),j=a(89427),N=a(60446),b=a.n(N),I=a(70579);const f=()=>{const{loading:e}=(0,o.d4)(e=>e.contra),{register:d,handleSubmit:a,control:N,watch:f,formState:{errors:A},setValue:D}=(0,i.mN)(),k=(0,o.wA)(),T=(0,r.Zp)(),{companyList:g,companyListLoading:_}=(0,o.d4)(e=>e.company),{branchList:B,branchListloading:P}=(0,o.d4)(e=>e.branch),w=JSON.parse(localStorage.getItem("user_info_".concat(t.AU))),{clientList:C}=(0,o.d4)(e=>e.client),O=(0,i.FH)({control:N,name:"PDCompanyId",defaultValue:""}),q=(0,i.FH)({control:N,name:"PDBranchId",defaultValue:""}),{branchDetailsData:S,loading:L}=(0,o.d4)(e=>e.branch),{employeList:W}=(0,o.d4)(e=>e.employe);(0,s.useEffect)(()=>{(O||"company"===(null===w||void 0===w?void 0:w.userType)||"companyDirector"===(null===w||void 0===w?void 0:w.userType))&&k((0,c.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===w||void 0===w?void 0:w.userType)?O:"company"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.companyId}))},[O]),(0,s.useEffect)(()=>{"admin"===(null===w||void 0===w?void 0:w.userType)&&k((0,v.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]);(0,s.useEffect)(()=>{(q||"company"!==(null===w||void 0===w?void 0:w.userType)&&"companyDirector"!==(null===w||void 0===w?void 0:w.userType)&&"admin"!==(null===w||void 0===w?void 0:w.userType))&&k((0,c.ZN)({_id:"company"===(null===w||void 0===w?void 0:w.userType)||"companyDirector"===(null===w||void 0===w?void 0:w.userType)||"admin"===(null===w||void 0===w?void 0:w.userType)?q:"companyBranch"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.branchId}))},[q]),(0,s.useEffect)(()=>{!O&&"admin"===(null===w||void 0===w?void 0:w.userType)||!q&&"companBranch"===(null===w||void 0===w?void 0:w.userType)&&"employee"!==(null===w||void 0===w?void 0:w.userType)||E()},[O,q]);const E=()=>{const e={text:"",status:!0,sort:!0,isTL:"",isHR:"",isPagination:!1,departmentId:"",designationId:"",companyId:"admin"===(null===w||void 0===w?void 0:w.userType)?O:"company"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.companyId,branchId:"company"===(null===w||void 0===w?void 0:w.userType)||"admin"===(null===w||void 0===w?void 0:w.userType)||"companyDirector"===(null===w||void 0===w?void 0:w.userType)?q:"companyBranch"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.branchId};k((0,m.qV)(e))};return(0,I.jsx)(n.A,{children:(0,I.jsx)("div",{className:"gap-4",children:(0,I.jsxs)("form",{autoComplete:"off",className:"mt-2 md:px-1",onSubmit:a(e=>{if("bank_transfer"===(null===e||void 0===e?void 0:e.type)){const d={companyId:"admin"===(null===w||void 0===w?void 0:w.userType)?null===e||void 0===e?void 0:e.PDCompanyId:"company"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.companyId,directorId:"companyDirector"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.directorId,branchId:"admin"===(null===w||void 0===w?void 0:w.userType)||"companyDirector"===(null===w||void 0===w?void 0:w.userType)||"company"===(null===w||void 0===w?void 0:w.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.branchId,senderUserId:"",receiverUserId:"",senderBankAccId:null===e||void 0===e?void 0:e.PDbanktransferSenderBankId,receiverBankAccId:null===e||void 0===e?void 0:e.PDBankTransferReciever,type:null===e||void 0===e?void 0:e.type,amount:+(null===e||void 0===e?void 0:e.amount),date:(0,t.Tk)(null===e||void 0===e?void 0:e.date),naration:null===e||void 0===e?void 0:e.naration};k((0,p.WU)(d)).then(e=>{e.error||T(-1)})}else if("cash_deposit"===(null===e||void 0===e?void 0:e.type)){var d;const a={companyId:"admin"===(null===w||void 0===w?void 0:w.userType)?null===e||void 0===e?void 0:e.PDCompanyId:"company"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.companyId,directorId:"companyDirector"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.directorId,branchId:"admin"===(null===w||void 0===w?void 0:w.userType)||"companyDirector"===(null===w||void 0===w?void 0:w.userType)||"company"===(null===w||void 0===w?void 0:w.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.branchId,senderUserId:null===e||void 0===e||null===(d=e.cashDepositemployee)||void 0===d?void 0:d.value,receiverUserId:"",senderBankAccId:"",receiverBankAccId:null===e||void 0===e?void 0:e.PDCashDepositBankId,type:null===e||void 0===e?void 0:e.type,amount:+(null===e||void 0===e?void 0:e.amount),date:(0,t.Tk)(null===e||void 0===e?void 0:e.date),naration:null===e||void 0===e?void 0:e.naration};k((0,p.WU)(a)).then(e=>{e.error||T(-1)})}else if("cash_withdraw"===(null===e||void 0===e?void 0:e.type)){var a;const d={companyId:"admin"===(null===w||void 0===w?void 0:w.userType)?null===e||void 0===e?void 0:e.PDCompanyId:"company"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.companyId,directorId:"companyDirector"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.directorId,branchId:"admin"===(null===w||void 0===w?void 0:w.userType)||"companyDirector"===(null===w||void 0===w?void 0:w.userType)||"company"===(null===w||void 0===w?void 0:w.userType)?null===e||void 0===e?void 0:e.PDBranchId:"companyBranch"===(null===w||void 0===w?void 0:w.userType)?null===w||void 0===w?void 0:w._id:null===w||void 0===w?void 0:w.branchId,senderUserId:"",receiverUserId:null===e||void 0===e||null===(a=e.cashWithdrwaemployee)||void 0===a?void 0:a.value,senderBankAccId:null===e||void 0===e?void 0:e.PDCashWithdrwaBankId,receiverBankAccId:"",type:null===e||void 0===e?void 0:e.type,amount:+(null===e||void 0===e?void 0:e.amount),date:(0,t.Tk)(null===e||void 0===e?void 0:e.date),naration:null===e||void 0===e?void 0:e.naration};k((0,p.WU)(d)).then(e=>{e.error||T(-1)})}}),children:[(0,I.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-4 md:my-1 px-3 md:mt-4",children:["admin"===(null===w||void 0===w?void 0:w.userType)&&(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Company ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(i.xI,{control:N,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{var d;let{field:a}=e;return(0,I.jsxs)(h.A,(0,l.A)((0,l.A)({},a),{},{defaultValue:"",className:"".concat(t.Hy," "),filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,I.jsx)(h.A.Option,{value:"",children:"Select Company"}),_?(0,I.jsx)(h.A.Option,{disabled:!0,children:(0,I.jsx)(j.A,{})}):null===(d=(0,t._o)(g,"fullName"))||void 0===d?void 0:d.map(e=>(0,I.jsx)(h.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),A.PDCompanyId&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.PDCompanyId.message})]}),("admin"===(null===w||void 0===w?void 0:w.userType)||"company"===(null===w||void 0===w?void 0:w.userType)||"companyDirector"===(null===w||void 0===w?void 0:w.userType))&&(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Branch ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(i.xI,{control:N,name:"PDBranchId",rules:{required:"Branch is required"},render:e=>{var d;let{field:a}=e;return(0,I.jsxs)(h.A,(0,l.A)((0,l.A)({},a),{},{defaultValue:"",className:"".concat(t.Hy," "),filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,I.jsx)(h.A.Option,{value:"",children:"Select Branch"}),P?(0,I.jsx)(h.A.Option,{disabled:!0,children:(0,I.jsx)(j.A,{})}):null===(d=(0,t._o)(B,"fullName"))||void 0===d?void 0:d.map(e=>(0,I.jsx)(h.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),A.PDBranchId&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.PDBranchId.message})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Type ",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(i.xI,{control:N,name:"type",rules:{required:"type is required"},render:e=>{let{field:d}=e;return(0,I.jsxs)(h.A,(0,l.A)((0,l.A)({},d),{},{defaultValue:"",className:"".concat(t.Hy,"  ").concat(A.type?"border-[1px] ":"border-gray-300"," "),showSearch:!0,filterOption:(e,d)=>String(null===d||void 0===d?void 0:d.children).toLowerCase().includes(e.toLowerCase()),children:[(0,I.jsx)(h.A.Option,{value:"",children:"Select Type"}),(0,I.jsx)(h.A.Option,{value:"cash_deposit",children:"Cash Deposit"}),(0,I.jsx)(h.A.Option,{value:"cash_withdraw",children:"Cash Withdraw"}),(0,I.jsx)(h.A.Option,{value:"bank_transfer",children:"Bank Transfer"})]}))}}),A.type&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.type.message})]}),"bank_transfer"===f("type")&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Sender Bank",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(i.xI,{control:N,name:"PDbanktransferSenderBankId",rules:{required:"bankId is required"},render:e=>{var d,a;let{field:i}=e;return(0,I.jsxs)(h.A,(0,l.A)((0,l.A)({},i),{},{defaultValue:"",className:"".concat(t.Hy," "),children:[(0,I.jsx)(h.A.Option,{value:"",children:"Select Bank"}),(null===S||void 0===S||null===(d=S.data)||void 0===d?void 0:d.bankData)&&(null===S||void 0===S||null===(a=S.data)||void 0===a?void 0:a.bankData.length)>0&&S.data.bankData.map(e=>(0,I.jsx)(h.A.Option,{value:e._id,children:(0,t.ig)(e)},e._id))]}))}}),A.PDbanktransferSenderBankId&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.PDbanktransferSenderBankId.message})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Reciever Bank",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(i.xI,{control:N,name:"PDBankTransferReciever",rules:{required:"bankId is required"},render:e=>{var d,a;let{field:i}=e;return(0,I.jsxs)(h.A,(0,l.A)((0,l.A)({},i),{},{defaultValue:"",className:"".concat(t.Hy," "),children:[(0,I.jsx)(h.A.Option,{value:"",children:"Select Bank"}),(null===S||void 0===S||null===(d=S.data)||void 0===d?void 0:d.bankData)&&(null===S||void 0===S||null===(a=S.data)||void 0===a?void 0:a.bankData.length)>0&&(0,t._o)(S.data.bankData,"bankName").map(e=>(0,I.jsx)(h.A.Option,{value:e._id,children:(0,t.ig)(e)},e._id))]}))}}),A.PDBankTransferReciever&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.PDBankTransferReciever.message})]})]}),"cash_deposit"===f("type")&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"w-full",children:[(0,I.jsx)("label",{className:"".concat(t.Q0),children:"Employee"}),(0,I.jsx)(i.xI,{name:"cashDepositemployee",control:N,rules:{required:"Employee is required"},render:e=>{var d;let{field:a}=e;return(0,I.jsx)(u.Ay,(0,l.A)((0,l.A)({},a),{},{options:null===(d=(0,t._o)(W,"fullName"))||void 0===d?void 0:d.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.fullName})),classNamePrefix:"react-select",className:"".concat(t.Ph," ").concat(A.cashDepositemployee?"border-[1px] ":"border-gray-300"),placeholder:"Select Employee"}))}}),A.cashDepositemployee&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.cashDepositemployee.message})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Reciever Bank",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(i.xI,{control:N,name:"PDCashDepositBankId",rules:{required:"bankId is required"},render:e=>{var d,a;let{field:i}=e;return(0,I.jsxs)(h.A,(0,l.A)((0,l.A)({},i),{},{defaultValue:"",className:"".concat(t.Hy," "),children:[(0,I.jsx)(h.A.Option,{value:"",children:"Select Bank"}),L?(0,I.jsx)(h.A.Option,{disabled:!0,children:(0,I.jsx)(j.A,{})}):(null===S||void 0===S||null===(d=S.data)||void 0===d?void 0:d.bankData)&&(null===S||void 0===S||null===(a=S.data)||void 0===a?void 0:a.bankData.length)>0&&(0,t._o)(S.data.bankData,"bankName").map(e=>(0,I.jsx)("option",{value:e._id,children:(0,t.ig)(e)},e._id))]}))}}),A.PDCashDepositBankId&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.PDCashDepositBankId.message})]})]}),"cash_withdraw"===f("type")&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Sender Bank",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(i.xI,{control:N,name:"PDCashWithdrwaBankId",rules:{required:"bankId is required"},render:e=>{var d,a;let{field:i}=e;return(0,I.jsxs)(h.A,(0,l.A)((0,l.A)({},i),{},{defaultValue:"",className:"".concat(t.Hy," "),children:[(0,I.jsx)(h.A.Option,{value:"",children:"Select Bank"}),L?(0,I.jsx)(h.A.Option,{disabled:!0,children:(0,I.jsx)(j.A,{})}):(null===S||void 0===S||null===(d=S.data)||void 0===d?void 0:d.bankData)&&(null===S||void 0===S||null===(a=S.data)||void 0===a?void 0:a.bankData.length)>0&&(0,t._o)(S.data.bankData,"bankName").map(e=>(0,I.jsx)(h.A.Option,{value:e._id,children:(0,t.ig)(e)},e._id))]}))}}),A.PDCashWithdrwaBankId&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.PDCashWithdrwaBankId.message})]}),(0,I.jsxs)("div",{className:"w-full",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:[" ","RecieverEmployee"]}),(0,I.jsx)(i.xI,{name:"cashWithdrwaemployee",control:N,rules:{required:"Employee is required"},render:e=>{var d;let{field:a}=e;return(0,I.jsx)(u.Ay,(0,l.A)((0,l.A)({},a),{},{options:null===(d=(0,t._o)(W,"fullName"))||void 0===d?void 0:d.map(e=>({value:null===e||void 0===e?void 0:e._id,label:null===e||void 0===e?void 0:e.fullName})),classNamePrefix:"react-select",className:"".concat(t.Ph," ").concat(A.cashWithdrwaemployee?"border-[1px] ":"border-gray-300"),placeholder:"Select Employee"}))}}),A.cashWithdrwaemployee&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.cashWithdrwaemployee.message})]})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Amount",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("input",(0,l.A)((0,l.A)({type:"number",step:"0.01"},d("amount",{required:"Amount is required"})),{},{className:" ".concat(t.Ol," ").concat(A.amount?"border-[1px] ":"border-gray-300"),placeholder:"Enter Amount"})),A.amount&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.amount.message})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Naration",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)("textarea",(0,l.A)((0,l.A)({},d("naration",{required:"Naration is required"})),{},{className:" ".concat(t.Ol," ").concat(A.naration?"border-[1px] ":"border-gray-300"),placeholder:"Enter Naration"})),A.naration&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.naration.message})]}),(0,I.jsxs)("div",{className:"",children:[(0,I.jsxs)("label",{className:"".concat(t.Q0),children:["Date",(0,I.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,I.jsx)(i.xI,{name:"date",control:N,rules:{required:"Date  is required"},render:e=>{let{field:d}=e;return(0,I.jsx)(x.A,{field:d,errors:A,disabledDate:e=>e&&e.isAfter(b()().endOf("day"),"day")})}}),A.date&&(0,I.jsx)("p",{className:"text-red-500 text-sm",children:A.date.message})]})]}),(0,I.jsx)("div",{className:"flex justify-end",children:(0,I.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,I.jsx)(y.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=9578.1be1d173.chunk.js.map