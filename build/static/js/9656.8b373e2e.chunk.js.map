{"version":3,"file":"static/js/9656.8b373e2e.chunk.js","mappings":"gJAWA,QATA,WACI,OACGA,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4CAA2CC,UAExDF,EAAAA,EAAAA,KAACG,EAAAA,EAAI,CAACC,KAAK,WAGpB,C,gUCkGA,QAlGA,SAAyBC,GAA2D,IAADC,EAAA,IAAzD,YAAEC,EAAW,QAAEC,EAAO,aAAEC,EAAY,gBAAEC,GAAiBL,EAE/E,MAAOM,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,IACnCC,GAAWC,EAAAA,EAAAA,MAYjB,OALAC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAA2B,OAAfP,QAAe,IAAfA,OAAe,EAAfA,EAAiBQ,KAAMC,IAAI,IAAAC,EAAA,OAAS,OAAJD,QAAI,IAAJA,OAAI,EAAJA,EAAME,OAAkB,OAAXd,QAAW,IAAXA,GAAiB,QAANa,EAAXb,EAAaY,YAAI,IAAAC,OAAN,EAAXA,EAAmBC,OAClFT,EAAqB,OAATK,QAAS,IAATA,OAAS,EAATA,EAAWK,UACtB,CAACf,EAAaG,KAGfV,EAAAA,EAAAA,KAAAuB,EAAAA,SAAA,CAAArB,UACEF,EAAAA,EAAAA,KAACwB,EAAAA,EAAK,CAACvB,UAAU,oBAAoBwB,MAAO,IAAMC,QAAQ,EAAOC,MAAK,GAAAC,OAAgB,OAAXrB,QAAW,IAAXA,GAAiB,QAAND,EAAXC,EAAaY,YAAI,IAAAb,OAAN,EAAXA,EAAmBuB,WAAU,eAAeC,KAAiB,OAAXvB,QAAW,IAAXA,OAAW,EAAXA,EAAawB,OAAQC,KAbrIC,KACfzB,KAYoK0B,SAVjJC,KACnB3B,KAS2LN,UACvLkC,EAAAA,EAAAA,MAAA,SAAOnC,UAAU,gDAA+CC,SAAA,EAC9DF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,GAAEC,UACjBkC,EAAAA,EAAAA,MAAA,MAAInC,UAAU,oGAAmGC,SAAA,EAC/GF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gCAA+BC,SAAC,WAE9CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAC,UACtCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAC,YACtCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAC,kBACtCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAC,oCACtCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAC,iBACtCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAC,gBACtCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAC,iBAG1CF,EAAAA,EAAAA,KAAA,SAAAE,SACGS,IAAoB,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAU0B,QAAS,EACtB,OAAR1B,QAAQ,IAARA,OAAQ,EAARA,EAAU2B,IAAI,CAACC,EAASC,KAAK,IAAAC,EAAAC,EAAA,OAC3BN,EAAAA,EAAAA,MAAA,MACEnC,UAAS,cAAA2B,OAAgBY,EAAQ,IAAM,EAAI,kBAAoB,WAAU,gDACxBtC,SAAA,EAEjDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAClCsC,EAAQ,KAGXxC,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAEyC,IAAc,OAAPJ,QAAO,IAAPA,OAAO,EAAPA,EAASK,MAAMC,OAAO,iBACpE7C,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,UAAE4C,EAAAA,EAAAA,KAAyB,OAAPP,QAAO,IAAPA,OAAO,EAAPA,EAASQ,cAAe,QACjF/C,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAS,OAAPqC,QAAO,IAAPA,OAAO,EAAPA,EAASS,eAChDhD,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAA2B,UAAlB,OAAPqC,QAAO,IAAPA,OAAO,EAAPA,EAASS,aAAgC,OAAPT,QAAO,IAAPA,OAAO,EAAPA,EAASU,YAAW,GAAArB,OAAa,OAAPW,QAAO,IAAPA,GAAiB,QAAVE,EAAPF,EAASW,gBAAQ,IAAAT,OAAV,EAAPA,EAAmBU,SAAQ,KAAAvB,OAAW,OAAPW,QAAO,IAAPA,GAAiB,QAAVG,EAAPH,EAASW,gBAAQ,IAAAR,OAAV,EAAPA,EAAmBU,eAAc,KAAAxB,OAAW,OAAPW,QAAO,IAAPA,OAAO,EAAPA,EAASc,kBAChLrD,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAS,OAAPqC,QAAO,IAAPA,GAAAA,EAASe,UAAYX,IAAc,OAAPJ,QAAO,IAAPA,OAAO,EAAPA,EAASe,WAAWT,OAAO,sBAAwB,OACtH7C,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAS,OAAPqC,QAAO,IAAPA,OAAO,EAAPA,EAASgB,aAChDnB,EAAAA,EAAAA,MAAA,MAAInC,UAAU,wBAAuBC,SAAA,EACjC,CAAC,QAAS,OAAQ,QAAQsD,SAAgB,OAAPjB,QAAO,IAAPA,OAAO,EAAPA,EAASS,eAAgBhD,EAAAA,EAAAA,KAAA,UAC5DyD,QAASA,KACP3C,EAAS,uBAADc,QAAwB8B,EAAAA,EAAAA,GAAe,OAAPnB,QAAO,IAAPA,OAAO,EAAPA,EAASlB,QAEnDpB,UAAU,4DACV0D,KAAK,SAAQzD,UAEbF,EAAAA,EAAAA,KAAC4D,EAAAA,IAAM,CACL3D,UAAU,gCACVG,KAAM,QAGR,CAAC,QAAS,OAAQ,QAAQoD,SAAgB,OAAPjB,QAAO,IAAPA,OAAO,EAAPA,EAASS,eAC5ChD,EAAAA,EAAAA,KAAA,UACEyD,QAASA,IAAMhD,EAAoB,OAAP8B,QAAO,IAAPA,OAAO,EAAPA,EAASlB,KACrCpB,UAAU,4DACV0D,KAAK,SAAQzD,UAEbF,EAAAA,EAAAA,KAAC6D,EAAAA,IAAgB,CACf5D,UAAU,kCACVG,KAAM,gBAUlBJ,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,UACnCF,EAAAA,EAAAA,KAAA,MACE8D,QAAS,GACT7D,UAAU,+DAA8DC,SACzE,+BAYjB,E,0BCqLA,QAzQA,WACE,MAAM,cACJ6D,EAAa,SACbC,IACEC,EAAAA,EAAAA,KACEC,EAAiBC,KAAKC,MAC1BC,aAAaC,QAAQ,aAAD1C,OAAc2C,EAAAA,OAE9B,SAAEC,EAAQ,QAAEC,EAASC,WAAW,OAAEC,GAAQ,SAAEC,IAAaC,EAAAA,EAAAA,MACzD/D,GAAWC,EAAAA,EAAAA,MACX+D,GAAWC,EAAAA,EAAAA,OACX,UAAEC,EAAS,QAAEC,EAAO,UAAEC,EAAS,UAAEC,IAAcC,EAAAA,EAAAA,MAE/C,gBAAE1E,EAAe,sBAAE2E,EAAqB,QAAEC,IAAYC,EAAAA,EAAAA,IAAaC,GAAUA,EAAMC,UAEnF,YAAEC,IAAgBH,EAAAA,EAAAA,IAAaC,GAAUA,EAAMG,UAC/C,WAAEC,EAAYN,QAASO,IAAsBN,EAAAA,EAAAA,IAAaC,GAAUA,EAAMM,SACzEvF,EAAawF,IAAkBlF,EAAAA,EAAAA,UAAS,CAC7CM,KAAM,KACNY,QAAQ,KAIAiE,EAAcC,IAAmBC,EAAAA,EAAAA,MAC/BC,EAAcC,SAASJ,EAAaK,IAAI,UAAY,EAEpDC,EAAkBN,EAAaK,IAAI,aAAe,IACjDE,EAAaC,IAAkB3F,EAAAA,EAAAA,UAASsF,IACxCM,EAAOC,IAAY7F,EAAAA,EAAAA,UAHL,KAIb8F,EAAYC,IAAiB/F,EAAAA,EAAAA,UAAS,KACvCgG,EAAUC,IAAejG,EAAAA,EAAAA,UAASyF,IACzCtF,EAAAA,EAAAA,WAAU,KACR,MAAM+F,EAAS,IAAIC,gBACfT,EAAc,GAAGQ,EAAOE,IAAI,OAAQV,GAEpCM,GAAUE,EAAOE,IAAI,WAAYJ,GACrCZ,EAAgBc,IACf,CAACR,EAAaE,EAAOI,EAAUF,KAElC3F,EAAAA,EAAAA,WAAU,KACRkG,MACC,CAACX,EAAaE,EAAOI,EAAUF,IAElC,MAeAO,GAAqBA,KACzB,MAAM/F,EAAO,CACXoF,YAAaA,EACbY,SAAUV,EACVW,QAAS,CACPC,WAAY,GACZC,UAAWvD,EACX8C,SAC6B,aAAf,OAAd3C,QAAc,IAAdA,OAAc,EAAdA,EAAgBF,WACe,WAAf,OAAdE,QAAc,IAAdA,OAAc,EAAdA,EAAgBF,WACa,qBAAf,OAAdE,QAAc,IAAdA,OAAc,EAAdA,EAAgBF,UACd6C,EAC6B,mBAAf,OAAd3C,QAAc,IAAdA,OAAc,EAAdA,EAAgBF,UACA,OAAdE,QAAc,IAAdA,OAAc,EAAdA,EAAgB7C,IACF,OAAd6C,QAAc,IAAdA,OAAc,EAAdA,EAAgB2C,SACtB,KAAQF,EACR,KAAQ,GACR,MAAQ,EACR,OAAU,GACV,cAAgB,IAGpB7B,GAASyC,EAAAA,EAAAA,IAAepG,KAkD1B,OA7BAH,EAAAA,EAAAA,WAAU,KAEO,YAAbgD,GAAuC,oBAAbA,GAE1Bc,GACE0C,EAAAA,EAAAA,IAAa,CACXC,KAAM,GACNC,MAAM,EACNC,QAAQ,EACRL,UAAWvD,EACX6D,cAAc,MAInB,KACH5G,EAAAA,EAAAA,WAAU,KACS,UAAbgD,GACFc,GACE+C,EAAAA,EAAAA,IAAc,CACZJ,KAAM,GACNC,MAAM,EACNC,QAAQ,EACRC,cAAc,MAInB,KAID5H,EAAAA,EAAAA,KAAC8H,EAAAA,EAAY,CAACC,SAnFQC,IAChBpB,EAAcoB,IAkFa9H,SAC9BoF,GACCtF,EAAAA,EAAAA,KAACiI,EAAAA,EAAM,KAEP7F,EAAAA,EAAAA,MAAAb,EAAAA,SAAA,CAAArB,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,GAAEC,UACfkC,EAAAA,EAAAA,MAAA,OAAKnC,UAAU,mEAAkEC,SAAA,EAC/EF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4DAA2DC,UAEzD,UAAb8D,GAAqC,YAAbA,GAAuC,oBAAbA,KAClDhE,EAAAA,EAAAA,KAAA,OAAKC,UAAU,GAAEC,UACjBkC,EAAAA,EAAAA,MAAC8F,EAAAA,EAAM,CACaC,MAAOtB,EACPkB,SA3FFI,IAC1BrB,EAAYqB,GACZ3B,EAAe,IA0Fa4B,aAAa,GACbC,SAAU/C,EACVrF,UAAS,GAAA2B,OAAK0G,EAAAA,GAA8B,KAC5CC,YAAU,EACVC,aAAcA,CAACC,EAAOC,IACpBC,OAAa,OAAND,QAAM,IAANA,OAAM,EAANA,EAAQxI,UACZ0I,cACApF,SAASiF,EAAMG,eACnB1I,SAAA,EAEDF,EAAAA,EAAAA,KAACkI,EAAAA,EAAOW,OAAM,CAACV,MAAM,GAAEjI,SAAC,kBACvB2F,GACC7F,EAAAA,EAAAA,KAACkI,EAAAA,EAAOW,OAAM,CAACR,UAAQ,EAAAnI,UACrBF,EAAAA,EAAAA,KAAC8I,EAAAA,EAAU,MAGH,OAAVlD,QAAU,IAAVA,OAAU,EAAVA,EAAYtD,IAAKqB,IACf3D,EAAAA,EAAAA,KAACkI,EAAAA,EAAOW,OAAM,CAAiBV,MAAW,OAAJxE,QAAI,IAAJA,OAAI,EAAJA,EAAMtC,IAAInB,SACzC,OAAJyD,QAAI,IAAJA,OAAI,EAAJA,EAAMoF,UADe,OAAJpF,QAAI,IAAJA,OAAI,EAAJA,EAAMtC,cAStDe,EAAAA,EAAAA,MAAA,OAAKnC,UAAU,sCAAqCC,SAAA,EAClDF,EAAAA,EAAAA,KAAA,UACEyD,QAASA,KAjIjB+C,EAAe,GACfM,EAAY,IACZF,EAAc,KAkIN3G,UAAU,kFAAiFC,UAE3FF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaC,SAAC,YAE/B8E,IACC5C,EAAAA,EAAAA,MAAA,UACEqB,QAASA,KACP3C,EAAS,0BAEXb,UAAU,yFAAwFC,SAAA,EAElGF,EAAAA,EAAAA,KAACgJ,EAAAA,IAAM,KACPhJ,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaC,SAAC,4BAKxCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sDAAqDC,SACjE+E,IAAW7C,EAAAA,EAAAA,MAAA,SAAOnC,UAAU,gDAA+CC,SAAA,EAC1EF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,GAAEC,UACjBkC,EAAAA,EAAAA,MAAA,MAAInC,UAAU,oGAAmGC,SAAA,EAC/GF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gCAA+BC,SAAC,WAC9CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAC,iBAEtCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAC,iBAG1CF,EAAAA,EAAAA,KAAA,SAAAE,SACGQ,IAAkC,OAAfA,QAAe,IAAfA,OAAe,EAAfA,EAAiB2B,QAAS,EAC7B,OAAf3B,QAAe,IAAfA,OAAe,EAAfA,EAAiB4B,IAAI,CAACC,EAASC,KAC7BJ,EAAAA,EAAAA,MAAA,MACEnC,UAAS,cAAA2B,OAAgBY,EAAQ,IAAM,EAAI,kBAAoB,WAAU,gDACxBtC,SAAA,EAEjDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAClCsC,EAAQ,GAAM+D,EAAc,GAAKE,KAEpCzG,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,SAAS,OAAPqC,QAAO,IAAPA,OAAO,EAAPA,EAASV,cAEhD7B,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,UAACF,EAAAA,EAAAA,KAAA,UACpCyD,QAASA,IAAMsC,EAAe,CAC5B5E,KAAMoB,EACNR,QAAQ,IAEV9B,UAAU,oEACV0D,KAAK,SAAQzD,UAEbF,EAAAA,EAAAA,KAACiJ,EAAAA,IAAS,CACRhJ,UAAU,uCACVG,KAAM,cAMdJ,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wBAAuBC,UACnCF,EAAAA,EAAAA,KAAA,MACE8D,QAAS,EACT7D,UAAU,2EAA0EC,SACrF,+BAQXF,EAAAA,EAAAA,KAACkJ,EAAgB,CACfzI,aAjKY0I,IACpB,IAAI/B,EAAU,CACZ/F,IAAK8H,GAEPC,IAAAA,KAAU,CACRzH,MAAO,UACP8F,KAAM,mCACN4B,KAAM,UACNC,kBAAkB,EAClBC,iBAAkB,OACjBC,KAAMC,IACHA,EAAOC,aACT5E,GAAS6E,EAAAA,EAAAA,IAAcvC,IAAUoC,KAAMrI,IACrC+F,UAqJE3G,YAAaA,EACbC,QAASA,IAAMuF,EAAe,CAC5B5E,KAAM,KACNY,QAAQ,IAEVrB,gBAAiBA,KAGH,OAAfA,QAAe,IAAfA,OAAe,EAAfA,EAAiB2B,QAAS,IACzBrC,EAAAA,EAAAA,KAAC4J,EAAAA,EAAgB,CACfC,WAAYxE,EACZ8B,SAAUV,EACVF,YAAaA,EACbwB,SA9MsB+B,GAAStD,EAAesD,SAoN5D,C","sources":["global_layouts/Loader/Loader.js","pages/financeManagement/expense/ExpenseListModal.js","pages/financeManagement/expense/ExpenseList.js"],"sourcesContent":["import { Spin } from \"antd\"\n\nfunction Loader() {\n    return (\n       <div className=\"flex justify-center items-center h-[80vh]\">\n         {/* <div class=\"loader\"></div> */} \n         <Spin size=\"large\" />\n       </div>\n    )\n}\n\nexport default Loader\n","import { Modal } from \"antd\";\nimport moment from \"moment\";\nimport { useEffect, useState } from \"react\";\nimport { RiDeleteBin5Line } from \"react-icons/ri\";\nimport { encrypt } from \"../../../config/Encryption\";\nimport { BiEdit } from \"react-icons/bi\";\nimport { useNavigate } from \"react-router-dom\";\nimport { convertIntoAmount } from \"../../../constents/global\";\n\nfunction ExpenseListModal({ isModalOpen, onClose, handleDelete, expenseListData }) {\n\n  const [listData, setListData] = useState([])\n  const navigate = useNavigate()\n  const handleOk = () => {\n    onClose()\n  };\n  const handleCancel = () => {\n    onClose()\n  };\n  useEffect(() => {\n    const newRecors = expenseListData?.find((data) => data?._id == isModalOpen?.data?._id)\n    setListData(newRecors?.records)\n  }, [isModalOpen, expenseListData])\n\n  return (\n    <>\n      <Modal className=\"antmodalclassName\" width={1000} footer={false} title={`${isModalOpen?.data?.clientName} - expenses`} open={isModalOpen?.isOpen} onOk={handleOk} onCancel={handleCancel}>\n        <table className=\"w-full max-w-full rounded-xl overflow-x-auto \">\n          <thead className=\"\">\n            <tr className=\"border-b-[1px] border-[#DDDDDD] bg-header capitalize text-[12px] text-[#ffff] font-[500] h-[40px]\">\n              <th className=\"p-2 whitespace-nowrap w-[10%]\">S.No.</th>\n              {/* <th className=\"p-2 whitespace-nowrap\"> Name</th> */}\n              <th className=\"p-2 whitespace-nowrap\">Date</th>\n              <th className=\"p-2 whitespace-nowrap\">Amount</th>\n              <th className=\"p-2 whitespace-nowrap\">Payment Mode</th>\n              <th className=\"p-2 whitespace-nowrap\">Employee Name / Transaction No</th>\n              <th className=\"p-2 whitespace-nowrap\">Created At </th>\n              <th className=\"p-2 whitespace-nowrap\">Created By</th>\n              <th className=\"p-2 whitespace-nowrap\">Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {listData && listData?.length > 0 ? (\n              listData?.map((element, index) => (\n                <tr\n                  className={`text-black ${index % 2 === 0 ? \"bg-[#e9ecef]/80\" : \"bg-white\"\n                    } text-[14px] border-b-[1px] border-[#DDDDDD]`}\n                >\n                  <td className=\"whitespace-nowrap p-2\">\n                    {index + 1}\n                  </td>\n\n                  <td className=\"whitespace-nowrap p-2\">{moment(element?.date).format(\"DD/MM/YYYY\")}</td>\n                  <td className=\"whitespace-nowrap p-2\">{convertIntoAmount(element?.totalAmount || \"-\")}</td>\n                  <td className=\"whitespace-nowrap p-2\">{element?.paymentMode}</td>\n                  <td className=\"whitespace-nowrap p-2\">{element?.paymentMode === \"cash\" ? element?.employeName : `${element?.bankData?.bankName}/${element?.bankData?.bankholderName}/${element?.transactionNo}`}</td>\n                  <td className=\"whitespace-nowrap p-2\">{element?.createdAt ? moment(element?.createdAt).format(\"DD-MM-YYYY hh:mm A\") : \"-\"}</td>\n                  <td className=\"whitespace-nowrap p-2\">{element?.createdBy}</td>\n                  <td className=\"whitespace-nowrap p-2\">\n                    {![\"check\", \"cash\", \"bank\"].includes(element?.paymentMode) && <button\n                      onClick={() => {\n                        navigate(`/admin/expense/edit/${encrypt(element?._id)}`);\n                      }}\n                      className=\"px-2 py-1.5 rounded-md bg-transparent border border-muted\"\n                      type=\"button\"\n                    >\n                      <BiEdit\n                        className=\"text-header hover:text-header\"\n                        size={16}\n                      />\n                    </button>}\n                    {![\"check\", \"cash\", \"bank\"].includes(element?.paymentMode) &&\n                      <button\n                        onClick={() => handleDelete(element?._id)}\n                        className=\"px-2 py-1.5 rounded-md bg-transparent border border-muted\"\n                        type=\"button\"\n                      >\n                        <RiDeleteBin5Line\n                          className=\"text-red-600 hover:text-red-500\"\n                          size={16}\n                        />\n                      </button>}\n\n                  </td>\n\n\n                </tr>\n              ))\n            ) : (\n              <tr className=\"bg-white bg-opacity-5\">\n                <td\n                  colSpan={10}\n                  className=\"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500\"\n                >\n                  Record Not Found\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </Modal>\n\n\n    </>\n  )\n}\n\nexport default ExpenseListModal\n","import React, { useEffect, useState } from \"react\";\nimport GlobalLayout from \"../../../global_layouts/GlobalLayout/GlobalLayout\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { FaPlus } from \"react-icons/fa6\";\nimport Loader from \"../../../global_layouts/Loader/Loader\";\nimport CustomPagination from \"../../../component/CustomPagination/CustomPagination\";\nimport {  domainName, inputAntdSelectClassNameFilter, } from \"../../../constents/global\";\nimport {  useForm, } from \"react-hook-form\";\nimport { branchSearch } from \"../../branch/branchManagement/branchFeatures/_branch_reducers\";\nimport { companySearch } from \"../../company/companyManagement/companyFeatures/_company_reducers\";\nimport { deleteExpense, getExpenseList } from \"./expenseFeature/_expense_reducers\";\nimport getUserIds from \"../../../constents/getUserIds\";\nimport usePermissions from \"../../../config/usePermissions\";\nimport { BsEyeFill } from \"react-icons/bs\";\nimport ExpenseListModal from \"./ExpenseListModal\";\nimport { Select } from \"antd\";\nimport ListLoader from \"../../../global_layouts/ListLoader\";\nimport { decrypt, encrypt } from \"../../../config/Encryption\";\n\nfunction ExpenseList() {\n  const {\n    userCompanyId,    \n    userType\n  } = getUserIds();\n  const userInfoglobal = JSON.parse(\n    localStorage.getItem(`user_info_${domainName}`)\n  );\n  const { register, control, formState: { errors }, setValue } = useForm();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { canCreate, canRead, canUpdate, canDelete } = usePermissions();\n  \n  const { expenseListData, totaladvanceListCount, loading } = useSelector((state) => state.expense);\n\n  const { companyList } = useSelector((state) => state.company);\n  const { branchList, loading: branchListloading } = useSelector((state) => state.branch);\n  const [isModalOpen, setIsModalOpen] = useState({\n    data: null,\n    isOpen: false\n  });\n\n\n     const [searchParams, setSearchParams] = useSearchParams();\n        const initialPage = parseInt(searchParams.get(\"page\")) || 1;\n        const initialLimit = 10;\n        const initialBranchId = searchParams.get(\"branchId\") || \"\";  \n        const [currentPage, setCurrentPage] = useState(initialPage);\n        const [limit, setLimit] = useState(initialLimit);\n         const [searchText, setSearchText] = useState(\"\");\n        const [branchId, setBranchId] = useState(initialBranchId);  \n        useEffect(() => {\n          const params = new URLSearchParams();\n          if (currentPage > 1) params.set(\"page\", currentPage);\n      \n          if (branchId) params.set(\"branchId\", branchId);  \n          setSearchParams(params);\n        }, [currentPage, limit, branchId, searchText]);\n    \n        useEffect(() => {\n          getExpenceListData();\n        }, [currentPage, limit, branchId, searchText]);\n    \n        const handleResetFilters = () => {\n          setCurrentPage(1);\n          setBranchId(\"\");\n          setSearchText(\"\");  \n        };\n        const onChange = (e) => {\n          setSearchText(e);\n        };\n      \n        const onPaginationChange = (page) => setCurrentPage(page);\n        const handleBranchChange = (value) => {\n          setBranchId(value);\n          setCurrentPage(1);\n        }; \n\n  const getExpenceListData = () => {\n    const data = {\n      currentPage: currentPage,\n      pageSize: limit,\n      reqData: {\n        directorId: \"\",\n        companyId: userCompanyId,\n        branchId:\n        userInfoglobal?.userType === \"company\" ||\n          userInfoglobal?.userType === \"admin\" ||\n          userInfoglobal?.userType === \"companyDirector\"\n          ? branchId\n          : userInfoglobal?.userType === \"companyBranch\"\n            ? userInfoglobal?._id\n            : userInfoglobal?.branchId,\n        \"text\": searchText,\n        \"type\": \"\",\n        \"sort\": true,\n        \"status\": \"\",\n        \"isPagination\": true,\n      }\n    };\n    dispatch(getExpenseList(data));\n  };\n\n  const handleDelete = (id) => {\n    let reqData = {\n      _id: id,\n    };\n    Swal.fire({\n      title: \"Warning\",\n      text: \"Are you sure you want to delete!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      cancelButtonText: \"No\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        dispatch(deleteExpense(reqData)).then((data) => {\n          getExpenceListData()\n        });\n      }\n    });\n  };\n  useEffect(() => {\n    if (\n      userType === \"company\" || userType === \"companyDirector\"\n    ) {\n      dispatch(\n        branchSearch({\n          text: \"\",\n          sort: true,\n          status: true,\n          companyId: userCompanyId,\n          isPagination: false,\n        })\n      );\n    }\n  }, [])\n  useEffect(() => {\n    if (userType === \"admin\") {\n      dispatch(\n        companySearch({\n          text: \"\",\n          sort: true,\n          status: true,\n          isPagination: false,\n        })\n      );\n    }\n  }, []);\n\n\n  return (\n    <GlobalLayout onChange={onChange}>\n      {loading ? (\n        <Loader />\n      ) : (\n        <>\n          <div className=\"\">\n            <div className=\"sm:flex justify-between items-center sm:space-y-0 space-y-2 py-1\">\n              <div className=\"sm:flex items-center sm:space-x-2 sm:space-y-0 space-y-1 \">\n               \n                {(userType === \"admin\" || userType === \"company\" || userType === \"companyDirector\") &&\n                  <div className=\"\">\n                  <Select\n                                      value={branchId}\n                                      onChange={handleBranchChange}\n                                      defaultValue=\"\"\n                                      disabled={loading}\n                                      className={`${inputAntdSelectClassNameFilter} `}\n                                      showSearch\n                                      filterOption={(input, option) =>\n                                        String(option?.children)\n                                          .toLowerCase()\n                                          .includes(input.toLowerCase())\n                                      }\n                                    >\n                                      <Select.Option value=\"\">Select Branch</Select.Option>\n                                      {branchListloading ? (\n                                        <Select.Option disabled>\n                                          <ListLoader />\n                                        </Select.Option>\n                                      ) : (\n                                        branchList?.map((type) => (\n                                          <Select.Option key={type?._id} value={type?._id}>\n                                            {type?.fullName}\n                                          </Select.Option>\n                                        ))\n                                      )}\n                                    </Select>\n                   \n                  </div>}\n              </div>\n              <div className=\"flex justify-end items-center gap-2\">\n                <button\n                  onClick={() => {\n                    handleResetFilters()\n                  }}\n                  className=\"bg-header  py-1.5 rounded-md flex px-10 justify-center items-center  text-white\"\n                >\n                  <span className=\"text-[12px]\">Reset</span>\n                </button>\n                {canCreate &&\n                  <button\n                    onClick={() => {\n                      navigate(\"/admin/expense/create\");\n                    }}\n                    className=\"bg-header px-2 py-1.5 rounded-md flex justify-center items-center space-x-2 text-white\"\n                  >\n                    <FaPlus />\n                    <span className=\"text-[12px]\">Add expense</span>\n                  </button>}\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl\">\n            {canRead && <table className=\"w-full max-w-full rounded-xl overflow-x-auto \">\n              <thead className=\"\">\n                <tr className=\"border-b-[1px] border-[#DDDDDD] bg-header capitalize text-[12px] text-[#ffff] font-[500] h-[40px]\">\n                  <th className=\"p-2 whitespace-nowrap w-[10%]\">S.No.</th>\n                  <th className=\"p-2 whitespace-nowrap\">Client Name</th>\n\n                  <th className=\"p-2 whitespace-nowrap\">Action</th>\n                </tr>\n              </thead>\n              <tbody>\n                {expenseListData && expenseListData?.length > 0 ? (\n                  expenseListData?.map((element, index) => (\n                    <tr\n                      className={`text-black ${index % 2 === 0 ? \"bg-[#e9ecef]/80\" : \"bg-white\"\n                        } text-[14px] border-b-[1px] border-[#DDDDDD]`}\n                    >\n                      <td className=\"whitespace-nowrap p-2\">\n                        {index + 1 + ((currentPage - 1) * limit)}\n                      </td>\n                      <td className=\"whitespace-nowrap p-2\">{element?.clientName}</td>\n\n                      <td className=\"whitespace-nowrap p-2\"><button\n                        onClick={() => setIsModalOpen({\n                          data: element,\n                          isOpen: true\n                        })}\n                        className=\"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted\"\n                        type=\"button\"\n                      >\n                        <BsEyeFill\n                          className=\" hover:text-[#337ab7] text-[#3c8dbc]\"\n                          size={16}\n                        />\n                      </button></td>\n                    </tr>\n                  ))\n                ) : (\n                  <tr className=\"bg-white bg-opacity-5\">\n                    <td\n                      colSpan={5}\n                      className=\"px-6 py-2 whitespace-nowrap font-[600] text-center text-sm text-gray-500\"\n                    >\n                      Record Not Found\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>}\n          </div>\n          <ExpenseListModal\n            handleDelete={handleDelete}\n            isModalOpen={isModalOpen}\n            onClose={() => setIsModalOpen({\n              data: null,\n              isOpen: false\n            })}\n            expenseListData={expenseListData}\n\n          />\n          {expenseListData?.length > 0 &&\n            <CustomPagination\n              totalCount={totaladvanceListCount}\n              pageSize={limit}\n              currentPage={currentPage}\n              onChange={onPaginationChange}\n            />}\n        </>\n      )}\n    </GlobalLayout>\n  );\n}\nexport default ExpenseList;\n"],"names":["_jsx","className","children","Spin","size","_ref","_isModalOpen$data2","isModalOpen","onClose","handleDelete","expenseListData","listData","setListData","useState","navigate","useNavigate","useEffect","newRecors","find","data","_isModalOpen$data","_id","records","_Fragment","Modal","width","footer","title","concat","clientName","open","isOpen","onOk","handleOk","onCancel","handleCancel","_jsxs","length","map","element","index","_element$bankData","_element$bankData2","moment","date","format","convertIntoAmount","totalAmount","paymentMode","employeName","bankData","bankName","bankholderName","transactionNo","createdAt","createdBy","includes","onClick","encrypt","type","BiEdit","RiDeleteBin5Line","colSpan","userCompanyId","userType","getUserIds","userInfoglobal","JSON","parse","localStorage","getItem","domainName","register","control","formState","errors","setValue","useForm","dispatch","useDispatch","canCreate","canRead","canUpdate","canDelete","usePermissions","totaladvanceListCount","loading","useSelector","state","expense","companyList","company","branchList","branchListloading","branch","setIsModalOpen","searchParams","setSearchParams","useSearchParams","initialPage","parseInt","get","initialBranchId","currentPage","setCurrentPage","limit","setLimit","searchText","setSearchText","branchId","setBranchId","params","URLSearchParams","set","getExpenceListData","pageSize","reqData","directorId","companyId","getExpenseList","branchSearch","text","sort","status","isPagination","companySearch","GlobalLayout","onChange","e","Loader","Select","value","defaultValue","disabled","inputAntdSelectClassNameFilter","showSearch","filterOption","input","option","String","toLowerCase","Option","ListLoader","fullName","FaPlus","BsEyeFill","ExpenseListModal","id","Swal","icon","showCancelButton","cancelButtonText","then","result","isConfirmed","deleteExpense","CustomPagination","totalCount","page"],"sourceRoot":""}