"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[968],{10968:(e,a,l)=>{l.r(a),l.d(a,{default:()=>g});var s=l(89379),n=l(65043),d=l(24858),i=l(39160),r=l(83003),o=l(73216),c=l(735),t=l(65512),m=l(15187),u=(l(36105),l(78729)),p=l(31744),v=l(14118),x=l(12208),h=l(56659),y=l(17995),N=l(70579);const g=function(){const{loading:e}=(0,r.d4)(e=>e.clientGroup),{register:a,handleSubmit:l,setValue:g,control:j,formState:{errors:b}}=(0,d.mN)(),{userCompanyId:f,userDirectorId:A,userBranchId:I,userType:B}=(0,c.A)(),C=(0,r.wA)(),T=(0,o.Zp)(),O=JSON.parse(localStorage.getItem("user_info_".concat(m.AU))),{companyList:D}=(0,r.d4)(e=>e.company),{countryListData:L,companyListLoading:P}=(0,r.d4)(e=>e.country),{branchList:_,branchListloading:q}=(0,r.d4)(e=>e.branch),w=(0,d.FH)({control:j,name:"PDCompanyId",defaultValue:f}),S=((0,d.FH)({control:j,name:"directorId",defaultValue:A}),(0,d.FH)({control:j,name:"PDBranchId",defaultValue:I}));return(0,n.useEffect)(()=>{g("PDMobileCode","+91")},[L]),(0,n.useEffect)(()=>{"admin"===(null===O||void 0===O?void 0:O.userType)&&C((0,u.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]),(0,n.useEffect)(()=>{(w||"company"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType))&&C((0,p.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"admin"===(null===O||void 0===O?void 0:O.userType)?w:"company"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.companyId}))},[w]),(0,n.useEffect)(()=>{(w&&"company"===B||"admin"===B)&&C((0,v.HX)({text:"",sort:!0,status:!0,isPagination:!1,companyId:w}))},[w]),(0,N.jsx)(i.A,{children:(0,N.jsx)("div",{className:"gap-4",children:(0,N.jsxs)("form",{autoComplete:"off",className:"mt-2",onSubmit:l(e=>{const a={companyId:"admin"===(null===O||void 0===O?void 0:O.userType)?w:"company"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.companyId,directorId:"",branchId:"company"===(null===O||void 0===O?void 0:O.userType)||"admin"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType)?S:"companyBranch"===(null===O||void 0===O?void 0:O.userType)?null===O||void 0===O?void 0:O._id:null===O||void 0===O?void 0:O.branchId,fullName:null===e||void 0===e?void 0:e.fullName,email:null===e||void 0===e?void 0:e.email,openingBalance:+(null===e||void 0===e?void 0:e.openingBalance),userType:"clientGroup",mobile:{code:null===e||void 0===e?void 0:e.code,number:null===e||void 0===e?void 0:e.number}};C((0,x.z7)(a)).then(e=>{e.error||T(-1)})}),children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2",children:["admin"===(null===O||void 0===O?void 0:O.userType)&&(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(m.Q0),children:["Company ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)(d.xI,{control:j,name:"PDCompanyId",rules:{required:"Company is required"},render:e=>{let{field:a}=e;return(0,N.jsxs)(t.A,(0,s.A)((0,s.A)({},a),{},{defaultValue:"",className:"".concat(m.Hy," "),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)(t.A.Option,{value:"",children:"Select Company"}),P?(0,N.jsx)(t.A.Option,{disabled:!0,children:(0,N.jsx)(y.A,{})}):null===D||void 0===D?void 0:D.map(e=>(0,N.jsx)(t.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),b.PDCompanyId&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.PDCompanyId.message})]}),("admin"===(null===O||void 0===O?void 0:O.userType)||"company"===(null===O||void 0===O?void 0:O.userType)||"companyDirector"===(null===O||void 0===O?void 0:O.userType))&&(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"".concat(m.Q0),children:["Branch ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)(d.xI,{control:j,name:"PDBranchId",rules:{required:"Branch is required"},render:e=>{var a;let{field:l}=e;return(0,N.jsxs)(t.A,(0,s.A)((0,s.A)({},l),{},{defaultValue:"",className:"".concat(m.Hy," "),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,N.jsx)(t.A.Option,{value:"",children:"Select Branch"}),q?(0,N.jsx)(t.A.Option,{disabled:!0,children:(0,N.jsx)(y.A,{})}):null===(a=(0,m._o)(_,"fullName"))||void 0===a?void 0:a.map(e=>(0,N.jsx)(t.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]}))}}),b.PDBranchId&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.PDBranchId.message})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:my-2",children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(m.Q0),children:["Name ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("fullName",{required:"Name is required"})),{},{className:"placeholder: ".concat(m.Ol," ").concat(b.fullName?"":"border-gray-300"),placeholder:"Enter Name"})),b.fullName&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.fullName.message})]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{className:"".concat(m.Q0),children:["Email ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"text"},a("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})),{},{className:" ".concat(m.Ol," ").concat(b.email?"":"border-gray-300"),placeholder:"Enter Email"})),b.email&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.email.message})]}),(0,N.jsxs)("div",{className:"flex gap-3",children:[(0,N.jsxs)("div",{className:"w-[150px]",children:[(0,N.jsxs)("label",{className:"".concat(m.Q0),children:["Code ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)(d.xI,{control:j,name:"code",rules:{required:"code is required"},render:e=>{let{field:a}=e;return(0,N.jsx)(h.A,{field:a,errors:b})}}),b.code&&(0,N.jsx)("p",{className:"text-red-500 text-sm mt-3",children:b.code.message})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsxs)("label",{className:"".concat(m.Q0),children:["Mobile No ",(0,N.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"number"},a("number",{required:"Mobile No is required",minLength:{value:10,message:"Must be exactly 10 digits"},maxLength:{value:10,message:"Must be exactly 10 digits"}})),{},{className:" ".concat(m.Ol," ").concat(b.number?"":"border-gray-300"),placeholder:"Enter Mobile No",maxLength:10,onInput:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}})),b.number&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.number.message})]})]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsx)("label",{className:"".concat(m.Q0),children:"Opening Balance"}),(0,N.jsx)("input",(0,s.A)((0,s.A)({type:"number",step:"any"},a("openingBalance",{})),{},{className:" ".concat(m.Ol," ").concat(b.openingBalance?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter Opening Balance "})),b.openingBalance&&(0,N.jsx)("p",{className:"text-red-500 text-sm",children:b.openingBalance.message})]})]}),(0,N.jsx)("div",{className:"flex justify-end",children:(0,N.jsx)("button",{type:"submit",disabled:e,className:"".concat(e?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded mt-3"),children:e?(0,N.jsx)(y.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=968.eb6914c8.chunk.js.map