"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[2887],{12887:(e,i,l)=>{l.r(i),l.d(i,{default:()=>w});var n=l(89379),d=l(24858),a=l(83003),o=l(73216),t=l(65043),r=l(62143),s=l(31174),c=l(15187),u=l(735),v=(l(78729),l(33007),l(16210),l(39160)),m=(l(31744),l(14118),l(24869),l(49380),l(42837)),p=l(60446),x=l.n(p),h=l(65512),N=l(94084),f=l(51154),j=l(17995),g=l(89427),y=l(55971),b=l(70579);const w=()=>{var e,i;const{register:l,handleSubmit:p,control:w,setValue:I,formState:{errors:A}}=(0,d.mN)(),{interviewIdEnc:L}=(0,o.g)(),S=(0,s.Yc)(L),{interviewDetails:k}=(0,a.d4)(e=>e.interview),O=(0,a.wA)(),D=(0,o.Zp)(),[q,_]=(0,t.useState)(!0),{interviewRoundListData:C}=(0,a.d4)(e=>e.interviewRound),{userCompanyId:P,userBranchId:Q,userDepartmentId:E,userDesignationId:R}=(0,u.A)(),{employeList:H,loading:M}=(JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),(0,a.d4)(e=>e.employe)),T=(0,d.FH)({control:w,name:"fullName",defaultValue:""}),V=(0,d.FH)({control:w,name:"type",defaultValue:""});(0,t.useEffect)(()=>{S&&O((0,r.Iz)({_id:S})).then(()=>{_(!1)})},[O,S]);const{loading:Y}=(0,a.d4)(e=>e.interview);(0,t.useEffect)(()=>{var e,i,l;k&&(O((0,f.uf)({directorId:"",companyId:null===k||void 0===k?void 0:k.companyId,branchId:null===k||void 0===k?void 0:k.branchId,text:"",sort:!0,status:"",isPagination:!1})),I("interviewerName",null===k||void 0===k?void 0:k.interviewerName),I("interviewerPosition",null===k||void 0===k?void 0:k.interviewerPosition),I("fullName",null===k||void 0===k?void 0:k.interviewerId),I("feedback",null===k||void 0===k?void 0:k.feedback),I("jobId",null===k||void 0===k?void 0:k.jobId),I("date",x()(null===k||void 0===k?void 0:k.date)),I("type",null===k||void 0===k?void 0:k.type),I("roundName",null===k||void 0===k?void 0:k.roundName),I("roundNumber",null===k||void 0===k?void 0:k.roundNumber),I("candidateName",null===k||void 0===k||null===(e=k.applicationData)||void 0===e?void 0:e.fullName),I("position",null===k||void 0===k||null===(i=k.applicationData)||void 0===i||null===(l=i.designationData)||void 0===l?void 0:l.name),I("status",null===k||void 0===k?void 0:k.status),I("meetingLink",null===k||void 0===k?void 0:k.meetingUrl),I("location",null===k||void 0===k?void 0:k.location),O((0,m.qV)({companyId:null===k||void 0===k?void 0:k.companyId,branchId:null===k||void 0===k?void 0:k.branchId,designationId:"",text:"",sort:!0,status:!0,isPagination:!1,isTL:"",isBranch:!0,isDirector:!0})).then(e=>{if(null===e||void 0===e||!e.error){var i,l,n;const d=null===e||void 0===e||null===(i=e.payload)||void 0===i||null===(l=i.data)||void 0===l||null===(n=l.docs)||void 0===n?void 0:n.find(e=>e._id===(null===k||void 0===k?void 0:k.interviewerId));d&&I("employee",{value:d._id,label:d.fullName})}}))},[k,I]);return(0,b.jsx)(v.A,{children:q?(0,b.jsx)("div",{className:"h-screen w-full flex justify-center items-center",children:(0,b.jsx)(y.A,{})}):(0,b.jsx)("div",{children:(0,b.jsxs)("form",{autoComplete:"off",onSubmit:p(e=>{var i,l,n;const d={_id:S,interviewerId:null===e||void 0===e?void 0:e.fullName,applicationId:null===k||void 0===k?void 0:k.applicationId,directorId:null===k||void 0===k?void 0:k.directorId,companyId:null===k||void 0===k?void 0:k.companyId,departmentId:null===k||void 0===k?void 0:k.departmentId,designationId:null===k||void 0===k?void 0:k.designationId,branchId:null===k||void 0===k?void 0:k.branchId,interviewerName:null===H||void 0===H||null===(i=H.find(i=>(null===i||void 0===i?void 0:i._id)===(null===e||void 0===e?void 0:e.fullName)))||void 0===i?void 0:i.fullName,interviewerPosition:null===H||void 0===H||null===(l=H.find(i=>(null===i||void 0===i?void 0:i._id)===(null===e||void 0===e?void 0:e.fullName)))||void 0===l||null===(n=l.designationData)||void 0===n?void 0:n.name,feedback:null===e||void 0===e?void 0:e.feedback,type:null===e||void 0===e?void 0:e.type,roundName:null===e||void 0===e?void 0:e.roundName,date:null===e||void 0===e?void 0:e.date,meetingUrl:"online"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.meetingLink:null,location:"online"===(null===e||void 0===e?void 0:e.type)?null:null===e||void 0===e?void 0:e.location};O((0,r.ll)(d)).then(e=>{e.error||D("/admin/interview")})}),className:"",children:[(0,b.jsxs)("div",{className:"grid grid-col-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Interviewer Name ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(d.xI,{name:"fullName",control:w,rules:{required:"InterViewr Name is required"},render:e=>{let{field:i}=e;return(0,b.jsxs)(h.A,(0,n.A)((0,n.A)({},i),{},{className:" ".concat(c.Hy," ").concat(A.fullName?"border-[1px] ":"border-gray-300"),popupClassName:"!z-[1580]",placeholder:"Select Interviewr",showSearch:!0,filterOption:(e,i)=>String(null===i||void 0===i?void 0:i.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(h.A.Option,{value:"",children:"Select Interviewr"}),M?(0,b.jsx)(h.A.Option,{disabled:!0,children:(0,b.jsx)(g.A,{})}):null===H||void 0===H?void 0:H.map(e=>(0,b.jsxs)(h.A.Option,{value:e._id,children:[e.userName,"(",e.fullName,")"]},e._id))]}))}}),A.fullName&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:A.fullName.message}),A.employee&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:A.employee.message})]}),(0,b.jsxs)("div",{className:"w-full ",children:[(0,b.jsx)("label",{className:"".concat(c.Q0),children:"Interviewer Designation"}),(0,b.jsx)("input",(0,n.A)((0,n.A)({type:"text",value:null===H||void 0===H||null===(e=H.find(e=>(null===e||void 0===e?void 0:e._id)===T))||void 0===e||null===(i=e.designationData)||void 0===i?void 0:i.name,readOnly:!0},l("interviewerPosition")),{},{className:" ".concat(c.id," text-gray-700 ").concat(A.interviewerPosition?"border-[1px] ":"border-gray-300"," "),placeholder:"Enter interviewer position"}))]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Date ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(d.xI,{name:"date",control:w,rules:{required:"Date is required"},render:e=>{let{field:i}=e;return(0,b.jsx)(N.A,{field:i,showTime:!0,format:"DD/MM/YYYY hh:mm",errors:A,disabledDate:e=>e&&e.isBefore(x()().endOf("day"),"day")})}}),A.date&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:A.date.message})]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Type ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(d.xI,{name:"type",control:w,rules:{required:"Type is required"},render:e=>{let{field:i}=e;return(0,b.jsxs)(h.A,(0,n.A)((0,n.A)({},i),{},{className:" ".concat(c.Hy," ").concat(A.fullName?"border-[1px] ":"border-gray-300"),popupClassName:"!z-[1580]",placeholder:"Select Type",showSearch:!0,children:[(0,b.jsx)(h.A.Option,{className:"",value:"",children:"Select type"}),(0,b.jsx)(h.A.Option,{value:"online",children:"Online"}),(0,b.jsx)(h.A.Option,{value:"offline",children:"Ofline"})]}))}}),A.type&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:A.type.message})]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Round Name ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(d.xI,{name:"roundName",control:w,rules:{required:"Round is required"},render:e=>{let{field:i}=e;return(0,b.jsxs)(h.A,(0,n.A)((0,n.A)({},i),{},{className:" ".concat(c.Hy," ").concat(A.fullName?"border-[1px] ":"border-gray-300"),popupClassName:"!z-[1580]",placeholder:"Select Round Name",showSearch:!0,filterOption:(e,i)=>String(null===i||void 0===i?void 0:i.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(h.A.Option,{value:"",children:"Select Round Name"}),null===C||void 0===C?void 0:C.map(e=>(0,b.jsx)(h.A.Option,{value:e.name,children:e.name},e.name))]}))}}),A.roundName&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:A.roundName.message})]}),"offline"===V&&(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Location ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,n.A)((0,n.A)({type:"text"},l("location",{required:"Location is required"})),{},{className:" ".concat(c.Ol," ").concat(A.location?"border-[1px] ":"border-gray-300"),placeholder:"Enter location"})),A.location&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:A.location.message})]}),"online"===V&&(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("label",{className:"".concat(c.Q0),children:["Meeting Link ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",(0,n.A)((0,n.A)({type:"text"},l("meetingLink",{required:"Meeting Link is required"})),{},{className:" ".concat(c.Ol," ").concat(A.meetingLink?"border-[1px] ":"border-gray-300"),placeholder:"Enter Meeting Link"})),A.meetingLink&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:A.meetingLink.message})]})]}),(0,b.jsx)("div",{className:"flex justify-end mt-4",children:(0,b.jsx)("button",{type:"submit",disabled:Y,className:"".concat(Y?"bg-gray-400":"bg-header"," text-white p-2 px-4 rounded"),children:Y?(0,b.jsx)(j.A,{}):"Submit"})})]})})})}}}]);
//# sourceMappingURL=2887.974db14b.chunk.js.map