"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[5426],{25426:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Y});var s=t(65043),l=t(39160),n=t(73216),i=t(35475),d=t(83003),c=t(23156),r=(t(30064),t(31174),t(65337),t(78227)),o=t(15187),x=t(31744),m=t(78729),h=t(46937),v=t(4938),u=t(30326),p=t(53913),N=t(65512),j=t(96651),b=t(55971),g=t(60446),f=t.n(g),y=t(60184),D=t(45394),k=t(3825),A=t(83002),w=t(78973),C=t(89427),S=t(32620),B=t(60397),_=t(70579);const Y=function(){var e,a,t,g,Y;const z=(0,n.Zp)(),L=(0,d.wA)(),{contraListData:T,totalcontraListCount:I,loading:M}=(0,d.d4)(e=>e.contra),{contraDetails:O}=(0,d.d4)(e=>e.contra),[H,P]=(0,s.useState)(!1),R=JSON.parse(localStorage.getItem("user_info_".concat(o.AU))),{branchList:E,branchListloading:U}=(0,d.d4)(e=>e.branch),[V,W]=(0,i.ok)(),q=parseInt(V.get("page"))||1,F=V.get("branchId")||"",J=V.get("status")||"",[G,X]=(0,s.useState)(q),[Z,K]=(0,s.useState)(10),[Q,$]=(0,s.useState)(J),[ee,ae]=(0,s.useState)(""),[te,se]=(0,s.useState)(F);(0,s.useEffect)(()=>{const e=new URLSearchParams;G>1&&e.set("page",G),te&&e.set("branchId",te),Q&&e.set("status",Q),W(e)},[G,Z,te,Q,ee]),(0,s.useEffect)(()=>{le()},[G,Z,te,Q,ee]);const le=()=>{const e={currentPage:G,pageSize:Z,reqData:{directorId:"",companyId:"company"===(null===R||void 0===R?void 0:R.userType)?null===R||void 0===R?void 0:R._id:null===R||void 0===R?void 0:R.companyId,branchId:"company"===(null===R||void 0===R?void 0:R.userType)||"admin"===(null===R||void 0===R?void 0:R.userType)||"companyDirector"===(null===R||void 0===R?void 0:R.userType)?te:"companyBranch"===(null===R||void 0===R?void 0:R.userType)?null===R||void 0===R?void 0:R._id:null===R||void 0===R?void 0:R.branchId,type:Q,text:ee,sort:!0,status:"",isPagination:!0}};L((0,h.mN)(e))};(0,s.useEffect)(()=>{"company"!==(null===R||void 0===R?void 0:R.userType)&&"companyDirector"!==(null===R||void 0===R?void 0:R.userType)||L((0,x.d0)({text:"",sort:!0,status:!0,isPagination:!1,companyId:"company"===(null===R||void 0===R?void 0:R.userType)?null===R||void 0===R?void 0:R._id:null===R||void 0===R?void 0:R.companyId}))},[]),(0,s.useEffect)(()=>{"admin"===(null===R||void 0===R?void 0:R.userType)&&L((0,m.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]);const{canCreate:ne,canRead:ie,canUpdate:de,canDelete:ce}=(0,v.A)();return(0,_.jsx)(l.A,{onChange:e=>{ae(e)},children:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"",children:(0,_.jsxs)("div",{className:"sm:flex justify-between items-center md:space-y-0 space-y-2 py-1",children:[(0,_.jsxs)("div",{className:"grid lg:grid-cols-3 sm:grid-cols-2 grid-cols-1 items-center md:gap-3 gap-1",children:[("admin"===(null===R||void 0===R?void 0:R.userType)||"company"===(null===R||void 0===R?void 0:R.userType)||"companyDirector"===(null===R||void 0===R?void 0:R.userType))&&(0,_.jsx)("div",{className:"",children:(0,_.jsxs)(N.A,{value:te,onChange:e=>{se(e),X(1)},defaultValue:"",disabled:M,className:"".concat(o.Lp," "),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,_.jsx)(N.A.Option,{value:"",children:"Select Branch"}),U?(0,_.jsx)(N.A.Option,{disabled:!0,children:(0,_.jsx)(C.A,{})}):null===E||void 0===E?void 0:E.map(e=>(0,_.jsx)(N.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e._id))]})}),(0,_.jsx)("div",{className:"",children:(0,_.jsxs)(N.A,{value:Q,onChange:e=>{$(e),X(1)},disabled:M,className:"".concat(o.Lp," "),showSearch:!0,filterOption:(e,a)=>String(null===a||void 0===a?void 0:a.children).toLowerCase().includes(e.toLowerCase()),children:[(0,_.jsx)(N.A.Option,{value:"",children:"Select Type"}),(0,_.jsx)(N.A.Option,{value:"cash_deposit",children:"Cash Deposit"}),(0,_.jsx)(N.A.Option,{value:"cash_withdraw",children:"Cash Withdraw"}),(0,_.jsx)(N.A.Option,{value:"bank_transfer",children:"Bank Transfer"})]})})]}),(0,_.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,_.jsx)("button",{onClick:()=>{X(1),se(""),$(""),ae("")},className:"bg-header  py-1.5 rounded-md flex px-10 justify-center items-center  text-white",children:(0,_.jsx)("span",{className:"text-[12px]",children:"Reset"})}),ne&&(0,_.jsx)(j.A,{placement:"topLeft",title:"Add Contra",children:(0,_.jsxs)("button",{onClick:()=>{z("/admin/contra/create")},className:"bg-header px-2 py-1.5 rounded-md whitespace-nowrap flex justify-center items-center space-x-2 text-white",children:[(0,_.jsx)(c.OiG,{}),(0,_.jsx)("span",{className:"text-[12px]",children:"Add contra"})]})})]})]})}),(0,_.jsxs)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:[ie&&(0,_.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto ",children:[(0,_.jsx)("thead",{className:"",children:(0,_.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] bg-header capitalize text-[#ffff] font-[500] h-[40px]",children:[(0,_.jsx)("th",{className:"tableHead w-[10%]",children:"S.No."}),(0,_.jsx)("th",{className:"tableHead",children:"Entry Date"}),(0,_.jsx)("th",{className:"tableHead",children:"Transfer Date"}),(0,_.jsx)("th",{className:"tableHead",children:"Reciever"}),(0,_.jsx)("th",{className:"tableHead",children:"Sender"}),(0,_.jsx)("th",{className:"tableHead",children:"Amount"}),(ce||de)&&(0,_.jsx)("th",{className:"tableHead w-[10%]",children:"Action"})]})}),M?(0,_.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,_.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,_.jsx)(b.A,{})})}):(0,_.jsx)("tbody",{children:T&&(null===T||void 0===T?void 0:T.length)>0?null===T||void 0===T?void 0:T.map((e,a)=>{var t,s,l,n,i,d,c,r;return(0,_.jsxs)("tr",{className:"text-black ".concat(a%2===0?"bg-[#e9ecef]/80":"bg-white"," border-b-[1px] border-[#DDDDDD]"),children:[(0,_.jsx)("td",{className:"tableData",children:a+1+(G-1)*Z}),(0,_.jsx)("td",{className:"tableData",children:f()(null===e||void 0===e?void 0:e.entryDate).format("DD-MM-YYYY")}),(0,_.jsx)("td",{className:"tableData",children:f()(null===e||void 0===e?void 0:e.date).format("DD-MM-YYYY")}),(0,_.jsxs)("td",{className:"tableData",children:["bank_transfer"===(null===e||void 0===e?void 0:e.type)&&"".concat(null===e||void 0===e||null===(t=e.senderBankAccData)||void 0===t?void 0:t.bankName," (").concat(null===e||void 0===e||null===(s=e.senderBankAccData)||void 0===s?void 0:s.accountNumber,")"),"cash_withdraw"===(null===e||void 0===e?void 0:e.type)&&"".concat(null===e||void 0===e||null===(l=e.senderBankAccData)||void 0===l?void 0:l.bankName," (").concat(null===e||void 0===e||null===(n=e.senderBankAccData)||void 0===n?void 0:n.accountNumber,")"),"cash_deposit"===(null===e||void 0===e?void 0:e.type)&&"".concat(null===e||void 0===e?void 0:e.senderName)]}),(0,_.jsxs)("td",{className:"tableData",children:["bank_transfer"===(null===e||void 0===e?void 0:e.type)&&"".concat(null===e||void 0===e||null===(i=e.receiverBankAccData)||void 0===i?void 0:i.bankName," (").concat(null===e||void 0===e||null===(d=e.receiverBankAccData)||void 0===d?void 0:d.accountNumber,")"),"cash_withdraw"===(null===e||void 0===e?void 0:e.type)&&"".concat(null===e||void 0===e?void 0:e.receiverName),"cash_deposit"===(null===e||void 0===e?void 0:e.type)&&"".concat(null===e||void 0===e||null===(c=e.receiverBankAccData)||void 0===c?void 0:c.bankName," (").concat(null===e||void 0===e||null===(r=e.receiverBankAccData)||void 0===r?void 0:r.accountNumber,")")]}),(0,_.jsx)("td",{className:"tableData",children:(0,o.w2)((null===e||void 0===e?void 0:e.amount)||"-")}),(ce||de)&&(0,_.jsx)("td",{className:"tableData",children:(0,_.jsxs)("span",{className:"py-1.5 flex justify-start items-center space-x-2.5",children:[(0,_.jsx)(j.A,{placement:"topLeft",title:"View Details",children:(0,_.jsx)("button",{onClick:()=>{(e=>{L((0,h.cJ)({_id:null===e||void 0===e?void 0:e._id})),P(!0)})(e)},className:"px-2 py-2 text-xs rounded-md bg-transparent text-header border border-muted",type:"button",children:(0,_.jsx)(y.Ny1,{className:" hover:text-[#337ab7] text-[#3c8dbc]"})})}),(0,_.jsx)(u.A,{menu:{items:[{key:"created-at",label:(0,_.jsxs)("span",{onClick:()=>(0,o.v2)(f()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")||"Data not available"),className:"flex items-center text-teal-800 hover:text-teal-700",children:[(0,_.jsx)(S.Wv9,{className:"mr-2",size:16}),"Created At"]})},{key:"created-by",label:(0,_.jsxs)("span",{onClick:()=>(0,o.v2)((null===e||void 0===e?void 0:e.createdBy)||"Data not available"),className:"flex items-center text-sky-800 hover:text-sky-700",children:[(0,_.jsx)(B.cCX,{className:"mr-2",size:16}),"Created By"]})},{key:"view-desc",label:(0,_.jsxs)("span",{onClick:()=>(0,o.v2)((null===e||void 0===e?void 0:e.naration)||"Data not available"),className:"flex items-center text-blue-800 hover:text-blue-700",children:[(0,_.jsx)(w.qSe,{className:"mr-2",size:16}),"View Naration"]})}].filter(Boolean)},trigger:["click"],children:(0,_.jsx)(j.A,{placement:"topLeft",title:"More Actions",children:(0,_.jsx)("button",{className:"px-2 py-1.5 text-xs rounded-md bg-transparent border border-muted",type:"button",children:(0,_.jsx)(A.xWf,{className:"hover:text-[#337ab7] text-[#3c8dbc]",size:16})})})})]})})]})}):(0,_.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,_.jsx)("td",{colSpan:5,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]}),(0,_.jsx)(p.A,{visible:H,onCancel:()=>P(!1),footer:null,title:!1,width:1200,height:600,className:"antmodalclassName",children:(0,_.jsx)("div",{className:"w-full overflow-auto",children:(0,_.jsxs)("table",{className:"w-full  rounded-lg shadow-md overflow-hidden bg-white",children:[(0,_.jsx)("thead",{children:(0,_.jsx)("tr",{children:(0,_.jsx)("th",{className:"text-header ",children:(0,_.jsx)("div",{className:"mt-2 ml-2",children:"Contra Details"})})})}),(0,_.jsxs)("tbody",{className:"text-sm text-gray-700",children:[(0,_.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,_.jsxs)("td",{className:"p-3 text-gray-600",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)(D.sLb,{className:"size-4 text-header text-lg"}),(0,_.jsx)("span",{className:"text-[16px] font-medium",children:"Type"})]}),(0,_.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===O||void 0===O?void 0:O.type)||"N/A"})]}),(0,_.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)(k.cC2,{className:"size-4 text-header text-lg"}),(0,_.jsx)("span",{className:"text-[16px] font-medium",children:"Date"})]}),(0,_.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:f()(null===O||void 0===O?void 0:O.date).format("DD-MM-YYYY")||"N/A"})]})]}),(0,_.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,_.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)(c._tP,{className:"size-4 text-header text-lg"}),(0,_.jsx)("span",{className:"text-[16px] font-medium",children:"Naration"})]}),(0,_.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===O||void 0===O?void 0:O.naration)||"N/A"})]}),(0,_.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)(y.CLz,{className:"size-4 text-header text-lg"}),(0,_.jsx)("span",{className:"text-[16px] font-medium",children:"Amount"})]}),(0,_.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===O||void 0===O?void 0:O.amount)||"N/A"})]})]}),(null===O||void 0===O?void 0:O.recieverBankData)&&(0,_.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,_.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)(y.Y9o,{className:"size-4 text-header text-lg"}),(0,_.jsx)("span",{className:"text-[16px] font-medium",children:"Reciever Bank"})]}),(0,_.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===O||void 0===O||null===(e=O.recieverBankData)||void 0===e?void 0:e.bankName)||"N/A"})]}),(0,_.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)(k.MH0,{className:"size-4 text-header text-lg"}),(0,_.jsx)("span",{className:"text-[16px] font-medium",children:"Reciever Bank Account Number"})]}),(0,_.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===O||void 0===O||null===(a=O.recieverBankData)||void 0===a?void 0:a.accountNumber)||"N/A"})]})]}),(null===O||void 0===O?void 0:O.senderBankData)&&(0,_.jsxs)("tr",{className:" hover:bg-indigo-50",children:[(0,_.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)(y.Y9o,{className:"size-4 text-header text-lg"}),(0,_.jsx)("span",{className:"text-[16px] font-medium",children:"Sender Bank"})]}),(0,_.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===O||void 0===O||null===(t=O.senderBankData)||void 0===t?void 0:t.bankName)||"N/A"})]}),(0,_.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)(k.MH0,{className:"size-4 text-header text-lg"}),(0,_.jsx)("span",{className:"text-[16px] font-medium",children:"Sender Bank Account Number"})]}),(0,_.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===O||void 0===O||null===(g=O.senderBankData)||void 0===g?void 0:g.accountNumber)||"N/A"})]})]}),(0,_.jsx)("tr",{className:" hover:bg-indigo-50",children:(null===O||void 0===O?void 0:O.senderUserData)&&(0,_.jsxs)("td",{className:"p-3  text-gray-600",children:[(0,_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_.jsx)(y.Y9o,{className:"size-4 text-header text-lg"}),(0,_.jsx)("span",{className:"text-[16px] font-medium",children:"Sender Name"})]}),(0,_.jsx)("span",{className:"block text-[15px] ml-4 font-light mt-1",children:(null===O||void 0===O||null===(Y=O.senderUserData)||void 0===Y?void 0:Y.fullName)||"N/A"})]})})]})]})})})]}),(null===T||void 0===T?void 0:T.length)>0&&(0,_.jsx)(r.A,{totalCount:I,pageSize:Z,currentPage:G,onChange:e=>X(e)})]})})}},65337:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(91686),l=t(70579);const n=function(){return(0,l.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,l.jsx)(s.A,{size:"large"})})}}}]);
//# sourceMappingURL=5426.169c15e8.chunk.js.map