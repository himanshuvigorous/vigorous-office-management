"use strict";(self.webpackChunkca_admin=self.webpackChunkca_admin||[]).push([[1777],{51777:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var l=a(89379),s=a(65043),d=a(39160),n=a(73216),i=a(83003),r=(a(30064),a(31174),a(65337),a(78227)),c=a(15187),o=a(24858),m=(a(31744),a(78729)),x=a(65512),h=a(735),u=a(86178),p=a.n(u),j=a(55971),v=a(96717),b=a(70579);const f=function(){const{register:e,control:t,setValue:a,formState:{errors:u}}=(0,o.mN)(),{userCompanyId:f,userBranchId:N,userType:y,userEmployeId:g}=(0,h.A)(),D=((0,n.Zp)(),(0,i.wA)()),{employeeTerminationData:w,employeeLoading:A,totalEmployeeTerminationCount:C}=(0,i.d4)(e=>e.Termination),[S,I]=(0,s.useState)(""),H=JSON.parse(localStorage.getItem("user_info_".concat(c.AU))),[k,P]=(0,s.useState)(1),T=((0,o.FH)({control:t,name:"PDCompanyId",defaultValue:f}),(0,o.FH)({control:t,name:"status",defaultValue:""}));(0,s.useEffect)(()=>{"employee"===(null===H||void 0===H?void 0:H.userType)&&null!==H&&void 0!==H&&H._id&&Y()},[k,S,T]);const Y=()=>{const e={currentPage:k,pageSize:10,reqData:{directorId:"",companyId:f||"",branchId:N||"",employeId:g,text:S,sort:!0,status:T,isPagination:!0,type:"termination"}};D((0,v.b6)(e))};(0,s.useEffect)(()=>{"admin"===y&&D((0,m.Ar)({text:"",sort:!0,status:!0,isPagination:!1}))},[]);const[_,E]=(0,s.useState)(!1),[F,O]=(0,s.useState)(null),R=()=>{E(!1),O(null)};return"employee"!==(null===H||void 0===H?void 0:H.userType)?(0,b.jsx)(d.A,{children:(0,b.jsx)("div",{className:"bg-red-100 text-red-800 p-4 rounded-md mt-2",children:(0,b.jsx)("p",{className:"text-center font-semibold",children:"You are not an employee. This page is viewable for employees only."})})}):(0,b.jsxs)(d.A,{onChange:e=>{I(e)},children:[(0,b.jsx)("div",{className:"",children:(0,b.jsxs)("div",{className:"sm:flex justify-between items-center md:space-y-0 space-y-2 py-1",children:[(0,b.jsx)("div",{className:"flex items-center space-x-2",children:(0,b.jsx)(o.xI,{name:"status",control:t,rules:{},render:e=>{let{field:t}=e;return(0,b.jsxs)(x.A,(0,l.A)((0,l.A)({},t),{},{className:" w-32 ".concat(c.Lp," ").concat(u.status?"border-[1px] ":"border-gray-300"),placeholder:"Select Status",showSearch:!0,filterOption:(e,t)=>String(null===t||void 0===t?void 0:t.children).toLowerCase().includes(e.toLowerCase()),children:[(0,b.jsx)(x.A.Option,{value:"",children:"Select Status"}),(0,b.jsx)(x.A.Option,{value:"Rejected",children:"Rejected"}),(0,b.jsx)(x.A.Option,{value:"Approved",children:"Approved"}),(0,b.jsx)(x.A.Option,{value:"Requested",children:"Requested"}),(0,b.jsx)(x.A.Option,{value:"Completed",children:"Completed"})]}))}})}),(0,b.jsx)("div",{className:"flex justify-end items-center",children:(0,b.jsx)("button",{onClick:()=>{a("status",""),a("PDBranchId",""),a("PdDepartmentId",""),a("PdCompanyId","")},className:"bg-header   py-[6px]  rounded-md  flex px-5 justify-center items-center  text-white",children:(0,b.jsx)("span",{className:"text-[12px]",children:"Reset"})})})]})}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("div",{className:"bg-[#ffffff] w-full overflow-x-auto mt-1 rounded-xl",children:(0,b.jsxs)("table",{className:"w-full max-w-full rounded-xl overflow-x-auto",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b-[1px] border-[#DDDDDD] bg-header capitalize text-[#ffff] font-[500] h-[40px]",children:[(0,b.jsx)("th",{className:"tableHead w-[5%]",children:"S.No."}),(0,b.jsx)("th",{className:"tableHead",children:"Title"}),(0,b.jsx)("th",{className:"tableHead",children:"Employee Name"}),(0,b.jsx)("th",{className:"tableHead",children:"Description"}),(0,b.jsx)("th",{className:"tableHead",children:"Apply Date"}),(0,b.jsx)("th",{className:"tableHead",children:"Create At"}),(0,b.jsx)("th",{className:"tableHead",children:"Create By"}),(0,b.jsx)("th",{className:"tableHead",children:"Notice Period (days)"}),(0,b.jsx)("th",{className:"tableHead",children:"Status"})]})}),A?(0,b.jsx)("tr",{className:"bg-white bg-opacity-5 ",children:(0,b.jsx)("td",{colSpan:10,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:(0,b.jsx)(j.A,{})})}):(0,b.jsx)("tbody",{children:w&&(null===w||void 0===w?void 0:w.length)>0?null===w||void 0===w?void 0:w.map((e,t)=>{var a,l;return(0,b.jsx)(s.Fragment,{children:(0,b.jsxs)("tr",{className:"text-black ".concat(t%2===0?"bg-[#e9ecef]/80":"bg-white"," border-b-[1px] border-[#DDDDDD]"),children:[(0,b.jsx)("td",{className:"tableData",children:t+1+10*(k-1)}),(0,b.jsx)("td",{className:"tableData",children:null!==(a=null===e||void 0===e?void 0:e.title)&&void 0!==a?a:"-"}),(0,b.jsx)("td",{className:"tableData",children:null!==(l=null===e||void 0===e?void 0:e.employeName)&&void 0!==l?l:"-"}),(0,b.jsx)("td",{className:"tableData",children:null===e||void 0===e?void 0:e.description}),(0,b.jsx)("td",{className:"tableData",children:p()(null===e||void 0===e?void 0:e.applyDate).format("DD-MM-YYYY")}),(0,b.jsx)("td",{className:"tableData",children:p()(null===e||void 0===e?void 0:e.createdAt).format("DD-MM-YYYY hh:mm a")}),(0,b.jsx)("td",{className:"tableData",children:null===e||void 0===e?void 0:e.createdBy}),(0,b.jsx)("td",{className:"tableData",children:null===e||void 0===e?void 0:e.noticePeriod}),(0,b.jsx)("td",{className:"tableData",children:(0,b.jsx)("span",{className:"".concat(null!==e&&void 0!==e&&e.status?"bg-[#E0FFBE] border-green-500":"bg-red-200 border-red-500"," border-[1px] px-2 py-1.5 rounded-lg text-black text-[12px]"),children:null===e||void 0===e?void 0:e.status})})]})},e._id)}):(0,b.jsx)("tr",{className:"bg-white bg-opacity-5",children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-2 whitespace-nowrap font-[600] text-sm text-gray-500",children:"Record Not Found"})})})]})}),(null===w||void 0===w?void 0:w.length)>0&&(0,b.jsx)(r.A,{totalCount:C,pageSize:10,currentPage:k,onChange:e=>{P(e)}})]}),_&&F&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1501]",onClick:R,children:(0,b.jsxs)("div",{className:"animate-slideInFromTop bg-white rounded-lg px-6 pt-6 pb-3 w-[800px] max-h-[70vh] overflow-y-hidden",onClick:e=>e.stopPropagation(),children:[(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:null===F||void 0===F?void 0:F.content}})}),(0,b.jsx)("div",{className:"mt-4 flex justify-end",children:(0,b.jsx)("button",{onClick:R,className:"px-4 py-2 text-white bg-header rounded-md",children:"Close"})})]})})]})}},65337:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(91686),s=a(70579);const d=function(){return(0,s.jsx)("div",{className:"flex justify-center items-center h-[80vh]",children:(0,s.jsx)(l.A,{size:"large"})})}}}]);
//# sourceMappingURL=1777.8db43354.chunk.js.map